(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[7556],{

/***/ 268952:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(764820);self._456c437108d2d2713799e19380be528d = self._456c437108d2d2713799e19380be528d || {};(function(__c) {var M=__c.M;
var aIz=function(a,b){(new BroadcastChannel("logout_channel")).onmessage=$Hz(c=>{typeof c.data==="string"&&c.data.indexOf("logout")===0&&([,c]=c.data.split(":",2),c&&c!==a.userId||!b.aje.valid||a.A6k(b))})},bIz=async function(a,b){return b.EHg?"failure":(await a.Mm.validate({userId:a.userId,na:a.na})).type==="SUCCESS"?"success":"failure"},cIz=function(a,b){const c=a.Ga(),d=a.Pa.HBa(10),e=b.ISn.map(f=>{try{return f()}catch(g){a.errorService.Tq(g,"Error running session invalid callback")}});return()=>
{e.forEach(f=>{try{return f?.()}catch(g){a.errorService.Tq(g,"Error running session invalid callback disposer")}});d();c()}},dIz=__webpack_require__(31968),eIz=dIz.Fragment,y4=dIz.jsx,fIz=dIz.jsxs;__webpack_require__(845212);var gIz=__webpack_require__(186901),hIz=gIz.sH,$Hz=gIz.XI;var iIz=__webpack_require__(647370).PA;var jIz=({Nge:a,onClose:b,fJr:c,vPn:d,vYe:e,Dap:f=({children:g})=>g})=>y4(__c.rr,{open:!0,LOa:"button",oa:b,children:y4(f,{children:y4(__c.R,{className:"FrqDBg",padding:{default:"3u",ie:"4u"},children:fIz(__c.Tc,{spacing:"2u",children:[y4(__c.dr,{tagName:"h2",alignment:"start",children:M("gGdAJQ")}),y4(__c.Q,{children:a?M("ZEGicw"):M("ouhEJA")}),y4(__c.$q,{Fa:"start",spacing:"2u",align:"end",children:a&&c?fIz(eIz,{children:[y4(__c.Yq,{width:"containedContent",children:y4(__c.Wi,{variant:"secondary",
onClick:b,Np:"end",children:M("/tjzHw")})}),y4(__c.Yq,{width:"content",children:y4(__c.AD,{variant:"primary",onClick:d,Yd:c,icon:__c.Kt,Np:"end",children:M("XSV04A")})})]}):fIz(eIz,{children:[y4(__c.Yq,{width:"containedContent",children:y4(__c.Wi,{variant:"secondary",onClick:e,Np:"end",children:M("AYSp1A")})}),y4(__c.Yq,{width:"content",children:y4(__c.Wi,{variant:"primary",onClick:b,Np:"end",children:M("/tjzHw")})})]})})]})})})});var kIz=class{static G(a){__c.O(a,{gwi:$Hz})}Skl(a){this.aXi.ISn.push(a)}gwi(){this.aXi.Nge=!1}constructor(a){this.aXi=a;kIz.G(this)}};var lIz={eventType:"editor_session_invalidated_notification_shown",Oa(a){return __c.jf({notification_type:a.UHa,editing_context:a.Ca==null?void 0:__c.mf(a.Ca)})}},mIz={eventType:"editor_session_invalidated_notification_hidden",Oa(a){return __c.jf({notification_type:a.UHa,editing_context:a.Ca==null?void 0:__c.mf(a.Ca),cause:a.cause})}},nIz={eventType:"editor_session_invalidated_notification_interacted",Oa(a){return __c.jf({action:a.action,editing_context:a.Ca==null?void 0:__c.mf(a.Ca)})}};var oIz=class{static G(a){__c.O(a,{toggleForceInvalidation:$Hz,A6k:$Hz,HSn:$Hz})}toggleForceInvalidation(a){a.EHg=!a.EHg}Xgh(a){if(a.fcj)return a.fcj;const b=()=>a.fcj=void 0;a.fcj=this.validate(a).then(b,b);return a.fcj}async validate(a){let b;try{b=await bIz(this,a)}catch(c){this.errorService.Tq(c,"Error tracking validation status");return}b==="failure"&&a.aje.valid?this.A6k(a):b!=="success"||a.aje.valid||this.HSn(a,a.aje.oC)}A6k(a){const b=cIz(this,a);this.P.track(lIz,{UHa:"dialog"});a.aje={valid:!1,
oC:b}}HSn(a,b){a.Nge&&(this.OXa.reconnect(),b?.(),this.P.track(mIz,{UHa:"dialog",cause:"recovered"}),a.aje={valid:!0})}constructor(a,b,c,d,e,f,g,h,k){this.Mm=a;this.OXa=b;this.P=c;this.qa=d;this.Ga=e;this.errorService=f;this.Pa=g;this.userId=h;this.na=k;oIz.G(this)}};var pIz=class{static G(a){__c.O(a,{EHg:hIz.ref,Nge:hIz.ref})}constructor(){this.aje=(pIz.G(this),{valid:!0});this.EHg=!1;this.H2h=void 0;this.Nge=!0;this.ISn=[]}};__c.J_b={Jqr:function({fa:{Mm:a,P:b,Yj:c,errorService:d,qa:e,OXa:f,h_:g},$s:{keyboardShortcuts:h,fV:k},X:l,skeleton:n}){const p=g?.n4m?.({target:"_blank"}),q=new pIz,r=iIz(({onClose:v})=>{const w=q.H2h;return y4(jIz,{Dap:w&&(({children:x})=>y4(__c.wp,{map:w,Hr:!0,children:x})),fJr:p,Nge:q.Nge,onClose:$Hz(()=>{b.track(mIz,{UHa:"dialog",cause:"close"});q.Nge=!1;v()}),vYe:()=>{b.track(nIz,{action:"reload"});c.reload()},vPn:()=>{b.track(nIz,{action:"log_in"})}})}),t=new oIz(a,f,b,e,()=>{let v=()=>{};
n.Ga(({onClose:w})=>{v=w;return y4(r,{onClose:w})});return()=>{v()}},d,n.controller,l.user.id,l.Ab.brand.id);window.addEventListener("visibilitychange",()=>{!document.hidden&&q.Nge&&t.qa.status!==2&&t.Xgh(q)});window.__testHooks&&(window.__testHooks.toggleForceInvalidation=()=>t.toggleForceInvalidation(q),window.__testHooks.requestSessionValidation=()=>t.Xgh(q));typeof window.BroadcastChannel!=="undefined"&&aIz(t,q);__c.Nl(k.wl,v=>void __webpack_require__.me(973689).then(()=>__c.sEl).then($Hz(({Kqr:w})=>
{({H2h:w}=w({wl:v,keyboardShortcuts:h,aXi:q,yRs:t}));q.H2h=w})));return{mzc:new kIz(q)}}};
}).call(self, self._456c437108d2d2713799e19380be528d);}

}])
//# sourceMappingURL=sourcemaps/a80cb23db0f48f12.js.map