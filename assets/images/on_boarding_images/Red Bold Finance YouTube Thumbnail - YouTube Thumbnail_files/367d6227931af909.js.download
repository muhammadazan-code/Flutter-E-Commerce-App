(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[17474],{

/***/ 74119:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(764820);__web_req__(888561);__web_req__(585586);__web_req__(918208);__web_req__(319190);self._456c437108d2d2713799e19380be528d = self._456c437108d2d2713799e19380be528d || {};(function(__c) {var A=__c.A;var $C=__c.$C;var F=__c.F;
var KgA=async function(a,b){const c=a.options.file,d=a.options.backend;var e=a.options.metadata;const f=a.options.Qgs;e=e&&JSON.stringify(IgA.serialize(e));b=b&&{va:b,II:"upload.post"};let g;try{g=(await a.T8f.post(`/${d}`,void 0,{J7f:"1.0.0",OUo:e,NUo:c.content.size,Uf:b})).location}catch(h){throw new JgA("Failed to create resumable upload session",h instanceof __c.Sb?h.statusCode:void 0);}a=g.split("/").pop();if(!a)throw new JgA("Invalid upload session location");f?.();return a},PgA=async function(a,
b,c){const d=a.options.file,e=a.options.PUo;let f;for(;a.offset<d.content.size;)try{f=await LgA(a,b,c)}catch(g){g instanceof __c.th?(e?.VPi("offset_conflict"),await MgA(a,b,c)):await NgA(a,g)}if(!f)throw new JgA("Upload backend response missing from final PATCH request");return OgA.deserialize(f)},LgA=async function(a,b,c){const d=a.options.file,e=a.options.backend,f=a.options.PUo,g=d.content.slice(a.offset,a.offset+a.chunkSize),{S8f:h,Eot:k}=await a.T8f.patch(`/${e}/${b}`,g,{J7f:"1.0.0",S8f:a.offset,
Uf:c&&{va:c,II:"upload.patch"},Jka:l=>a.options.Jka?.({...l,lengthComputable:l.lengthComputable,loaded:a.offset+l.loaded,total:d.content.size})});f?.WBs(g.size);a.offset=h;a.BUb=0;return k},MgA=async function(a,b,c){const d=a.options.backend;c=c&&{va:c,II:"upload.head"};try{const {S8f:e}=await a.T8f.head(`/${d}/${b}`,{J7f:"1.0.0",Uf:c});a.offset=e}catch(e){throw new JgA("Failed to resolve offset conflict",e instanceof __c.Sb?e.statusCode:void 0);}},NgA=async function(a,b){const c=a.options.PUo;if(b instanceof
__c.dm)throw c?.VPi("http_client_error"),new JgA(b,b.statusCode);b instanceof __c.Ap?c?.VPi("http_server_error"):c?.VPi("network_error");if(++a.BUb>=a.maxAttempts)throw new JgA("Max retry attempts reached",b instanceof __c.Sb?b.statusCode:void 0);await __c.ka(a.Opl[Math.min(a.BUb-1,a.Opl.length-1)]??0)},QgA=async function(a,b){const c=b.file,d=b.backend;var e=b.metadata,f=b.va;b=b.Jka;const g=(f=f&&a.V&&a.V.startSpan("upload",f))&&{va:f,II:"upload.post_single"};e=e&&JSON.stringify(IgA.serialize(e));
try{const h=await a.T8f.uts(`/${d}`,c.content,{OUo:e,Jka:b,Uf:g}),k=OgA.deserialize(h);f&&f.end();return k}catch(h){throw f&&f.end("error"),new __c.QFl(h,h instanceof __c.Sb?h.statusCode:void 0);}},SgA=async function(a,b){return(new RgA(b,a.T8f,a.Ha)).upload()},JgA=class extends __c.QFl{constructor(a,b){super(a,b);this.name="ResumableUploadError"}},TgA=F(()=>({...$C(),metadata:A("metadata","EDU_ROSTER",3,"EDU_ROSTER"),gk:__c.S("owner",1)}));var UgA=__c.I(()=>[1,2,3]);var VgA=F(()=>({...$C(),metadata:A("metadata","INGREDIENT_FILE",7,"INGREDIENT_FILE"),namespace:__c.S("namespace",1),Sgu:__c.op("ensurePersistent",2),E5s:__c.Xa("storageVisibility",25,UgA)}));var WgA=F(()=>({...$C(),metadata:A("metadata","JSON",8,"JSON"),json:(0,__c.sp)("json",1)}));var XgA=F(()=>({...$C(),metadata:A("metadata","FILE",13,"FILE"),VDg:__c.U("encodedFileName",1),fileId:__c.U("fileId",11)}));var YgA=F(()=>({...$C(),metadata:A("metadata","BRAND_ASSIST",18,"BRAND_ASSIST"),xd:__c.S("brandKitId",19)}));var ZgA=__c.I(()=>[1,2]);var $gA=F(()=>({...$C(),metadata:A("metadata","EXTERNAL_AD_SEARCH",21,"EXTERNAL_AD_SEARCH"),z2d:__c.Xa("entityType",22,ZgA),xva:__c.U("entityId",23)}));var ahA=F(()=>({...$C(),metadata:A("metadata","TEMP",20,"TEMP")}));var IgA=__c.$a(()=>({metadata:[1,__c.RFl,12,__c.GGl,2,__c.EGl,3,TgA,5,__c.Vhf,6,__c.HGl,7,VgA,8,WgA,9,__c.DGl,13,XgA,16,__c.w4m,18,YgA,21,$gA,20,ahA]}),$C);var bhA=F(()=>({response:A("A?",3,"UPLOAD_EDU_ROSTER_RESPONSE"),id:__c.hp(1),errorMessage:__c.U(2)}));var chA=F(()=>({response:A("A?",4,"UPLOAD_INGREDIENT_FILE_RESPONSE"),uri:__c.S(1)}));var OgA=__c.$a(()=>({response:[1,__c.LDm,5,__c.KDm,2,__c.IDm,3,bhA,4,chA,6,__c.GDm,7,__c.HDm,9,__c.JDm,8,__c.FDm]}),()=>({}));var dhA=[0,500,1E3,2E3,3E3],RgA=class{async upload(){var a=this.options.va;a=a&&this.V&&this.V.startSpan("upload",a);try{const b=await KgA(this,a),c=await PgA(this,b,a);a&&a.end();return c}catch(b){throw a&&a.end("error"),b;}}constructor(a,b,c){this.options=a;this.T8f=b;this.BUb=this.offset=0;this.chunkSize=a.chunkSize;this.maxAttempts=a.maxAttempts??5;this.Opl=a.Opl??dhA;this.V=c&&c.Vd("resumable_upload")}};var ehA;ehA=class{async upload(a){const b=a.strategy;switch(b){case 0:return QgA(this,a);case 1:return SgA(this,a);default:throw new __c.u(b);}}constructor(a,b){this.T8f=a;this.V=(this.Ha=b)&&b.Vd("file_uploader")}};__c.rPa={};__c.rPa.Pdp=ehA;
}).call(self, self._456c437108d2d2713799e19380be528d);}

}])
//# sourceMappingURL=sourcemaps/367d6227931af909.js.map