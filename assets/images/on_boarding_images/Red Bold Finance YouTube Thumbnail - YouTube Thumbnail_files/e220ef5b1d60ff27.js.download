(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[19986],{

/***/ 482530:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(447605);__web_req__(764820);__web_req__(294098);__web_req__(83503);__web_req__(327362);__web_req__(293952);__web_req__(991363);__web_req__(917183);__web_req__(651699);__web_req__(366183);__web_req__(159692);__web_req__(5862);__web_req__(221981);__web_req__(249608);__web_req__(850719);__web_req__(317135);__web_req__(569994);__web_req__(405113);__web_req__(630476);__web_req__(730757);__web_req__(283579);__web_req__(512724);__web_req__(222307);__web_req__(543095);__web_req__(829421);__web_req__(13077);__web_req__(891069);__web_req__(140815);__web_req__(492025);__web_req__(723870);__web_req__(549685);__web_req__(48888);__web_req__(728225);__web_req__(360321);__web_req__(76245);__web_req__(42853);__web_req__(624684);__web_req__(754101);__web_req__(785562);__web_req__(732901);__web_req__(630833);__web_req__(972452);__web_req__(345811);__web_req__(234984);__web_req__(397070);__web_req__(718844);__web_req__(558082);__web_req__(741298);__web_req__(857962);__web_req__(896992);__web_req__(562169);__web_req__(484391);__web_req__(757515);__web_req__(397592);__web_req__(157825);__web_req__(162018);__web_req__(488738);__web_req__(487352);__web_req__(229001);__web_req__(548758);__web_req__(133600);__web_req__(857255);__web_req__(114073);__web_req__(587437);__web_req__(305452);__web_req__(383677);__web_req__(851909);__web_req__(121623);__web_req__(958906);__web_req__(353889);__web_req__(734237);__web_req__(169562);__web_req__(798618);__web_req__(241869);__web_req__(451856);__web_req__(300572);__web_req__(667484);__web_req__(934683);__web_req__(253420);__web_req__(940649);__web_req__(458375);__web_req__(563461);__web_req__(73036);__web_req__(822403);__web_req__(31055);__web_req__(697890);__web_req__(668206);__web_req__(446874);__web_req__(439573);self._456c437108d2d2713799e19380be528d = self._456c437108d2d2713799e19380be528d || {};(function(__c) {var JB;var ko=__c.ko;var DA=__c.DA;var car=__c.car;var lHs;var Ops=__c.Ops;var bc=__c.bc;var gJe=__c.gJe;var ek=__c.ek;var fi=__c.fi;var xy=__c.xy;var NDe=__c.NDe;var qo=__c.qo;var rc=__c.rc;var bk=__c.bk;var oc=__c.oc;var Jx=__c.Jx;var cu=__c.cu;var gp=__c.gp;var X=__c.X;var A=__c.A;var D=__c.D;var S=__c.S;var fp=__c.fp;var ge=__c.ge;var er=__c.er;var BHh=__c.BHh;var CYg=__c.CYg;var Db=__c.Db;var Adr=__c.Adr;var St=__c.St;var Qo=__c.Qo;var Yu=__c.Yu;var Gb=__c.Gb;var ZA=__c.ZA;var Lb=__c.Lb;
var hr=__c.hr;var Uq=__c.Uq;var Vn=__c.Vn;var jd=__c.jd;var cr=__c.cr;var Xi=__c.Xi;var dr=__c.dr;var Ux=__c.Ux;var Nu=__c.Nu;var br=__c.br;var Ko=__c.Ko;var wA=__c.wA;var xc=__c.xc;var Wt=__c.Wt;var vrg=__c.vrg;var Yer=__c.Yer;var O=__c.O;var pf=__c.pf;var mf=__c.mf;var oWe=__c.oWe;var sy=__c.sy;var lk=__c.lk;var FA=__c.FA;var fa=__c.fa;var E=__c.E;var U=__c.U;var Sa=__c.Sa;var F=__c.F;var Rr=__c.Rr;var ls=__c.ls;var f3g=__c.f3g;var tC=__c.tC;var Ot=__c.Ot;var or=__c.or;var jj=__c.jj;var Pj=__c.Pj;
var YVa=__c.YVa;var nj=__c.nj;var Lk=__c.Lk;var cm=__c.cm;var Om=__c.Om;var ir=__c.ir;var An=__c.An;var om=__c.om;var Ic=__c.Ic;var $m=__c.$m;var Yef=__c.Yef;var Wb=__c.Wb;var eXa=__c.eXa;var Rn=__c.Rn;var Tq=__c.Tq;var Wi=__c.Wi;var Yq=__c.Yq;var $q=__c.$q;var mc=__c.mc;var by=__c.by;var Vb=__c.Vb;var md=__c.md;var Xef=__c.Xef;var ka=__c.ka;var Uc=__c.Uc;var lJe=__c.lJe;var Yv=__c.Yv;var Uo=__c.Uo;var DJa=__c.DJa;var to=__c.to;var Tx=__c.Tx;var lr=__c.lr;var ck=__c.ck;var eFd=__c.eFd;var Ij=__c.Ij;
var bu=__c.bu;var zf=__c.zf;var Nm=__c.Nm;var QZg=__c.QZg;var RZg=__c.RZg;var La=__c.La;var Ay=__c.Ay;var Ma=__c.Ma;var JIn=__c.JIn;var Ix=__c.Ix;var MLe=__c.MLe;var NLe=__c.NLe;var zo=__c.zo;var Wff=__c.Wff;var Cs=__c.Cs;var tD=__c.tD;var Pb=__c.Pb;var he=__c.he;var yfe=__c.yfe;var Hj=__c.Hj;var sg=__c.sg;var Pn=__c.Pn;var Ee=__c.Ee;var xk=__c.xk;var aVc=__c.aVc;var hZc=__c.hZc;var xMb=__c.xMb;var vs=__c.vs;var ws=__c.ws;var ae=__c.ae;var Be=__c.Be;var de=__c.de;var tj=__c.tj;var wj=__c.wj;
var oj=__c.oj;var Dj=__c.Dj;var Wj=__c.Wj;var Po=__c.Po;var Bv=__c.Bv;var rg=__c.rg;var jRi=__c.jRi;var tb=__c.tb;var hRi=__c.hRi;var ap=__c.ap;var $h=__c.$h;var Di=__c.Di;var Xt=__c.Xt;var Ck=__c.Ck;var pj=__c.pj;var Rj=__c.Rj;var Oo=__c.Oo;var nd=__c.nd;var us=__c.us;var hf=__c.hf;var kId=__c.kId;var PYc=__c.PYc;var J=__c.J;var tef=__c.tef;var Wz=__c.Wz;var Xz=__c.Xz;var sj=__c.sj;var Zz=__c.Zz;var Gu=__c.Gu;var Qj=__c.Qj;var Pk=__c.Pk;var RVc=__c.RVc;var Qk=__c.Qk;var rV;var ar=__c.ar;var Tc=__c.Tc;
var Q=__c.Q;var R=__c.R;var Tzj=__c.Tzj;var mr=__c.mr;var Qb=__c.Qb;var iV;var gV;var jf=__c.jf;var M=__c.M;var Ker=__c.Ker;var Kv=__c.Kv;var we=__c.we;var Oj=__c.Oj;var Tj=__c.Tj;var Fj=__c.Fj;var ug=__c.ug;var ij=__c.ij;var ks=__c.ks;var Wg=__c.Wg;var Fg=__c.Fg;var Ej=__c.Ej;var Sj=__c.Sj;var Ae=__c.Ae;var Gw=__c.Gw;var gf=__c.gf;var Nj=__c.Nj;var Lj=__c.Lj;var Vz=__c.Vz;var Ol=__c.Ol;var $r=__c.$r;var sa=__c.sa;var sb=__c.sb;var ra=__c.ra;var m=__c.m;var u=__c.u;var Sl=__c.Sl;var bB=__c.bB;
var lqs,mqs,nqs,oqs,pqs,qqs,rqs,sqs,tqs,uqs,vqs,wqs,xqs,yqs,zqs,Aqs,Bqs,Cqs,Dqs,Eqs,Fqs,Gqs,Hqs,Iqs,Jqs,Kqs,Lqs,Mqs,Nqs,Oqs,Pqs,Qqs,Rqs,Sqs,Tqs,Uqs,Vqs,Wqs,Xqs,Yqs,Zqs,ars,brs,crs,drs,ers,irs,krs,jrs,lrs,mrs,nrs,ors,prs,qrs,srs,trs,rrs,yrs,zrs,Ars,Crs,Drs,Ers,Frs,Hrs,Jrs,Urs,Vrs,Wrs,Xrs,$rs,ass,bss,css,dss,ess,fss,Yrs,Zrs,hss,iss,jss,kss,mss,lss,uss,wss,Ass,Fss,Jss,Kss,Oss,Pss,Qss,Nss,Yss,Zss,cts,ets,fts,its,lts,ots,pts,sV,qts,rts,sts,tts,uts,wts,xts,yts,zts,Ats,Bts,Cts,Dts,Ets,Fts,Gts,Hts,Its,Jts,
Kts,Ots,Sts,Tts,Uts,tV,Pts,vts,Lts,Yts,Zts,$ts,aus,cus,dus,fus,hus,ius,jus,kus,gus,lus,nus,ous,pus,rus,tus,Bus,Kus,Pus,Qus,Rus,$us,Tus,cvs,bvs,ivs,jvs,mvs,qvs,vvs,zvs,Avs,Dvs,Evs,Fvs,Hvs,Gvs,Kvs,Ivs,Jvs,Lvs,Mvs,$vs,aws,bws,cws,gws,ews,fws,dws,jws,iws,hws,kws,lws,nws,ows,pws,sws,qws,rws,yws,uws,xws,wws,zws,Cws,Dws,Ews,Hws,Iws,Bws,Lws,Tws,Uws,Vws,Wws,Xws,Zws,axs,pxs,Jxs,Nxs,Oxs,Pxs,Sxs,Txs,Rxs,Qxs,Uxs,Wxs,Yxs,Zxs,dys,eys,fys,mys,lys,pys,qys,rys,sys,tys,uys,vys,wys,xys,yys,Fys,Hys,Kys,Rys,Lys,Nys,Pys,
Mys,Oys,Qys,Sys,Tys,Xys,fzs,jzs,gzs,izs,hzs,kzs,nzs,lzs,mzs,ozs,pzs,rzs,qzs,szs,wzs,vzs,xzs,tzs,yzs,zzs,Azs,Bzs,Czs,Dzs,Ezs,Fzs,Gzs,Hzs,Jzs,Kzs,Izs,Lzs,Mzs,Nzs,Ozs,Pzs,Qzs,Rzs,Szs,Tzs,Vzs,Wzs,Xzs,$zs,aAs,bAs,cAs,dAs,eAs,gAs,kAs,pAs,FAs,IAs,rAs,MAs,NAs,OAs,QAs,RAs,PAs,UAs,VAs,WAs,XAs,$As,ZAs,YAs,SAs,cBs,dBs,eBs,fBs,gBs,hBs,iBs,vV,jBs,wV,kBs,lBs,nBs,pBs,sBs,qBs,vBs,yBs,ABs,xBs,CBs,EBs,BBs,FBs,wBs,DBs,KBs,LBs,MBs,tBs,IBs,GBs,HBs,PBs,OBs,NBs,xV,QBs,SBs,TBs,VBs,UBs,WBs,YBs,$Bs,dCs,jCs,lCs,kCs,pCs,qCs,
rCs,sCs,tCs,uCs,vCs,wCs,xCs,ACs,BCs,FCs,CCs,DCs,ECs,GCs,KCs,yV,LCs,OCs,PCs,MCs,SCs,QCs,NCs,VCs,YCs,XCs,WCs,ZCs,bDs,dDs,aDs,$Cs,hDs,kDs,lDs,mDs,oDs,nDs,pDs,qDs,rDs,tDs,uDs,vDs,wDs,xDs,yDs,zDs,DDs,EDs,FDs,GDs,JDs,LDs,MDs,NDs,ODs,QDs,SDs,UDs,VDs,WDs,YDs,XDs,cEs,aEs,eEs,ZDs,$Ds,bEs,dEs,gEs,mEs,nEs,oEs,pEs,iEs,hEs,jEs,kEs,qEs,vEs,uEs,rEs,lEs,tEs,wEs,sEs,zEs,FEs,MEs,OEs,PEs,QEs,SEs,UEs,VEs,NEs,WEs,ZEs,cFs,gFs,hFs,nFs,kFs,pFs,qFs,rFs,uFs,xFs,AFs,FFs,GFs,HFs,JFs,KFs,MFs,NFs,OFs,LFs,QFs,PFs,RFs,SFs,TFs,WFs,
XFs,YFs,ZFs,dGs,gGs,iGs,hGs,jGs,kGs,oGs,sGs,rGs,tGs,RGs,SGs,TGs,UGs,VGs,WGs,XGs,YGs,ZGs,dHs,$Gs,eHs,fHs,hHs,iHs,jHs,gHs,kHs,mHs,oHs,qHs,sHs,tHs,xHs,yHs,AHs,BHs,DHs,GHs,EHs,FHs,HHs,JHs,KHs,LHs,MHs,OHs,NHs,PHs,QHs,SHs,THs,VHs,WHs,UHs,YHs,ZHs,XHs,$Hs,aIs,bIs,cIs,dIs,gIs,hIs,eIs,fIs,iIs,jIs,kIs,pIs,tIs,vIs,wIs,xIs,yIs,zIs,AIs,BIs,CIs,EIs,HIs,GIs,IIs,KIs,LIs,NIs,PIs,aJs,bJs,cJs,fJs,jJs,kJs,pJs,sJs,tJs,uJs,wJs,vJs,yJs,AJs,BJs,CJs,zJs,FJs,GJs,KJs,LJs,MJs,NJs,OJs,HJs,RJs,SJs,$Js,bKs,cKs,dKs,eKs,gKs,iKs,hKs,
IJs,JJs,kKs,jKs,nKs,oKs,pKs,qKs,wKs,CKs,DKs,KKs,MKs,QKs,SKs,TKs,UKs,VKs,WKs,YKs,ZKs,$Ks,aLs,dLs,eLs,gLs,fLs,hLs,iLs,oLs,pLs,uLs,wLs,xLs,yLs,ALs,kLs,lLs,mLs,nLs,CLs,zLs,DLs,ELs,FLs,HLs,LLs,MLs,RLs,XLs,dMs,eMs,gMs,hMs,kMs,lMs,nMs,pMs,qMs,rMs,oMs,sMs,xMs,yMs,AMs,zMs,DMs,IMs,LMs,NMs,EV,IHs,WIs,QMs,YLs,RMs,SMs,TMs,UMs,VMs,WMs,XMs,YMs,ZMs,$Ms,aNs,bNs,cNs,kNs,iNs,sNs,CNs,GNs,INs,MNs,RNs,TNs,WNs,VNs,UNs,$Ns,aOs,bOs,dOs,fOs,eOs,gOs,hOs,iOs,lOs,mOs,oOs,qOs,rOs,sOs,tOs,uOs,yOs,BOs,COs,DOs,GOs,HOs,KOs,NOs,OOs,
POs,SOs,TOs,QOs,ROs,UOs,aPs,cPs,ePs,fPs,gPs,iPs,jPs,kPs,hPs,lPs,mPs,nPs,oPs,pPs,qPs,tPs,uPs,vPs,wPs,yPs,zPs,APs,BPs,CPs,DPs,JPs,IPs,HPs,EPs,MPs,NPs,LPs,OPs,PPs,RPs,QPs,SPs,UPs,TPs,VPs,WPs,ZPs,$Ps,eQs,fQs,gQs,hQs,cQs,dQs,bQs,jQs,lQs,mQs,iQs,oQs,rQs,wQs,xQs,HQs,NQs,SQs,UQs,TQs,VQs,XQs,ZQs,$Qs,cRs,bRs,gRs,dRs,eRs,kRs,mRs,nRs,pRs,rRs,oRs,tRs,uRs,wRs,yRs,zRs,xRs,ARs,BRs,CRs,ERs,GRs,qRs,IRs,JRs,NRs,KRs,LRs,MRs,ORs,QRs,RRs,SRs,VRs,PRs,URs,XRs,TRs,YRs,ZRs,$Rs,aSs,bSs,cSs,dSs,eSs,fSs,iSs,jSs,kSs,lSs,gSs,hSs,
mSs,pSs,qSs,oSs,nSs,vRs,DRs,FRs,rSs,sSs,tSs,uSs,xSs,ASs,DSs,CSs,wSs,zSs,OSs;lqs=async function(a,b){return a.xhi(b).then(c=>({text:c??b,url:b,type:"embed"}))};mqs=function(a,b){const c=a.Za.state,d={...bB,link:b};if(c?.type==="SHEET_CELL"&&a.fd){const e=c.anchor,f=c.sheet.config,g=a.fd.getContent(f,e.row,e.column);a.fd.Ew(h=>{g&&g.isEmpty&&h.RIa(f,e,b);h.setAttributes(f,e,d)})}else c?.type==="RANGE"&&Sl(c.sUc()).ok?a.Za.gDa(b,d):a.Za.y1a(d)};
nqs=function(a,b,c){switch(b.type){case "fixed":const d=c.shift();b.Hc.forEach(e=>{(e=e.image.ref)&&d&&a.L9a(e,d)});b=b.elements.toArray();return a.$mi(b,c);case "concatenated-fixed":return b.pages.reduce((e,f)=>nqs(a,f,e),c);case "responsive":return a.ani([...b.text.items],c);default:throw new u(b);}};
oqs=function(a,b){const c=b.length,d=Math.max(0,...b.map(g=>g.length)),e=__c.wpg(a,{rows:c,columns:d}),f=new Map;for(let g=0;g<c;g++)for(let h=0;h<d;h++){const k=m(e.layout.rows[g].Lp.get(e.layout.columns[h].id));if(b[g][h]!=null){const l=a.config.MYh(b[g][h]+"\n");f.set(k,l)}}return{...e,cells:f}};
pqs=function(a,b,c){ra(c.length>0,"Cannot copy empty subset of table");const {rows:d,columns:e}=__c.aMe(b,c);var f=d.map(k=>({...k,Lp:new Map(e.map(l=>{const n=k.Lp.get(l.id);return n?[l.id,n]:void 0}).filter(sb))}));const g=e.map(k=>({...k}));sa(f.length>0);sa(g.length>0);const h=new Set(c);f={cells:new Map(f.flatMap(k=>Array.from(k.Lp.values(),l=>{const n=b.cells.get(l);if(n&&h.has(n))return[l,a.config.d9e(n)]}).filter(sb))),layout:{...b.layout,rows:f,columns:g}};return a.config.I6(f,{table:b,cells:c})};
qqs=function(a,b){return __c.yta(a,new __c.zta(a.kb,()=>a.a$c.$xh(b)),a.kb,c=>c.fCa(b))};rqs=function(a,b){return a.hb.i_(b,c=>c?c.u1d||c.Y_j:!1)};sqs=function(a,b){__c.ta(a.document.Ka,"fixed");return new __c.MNd(a.S3a,a.m0e,a.Ms,a.xn,a.document,a.vpc,a.od,b,void 0,()=>{},a.WBg,!0)};tqs=function(a,b){sa(a.D9k===void 0);a.D9k=b};uqs=function(a,b){a.P.track(__c.gje,{action:"page_numbers_dropdown_menu_opened",mi:b,location:"edit_panel"})};vqs=function(a,b){a.$Yn.push(b)};wqs=function(a,b){a.Xwo.add(b)};
xqs=function(a,b){return(a.document.pages.previous(b,c=>!c.draft)?.transition.ref?.durationUs||0)/1E6};yqs=function(a,b){if(b.audio&&a.ord)return __c.WIe(a.ord,b.audio.id)?.jFj?.filter(c=>{c=c.Ke*1E6;return c>=b.trim.startUs&&c<=b.trim.endUs})};zqs=async function(a,b){return __c.fYe(a,__c.Df({elements:b.map(c=>$r.snapshot(c))}))};
Aqs=function(a,b){const c=b.ia;if((c.image.ref?a.Qa.gp(c.image.ref.media)?.b6?.Xgk??!0:c.video.ref)&&!__c.Uqb(a.FLa,b,Ol.Sw))return{ugr:{get:()=>c.flipX,set:d=>{c.flipX=d}},Art:{get:()=>c.flipY,set:d=>{c.flipY=d}}}};Bqs=function(a,b,c,d,e){const f=__c.Jrf(a,b,c);e=(new Map(c.cells.map((g,h)=>[g,h]))).get(e);f&&Vz(f)&&e&&__c.tff(a,b,c)&&(b=a.vOj.NAf(f,e),b!=null&&a.Cib(f,d,b+1,b,"content_styles"))};
Cqs=function(a,b,c,d){var e=a.pd;a=__c.Jrf(a,b,c);const f=e.DF(c);e=f?.Fn();c=(new Map(c.cells.map((k,l)=>[k,l]))).get(d);if(a!=null&&([d]=c!=null?a.Xqm({tb:d,id:c}):[],f&&d!=null)){var g=a.padding.paddingTop,h=a.padding.paddingBottom;c=(f.width-a.gb)/2;a=a.Eig.map(k=>Lj(k.left,0,k.left+k.width,f.height-g-h));return e!=null&&a!=null?Nj(a[d-1].translate(c,g).transform(e.invert())):void 0}};
Dqs=function(a,b){if(a.X&&!__c.zv(a.Ac,b)){var c=b.ia,d=c.type==="group",e=gf(c),f=c.type==="text",g=c.type==="embed",h=c.type==="rect"&&c.fill.video.ref;if(!(d||e||g||h||f||b.type==="controlled-element"&&a.dMk.m6m?.(b)))return{get:()=>c.link,set:k=>{if(k){if(k=a.Xbj(k))c.link=k}else c.link=void 0}}}};Eqs=function(a,b){if(a=a.eib(b))return a&&{...a,OL:__c.Hxf,wN:a.wN.map(c=>({...c,OL:__c.Hxf})).filter(c=>!__c.Dxf(c))}};
Fqs=function(a,b){a=Eqs(a,b)??__c.cA;const c=a.ej.slice();c.some(d=>d.type==="style_transfer")||c.push({type:"style_transfer",X$e:b.wo??b.media,seed:(0,__c.vpe)().int32(),Y$e:b.Ig});return{...a,ej:c}};Gqs=function(a,b){switch(b.type){case "fixed":return[...b.Hc.map(c=>a.XHe(c.image.ref)),...a.B$h(b.elements.toArray())];case "concatenated-fixed":return b.pages.flatMap(c=>Gqs(a,c));case "responsive":return[...__c.CGf(a,Array.from(b.text.items))];default:throw new u(b);}};
Hqs=async function(a,b,c){b=b.map((d,e)=>{e=c[e];if(d&&e&&d.Lcb)return a.YId.apply({target:e,Lcb:d.Lcb,Id:{type:"copy_paste_styles"},Lcl:d.media})});await Promise.all(b)};Iqs=function(a){return __c.au.JO(a).map(b=>b.image.ref)};Jqs=function(a,b,c=!1){return Iqs(b).map(d=>d&&{Lcb:c?Fqs(a.DN,d):Eqs(a.DN,d),media:d.media})};Kqs=function(a,b,c=!1){return b.Hc.map(d=>(d=d.image?.ref)?{Lcb:c?Fqs(a.DN,d):Eqs(a.DN,d),media:d.media}:void 0)};
Lqs=function(a,b,c){sa(!c.includes("\n"));b=b.resolve(a.Oh).map(p=>p.resolve(a.Oh)).sort((p,q)=>p.index-q.index||p.length-q.length);const d=a.text.cursor(),e=a.text.J6(),f=__c.H8f(e);let g=0;var h=0;const k=[];for(let p=0;p<b.length;p++){var l=b[p];sa(h<=l.index);d.Nt(l.index-h,f);__c.I8f(d,e,l.length,{Ya:q=>sa(!q.includes("\n")),item:({display:q=1})=>sa(q!==1)});h=a.Cb.vAb(Gw.of({index:l.index,length:Math.min(c.length,1)}));h=Ae.pick("inline",h);var n=__c.K8f(d.q7,__c.L8f(h));c.length>0&&(e.o_(n),
e.insert(c),e.XS(n));k.push(Gw.of({index:l.index+g,length:c.length}));g+=c.length-l.length;h=l.index+l.length;[l]=a.tree.sDa(l.index+l.length);l.type===6&&(n=__c.v8f(l,n),e.o_(n),d.Nt(l.length(),f),e.XS(n),h+=l.length())}a.M$a.next(e.build())};Mqs=function(a){const b=new eV(a.tagName.toLowerCase());b.setContent(a.innerHTML);if(a.attributes.length)for(const c of a.attributes)b.setAttribute(c.name,c.value);return b};
Nqs=function(a){const b=document.createElement("div");b.innerHTML=a.toString().trim();return m(b.firstElementChild)};Oqs=function(a,b,c){const d={hle:a.dXh(c).filter(e=>e.type!=="rule-x"&&e.type!=="rule-y"),ZJb:a.ZJb(c)};return new __c.hhg(b,a.haa,c,d)};
Pqs=function(a,b){var c=__c.uta.HZ(b.layout.rows);const d=__c.vta.HZ(b.layout.columns),e=new Set;c=c.map(f=>d.map(g=>{g=f.Lp.get(g.id);g=g!=null?b.cells.get(g):void 0;if(!g||e.has(g))return"";e.add(g);g=g.content.text.cells.Ya();return g.substr(0,g.length-1)}));return a.csv.encode(c,{field:"\t"})};
Qqs=function(a,b,c){const d=eV.element("table"),e=__c.vpg(b),f=new Set;b.layout.rows.forEach((g,h)=>{const k=d.appendChild(eV.element("tr"));b.layout.columns.forEach((l,n)=>{l=g.Lp.get(l.id);if(l!=null){if(f.has(l))return;f.add(l)}var p=l!=null?b.cells.get(l):void 0;p=(p=p?a.JS.config.sLg(p):void 0)?c(p):eV.element("td");k.appendChild(p);const {rows:q,columns:r}=(l!=null?e.get(l):void 0)||{rows:[h],columns:[n]};q.length>1&&p.setAttribute("rowspan",q.length.toString());r.length>1&&p.setAttribute("colspan",
r.length.toString())})});d.setStyle("font-family","sans-serif");d.setStyle("color","black");d.setStyle("border","1px solid black");return d};
Rqs=function(a,b,c){const d=[],e=[];for(const k of b.rows){const l=k.rowIndex;let n=0;for(const p of k.cells){const q=p.cellIndex;b=p.rowSpan;const r=p.colSpan;for(var f=c(p);d[l]?.[q+n];)n++;e.push({text:f,rows:Array.from({length:b},(t,v)=>l+v),columns:Array.from({length:r},(t,v)=>q+n+v)});for(f=0;f<b;f++)for(let t=0;t<r;t++){var g,h;(g=d)[h=l+f]??(g[h]=[]);d[l+f][q+n+t]=!0}}}return __c.xpg(a.JS,e)};Sqs=function(a){const b=Math.round(a*1E3)/1E3;return Math.abs(a-b)<1E-10?b:a};
Tqs=function(a,b,c,d,e,f){var g=__c.Uj(Sj(0,d.map(l=>__c.xXa(e,l))),0).Nb();const h={width:Math.ceil(Sqs(g.width)),height:Math.ceil(Sqs(g.height)),units:4},k=Ej(-g.left,-g.top);d=__c.Wce(__c.Zg,d.map(l=>{var n=$r.snapshot(l);l.type==="chart"?(l=l.Juc.get(),n=l==null?n:{...n,data:l,Pb:void 0}):n=l.type==="text"&&l.nT?{...n,width:l.width,height:l.height}:n;return n})).map(l=>{l=__c.On(l,k);if(l.type==="text"&&l.nT){var n=__c.En.create(l),p=n.text.Xz(0);n=f.Lzd(b,n);p=Fg.qd().attrs(p).Xb(`${n}\n`).build();
l={...l,nT:!1,text:p}}return Wg.RWa(l)});g=__c.rtb.snapshot(a.gj);return new __c.Bg({doctype:new __c.Cg(h),dimensions:new __c.Ml(h),language:a.language,title:a.title,gj:__c.bua(g),pages:[new __c.Jl({id:c.nh.generate(),background:void 0,O2:new __c.Kl({fh:[ks]}),elements:d})]})};Uqs=function(a){const b=new Map;for(const [c,d]of a)ij(b,c,d);return b};Vqs=function(){return document.activeElement.closest(".jHvOGA")??void 0};Wqs=function(a,b){return a.type==="fixed"&&!ug(b.kl(a))};
Xqs=function(a){const b=[];for(const c of a)if(__c.Hw(c)){const d=Fj(c.width/c.gb).then(Tj(Oj(c)));c.pb.some(e=>__c.Hw(e))&&__c.hbe("flattenAndMeasure");c.pb.filter(e=>e.type!=="group").forEach(e=>{b.push([e,Oj(e).transform(d)])})}else b.push([c,Oj(c)]);return b};Yqs=function(a){const b=a.filter(c=>gf(c)).map(c=>[c,Oj(c)]);a=a.filter(c=>!gf(c));return[...b,...Xqs(a)].map(([c,d])=>[c,d.Nb()]).sort(([,c],[,d])=>c.top-d.top||c.left-d.left).map(([c])=>c)};
Zqs=function(a){const b={};we(Ae,a,"all",(c,d)=>{__c.Oe(d)!=null?(d=m(__c.Oe(d)),b[d]=c):__c.Me(d)?b[d]=void 0:b[d]=c});return b};ars=function(a,b){(new $qs(b)).xyh(a);return b};brs=function(a){a=a.getAttribute("href");if(a!=null)try{const b=Kv(a);return Sl(b).ok?b:void 0}catch{}};crs=function(a){let b;try{b=new URL(a)}catch(c){return!1}return b.protocol==="http:"||b.protocol==="https:"};
drs=async function(a){const b=a.match(/^data:([a-z]+\/[^:;]+);base64,/);if(b){const [c,d]=b;return __c.rIa(a.slice(c.length),d)}if(crs(a))return fetch(a).then(c=>c.blob()).catch(()=>{})};ers=function(a){const b=[0],c=__c.Ke.marginInlineStart.max;for(let d=32;d<=c;d+=24)b.push(d);return b.reduce((d,e)=>Math.abs(e-a)<Math.abs(d-a)?e:d,0)};
irs=function({Aeb:a,qJa:b,Rpd:c,viewport:d,mc:e,qc:f,la:g,P:h,C4a:k}){const l=new frs(d,k),n=new grs(l,e,f,h),p=(0,__c.Oer)(({oa:r})=>Ker(hrs,{layout:g.layout,xy:l.xy,OR:n.OR,vz:l.vz,$te:n.$te,y6f:n.y6f,cYf:n.cYf,oa:r,Zwa:l.Zwa}));if(k){const r=(0,__c.Oer)(()=>n.Y3f?Ker(__c.lfr,{Y3f:n.Y3f}):null),t=w=>x=>n.$te(w,x),v=()=>b.VTb("Deselect");(0,__c.Wer)(()=>({isActive:l.isActive,vz:l.vz}),({isActive:w,vz:x})=>{c.Kuf=w&&x&&l.Zwa?{pq:r,due:t(x),A$c:n.Mlr,oa:v,Y4h:"none"}:void 0},{equals:__c.Ver.shallow})}const q=
[["ArrowUp",()=>n.QFn("prev")],["ArrowDown",()=>n.QFn("next")],["Escape",()=>{l.vz?n.cYf():b.VTb("Deselect")}]];a.zrj=()=>({Sd:()=>!0,Button:(0,__c.Oer)(r=>{const {GDc:t,Mx:v,pressed:w,...x}=r;l.MEb(w);return Ker(t,{id:"StickyNote",icon:__c.ffr,ib:M("+T7h4A"),pressed:w,onClick:v,...x})}),pa:r=>Ker(p,{oa:r.oa}),ZXh:q})};krs=function(a){return a.raw.length?jrs(a.raw[0]):[]};jrs=function(a){const b=new Map;return a.map(c=>{if(b.has(c)){const d=(b.get(c)??0)+1;b.set(c,d);c=`${c} (${d})`}b.set(c,0);return c})};
lrs=function(a,b,c){switch(b){case "enabled":return{value:a,label:c,disabled:!1};case "disabled":return{value:a,label:c,disabled:!0};case "hidden":break;default:throw new u(b);}};mrs=function(a){switch(a){case 0:return"image";case 1:return"proto";case 2:return"text";case 3:return"content";default:throw new u(a);}};nrs=function(a){var b=new Uint16Array(a.length);for(var c=0;c<b.length;c++)b[c]=a.charCodeAt(c);a=new Uint8Array(b.buffer);b="";for(c=0;c<a.byteLength;c++)b+=String.fromCharCode(a[c]);return btoa(b)};
ors=function(a,{html:b},c){if(!b||!a.Tee(b).body.innerText.trim().length){b=[];for(const d of c||[])a.E9.images.includes(d.type)&&(c=d.getAsFile())&&b.push(c);if(b.length>0)return{type:0,file:b.find(d=>d.type!=="image/svg+xml")??b[0]}}};prs=function(a){return(new DOMParser).parseFromString(a,"text/html")};qrs=function(a){a=atob(a);var b=new Uint8Array(a.length);for(var c=0;c<b.length;c++)b[c]=a.charCodeAt(c);a=new Uint16Array(b.buffer);b="";for(c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b};
srs=function(a,b){if(!__c.zv(a.FLa,b))return rrs(b.ia)};trs=function(a,b){if(!__c.Uqb(a.FLa,b)){a=b.ia;if(a.image.ref)return rrs(a.image.ref);if(a.video.ref)return rrs(a.video.ref)}};rrs=function(a){return{get:()=>a.za,set:b=>{a.za=b}}};
yrs=function({Wl:a,iY:b,Hod:c}){const d=g=>a?fV(urs,{...g,...vrs,Wl:a}):null,e=g=>b?fV(wrs,{...g,...vrs,iY:b}):null,f=g=>c?fV(xrs,{...g,...vrs,Hod:c}):null;return({o8:g})=>{switch(g.type){case "element":case "grid_element":case "shape_element":case "table_element":return fV(d,{element:g.element,page:g.page});case "fixed_page":return fV(e,{page:g.page});case "item":return fV(f,{item:g.item,context:g.context});case "table_item":const h=g.item,k=g.context;if(g.inner&&g.inner.item){const l=g.inner.tb;
return fV(f,{item:g.inner.item,context:__c.wf(k.ew(h),l)})}return fV(f,{item:h,context:k});case "body":case "responsive_page":case "computed_range":break;default:throw new u(g);}}};zrs=function(a){return jf({category_name:a.IQ,issue_count:a.m_b,skip_rule:a.$1s})};Ars=function(a){return jf({category_name:a.IQ,rule_name:a.Z3e,card_position:a.tnf})};
Crs=function(a){if(a.store.layout===2){const b=a.views.Category,c=a.views.BGh;Brs.includes(a.XRe.view)&&a.navigation.screen?.hf!==b?a.apg.spg():a.XRe.view==="issue"&&a.navigation.screen?.hf!==c&&a.apg.xtm()}};
Drs=function(a){a.Twq=gV(()=>a.XRe.view,b=>{const c=a.views.Category,d=a.views.BGh,e=a.views.$Sd;a.navigation.screen?.hf!==c&&Brs.includes(b)?(a.navigation.screen?.hf===d&&a.navigation.goBack(),a.navigation.screen?.hf!==c&&a.store.layout===2&&a.navigation.$g({hf:a.views.Category,options:a.kAi,sb:a.N3d.unj})):a.navigation.screen?.hf!==d&&b==="issue"?a.u9g():a.navigation.screen?.hf!==e&&b==="home"&&(a.navigation.screen?.hf===d&&a.navigation.goBack(),a.navigation.screen?.hf===c&&a.navigation.goBack(),
a.navigation.screen?.hf!==e&&(a.navigation.clear(),a.store.layout===2&&a.navigation.$g({hf:a.views.$Sd,options:a.kAi})))})};Ers=function(a){a.ZIm=gV(()=>a.store.layout,b=>{b===1?(a.hE(),setTimeout(a.oG,300)):a.rsh()})};Frs=function(a){a.Mwq=gV(()=>a.skeleton.Ux,(b,c)=>{c===a.views.gmj&&b!==c&&a.rsh()})};Hrs=function(a,b){a.P.track(Grs,{rC:a.store.rC,...b})};Jrs=function(a,b){a.P.track(Irs,{rC:a.store.rC,...b})};
Urs=function(a,b,c,d,e,f,g,h,k,l,n,p,q){const r=new __c.R7d,t=hV(()=>b.yme),v=new Krs(d),w=new Lrs(v,b,r,e,a,c,t,f),x=P=>({IQ:P.category,Z3e:P.rule,tnf:b.BNb.findIndex(T=>T===P)}),y=P=>(P=P??b.qW)?x(P):void 0,z=P=>T=>{Hrs(w,{hw:"unresolved",Iib:"undo_button_clicked",VIf:{IQ:T.category,Z3e:T.rule,tnf:P}})},B=iV(P=>{const T=x(P);Hrs(w,{hw:"resolved",Iib:"resolve_button_clicked",VIf:T});a.jco(P,z(T?.tnf))}),C=iV(P=>{P.checked=!P.checked;const T=x(P);Hrs(w,{hw:P.checked?"checkbox_checked":"checkbox_unchecked",
Iib:"checkbox_clicked",VIf:T})}),G=iV(()=>{const P=Qb();a.ZSi(T=>{Jrs(w,{lnm:P,hw:"resolved",Iib:"multi_select_resolve_button_clicked",Yqn:T.map(x)})},T=>{Jrs(w,{lnm:P,hw:"unresolved",Iib:"multi_select_undo_button_clicked",Yqn:Array.from(T).map(([V,W])=>({IQ:W.category,Z3e:W.rule,tnf:V}))})})}),H=iV(P=>{b.view==="issue"&&a.hMd(P||"home")}),K=yrs({Wl:h,iY:k,Hod:l}),L=hV(()=>{const P=jV((W,aa=!1)=>{b.qW!==W?(a.blb(W,aa),Hrs(w,{hw:"selected",Iib:"card_clicked",VIf:y(W)})):aa&&a.hMd("issue")},[]),T=jV(()=>
{a.spg();w.nne({$9f:b.view})},[]),V=jV(W=>{P(W,!0);w.nne({$9f:"issue",Iib:"resolve_button_clicked",jFf:y(W)})},[P]);return fV(Mrs,{u9g:V,FNh:b.FNh,osi:b.osi,qW:b.qW,iFl:p&&b.EXd==="resolving",rTb:K,l6k:P,Y2k:C,p2k:B,dhs:T,Z0d:q})});c=hV(()=>{const P=jV(T=>{a.hMd(T);w.nne({Iib:"card_clicked",XT:"category_page",$9f:b.view,jFf:y()})},[]);return fV(Nrs,{xa:v.xa,qGc:b.qGc,rGc:b.rGc,lcb:P,R1l:fV(Ors,{y8h:n})})});d=hV(()=>{kV(()=>()=>Crs(w),[]);return fV(Prs,{CGh:L})});e=hV(()=>{kV(()=>()=>Crs(w),[]);return b.qW?
fV(Qrs,{KZc:g,rTb:K,FF:b.qW,$Vh:H,rC:v.rC,Z0d:q}):null});const N=hV(()=>fV(Rrs,{Ezi:b.Ezi,ZSi:G,tft:b.bVh.length,layout:v.layout}));f=hV(()=>{const P=lV(null),T=jV(ba=>{ba.stopPropagation()},[]);kV(()=>{const ba=P.current;ba?.addEventListener("focusout",T);return()=>{ba?.removeEventListener("focusout",T)}},[P,T]);const V=jV(ba=>{a.hMd(ba);w.nne({Iib:"card_clicked",XT:"category_page",$9f:b.view,jFf:y()})},[]),W=jV(()=>{P.current?.focus();b.view==="issue"&&b.qW?a.hMd(b.qW.category):a.spg();w.nne({Iib:"back_button_clicked",
$9f:b.view,jFf:y()})},[]),aa=jV(()=>{w.rsh();w.Ibf("close_button_clicked")},[]);return mV("div",{className:"_758flQ",ref:P,tabIndex:-1,children:[fV("div",{className:"zO2oIQ",children:fV(Srs,{title:b.yme,$o:W,FX:aa,wlb:b.view!=="home"})}),fV("div",{className:"VmJ8yg",children:fV(Trs,{xa:v.xa,view:b.view,qGc:b.qGc,rGc:b.rGc,lcb:V,$Vh:H,CGh:L,unj:N,qW:b.qW,KZc:g,rTb:K,rC:v.rC,Z0d:q,y8h:n})})]})});v.Muo(f,c,d,e);v.Ioo(N);return{Nka:w,navigation:r}};
Vrs=function(a){a.spg();a.Icf?.();a.Icf=void 0;a.aOe?.();a.aOe=void 0;a.zEo()};Wrs=function(a){a.aOe||a.Ogk||a.bih||(a.ZHl(),a.DDo())};Xrs=function(a,b){a.ea.document.Ka==="fixed"&&(a.store.qgn=a.ea.document.pages.count());a.Icf=gV(()=>b.Dy,c=>{a.r8f(c,b.AEk)},{fireImmediately:!0,delay:300})};
$rs=function(a,b,c=!1){const d=b.o8;a.store.nWi=b;let e;a.ea.document.Ka!=="responsive"&&(e=a.viewport.ya);Yrs(a,d).then(()=>a.zSk(d,e)).catch(f=>a.errorService.ra(f,{La:"accessibilityCheckerPresenter.selectCheckable: "})).finally(iV(()=>{const f=a.store.nWi;f&&(f.equals(b)?(Zrs(a,d),b.selected=!0,a.store.nWi=void 0):a.store.Dy.find(g=>g.equals(f))||(a.store.nWi=void 0))})).finally(()=>{c&&a.store.qW?.equals(b)&&a.hMd("issue")})};
ass=function(a,b){b.E6n||b.state!=="resolved"||(b.E6n=!0,setTimeout(iV(()=>{if(b.state==="resolved"){const c=a.store.Dy,d=c.indexOf(b);d>=0&&c.splice(d,1)}}),a.store.view==="home"?0:1E3))};bss=function(a){a.store.bVh.forEach(b=>b.checked=!1)};css=function(a,b){return!!a.store.BNb.find(({o8:c})=>c.target===b)};
dss=function(a,b,c){switch(b.type){case "body":case "responsive-page":return a.store.BNb.find(({o8:d})=>{if(!d.iE?.range||!c||"page"in b&&d.page?.ia!==b.page)return!1;({aHe:d}=a.Za.$oa(b.text,c,d.iE.range));return d});case "table-item-cell":return a.store.BNb.find(({o8:d})=>d.type==="table_item"&&d.inner?.tb===b.tb&&!d.inner?.item);case "layout-item-cell":case "sheet-item-cell-richtext":break;default:throw new u(b);}};
ess=async function(a,b,c){if(b.type!=="body"&&b.type!=="responsive_page"){var d=a.Pma(b),e=a.viewport.scrollingContainer;if(d&&e){var f=e.scrollHeight;d=d.tl.y;var g=e.scrollTop;e=e.clientHeight;if(!(Math.abs(Math.ceil(g)-Math.ceil(d))<2||g<d&&g+e>=f))return b=(c?c===b.page?.ia:1)&&!__c.Qm()?"smooth":"auto",a.viewport.gaa(d,b)}}};
fss=async function(a,b,c){var d=b.context;b=b.page;if(d.type!=="fixed-document"&&a.viewport.nO&&(d=__c.sf(d),d.type==="concatenated-fixed-page"&&d.pages.first()!==b.ia&&c!==d.ia))return a.viewport.uE(d.xb(b.ia))};
Yrs=async function(a,b){const c=b.page;if(c&&c.ia!==a.viewport.Vg.ia&&a.ea.document.Ka!=="responsive"&&(c.type!=="fixed-page"||c.container.type!=="design-item"))return b=__c.sf(c),a.viewport.uE(c,a.viewport.uh&&a.viewport.nO&&(b?.type!=="concatenated-fixed-page"||b?.ia!==a.viewport.ya)||__c.Qm()?void 0:{animate:{from:a.viewport.Vg}}),gss(()=>c.ia.type==="responsive"?a.viewport.iN!=null:a.viewport.uh,{timeout:300})};
Zrs=function(a,b){switch(b.type){case "element":case "grid_element":case "shape_element":case "table_element":var c=b.group,d=b.element;const e=b.context,f=b.type;b=b.inner;if(c)sa(__c.Nne(d)),e.type==="group-element"?a.selection.Jl(e,d):(sa(e.type!=="chart-element"&&e.type!=="layout-element-cell"&&e.type!=="controlled-element"),a.selection.Jl(e.Me(c),d));else if(b)switch(f){case "grid_element":a.selection.EVc(e.Me(d),b);break;case "shape_element":a.selection.Bie(e.Me(d),b);break;case "table_element":a.selection.nRa(e.Me(d),
b,[b]);break;default:throw new u(f);}else e.type!=="chart-element"?a.selection.Jl(e,d):a.selection.Jl(e.container,e.Zb);break;case "fixed_page":c=b.context;b=b.page;ra(c.type!=="design-item");a.selection.pW(c,b.ia);break;case "responsive_page":a.Za.qv(b.context.xb(b.target).text);break;case "body":a.Za.qv(__c.vf(b.context,b.target).text);break;case "item":case "table_item":c=b.context;d=b.item;(b=b.inner)?b.item?a.Za.Nw(b.tb.content.text,b.item):a.Za.rub(c.text,d,[b.tb]):a.Za.Nw(c.text,d);break;case "computed_range":a.Za.qv(b.context.text,
b.iE.range);break;default:throw new u(b);}};hss=function(a,b){var c=a.store.qW;a=a.store.BNb.find(({o8:d})=>d.element?d.element===b:d.page?.ia===b);c=c?c.o8.element??c.o8.page?.ia:void 0;return a?{mpd:c===b,type:"warning"}:void 0};
iss=function(a){a.Ogk=gV(()=>({inner:a.selection.Ma?.inner,Hg:a.selection.Ma?.Hg,Rz:a.selection.Ma?.Rz}),({inner:b,Hg:c,Rz:d})=>{let e;if(c){switch(c.type){case "grid":(b=b?.type==="grid"?b.Pd:void 0)&&css(a,b)&&(e=b);break;case "shape":b=b?.type==="shape"?b.Pd:void 0;d=c.paths.filter(f=>f.fill.dropTarget===!0);(d=d.length===1?d[0]:void 0)&&css(a,d)?e=d:b&&css(a,b)&&(e=b);break;case "table":(b=b?.type==="table"?b.Pd:void 0)&&css(a,b)&&(e=b);break;case "group":(b=b?.type==="group"?b.pb.at(0):void 0)&&
css(a,b)&&(e=b);break;case "layout":d=b?.type==="layout"?b.Pd?.element:void 0;(d=b?.type==="layout-cell"?b.Pd:void 0)&&css(a,d)&&(e=d);break;case "rect":case "line":case "chart":case "embed":case "sheet":case "text":case "controlled":break;default:throw new u(c);}e||(e=c)}else d&&d.type==="fixed-page"&&(e=d.ia);a.DVi(e)})};
jss=function(a){a.bih=a.Za.SYe(()=>{const b=a.selection.Kb;if(!b)return!1;var c=b.type;const d=b.container,e=a.store.BNb,f=a.store.qW;let g;switch(c){case 0:({range:c}=a.Za.Dob(d.text,b.range));g=dss(a,d,c);break;case 2:g=e.find(({o8:h})=>h.type==="table_item"&&h.inner?.tb===b.only&&!h.inner?.item);break;case 1:g=e.find(({o8:h})=>h.type==="table_item"&&h.inner?.item?h.inner.item===b.only:h.item===b.only);break;case 3:case 4:case 5:break;default:throw new u(c);}g&&g!==f&&a.DVi(g.target);g||a.DVi(void 0)},
{fireImmediately:!1})};
kss=function(a,b,c,d,e,f,g){const h=iV(()=>{b.layout===2&&(a.rsh(),a.Ibf())}),k={Button:hV(({tF:p,onClick:q,oa:r})=>{const t=jV(()=>{q?.();r&&b.layout===1&&r();l("file_menu")},[q,r]);return fV(p,{onClick:t,CB:a.$og,Rkc:b.layout===2?mr:void 0,children:M("i3xHIg")})}),navigation:b.layout===2?d:void 0,onClose:h},l=p=>{b.layout===1?(a.met(),a.$og?a.pYc(p):a.Ibf("view_settings_menu_toggled")):(!c.d5&&k&&c.Awc(k),a.KHl(),a.pYc(p))};let n=g;c.wv(()=>({Ri:f.mode>=30,ui:b.layout===2}),({vM:p},{Ri:q,ui:r})=>
{p&&(k.navigation=r?d:void 0,q=q?k:void 0,p.Vej=q,n&&(q&&r&&c.Awc(q),a.KHl(),n=!1))},{equals:nV.structural});e?.install({key:"accessibility-checker",type:"simple",name:M("DJFkPQ"),Icon:Tzj,aliases:[M("v25ELQ"),M("8YeK6A"),M("RsRlBQ"),M("/hr0NQ"),M("A9rBrQ")],execute:async()=>{l("quick_actions")}})};
mss=function(a){switch(a.type){case "element":return lss(a);case "fixed_page":return{type:"fixed_page",context:a.context,target:a.page,page:a.context.xb(a.page)};case "computed_range":var b=a.iE,c=a.context;return{type:"computed_range",target:b,context:c,page:c.type==="responsive-page"?c:void 0,iE:b};case "item":b=a.item;c=a.inner;a=a.context;const d=a.type==="responsive-page"?a:void 0;if(b.type==="table"){const e=c?.tb;return{type:"table_item",target:c?.item??e??b,page:d,context:a,item:b,inner:c}}return{type:"item",
target:b,context:a,page:d,item:b};case "responsive_page":return b=a.context,c=a.body,{type:"responsive_page",target:c,context:b,page:b.xb(c)};case "body":return{type:"body",target:a.body,context:a.context};case "table_cell":throw Error("Use LintableItem (with a LintableItemInner) instead of LintableTableCell");default:throw new u(a);}};
lss=function(a){const b=a.element,c=a.context,d=a.inner,e=a.page;a=a.parent;switch(b.type){case "rect":case "line":case "chart":case "text":case "embed":case "group":case "controlled":case "sheet":return{type:"element",context:c,target:b,page:e,group:a,element:b};case "grid":let f;d?.type==="grid"&&(f=d.tb);sa(c.type!=="layout-element-cell"&&c.type!=="chart-element");return{type:"grid_element",context:c,target:f??b,page:e,element:b,inner:f};case "shape":let g;d?.type==="shape"&&(g=d.path);return{type:"shape_element",
context:c,target:g??b,page:e,group:a,element:b,inner:g};case "table":let h;d?.type==="table"&&(h=d.tb);sa(c.type!=="layout-element-cell"&&c.type!=="chart-element");return{type:"table_element",context:c,target:h??b,page:e,element:b,inner:h};case "layout":return __c.oo("FixedDesignLinterAdapter",{type:"element",context:c,target:b,page:e,group:a,element:b});default:throw new u(b);}};
uss=function(a){var b=a.mr;const c=a.l9g,d=a.y6c,e=a.Pa,f=a.Kc,g=a.ea;var h=a.ma;const k=a.P,l=a.la,n=a.ee,p=a.lLa,q=a.fa.errorService,r=a.viewport,t=a.Sca,v=a.Ka,w=a.KZc,x=a.he,y=a.selection,z=a.Za,B=a.pd;let C,G,H,K,L;const N=()=>{W.nne({Iib:C.A9d,$9f:C.view,XT:"category_page",jFf:C.qW?{IQ:C.qW.category,Z3e:C.qW.rule,tnf:C.BNb.findIndex(ba=>ba===C.qW)}:void 0})},P=()=>{Hrs(W,{hw:"selected",Iib:C.A9d,VIf:C.qW?{IQ:C.qW.category,Z3e:C.qW.rule,tnf:C.BNb.findIndex(ba=>ba===C.qW)}:void 0})},T=v==="fixed"||
a.Cwf;switch(v){case "fixed":var V=a.tAg;L=oV(()=>!nss.X1d&&!!g.document.pages.some(ba=>ba.type==="responsive"));G=a.Wl;H=a.iY;C=a=new oss(d);b=new pss(b,t,d,V,nss.X1d,g.document,z);h=new qss(a,p,g,y,r,h,z,B,q,nss.X1d,N,P);break;case "responsive":T&&(K=a.Hod);L=oV(()=>!1);C=V=new rss(d);b=new sss(b,t,d,!1,!1,g.document,z);h=new tss(V,p,g,y,r,h,z,B,q,!1,N,P);break;default:throw new u(v);}const {Nka:W,navigation:aa}=Urs(h,C,b,l,f,k,w,G,H,K,L,v==="responsive"||nss.X1d,T);kss(W,l,n,aa,x,e,c)};
wss=function(a,b,c){a.P.track(vss,{rC:a.store.rC,xk:b,MQs:c})};
Ass=function(a){const b=a.store,c=a.L;if(!b||!c)return{a6l:void 0};const d=b.dh,e=f=>d==null?null:fV(xss,{SEe:f.SEe,page:d,selected:f.oc,d3r:c.U1k,k3r:c.U1k,OPf:c.OPf,Zce:c.Zce,Wl:a.Wl});return{a6l:hV(()=>{var f=b.T5h;const g=b.Lm,h=b.o9d,k=b.Kad,l=b.Nad;kV(()=>{c.Cub(!0);return iV(()=>{c.Cub(!1)})},[]);return h||k?h?d!=null&&f.length>0?fV(zss,{T5h:f,Lm:g,acp:e}):fV(yss,{title:M("63v7ew"),content:M("mCxSxg")}):(f=l?M("FqeC2Q"):M("jQRKWA"),fV(yss,{title:f,content:M("CBxIHQ")})):(requestAnimationFrame(()=>
{c.uQn()}),null)})}};
Fss=function({Pa:a,selection:b,viewport:c,R9:d,ee:e,eo:f,la:g,Kd:h,Wl:k,zZ:l,Haf:n,P:p}){if(n){var q=pV(),r={pa:()=>fV(yss,{title:M("dhOFpQ"),content:""}),header:{pa:({LS:x})=>fV(Bss,{ref:q,LS:x,title:M("v5miQg"),oa:()=>f.close(r)})},Nh:()=>{q.current?.focus()}},t=new Css(c,l,b,h),v=new Dss(t,b,d,g,f,r,n,p),{a6l:w}=Ass({store:t,L:v,Wl:k});r.pa=()=>w?fV(w,{}):null;e.wv(()=>a.mode>=30&&t.o9d&&g.layout===1,({vM:x},y)=>{x&&(x.Wej=y?{Button:z=>fV(Ess,{...z,RPf:v.RPf,isOpen:t.isOpen})}:void 0)})}};
Jss=function(a){const b=a.nF.Ihd;a.P.track(Gss,{rC:a.nF.A4c,Vze:a.nF.hBe,elementType:a.nF.kug,iAk:a.TP.text.length,fRe:a.nF.jug,mediaType:Hss(b),resourceId:Iss(b)})};Kss=function(a){const b=a.nF.tya;a.nF.sud&&(a.zgg=a.MLb.XD([a.cDn]));b&&(a.zgg=a.gg?.p3n(a.fill));return a.zgg};
Oss=function(a,b,c,d){const e=hV(()=>{kV(()=>{const g=d.Pvi&&Kss(c);return()=>{g?.then(({dispose:h})=>h())}},[]);return d.Pvi?fV(Lss,{magic:d.Pvi,onClick:c.T1q}):null}),f=__c.cw(Mss,{V:a.V,iu:"alt_text_form"});return hV(g=>{const [h]=qV(()=>g.mb?(b.mb=g.mb,Nss(a,g.mb)):a.ijs);return fV(f,{Ouh:d.Ouh,i1h:d.i1h,Yrp:e,Ayc:d.Ayc,placeholder:b.placeholder,fqa:c.setText,TDi:c.HXi,onSubmit:c.oZ,Uc:()=>{c.onFormOpen(g.rC)},...g,Wh:()=>{const k=a.hLh.wb("close_alt_text_view",{Hb:{name:"editor.editing.alt_text.close_alt_text_view",
type:b.Zih?"save":"without_saving"}});g.Wh?.();c.onFormClose(g.rC);k.end()},Uf:{va:h,s$:!0}})})};Pss=function(a,b){a.text=b;a.Pha=b;a.state="magic_success"};Qss=function(a){a.state="magic_error";m(a.PDc).M0j=!0};Nss=function(a,b){return a.svj?.isRecording()?a.svj:(b=a.hLh.wb("open_alt_text_view",{Hb:{name:"editor.editing.alt_text.open_alt_text_view",type:b}}),a.svj=b)};
Yss=function(a){var b=a.zZ;const c=a.Ka,d=a.selection,e=a.Kh,f=a.Jd,g=a.la;var h=a.ma;const k=a.P,l=a.Qa,n=a.gx,p=a.YX,q=a.dc,r=a.undo;var t=a.fa;const v=t.Yha,w=t.errorService,x=t.ub,y=t.rb;t=a.he;var z=a.G6c;const B=a.Tde,C=new Rss(a.Ha);z=new Sss(()=>x?.MU({oU:__c.Fv({appName:"Alt Text Suggestions"})},{target:"_blank"}),()=>y?.jt(new __c.pk({uri:"https://www.canva.com/policies/ai-safety/",target:1})),z);const G=new Tss(d,b,l,q);b=new __c.EJg([new __c.yJg(l),new __c.zJg(l,n),new __c.AJg(l,p),new __c.BJg(q),
new __c.CJg],__c.xIg(l),w,__c.GJg.dqj);switch(c){case "fixed":a=m(a.AKb.VO)({type:"custom_thumbnail",d6a:64E4});h=new Uss(G,z,v,h,r,k,C,w,b,a);break;case "responsive":h=new Uss(G,z,v,h,r,k,C,w,b);break;default:throw new u(c);}const H=Oss(C,G,h,z),K=hV(P=>fV(Vss,{We:P.We,children:fV(H,{...P})}));e.jc(()=>({Mid:G.hng,layout:g.layout}),(P,{Mid:T,layout:V})=>{P.Bkc=T?{Button:W=>{const aa=jV(()=>{G.mb="contextual_menu";Nss(C,"contextual_menu");V===2?W.Gg?.$g({hf:K,options:{sg:()=>M("2kDi/A")}}):G.BIb&&
e.E7(G.BIb)},[W.Gg]);return fV(Wss,{...W,onClick:aa})},pa:K}:void 0;G.BIb=P.Bkc;B&&V===1&&G.BIb&&e.E7(G.BIb)},{equals:nV.structural,i7n:!0});const L=new __c.Mx,N=()=>L.$g({hf:K,options:{sg:()=>M("2kDi/A")}});f.plugins.Bkc=()=>({Sd:()=>G.hng,Button:P=>{const T=P.onClick,V=jV(()=>{T&&T();N()},[T]);return fV(Xss,{...P,onClick:V})},navigation:L});t?.ym(()=>!!G.BIb&&G.hng&&g.layout!==2&&G.cJj,{type:"simple",key:"alt-text",name:M("2kDi/A"),Icon:Tzj,aliases:[M("L4kqUg"),M("IMUp/A"),M("42FIOw"),M("TqUHjA"),
M("F7VHdQ")],execute:async()=>{sa(!!G.BIb&&G.hng&&G.cJj);G.mb="quick_action";Nss(C,"quick_action");G.BIb&&e.E7(G.BIb)}});return{KZc:H}};Zss=function(){throw Error("Semantics text attribute not supported in Sheets");};cts=function(a){if(a.Ka==="responsive")return{Haf:void 0};var b=a.Kd;a=new $ss(a.mc);b=new ats(a,b);return{Haf:new bts(a,b)}};
ets=function({u6:a,activeIndex:b,Hff:c,rqe:d,hasError:e,id:f,xa:g,UL:h,MYk:k,onClick:l,options:n,setActive:p,spacing:q,dxa:r,bJa:t}){if(!g&&e)return fV(R,{padding:"2u",children:fV(Q,{alignment:"center",children:M("cXUN2w")})});e=__c.Gl(n,Number(h));f=g&&d?fV(dts,{rqe:d,Pt:k,UL:h,spacing:q,dxa:r,bJa:t}):fV(R,{id:f,role:"grid",children:fV(Tc,{spacing:t??q??"1u",children:e.map((v,w)=>fV(ar,{columns:h,role:"row",spacing:q,dxa:r,bJa:t,children:v.map((x,y)=>{const z=Number(h)*w+y;y=z===b;return fV("div",
{id:y?a:void 0,onClick:()=>l(z),onMouseEnter:()=>p(z),role:"gridcell",children:fV(c,{active:y,option:x})},z)})},w))})});return fV(R,{padding:"2u",children:fV(__c.vu,{keyFrame:g&&d?0:1,direction:"replace",children:f})})};fts=function(a,b){b<0||b>=a.store.options.length||(a.store.activeIndex=b)};
its=function({Hff:a,rqe:b,onSelect:c,UL:d,MYk:e,options:f}){const g=new gts(d,f),h=new hts(g,c),k=iV(n=>{fts(h,n)}),l=iV(n=>{if(n=h.store.options[n])h.onSelect?.(n)});return{qVh:()=>{h.store.activeIndex=-1},GGh:hV(n=>fV(ets,{activeIndex:g.activeIndex,Hff:a,rqe:b,UL:d,MYk:e,onClick:l,options:f.get(),setActive:k,...n})),onKeyDown:n=>{h.onKeyDown(n.key)}}};
lts=function({Se:a,he:b,z8h:c}){if(a&&b&&c){var {qVh:d,GGh:e,onKeyDown:f}=its({Hff:jts,rqe:kts,UL:3,onSelect:async()=>{a.QK({});a.close({trigger:"insert"})},options:oV(()=>[])});b.ym(()=>!0,{type:"simple",key:"cover",name:M("3SRQvA"),Icon:__c.pdr,hI:!1,execute:async()=>{d();a.push({wca:oV(()=>({VR:a.u6,SSa:"none",ariaExpanded:!1,ariaHasPopup:"grid"})),B$:{defaultValue:M("L2Fjrg"),oEa:!0},Component:hV(({CDb:g})=>fV(e,{u6:a.u6,hasError:!1,id:g,xa:!1,dxa:"1.5u",bJa:"1u"})),onKeyDown:iV(g=>{f(g);return!1})})}})}};
ots=function({wL:a,Se:b,he:c}){const d=new mts,e=(g,h)=>b.F8a({rze:!0,A3c:g,mb:h}),f=async(g,h)=>{sa(d.status!=="loading");try{rV(()=>d.status="loading"),b.QK({}),await a(g),e(!0,h),b.close({trigger:"insert"}),rV(()=>d.status="none")}catch{e(!1,h),rV(()=>d.status="error")}};c.install({type:"simple",key:"embed",name:M("pwHv5A"),Icon:__c.IVi,hI:!1,execute:async()=>{b.push({Component:hV(()=>d.status==="error"?fV(nts,{}):null),wca:oV(()=>({ariaExpanded:d.status==="error",SSa:"none"})),Cfe:{show:oV(()=>
d.status==="error")},B$:{loading:oV(()=>d.status==="loading"),defaultValue:"",placeholder:M("w4sSag")},Q0b:iV(()=>{d.status==="error"&&(d.status="none")}),onKeyDown:g=>{const h=b.query;g.key==="Enter"&&h.length&&d.status!=="loading"&&f(h,"keyboard");return!1}})}})};
pts=function({kb:a,qc:b,Se:c,he:d,toolbar:e,wq:f}){const g=async(h,k)=>{c.QK({});c.close({trigger:"insert"});await b.dig?.(h,{Xc:"quick_actions"},void 0,`static-${k}`);e.aMa()};d.install({type:"simple",key:"poll",name:M("8GP/2A"),Icon:__c.BTm,execute:async()=>g(__c.kqs(f.HV,"poll",a),"poll")});d.install({type:"simple",key:"quiz",name:M("qO376Q"),Icon:__c.DTm,execute:async()=>g(__c.kqs(f.HV,"quiz",a),"quiz")})};
sV=function(a,b){return a.Hsh.get(`#${b.id.toLowerCase()}`)||a.Hsh.get(`.${b.className.toLowerCase()}`)||b.className.toLowerCase().split(" ").map(c=>a.Hsh.get(`.${c}`)).find(c=>!!c)||a.Hsh.get(b.tagName.toLowerCase())||a.Hsh.get(`${b.tagName.toLowerCase()}.${b.className}`)};
qts=function(a){a=tV(a);var b;a:{if(a.length&&a!=="initial"&&(b=document.createElement("canvas").getContext("2d"))){b.fillStyle=a;b=b.fillStyle;break a}b=void 0}a=b||a;try{try{const {r:d,g:e,b:f,a:g}=__c.aJa(a);var c=(new __c.Sh(Math.floor((1-g)*255+g*d),Math.floor((1-g)*255+g*e),Math.floor((1-g)*255+g*f))).hD().toLowerCase()}catch{const {r:d,g:e,b:f}=__c.ei(a);c=(new __c.Sh(d,e,f)).hD().toLowerCase()}return c}catch{}};
rts=function(a,b){if((a=b.style.backgroundColor||sV(a,b)?.backgroundColor||b.style.background||sV(a,b)?.background)&&a!=="transparent")return qts(a)};sts=function(a,b){if(a=b.style.borderLeftColor||sV(a,b)?.borderLeftColor||b.style.borderInlineStartColor||sV(a,b)?.borderInlineStartColor)return qts(a)};tts=function(a,b){if(a=b.style.borderRightColor||sV(a,b)?.borderRightColor||b.style.borderInlineEndColor||sV(a,b)?.borderInlineEndColor)return qts(a)};uts=function(a,b){if(a=b.style.color||sV(a,b)?.color)return qts(a)};
wts=function(a,b){if(a=b.style.borderLeftWidth||sV(a,b)?.borderLeftWidth||b.style.borderInlineStartWidth||sV(a,b)?.borderInlineStartWidth)return vts(tV(a))};xts=function(a,b){if(a=b.style.borderRightWidth||sV(a,b)?.borderRightWidth||b.style.borderInlineEndWidth||sV(a,b)?.borderInlineEndWidth)return vts(tV(a))};yts=function(a){a=tV(a);switch(a){case "solid":case "dotted":case "dashed":return a}};
zts=function(a,b){if(a=b.style.borderLeftStyle||sV(a,b)?.borderLeftStyle||b.style.borderInlineStartStyle||sV(a,b)?.borderInlineStartStyle)return yts(a)};Ats=function(a,b){if(a=b.style.borderRightStyle||sV(a,b)?.borderRightStyle||b.style.borderInlineEndStyle||sV(a,b)?.borderInlineEndStyle)return yts(a)};Bts=function(a,b){if(a=b.style.fontSize||sV(a,b)?.fontSize)return a=vts(tV(a)),a!=null&&a>0?a:void 0};
Cts=function(a,b){if(a=b.style.fontWeight||sV(a,b)?.fontWeight){a=tV(a);switch(a){case "normal":case "bold":return a}a=parseInt(a,10);if(!isNaN(a))return __c.NLh.getStyle(a)}};Dts=function(a,b,c){if(a=b.style.textAlign||sV(a,b)?.textAlign)switch(a=tV(a),a){case "start":case "center":case "end":case "justify":return a;case "left":return c==="rtl"?"end":"start";case "right":return c==="rtl"?"start":"end"}};
Ets=function(a){let b=0;for(a=a.parentElement;a!=null;)["OL","UL"].includes(a.tagName)&&(b=Math.min(8,b+1)),a=a.parentElement;return b<=0?void 0:b};
Fts=function(a){var b;a:{for(b=a;b!=null;){if(b.tagName==="LI")break a;b=b.parentElement}b=void 0}switch(b?.getAttribute("role")){case "checkbox":return b?.getAttribute("aria-checked")==="true"?"checked":"unchecked"}a:{for(b=a.parentElement;b!=null;){if(["OL","UL"].includes(b.tagName))break a;b=b.parentElement}b=void 0}const c=a.style.listStyleType||a.style.listStyle||b?.style.listStyleType||b?.style.listStyle;if(c)switch(a=tV(c),a){case "none":case "disc":case "circle":case "square":case "decimal":case "lower-alpha":case "lower-roman":return a}else{if(b?.tagName===
"OL")return"decimal";if(b?.tagName==="UL")switch(Ets(a)){case 0:case 1:return"disc";case 2:return"circle";default:return"square"}}};Gts=function(a,b){if(a=b.style.fontStyle||sV(a,b)?.fontStyle)switch(a=tV(a),a){case "normal":case "italic":return a}};Hts=function(a,b){if(a=b.style.textDecoration||sV(a,b)?.textDecoration){var c;tV(a).split(" ").forEach(d=>{switch(d){case "none":case "underline":c=d}});return c}};Its=function(a,b){if(a=b.style.textTransform||sV(a,b)?.textTransform)switch(a=tV(a),a){case "none":case "uppercase":return a}};
Jts=function(a,b){if(a=b.style.textDecoration||sV(a,b)?.textDecoration){var c;tV(a).split(" ").forEach(d=>{switch(d){case "line-through":c="strikethrough";break;case "none":c="none"}});return c}};Kts=function(a,b){a=(a=b.style.direction||sV(a,b)?.direction)?tV(a):void 0;switch(a){case "ltr":case "rtl":return a;default:if(b.dir==="ltr"||b.dir==="rtl")return b.dir}};Ots=function(a,b){if(a=b.style.lineHeight||sV(a,b)?.lineHeight)return a=tV(a),a=Lts(a),a!=null?Math.max(Mts,Math.min(a,Nts)):void 0};
Sts=function(a,b){if(a=b.style.letterSpacing||sV(a,b)?.letterSpacing){a=tV(a);switch(a){case "normal":return 0}a=a&&a.endsWith("em")?Pts(a):void 0;return a!=null?Math.max(Qts,Math.min(Rts,a)):void 0}};Tts=function(a){a=a.tagName.toLowerCase();switch(a){case "h1":case "h2":case "h3":case "h4":case "h5":case "h6":case "p":return a;case "blockquote":case "quote":return"blockquote"}};Uts=function(a,b){a=(a=b.style.verticalAlign||sV(a,b)?.verticalAlign)?tV(a):void 0;switch(a){case "super":case "sub":return a}};
tV=function(a){for(;Vts.test(a);)a=a.replace(Vts,"$1");return a};Pts=function(a){a=parseFloat(a);if(!isNaN(a)&&Number.MIN_SAFE_INTEGER<a&&a<Number.MAX_SAFE_INTEGER)return a};vts=function(a){if(a){if(a.endsWith("px"))return Pts(a);if(a.endsWith("pt")&&(a=Pts(a),a!=null))return Math.round(a*4/3*100)/100}};Lts=function(a){if(a&&/^\d*\.?\d+$/.test(a))return Pts(a)};
Yts=function(a,b){let c;try{c=(new DOMParser).parseFromString(b,"text/html")}catch{return}b=new Wts(c.getElementsByTagName("style"));a=new Xts(b,a);ars(c,a);return a.finish()};Zts=function(a){const b=a.FTf.trimEnd(),c=a.FTf.slice(b.length);a.builder.Xb(b);a.FTf=c};$ts=function(a,b){Zts(a);Object.assign(a.ACm,b);a.builder.attrs(b)};aus=function(a,b){a.FTf+=b.replace(/\u00a0/g," ")};
cus=function(a,b){const c={...bus.get(b.tagName)};var d=Cts(a.qha,b);d&&(c.fontWeight=d);(d=Gts(a.qha,b))&&(c.fontStyle=d);(d=uts(a.qha,b))&&(c.color=d);(d=Hts(a.qha,b))&&(c.decoration=d);(a=Jts(a.qha,b))&&(c.rv=a);return c};dus=function(a,b,c){b=cus(a,b);const d=__c.ie(Ae,b,(e,f)=>a.ACm[f]);$ts(a,b);c();$ts(a,d)};fus=function(a){return Qk.qd().attrs({fontFamily:a.wq.bWb&&__c.bj(a.wq.bWb),fontSize:eus,color:"#ffffff"})};
hus=async function(a,b,c){const d=a.FQj;if(d==null)a.Za.lcc(c);else if(b=gus(a.RBb,b,c),b=await a.A9a(b,{Xc:"code_blocks"}),b!=null&&b.cells.size!==0){var [e,f]=[...b.cells.entries()][0],g=__c.Vra(d.ew(b),e,f);requestAnimationFrame(()=>a.selection.qv(g,f.text,Gw.end()))}};ius=async function(a){if(a.jTh){const b=fus(a).Xb("\n").build();await hus(a,"#1f1f1f",b)}else a.showNotification(M("9mS+7A"))};
jus=async function(a){const b=await a.W5q(a.ma);await rV(()=>{if(!b)return a.showNotification(M("WQlllg"));var c=fus(a);c=a.Zps(c,b);return c==null||c.Y5.length<=1?a.showNotification(M("WQlllg")):hus(a,c.backgroundColor??"#1f1f1f",c.Y5)})};kus=async function(a){const b=__c.dVi();let c;try{c=await b.read()}catch{a.Ib({Db:M("H8xFAw")});return}return c?.["text/html"]?.text()};
gus=function(a,b,c){a=a.next();const d={...__c.ln,padding:{...__c.mYc,all:10},gridColumnStart:"1",gridColumnEnd:"2",gridRowStart:"1",gridRowEnd:"2"};return{...__c.sZc,width:"100%",fill:{...ks,color:b},qb:{...__c.lYc,all:10},cells:new Map([[a,{...__c.rZc,text:c}]]),behavior:{rules:[{Sp:void 0,grid:{gridTemplateColumns:["1fr"],gridTemplateRows:["1fr"],columnGap:0,rowGap:0,Bw:new Map([[a,d]])}},{Sp:450,grid:{gridTemplateColumns:["1fr"],gridTemplateRows:["auto"],columnGap:0,rowGap:0,Bw:new Map([[a,d]])}}]}}};
lus=function(a,b){return(c,d,e)=>{if(!a())return!0;e=e.format;const f=d.index;d=d.length;d>0&&(c.deleteText(f,d,"user"),c.focus());c.insertText(f,"`",e,"user");c.history.cutoff();c.deleteText(f-2,3,"user");b();return!1}};
nus=function({selection:a,Za:b,Pwa:c,A9a:d,RBb:e,wq:f,Se:g,he:h,ma:k,xhb:l,Y1d:n}){const p=new mus(a,b,d,e,k,f);l&&(c.N1.DTn=lus(()=>p.jTh,()=>ius(p)));n&&g&&h&&h.ym(()=>p.jTh||p.Xom,{type:"simple",key:"code-blocks",name:M("l+Rifw"),Icon:__c.IVi,execute:async()=>{g.QK({});g.close({trigger:"insert"});await jus(p)}})};ous=async function(a,b){b=await __c.bne(b,a.Zn,a.Xk,async()=>{});return a.A9a(b,{Xc:"quick_actions"})};
pus=async function(a,b){const c=new __c.Aij({GJc:Array.from(b.keys()),i6c:!0,query:"",context:new __c.sF({tv:a.ka,nt:!1,LP:21}),types:[2]});({results:a}=await a.$f.mie(c));return a.filter(d=>d.type==="LAYOUT").map(d=>{const e=b.get(d.id);if(e)try{const f=__c.iC.deserialize(JSON.parse(d.BSe));return{...e,r2b:f}}catch(f){}}).filter(d=>d!=null)};
rus=async function(a){if(!(a.store.qEf.length>0))try{a.store.XUg=!0;const {qEf:b}=await __webpack_require__.me(941898).then(()=>({qEf:__c.qus})),c=await pus(a,b);rV(()=>{a.store.qEf=c;a.store.Pki=!1})}catch(b){rV(()=>{a.store.Pki=!0})}finally{rV(()=>{a.store.XUg=!1})}};
tus=async function(a){if(!(a.store.WVf.length>0))try{a.store.aVg=!0;const {WVf:b}=await __webpack_require__.me(431364).then(()=>({WVf:__c.sus})),c=await pus(a,b);rV(()=>{a.store.WVf=c;a.store.pPi=!1})}catch(b){rV(()=>{a.store.pPi=!0})}finally{rV(()=>{a.store.aVg=!1})}};
Bus=function({A9a:a,k2j:b,ka:c,Se:d,he:e,Zn:f,vg:g,$f:h,Jb:k}){b=new __c.bqe({id:c,clientId:b});const l=new uus,n=new vus(l,h,g,f,c,b,a);a=()=>{const x=n.vg.Kb;return x!=null&&RVc(x.container)};const {qVh:p,GGh:q,onKeyDown:r}=its({Hff:wus,rqe:xus,UL:3,onSelect:async x=>{d.QK({});await ous(n,x.r2b);d.close({trigger:"insert"})},options:oV(()=>l.qEf)});e.ym(a,{type:"simple",key:"highlight-block",name:M("uhQfzQ"),Icon:yus,hI:!1,nPa:()=>({qg:hV(()=>k.Td.olj?fV(k.Td.olj,{}):null),B3:k.Td.AMr}),execute:async()=>
{p();rus(n);d.push({wca:oV(()=>({VR:d.u6,SSa:"none",ariaExpanded:!l.XUg,ariaHasPopup:"grid"})),B$:{defaultValue:M("xCwiAg"),oEa:!0},Component:hV(({CDb:x})=>fV(q,{u6:d.u6,hasError:l.Pki,id:x,xa:l.XUg,dxa:"1.5u",bJa:"1u"})),onKeyDown:iV(x=>{r(x);return!1})})}});const {qVh:t,GGh:v,onKeyDown:w}=its({Hff:wus,rqe:zus,UL:3,MYk:1,onSelect:async x=>{d.QK({});await ous(n,x.r2b);d.close({trigger:"insert"})},options:oV(()=>l.WVf)});e.ym(a,{type:"simple",key:"quotes",name:M("jzPZzg"),Icon:Aus,hI:!1,execute:async()=>
{t();tus(n);d.push({wca:oV(()=>({VR:d.u6,SSa:"none",ariaExpanded:!l.aVg,ariaHasPopup:"grid"})),B$:{defaultValue:M("3iOE/Q"),oEa:!0},Component:hV(({CDb:x})=>fV(v,{u6:d.u6,hasError:l.pPi,id:x,xa:l.aVg,dxa:"1.5u",bJa:"1u"})),onKeyDown:iV(x=>{w(x);return!1})})}})};
Kus=function(a,b){const c=a.he,d=a.Se,e=a.Zn;var f=a.session;const g=f.id;f=f.clientId;const h=a.pd,k=a.selection,l=a.Jb,n=a.$f;var p=new __c.bqe({id:g,clientId:f});nus({he:c,Se:d,ma:a.ma,selection:k,Za:a.Za,Pwa:a.Pwa,A9a:b,RBb:p,wq:a.wq,xhb:a.xhb,Y1d:a.Y1d});if(d&&c){var q=new Cus(d,e,b,p,a.fj,k),r=iV(async z=>{const B=k.Kb;B!=null&&RVc(B.container)&&await q.hTj(z,B.container)}),t=[Dus,Eus,Fus].map(z=>({type:"simple",key:`simple-action-${z.keyName}`,name:z.label,Icon:z.icon,hI:!1,async execute(){return r(z.ZJe)}}));
a={type:"multi-simple",key:"layout-columns-presets",sth:oV(()=>t)};var {qVh:v,GGh:w,onKeyDown:x}=its({Hff:Gus,UL:3,onSelect:z=>{r(z.ZJe)},options:oV(()=>Hus)});p={type:"simple",key:"layout-columns-all",name:M("mconjg"),Icon:Ius,hI:!1,nPa:()=>({qg:hV(()=>l.Td.kmj?fV(l.Td.kmj,{}):null),B3:l.Td.EMr}),execute:async()=>{v();d.push({wca:oV(()=>({VR:d.u6,SSa:"none",ariaExpanded:!0,ariaHasPopup:"grid"})),B$:{oEa:!0,query:oV(Jus)},Component:({CDb:z})=>fV(w,{u6:d.u6,id:z,spacing:"2u"}),onKeyDown:iV(z=>{x(z);
return!1})})}};var y=()=>{const z=k.Kb;return!(z==null||!RVc(z.container)||!h.h5a(z.container))};c.ym(y,p);c.ym(y,a);Bus({Se:d,he:c,A9a:b,k2j:f,ka:g,Zn:e,vg:k,$f:n,Jb:l})}};
Pus=function({Aeb:a,qJa:b,Rpd:c,viewport:d,qc:e,la:f,ULk:g,P:h,C4a:k}){const l=new Lus(d,k),n=new Mus(l,e,h),p=hV(({oa:r})=>fV(Nus,{$yc:l.$yc,layout:f.layout,xy:l.xy,OR:n.OR,z6f:n.z6f,dYf:n.dYf,LSa:n.LSa,oa:r,Zwa:l.Zwa}));if(k){const r=w=>x=>n.LSa(w,x),t=w=>{var x=w.Pd;w=w.container;if(x=x?.type==="line"?w.Me(x):void 0)return g.rgq(x.container.ia,x.ia)},v=()=>b.VTb("Deselect");gV(()=>({isActive:l.isActive,$yc:l.$yc}),({isActive:w,$yc:x})=>{c.Kuf=w&&x&&l.Zwa?{due:r(x),tSj:t,oa:v}:void 0},{equals:nV.shallow})}const q=
[["ArrowUp",()=>n.OFn("prev")],["ArrowDown",()=>n.OFn("next")],["Escape",()=>{l.$yc?n.dYf():b.VTb("Deselect")}]];a.z_c=()=>({Sd:()=>!0,Button:hV(r=>{const {GDc:t,Mx:v,pressed:w,...x}=r;l.MEb(w);return fV(t,{id:"Line",icon:Ous,ib:M("ONGArA"),pressed:w,onClick:v,...x})}),pa:r=>fV(p,{oa:r.oa}),ZXh:q})};Qus=function(a){return!(!a.vg.Ma||a.vg.Ma.type!=="pages"||a.vg.Ma?.inner||!a.vg.Ma.Ri())};
Rus=function({Se:a,he:b,eRa:c,selection:d,qc:e,Jb:f}){a&&b&&b.ym(()=>d.Kb!=null&&__c.QVc(d.Kb.container),{type:"simple",key:"break",name:M("zbsOKQ"),Icon:__c.nvf,Dm:Pk("Enter"),nPa:()=>({qg:hV(()=>f.Td.Hgj?fV(f.Td.Hgj,{}):void 0),B3:f.Td.oMr}),execute:async()=>{a.QK({});e.addPageBreak({Xc:"quick_actions"});a.close({trigger:"insert"})}});__c.Ro(c,[Pk("Enter"),g=>{const h=d.Kb;h!=null&&__c.QVc(h.container)&&(g.preventDefault(),e.addPageBreak({Xc:"shortcut"}))},M("w16Knw"),["edit","suggest"]])};
$us=function(a){const b=a.canvas,c=a.Se,d=a.la,e=a.selection,f=a.Jd,g=a.viewport,h=a.Pa,k=a.Za,l=a.Jb,n=a.pg;if(c){a.Ka==="responsive"?c.yzh("responsive"):gV(()=>a.viewport.ya.type==="responsive",w=>{c.yzh(w?"responsive":"fixed")},{fireImmediately:!0});Sus(()=>{const w=a.selection.Ma,x=a.selection.Kb;x?.type===4||x?.type===5||x?.type===1&&x?.only?.type==="sheet"||w?.inner?.type==="sheet"||w?.inner?.type==="sheet-cell-media"||w?.type==="elements"&&w.Pd?.type==="sheet"?c.bAh({type:"sheet",editable:w?.Ri()??
!0}):c.bAh(void 0)});var p=oV(()=>{if(e.Kb?.type===0)return a.pd.XCa(e.Kb.container.text,e.Kb.range)},{equals:__c.gk(Qj)});Tus(a,p);var q=new Uus(e,h,d),r=new Vus(q,k,g,e,c),t=new Wus(h,e,d,k),v=new Xus(t,k,h);gV(()=>k.focused,()=>v.iKn?.());f.plugins.s6=()=>({Sd:()=>q.pwh,Button:hV(w=>{const x=w.onClick,y=jV(z=>rV(()=>{x?.();r.I_k(z)}),[x]);return fV("div",{ref:c.Awl,children:fV(Yus,{...w,open:c.isOpen,VJk:q.BPc&&d.layout===1?"gradient":"static",Icon:q.BPc?__c.Sig:d.layout===2?__c.u$d:Gu,Lj:q.KEl?
n.LIh:void 0,onClick:y})})})});b.jc(()=>t.iqm,(w,x)=>{w.Bn.FL.Qdg=x?hV(()=>{var y=p.get();if(y==null)return null;y=y.Nb();return fV(Zus,{show:t.PR,onClick:r.I_k,top:y.top+y.height/2,Wre:l.Wre,onFocus:v.onFocus,onBlur:v.onBlur,onMouseDown:v.onMouseDown})}):void 0})}};
Tus=function(a,b){const c=a.canvas,d=a.session.undo,e=a.viewport,f=a.Pa,g=a.la,h=a.selection,k=a.j2,l=a.Se,n=a.jqa,p=a.Za,q=a.pd,r=a.E0d;if(l){var t,v,w=()=>{if(h.Kb?.type===4){const y=oV(()=>{if(e.MF){var B=h.Kb;if(B?.type===4&&B.Iu)return __c.bTf(B,q,e)}}),z=oV(()=>{const B=y.get()?.NBa;return B?Nj(B):void 0});avs?l.pBc({type:"sheet",box:z,tUf:__c.dTf(y,c,n)}):l.pBc({type:"fixed",anchor:"top",direction:"right",box:oV(()=>{if(e.MF){var B=h.Kb;if(B?.type===4&&B.Iu){var C=B.container.sheet;const L=
__c.Ak(C.config,B.Iu.column,B.Iu.row);if(L){var G=new Zz(B.container.container.ew(B.container.sheet),q,e);B=__c.yk(C.config).find(N=>N.box.tD(L));var H=G.gM,K=G.vB;H=C.config.direction==="rtl"?sj(K.tr,H.tr):sj(K.tl,H.tl);G=G.$R.then(K.Fn());C=__c.zk(C.config,H,B).then(G.invert());return Nj(L.transform(C))}}}})})}else l.pBc({type:"responsive",box:oV(()=>{const y=e.MF,z=e.iN,B=b.get();if(y&&z&&B)return B.transform(z.invert())})})},x=({Dm:y,trigger:z})=>{if(g.layout===1&&h.Ma&&({to:y}=bvs({Dm:y,Ka:"fixed"}),
h.Ma.inner?.type==="sheet"||z!=="shortcut_targeted")){if(h.Ma?.inner?.type==="sheet"){const B=oV(()=>{if(h.Ma)return __c.cTf(h.Ma,e,f)}),C=oV(()=>{const G=B.get()?.NBa;return G?Nj(G):void 0});avs?l.pBc({type:"sheet",box:C,tUf:__c.dTf(B,c,n)}):l.pBc({type:"fixed",box:oV(()=>{var G=h.Ma;if(G&&G.inner&&G.inner.type==="sheet"){var H=G.inner.Iu;if(H!=null){var K;G.type==="pages"?K=new Xz(G.container.xb(G.inner.page),e,f):G.type==="elements"&&(K=new Wz(G.container.Me(G.inner.sheet),e));if(K!=null){G=K.sheet;
var L=K.gM,N=K.vB;K=K.$R;var P=__c.Ak(G,H.column,H.row);if(P)return H=__c.yk(G).find(T=>T.box.tD(P)),L=G.direction==="rtl"?sj(N.tr,L.tr):sj(N.tl,L.tl),N=K.then(N.Fn()),G=__c.zk(G,L,H).then(N.invert()),Nj(P.transform(G))}}}}),anchor:"top",direction:"right"})}l.open({trigger:z,to:y})}};a.Pwa.N1.cHd=iV(y=>{if(g.layout!==1)return!0;if(f.mode<=20)return!1;if(h.Kb?.container.type==="sheet-item-cell-richtext")return!0;let z,B;switch(y){case "/":z="shortcut";break;case ":":z="shortcut_targeted";B="blank-emoji-responsive";
break;case "@":z="shortcut_targeted";B="mention";break;default:throw new u(y);}l.open({trigger:z,to:B});if(!l.isOpen)return!0;v=d.startBuffering();t=p.gDa(y,tef(p)).connect();w();return!1});a.Ka!=="responsive"&&l.CUc(k,x);l.CUc(a.Ka==="responsive"?k:a.jEb,({Dm:y,trigger:z,Gaf:B})=>{var C=h.Kb;if(C&&B){B=g.layout===1&&(__c.vba(y)||cvs(B.prefix,y))&&C.container.type!=="sheet-item-cell-richtext";if(C.type===0)return!1;if(B||!__c.vba(y))if(B||__c.vba(y)){var {to:G}=bvs({Dm:y,Ka:"responsive",yB:C.type});
B=()=>{l.open({trigger:z,to:G});l.isOpen&&(v=d.startBuffering(),h.Kb?.type!==0||__c.vba(y)||(t=p.gDa(y,tef(p)).connect()),w())};switch(C.type){case 2:const H=C.only;if(!H){B();break}C=__c.wf(C.container,H).text;p.qv(C,Gw.all());p.focus();B();break;case 4:B();break;case 5:case 3:case 1:B();break;default:throw new u(C);}}else switch(C.type){case 2:B=C.only;if(!B)break;C=__c.wf(C.container,B).text;p.qv(C,Gw.all());p.focus();p.gDa(y);break;case 4:case 5:case 3:case 1:break;default:throw new u(C);}}});
gV(()=>l.query,y=>{y===" "&&(p.gDa(" "),setTimeout(()=>{l.close({trigger:"escape"})},0))});l.addEventListener("beforeapply",iV(()=>{t?.Sc&&(p.qv(t.Sc,t),p.vR(),t.disconnect())}));l.addEventListener("close",iV(({trigger:y})=>{v?.stop();v=void 0;t?.disconnect();t=void 0;y!=="show_dialog"&&setTimeout(()=>{p.focused||p.focus()})}));r?.get()?.Wda?.eWn&&l.open({trigger:"ui_state"})}};
cvs=function(a,b){switch(b){case "/":return!!a.match(/(^|\s)$/);case ":":return!!a.match(/(^|\s)$/);case "@":return!!a.match(/(^|\s|\p{P})$/u);default:throw new u(b);}};bvs=function(a){switch(a.Dm){case ":":return{trigger:"shortcut_targeted",to:a.Ka==="fixed"?"blank-emoji-fixed":"blank-emoji-responsive"};case "@":return{trigger:"shortcut_targeted",to:a.Ka==="fixed"||a.yB===4?"mention-insert":"mention"};default:return{trigger:"shortcut"}}};
ivs=function({Aeb:a,qJa:b,Rpd:c,viewport:d,mc:e,qc:f,fea:g,la:h,P:k,C4a:l}){const n=new dvs(g,d,l),p=new evs(n,e,f,k),q=hV(({oa:t})=>fV(fvs,{oa:t,layout:h.layout,fea:g,WVc:n.WVc,xy:n.xy,OR:p.OR,Baa:p.Baa,IPd:p.IPd,eYf:p.eYf,Zwa:n.Zwa}));if(l){const t=hV(()=>n.EEb&&p.NIa?fV(gvs,{shape:n.EEb,uUs:p.NIa}):null),v=x=>y=>p.Baa(x,y),w=()=>b.VTb("Deselect");gV(()=>({isActive:n.isActive,EEb:n.EEb}),({isActive:x,EEb:y})=>{c.Kuf=x&&y&&n.Zwa?{pq:t,due:v(y),A$c:p.Llr,oa:w}:void 0},{equals:nV.shallow})}const r=
[["ArrowUp",()=>p.PFn("prev")],["ArrowDown",()=>p.PFn("next")],["Escape",()=>{n.WVc?p.eYf():b.VTb("Deselect")}]];a.YXa=()=>({Sd:()=>!0,Button:hV(t=>{const {GDc:v,Mx:w,pressed:x,...y}=t;n.MEb(x);return fV(v,{id:"Shape",icon:hvs,ib:M("8CFVjw"),pressed:x,onClick:w,...y})}),pa:t=>fV(q,{oa:t.oa}),ZXh:r})};jvs=function({M_s:a,vYs:b,rl:c}){let d;a&&b?d=M("N/GixA"):a?d=M("qXgT6g"):b&&(d=M("0E7snA"));return fV(c,{label:m(d),Icon:Gu})};
mvs=function({selection:a,DQj:b,Jd:c,hj:d,Pa:e,Ha:f}){const g=new kvs(a,e);a=f.Vd("editor.editing.sheet_adding");const h=new lvs(g,d,a),k=iV(()=>{h.addRow("before")}),l=iV(()=>{h.addRow("after")}),n=iV(()=>{const q=h.store.sheet;q&&h.addColumn(q.direction==="rtl"?"after":"before")}),p=iV(()=>{const q=h.store.sheet;q&&h.addColumn(q.direction!=="rtl"?"after":"before")});b.jc(()=>g.M1f,(q,r)=>{q.DCc=r?.syj?{Button:hV(w=>fV(w.rl,{label:J("w4rzTQ",[g.vG.length]),Icon:__c.Zkr,onClick:k,oa:w.oa}))}:void 0;
q.ECc=r?.tyj?{Button:hV(w=>fV(w.rl,{label:J("KiqINg",[g.vG.length]),Icon:__c.alr,onClick:l,oa:w.oa}))}:void 0;q.BCc=r?.Lxj?{Button:hV(w=>fV(w.rl,{label:J("Yf0hww",[g.k3b.length]),Icon:__c.kGo,onClick:n,oa:w.oa}))}:void 0;q.CCc=r?.Mxj?{Button:hV(w=>fV(w.rl,{label:J("qRE55g",[g.k3b.length]),Icon:__c.Xkr,onClick:p,oa:w.oa}))}:void 0;const t=(r?.syj||r?.tyj)??!1,v=(r?.Lxj||r?.Mxj)??!1;q.hfj=t||v?{Button:hV(w=>fV(jvs,{M_s:t,vYs:v,rl:w.rl}))}:void 0});c.plugins.DCc=()=>({Sd:()=>!!g.M1f?.syj,Button:hV(q=>
fV(q.yi,{icon:Gu,onClick:k,zh:"icon-and-label",children:J("w4rzTQ",[g.vG.length])}))});c.plugins.ECc=()=>({Sd:()=>!!g.M1f?.tyj,Button:hV(q=>fV(q.yi,{icon:Gu,onClick:l,zh:"icon-and-label",children:J("KiqINg",[g.vG.length])}))});c.plugins.BCc=()=>({Sd:()=>!!g.M1f?.Lxj,Button:hV(q=>fV(q.yi,{icon:Gu,onClick:n,zh:"icon-and-label",children:J("Yf0hww",[g.k3b.length])}))});c.plugins.CCc=()=>({Sd:()=>!!g.M1f?.Mxj,Button:hV(q=>fV(q.yi,{icon:Gu,onClick:p,zh:"icon-and-label",children:J("qRE55g",[g.k3b.length])}))})};
qvs=function(a,b){const c=a.viewport,d=a.selection,e=a.Ka,f=a.kb,g=a.he,h=a.Se,k=a.wq,l=a.fj;if(h&&g){var n=a.Ha.Vd("editor.editing.sheet_adding");a=iV((r,t)=>{const v=n.wb("create_and_add_sheet",{Hb:{name:"editor.element.add",type:"sheet",attrs:new Map([["action","quick_actions"]])}});r=__c.zxa(Wg,{...PYc,config:__c.Eje({...__c.iId,kb:f,i0b:r,j0b:t,UK:"wrap",Ki:kId.Ki,fontSize:kId.fontSize,fontFamily:k.HV}),id:f.Af.generate(),top:0,left:0,width:1,height:1});b(r,{Xc:"quick_actions",span:v,w2d:!0})});
var p=new nvs,q=new ovs(h,a,l);g.ym(()=>{const r=d.Kb;return e!=="responsive"&&hf(c.ya)?!1:r!=null?__c.TVc(r.container):!0},{type:"simple",key:"sheet",name:M("fN/KMA"),aliases:[M("Yvno9Q")],Icon:__c.PF,execute:async()=>h.push({B$:{oEa:!0,query:oV(()=>{var r=p.activeCell;return`${r.col+1}x${r.row+1}`})},wca:oV(()=>({VR:h.u6,SSa:"none",ariaExpanded:!0,ariaHasPopup:"grid"})),Component:r=>fV(pvs,{...r,pVs:p,L:q}),onKeyDown:r=>{r.key!=="Tab"&&r.preventDefault();switch(r.key){case "Enter":q.select(p.activeCell,
"keyboard");break;case "ArrowUp":case "ArrowRight":case "ArrowDown":case "ArrowLeft":q.b2g(p,r.key)}return!1},onClose:()=>q.reset(p),reset:()=>q.reset(p)}),hI:!1})}};
vvs=function(a,b){const c=a.he,d=a.Se,e=a.nxg,f=a.fj,g=a.ula,h=a.P,k=a.viewport,l=a.kb,n=a.Ha.Vd("table_adding"),p=(x,y,z)=>{x=__c.wpg(g,{columns:x,rows:y});const B={...us,text:Fg.I6("\n")};x=Wg.kzc({...x,cells:nd(x.cells,C=>({...C,content:B})),...__c.iYc,id:l.Af.generate(),top:0,left:0,width:1,height:1,gb:1,Wb:1});x=new __c.sv({lg:1,element:x});z.addEvent("table_proto_created");z.ob().addEvent("table_proto_created");return x},q=(x,y,z)=>{if(a.Ka==="responsive")return p(x,y,z);switch(k.ya.type){case "fixed":case "concatenated-fixed":return x=
__c.wpg(a.VRb,{columns:x,rows:y}),x=new __c.sv({lg:1,element:Wg.kzc(x),fonts:[]}),z.addEvent("table_proto_created"),z.ob().addEvent("table_proto_created"),x;case "responsive":return p(x,y,z);default:throw new u(k.ya);}},r=()=>{const x=a.selection.Kb;return x!=null&&__c.SVc(x.container)?!0:a.Ka!=="responsive"?!hf(a.viewport.ya):!1},t=iV((x,y,z)=>{const B=n.wb("create_and_add_table",{Hb:{name:"editor.element.add",type:"table",attrs:new Map([["action","quick_actions"]])}});b((z??q)(x,y,B),void 0,{Xc:"quick_actions",
span:B,w2d:!0})}),v=new rvs,w=new svs(d,h,t,f);if(a.Ka!=="responsive"){const x=iV((z,B,C)=>{z=__c.wpg(a.VRb,{columns:z,rows:B});B=nd(z.cells,(G,H)=>{H=H.match(/\d+$/);const K={"text-align":"center"};Number(H?H[0]:[])===1&&(K["font-weight"]="bold");H={...us,text:Fg.qd().attrs(K).Xb("\n").build()};return{...G,content:H}});z=Wg.kzc({...z,cells:B,width:428,height:250,gb:428,Wb:250,layout:{...z.layout,cellPadding:10,borderStyle:{...z.layout.borderStyle,color:"#cccccc",weight:2}}});z=new __c.sv({lg:1,element:z});
C.addEvent("table_proto_created");C.ob().addEvent("table_proto_created");return z}),y=iV(()=>{w.addTable(3,4,x)});a.Aeb.Table=()=>({Sd:r,Button:hV(z=>{const {GDc:B,Mx:C,oa:G,...H}=z;z=jV(()=>{C();y();w.bBa();G()},[C,G]);return fV(B,{id:"Table",icon:tvs,ib:M("/92zfw"),onClick:z,...H})})})}!e&&d&&c&&c.ym(r,{type:"simple",key:"table",name:M("AibD4g"),Icon:__c.zSj,execute:async()=>d.push({B$:{oEa:!0,query:oV(()=>{var x=v.activeCell;return`${x.col+1}x${x.row+1}`})},wca:oV(()=>({VR:d.u6,SSa:"none",ariaExpanded:!0,
ariaHasPopup:"grid"})),Component:x=>fV(uvs,{...x,s9s:v,L:w}),onKeyDown:x=>{x.key!=="Tab"&&x.preventDefault();switch(x.key){case "Enter":w.select(v.activeCell,"keyboard");break;case "ArrowUp":case "ArrowRight":case "ArrowDown":case "ArrowLeft":w.b2g(v,x.key)}return!1},onClose:()=>w.reset(v),reset:()=>w.reset(v)}),hI:!1})};
zvs=function({Aeb:a,qJa:b,Rpd:c,viewport:d,mc:e,kd:f,qc:g,P:h,C4a:k}){const l=new wvs(d,k),n=new xvs(l,e,f,g,h);if(k){const q=hV(()=>{var t=l.gE?n.P5m(l.gE):void 0;if(!t)return null;const v=t.text,w=t.attributes;t=t.dimensions;const x=w["font-family"],y=w["font-weight"];return fV("div",{style:{width:t.width,height:t.height,color:w.color,fontSize:`${w["font-size"]}px`,fontFamily:x?__c.fj(x):void 0,fontWeight:y?__c.hj(y)?.toString():void 0},children:v})}),r=()=>b.VTb("Deselect");gV(()=>l.isActive,t=>
{c.Kuf=t&&l.Zwa?{pq:q,due:n.addText,A$c:n.A$c,oa:r}:void 0})}const p=q=>{q.key==="Escape"&&b.VTb("Deselect")};gV(()=>l.isActive,q=>{q?document.addEventListener("keydown",p):document.removeEventListener("keydown",p)});a.Text=()=>({Sd:()=>!0,Button:hV(q=>{const {GDc:r,Mx:t,oa:v,active:w,...x}=q;l.MEb(w);q=jV(()=>{t();l.Zwa||(n.addText(),v())},[t,v]);return fV(r,{id:"Text",icon:yvs,ib:M("yeR+vA"),onClick:q,active:w,...x})})})};
Avs=function(a){const b=a.he,c=a.Se,d=a.qc;a.keyboardShortcuts.register(["t",()=>d.addText(M("7D/4Bg"),{Xc:"shortcut"}),M("WPMnRQ"),["edit"]]);b?.install({type:"simple",key:"text",name:M("zHOe/Q"),Icon:__c.Sz,Dm:{key:"t"},hI:!1,execute:async()=>{c?.close({trigger:"insert"});c?.QK({});d.addText(M("7D/4Bg"),{Xc:"quick_actions"})}})};
Dvs=function(a){const b=a.keyboardShortcuts,c=a.he,d=a.Se,e=a.qc;a.B3h||(b.register(["r",()=>e.Baa(Bvs,"static-rectangle",{Xc:"shortcut"}),M("t4sYiQ"),["edit"]],["c",()=>e.Baa(Cvs,"static-circle",{Xc:"shortcut"}),M("WNgl/w"),["edit"]]),c?.install({type:"simple",key:"circle",name:M("YWLlfw"),Icon:__c.PSj,Dm:{key:"c"},hI:!1,execute:async()=>{d?.close({trigger:"insert"});d?.QK({});await e.Baa(Cvs,"static-circle",{Xc:"quick_actions"})}}),c?.install({type:"simple",key:"rectangle",name:M("cnGpyQ"),aliases:[M("OLOtCg")],
Icon:__c.xSj,Dm:{key:"r"},execute:async()=>{d?.close({trigger:"insert"});d?.QK({});await e.Baa(Bvs,"static-rectangle",{Xc:"quick_actions"})}}))};
Evs=function(a){const b=a.he,c=a.Se,d=a.qc,e=a.U6j?__c.nfr:__c.mfr;a.keyboardShortcuts.register(["s",()=>d.Baa(e,"static-sticky-note",{Xc:"shortcut"}),M("G/kzLg"),["edit"]]);b?.install({type:"simple",key:"sticky-note",name:M("JzZYlg"),aliases:[M("GOfopA"),M("aw0D4Q"),M("VZc9jw")],Icon:__c.hdk,Dm:{key:"s"},hI:!1,execute:async()=>{c?.close({trigger:"insert"});c?.QK({});await d.Baa(__c.mfr,"static-sticky-note",{Xc:"quick_actions"})}})};
Fvs=function(a){const b=a.keyboardShortcuts,c=a.he,d=a.qc;a.B3h||(b.register(["l",()=>d.LSa({},{Xc:"shortcut"}),M("8VCGoA"),["edit"]],["|",()=>d.LSa({PSe:2},{Xc:"shortcut"},{}),M("HdnMAQ"),["edit"]]),c?.install({type:"simple",key:"line",name:M("P9yWmw"),Icon:__c.ddk,Dm:{key:"l"},execute:async()=>{d.LSa({},{Xc:"quick_actions"})}}),c?.install({type:"simple",key:"arrow-line",name:M("RWM/gg"),Icon:__c.fdk,execute:async()=>{d.LSa({Ahb:3},{Xc:"quick_actions"})}}))};
Hvs=function(a){const b=a.session.document,c=a.selection,d=a.Pa,e=a.DQj,f=a.qc,g=a.viewport;if(b.Ka==="fixed"){var h=()=>{const k=c.Ma?.pages??[],l=b.pages.last(n=>k.includes(n));if(l){sa(f.$M!=null);const n=f.$M(l,{Xc:"contextual_menu",location:"canvas"});Promise.resolve().then(()=>g.uE(n))}};e.jc(()=>d.mode>=40&&c.Ma?.type==="pages"&&c.Ma.inner?.type!=="sheet"&&c.Ma.inner?.type!=="sheet-cell-media"&&!Gvs(c.Ma),(k,l)=>{k.zua=l?{Button:hV(n=>fV(n.rl,{label:M("IFfqmQ"),disabled:!f.fOa(1),onClick:h,
Icon:__c.vwf,oa:n.oa,Dm:Pk("Enter")}))}:void 0});e.jc(()=>d.mode>=30&&Gvs(c.Ma),(k,l)=>{const n=()=>{if(Gvs(c.Ma)){var p=c.Ma.inner.container,q=c.Ma.inner.pages.at(-1);q&&f.uyj(p,q,{Xc:"contextual_menu",location:"canvas"})}};k.zDh=l?{Button:p=>fV(p.rl,{label:M("3vzkKw"),disabled:!Gvs(c.Ma)||!f.YWd(c.Ma.inner.container,1),onClick:n,Icon:__c.vwf,oa:p.oa,Dm:Pk(Oo("Enter"))})}:void 0})}};Gvs=function(a){return a?.type==="pages"&&a.inner?.type==="pages"&&a.inner.inner?.type==="background"};
Kvs=function(a,b){const c=a.store.sGj;var d=a.store.smc;if(c&&d){d=d.map(e=>({element:e,box:a.store.jYa==="page"&&a.selection.Ma?.box?Nj(a.selection.Ma?.box):Nj(Oj(e))}));switch(b){case "top":b=Ivs(d.map(({element:e,box:f})=>({element:e,delta:c.t.y-f.t.y})),"y");break;case "middle":b=Ivs(d.map(({element:e,box:f})=>({element:e,delta:c.c.y-f.c.y})),"y");break;case "bottom":b=Ivs(d.map(({element:e,box:f})=>({element:e,delta:c.b.y-f.b.y})),"y");break;case "left":b=Ivs(d.map(({element:e,box:f})=>({element:e,
delta:c.Ub.x-f.Ub.x})),"x");break;case "center":b=Ivs(d.map(({element:e,box:f})=>({element:e,delta:c.c.x-f.c.x})),"x");break;case "right":b=Ivs(d.map(({element:e,box:f})=>({element:e,delta:c.r.x-f.r.x})),"x");break;default:throw new u(b);}Jvs(a,b)}};Ivs=function(a,b){return{targets:Uqs(a.map(({delta:c,element:d})=>[c,d])),axis:b}};Jvs=function(a,b){const c=b.targets;b=b.axis;for(const [d,e]of c)a.Wr.W3a(e).translate(b==="x"?d:0,b==="y"?d:0)};
Lvs=function(a,b){switch(b){case "center":a.alignment="50%";break;case "left":a.alignment="0%";break;case "right":a.alignment="100%";break;default:throw new u(b);}};Mvs=function(a){return a.size===1?a.values().next().value:void 0};
$vs=function(a){var b=a.Ka,c=a.K5;const d=a.selection;var e=a.Jd;const f=a.la,g=new Nvs(a.Pa,d),h=new Ovs(g,c),k={Sd:()=>h.sDl,Button:hV(n=>fV(Pvs,{...n,alignment:g.Dkh})),vv:{sg:()=>M("V/DN5w")},pa:hV(n=>fV(Qvs,{...n,alignment:g.Dkh,NLa:h.NLa}))},l={Sd:()=>h.sDl,Button:hV(n=>fV(Pvs,{...n,alignment:g.Dkh,onClick:h.wnq}))};e.plugins.H2a=()=>f.layout===2?k:l;if(b!=="responsive"){e=a.Wr;const n=a.kd,p=a.P,q=a.Kh;b=a.he;c=a.keyboardShortcuts;const r=new __c.KUi(d,a.hb,a.ue),t=new Rvs(r,e,n,d,p),v=()=>
t.NLa("left","menu"),w=()=>t.NLa("center","menu"),x=()=>t.NLa("right","menu"),y=()=>t.NLa("top","menu"),z=()=>t.NLa("middle","menu"),B=()=>t.NLa("bottom","menu");q&&q.jc(()=>({v2c:r.$Wd,aTg:r.Cdb?.aTg,$Sg:r.Cdb?.$Sg,cTg:r.Cdb?.cTg,dTg:r.Cdb?.dTg,bTg:r.Cdb?.bTg,ZSg:r.Cdb?.ZSg}),(C,{v2c:G,aTg:H,$Sg:K,cTg:L,dTg:N,bTg:P,ZSg:T})=>{!G||H&&K&&L&&N&&P&&T?(C.H2a=void 0,C.JDh=void 0,C.IDh=void 0,C.LDh=void 0,C.MDh=void 0,C.KDh=void 0,C.HDh=void 0):(C.H2a={Button:V=>fV(Svs,{...V,jYa:r.jYa})},C.JDh={Button:V=>
fV(Tvs,{...V,onClick:v,disabled:H})},C.IDh={Button:V=>fV(Uvs,{...V,onClick:w,disabled:K})},C.LDh={Button:V=>fV(Vvs,{...V,onClick:x,disabled:L})},C.MDh={Button:V=>fV(Wvs,{...V,onClick:y,disabled:N})},C.KDh={Button:V=>fV(Xvs,{...V,onClick:z,disabled:P})},C.HDh={Button:V=>fV(Yvs,{...V,onClick:B,disabled:T})})},{equals:nV.shallow});a=oV(()=>r.cxk?void 0:hV(()=>fV(Zvs,{display:"comfortable",$Wc:f.layout===1,NLa:t.NLa,jYa:r.jYa,K_d:r.K_d,F_d:r.F_d,y_d:r.y_d,E_d:r.E_d,z_d:r.z_d,I_d:r.I_d})));b?.ym(()=>r.$Wd&&
!r.Cdb?.dTg,{type:"simple",key:"align-top",name:M("IDKHXA"),rYb:()=>r.jYa?r.jYa==="page"?M("oUIJeA"):M("Vt0K/Q"):M("IDKHXA"),Icon:__c.S5g,execute:async()=>t.NLa("top","quick_actions")});b?.ym(()=>r.$Wd&&!r.Cdb?.bTg,{type:"simple",key:"align-middle",name:M("PcAfBw"),rYb:()=>r.jYa?r.jYa==="page"?M("cvbe3Q"):M("6DJE4g"):M("PcAfBw"),Icon:__c.O5g,execute:async()=>t.NLa("middle","quick_actions")});b?.ym(()=>r.$Wd&&!r.Cdb?.ZSg,{type:"simple",key:"align-bottom",name:M("+olaig"),rYb:()=>r.jYa?r.jYa==="page"?
M("7FSYWw"):M("ubRa0A"):M("+olaig"),Icon:__c.I5g,execute:async()=>t.NLa("bottom","quick_actions")});b?.ym(()=>r.$Wd&&!r.Cdb?.aTg,{type:"simple",key:"align-left",name:M("A2UFbA"),rYb:()=>r.jYa?r.jYa==="page"?M("lBeN7g"):M("aPV1gw"):M("A2UFbA"),Icon:__c.M5g,execute:async()=>t.NLa("left","quick_actions")});b?.ym(()=>r.$Wd&&!r.Cdb?.$Sg,{type:"simple",key:"align-center",name:M("/N5DHw"),rYb:()=>r.jYa?r.jYa==="page"?M("6XfRBw"):M("iutmFw"):M("/N5DHw"),Icon:__c.K5g,execute:async()=>t.NLa("center","quick_actions")});
b?.ym(()=>r.$Wd&&!r.Cdb?.cTg,{type:"simple",key:"align-right",name:M("xJd0CQ"),rYb:()=>r.jYa?r.jYa==="page"?M("sA5UnA"):M("eqyQBw"):M("xJd0CQ"),Icon:__c.Q5g,execute:async()=>t.NLa("right","quick_actions")});c.register([Pk(Oo("j")),()=>t.iPn(),M("74ZxvQ"),["edit"]]);return{aqd:r,XMt:t,pag:a}}};aws=function(a){a.store.ED==="layers"&&a.Scc||(a.Y4e(),a.oG(),a.oYc())};
bws=function(a){const {rl:b,hWh:c,...d}=a;let e;switch(c){case "topic":a=__c.HEi;e=M("OIpCMA");break;case "color":a=__c.Zwh;e=M("fiROpg");break;case "author":a=__c.hfg;e=M("RLWDLA");break;case "reaction":a=__c.kOr;e=M("v++iLQ");break;default:throw new u(c);}return fV(b,{...d,Icon:a,label:e})};cws=function(a,b,c){a=a.width*a.height;b=b.width*b.height;return c>0&&b/a<2&&c/b>=.01};
gws=function(a,b){if(a.rotation===0&&b.rotation===0){var c=Rj(a,b);return c?c.width*c.height:0}a=[a.tl,a.tr,a.br,a.Tn];b=dws([b.tl,b.tr,b.br,b.Tn]);for(c of b){if(a.length<=2)break;a=ews(a,c)}return(c=a.length<=2?null:a)?Math.abs(fws(c)):0};ews=function(a,b){const c=[],d=dws(a);a=a.map(f=>{const [g,h,k]=hws(b);return Math.sign(h*f.x+g*f.y+k)});for(let f=0;f<d.length;f++){var e=d[f];const g=a[f],h=a[f+1]||a[0];g<=0&&c.push(e[0]);g*h<0&&(e=iws(e,b))&&c.push(e)}return c};
fws=function(a){return a.length<3?0:dws(a).reduce((b,[c,d])=>b+(c.x*d.y-d.x*c.y),0)/2};dws=function(a){const b=a.slice();a=a.slice();const c=a.shift();if(c==null)return[];a.push(c);return jws(b,a)};jws=function(a,b){ra(a.length===b.length,"both arrays must have the same length");return a.map((c,d)=>[c,b[d]])};iws=function(a,b){const [c,d,e]=hws(a),[f,g,h]=hws(b);a=c*h-f*e;b=g*e-d*h;const k=d*f-g*c;return k===0||isNaN(k)||isNaN(a)||isNaN(b)?null:new pj(a/k,b/k)};
hws=function(a){const [{x:b,y:c},{x:d,y:e}]=a;return[b-d,e-c,d*c-e*b]};kws=function(a,b){const c=a.Vq(()=>fV(Ck,{tone:"critical",Icon:Xt,dismissible:!0,Rc:d,children:fV(__c.Zj,{message:b})})),d=()=>{c()}};lws=function(a,b,c){b.forEach(d=>{const e=a.Azg.get(d);e&&e.some(f=>f===c)&&a.Azg.set(d,e.filter(f=>f!==c))})};nws=function(a,b,c,d,e){const f=a.get(e,b);if(f)f.update(d,c);else{const g=new mws(e,b.length,c,d);b.forEach(h=>{ij(a.Azg,h,g)})}};
ows=function(a,b){if(b!==a.page)return a.wPd=[],a.Gvh=new WeakMap,!0;if(a.wPd.length<1)return!0;const c=new Set(b.elements.toArray());a.wPd=a.wPd.filter(d=>c.has(d));return a.wPd.some(d=>d.text.Ya!==a.Gvh.get(d))};pws=function(a){return typeof WeakRef!=="undefined"?new WeakRef(a):{deref:()=>a}};sws=function(a,b,c,d){c=c.map(qws);return rws(a,b,c,Math.max(2E3,Math.min(d??5E3,5E3)))};
qws=function(a){let b=tws,c=0,d=tws;var e=0,f=0;const g=[],h=a.fAc.length;if(h<=8){for(f=0;f<h;f++){var k=a.fAc[f],l=k.Ojd;f!==0&&f%2===0&&(c=0,b=d+16);g.push({qEo:k,$4b:b,kdc:c});c+=l.width+16;d=Math.max(d,b+l.height);e=Math.max(e,c)}return{key:a.key,elements:g,width:e,height:d}}for(e=0;e<h;e++)k=a.fAc[e],l=k.Ojd,e!==0&&e%4===0&&(c+=f+16,d=Math.max(d,b),b=tws,f=0),g.push({qEo:k,$4b:b,kdc:c}),b+=l.height+16,f=Math.max(f,l.width),d=Math.max(d,b);return{key:a.key,elements:g,width:c+f,height:d}};
rws=function(a,b,c,d){let e=0,f=0,g=[];const h=[];for(const l of c){e+l.width>d&&g.length!==0&&(e=0,f+=Math.max(...g.map(r=>r.height),0)+80,g=[]);var k=uws(a,l.key);c=b.ZW();k=Fg.qd().Ov("font-size",vws).Xb(wws(k)).build();const n=__c.no.create(xws()),{width:p,height:q}=__c.Xn(c,k,1,n);c=.5*(__c.uWb(vws,n,p,q).Nb().width-p);k={...l,$4b:f,kdc:e,ydt:c};g.push(k);e=e+Math.max(l.width,p+c)+64;h.push(k)}return h};yws=function(a,b){return{topLeftCorner:{top:a.y+b.$4b,left:a.x+b.kdc+b.ydt}}};
uws=function(a,b){switch(a){case "color":return M("H6eBIA");case "author":return b?b:M("QQQgpA");case "topic":return b?b:M("YyGQUQ");case "reaction":return b?J("lo/HDw",[b]):M("NOPhIw");default:throw new u(a);}};xws=function(a="#000000"){return{Lc:[{type:"background",parameters:new Map([["roundness",(.5).toString()],["spread",(.5).toString()],["transparency",(1).toString()],["color",a]])}]}};wws=function(a){a=a.replace(/\r\n|[\r\u2028\u2029]/g,"\n");a.endsWith("\n")||(a+="\n");return a};
zws=function(a,b){const c=b.x,d=b.y;for(const e of a)for(const {qEo:f,kdc:g,$4b:h}of e.elements){a=f.Ojd.left;b=f.Ojd.top;rV(()=>{f.Ojd.left=c+e.kdc+g;f.Ojd.top=d+e.$4b+h});for(const k of f.Oeo){const l=k.left-a,n=k.top-b;rV(()=>{k.left=c+e.kdc+g+l;k.top=d+e.$4b+h+n})}}};
Cws=async function(a,b,c,d){const e=[];for(const g of c){const {top:h,left:k}=yws(d,g).topLeftCorner||{top:0,left:0};c=a;var f=__c.Kpe({page:c.store.Vg.page,hb:c.hb,region:Oj({top:h,left:k,width:g.width,height:tws}).Nb(),$v:Aws,gg:c.gg});c=Bws(f);f=xws(f);(c=await a.qc.addText(uws(b,g.key),{Xc:"arrangement",q9:"none",U0:"default_title",eua:"none"},{type:"v2",attrs:{"font-size":vws,color:c}},{RUf:!0,hl:f},yws(d,g)))&&e.push(c)}a.store.selection.Dhd(a.store.Vg,...e);return e};
Dws=function(a,b){switch(b){case "color":return c=>{if(c=c.paths.first()?.fill){var d=__c.lw(c);return d.length?JSON.stringify(d):c.color}};case "author":return c=>__c.Xj(c).gJb?.text.Ya;case "topic":return()=>{};case "reaction":return async c=>{if(c=await a.K1e.WLe(a.store.Vg.page,c))return c.toString()};default:throw new u(b);}};
Ews=async function(a,b,c){const d=new Map;a=Dws(a,b);for(const e of c){c=await a(e.Ojd);const f=d.get(c);f?f.fAc.push(e):d.set(c,{key:c,fAc:[e]})}return b==="reaction"?[...d.entries()].sort(([e],[f])=>f?e?parseInt(f,10)-parseInt(e,10):1:-1).map(e=>e[1]):Array.from(d.values())};
Hws=async function(a){a.store.state=1;const b=__c.Cb();let c;a.Ga(({onClose:e})=>{c=e;return fV(Fws,{I1r:()=>b.resolve(void 0)})});let d;for(const [e,f]of a.fAc.entries())a.jWj.set(e,f);try{const e=a.store.Okh.map(f=>(f.ed.first()?.text.Ya??"").replace(/\n/g," "));d=await Promise.race([a.K7d().then(f=>f.Dum({WXr:e,z6p:void 0}).then(async g=>g.type!=="SUCCESS"?g:await __c.Qh(async()=>{const h=await f.n2n({wc:g.wc});switch(h.status){case 1:case 2:return h.result;case 3:break;default:throw new u(h.status);
}},500,{...Gws}).result)),b.promise])}catch(e){a.Gph(),a.errorService.ra(e,"Error sorting elements by topic")}finally{c?.()}return d};Iws=function(a,b){b=b.map(d=>a.jWj.get(d)).filter(d=>d!==void 0);const c=new Set(a.store.Lm);return b.filter(d=>c.has(d.Ojd))};Bws=function(a){return Di(Jws,b=>Math.abs(__c.XVa($h(b),$h(a))))};
Lws=function(a,b){const c=b.error,d=b.nYo,e=b.message;switch(c){case 1:case 2:case 3:case 3:a.Ga(()=>fV(Kws,{title:d,message:e}));a.errorService.ra(e,"Error sorting elements by topic");break;case 2:case 4:case 1:kws(a.alert,e);a.errorService.ra(e,"Error sorting elements by topic");break;default:throw new u(c);}};
Tws=function({selection:a,document:b,ya:c,X:d,Kc:e,la:f,qc:g,Ap:h,c_a:k,hb:l,undo:n,toolbar:p,Jd:q,Kh:r,K7d:t,Ra:v,Rj:w,errorService:x,P:y,Ha:z,ma:B,Ga:C,alert:G,pg:H,zf:K,gg:L,K1e:N,jg:P}){const T=new Mws(a,c,d),V=__c.Na(async()=>{if(d){var {Qeq:ua}=await __webpack_require__.me(875664).then(()=>({Qeq:__c.Nws}));return await ua({Rj:w,X:d,Ra:v,la:f,H9g:iV(za=>{const va=iV(()=>{e.w6b=void 0});e.w6b=()=>fV(za,{onClose:va})})})}},{Zva:!0});c=z.Vd("editor.editing.cluster");const W=new Ows(b,T,p,a,g,h,
k,N,l,n,K,L,x,B,y,c,async()=>(await V())?.(),C,G,t,H.qHi),aa=()=>W.Tvc("floating_toolbar"),ba=()=>W.AE("floating_toolbar"),da=()=>W.twc("floating_toolbar"),la=()=>W.l1b("floating_toolbar"),ja={Sd:()=>T.kph,Button:ua=>fV(Pws,{...ua,jg:P}),vv:{sg:()=>M("j0l+TQ")},pa:hV(ua=>fV(Qws,{hY:H.ghj,Tvc:aa,AE:ba,twc:da,l1b:la,oa:ua.oa,la:f,jg:P,qNd:T.qNd}))};q.plugins.Uga=()=>ja;T.tNj=ja;const oa=()=>W.Tvc("menu"),ma=()=>W.AE("menu"),na=()=>W.twc("menu"),qa=()=>W.l1b("menu");r.jc(()=>({kph:T.kph,To:f.layout===
2}),(ua,{kph:za,To:va})=>{if(za){var xa=Ba=>fV(Rws,{...Ba,Tvc:oa,AE:ma,twc:na,l1b:qa,qNd:T.qNd});ua.Uga={Button:Ba=>fV(Sws,{...Ba,onClick:va&&P?()=>Ba.Gg?.$g({hf:xa,options:{sg:()=>M("j0l+TQ")}}):Ba.onClick,jg:P}),pa:xa};ua.EEh={Button:Ba=>fV(bws,{...Ba,hWh:"color",onClick:oa})};ua.DEh={Button:Ba=>fV(bws,{...Ba,hWh:"author",onClick:ma})};ua.GEh=T.qNd?{Button:Ba=>fV(bws,{...Ba,hWh:"topic",onClick:na})}:void 0;ua.FEh={Button:Ba=>fV(bws,{...Ba,hWh:"reaction",onClick:qa})}}else ua.Uga=void 0,ua.EEh=void 0,
ua.DEh=void 0,ua.GEh=void 0,ua.FEh=void 0});return{iWh:W}};Uws=function(a,b){a.container.page.elements.p6a(b,a.elements)};Vws=function(a,b){a.container.page.elements.c0a(b,a.elements)};Wws=function(a,b){const c=b.elements;(a=a.store.Dzg?.last(d=>!c.includes(d)))&&Uws(b,a)};Xws=function(a,b){const c=b.elements;(a=a.store.Dzg?.first(d=>!c.includes(d)))&&Vws(b,a)};
Zws=function(a,b){const c=a.selection.Ma;a.P.track(Yws,{action:b,mE:c&&c.elements?c.elements.map(d=>d.type):void 0,gZr:c&&c.elements?c.elements.length:0,ED:a.store.Ds})};axs=function(a,b){a.P.track($ws,{action:b,mb:"mobile_toolbar"})};
pxs=function({selection:a,viewport:b,hb:c,Hti:d,la:e,P:f,KEk:g,l2:h,Kh:k,pT:l,Wk:n,ya:p,Wl:q,Rt:r,pg:t}){const v=new bxs(p,a,c,g),w=new cxs(v,b,d,e,a,l,k,f),x=P=>fV(q,{...P,vd:dxs,Df:exs}),y=hV(P=>fV(fxs,{...P,hb:c,Z7:r,vd:dxs})),z=P=>__c.tUb(h,P).name,B=hV(({element:P})=>{const T=jV(W=>{w.h3k(W,P)},[P]),V=v.Xe;return V.type!=="fixed-page"?null:fV(gxs,{element:P,lfi:z,page:V,selected:v.Lm.includes(P),Wl:x,onClick:w.T1k,t0a:w.t0a,onMouseEnter:w.Yki,onMouseLeave:w.E$i,onContextMenu:T,hmj:e.layout===
2?hxs:ixs,Tkc:k.Tkc})}),C=hV(()=>{const P=v.Xe;return P.page.type!=="fixed"?null:fV(jxs,{page:P.page,selected:v.mQh,onClick:w.pCi,onMouseEnter:w.Yki,onMouseLeave:w.E$i,onContextMenu:w.h3k,t0a:w.t0a,q1o:y,hmj:e.layout===2?hxs:ixs,Tkc:k.Tkc})}),G=hV(()=>fV(kxs,{onChange:w.Het,Ds:v.Ds}));a=()=>{n?.tO?.(new ap)};const H=oV(()=>v.NZe),K=oV(()=>v.Lm),L=__c.dEe({Tkf:v,Skf:w,pa:P=>fV(B,{element:P.item}),tO:a}),N=__c.dEe({Tkf:v,Skf:w,pa:P=>fV(B,{element:P.item}),tO:a,aTe:"basic"});a=hV(({ev:P})=>fV(lxs,{layout:e.layout,
o1o:C,yup:G,egj:N,gAp:L,ev:P,NZe:H,dzl:w.dzl,Lm:K,Dxi:w.Dxi}));b={Button:P=>{const T=P.onClick,V=jV(()=>{T?.();w.KPn()},[T]);return mV(uV,{children:[fV(mxs,{...P,onClick:V}),t?.Gcg&&fV(t.Gcg,{})]})},vv:{Lla:hV(()=>fV(nxs,{PG:v.wVe,onClick:w.LKo})),sg:hV(()=>fV(oxs,{PG:v.wVe,Lm:v.Lm}))},pa:a,onClose:iV(()=>{w.store.wVe="single";axs(w,"hidden")})};return{Icg:a,kqp:b}};
Jxs=function({selection:a,hb:b,ya:c,la:d,P:e,Ha:f,isDragging:g,keyboardShortcuts:h,Pa:k,viewport:l,Jd:n,Kh:p,he:q,l2:r,pT:t,Wk:v,Wl:w,Rt:x,pg:y}){f=f.Vd("editor.editing.arrangement.layering");const z=new qxs(a,k,d),B=new rxs(z,a,e,f),C=T=>B.Lmc(T,"toolbar");k=hV(()=>fV(sxs,{display:"comfortable",b$r:C,tuq:z.Swg,Rtq:z.Fwg,Bvq:z.Swg,Avq:z.Fwg}));h.register([txs,()=>B.Lmc("forward","shortcut"),M("aTrwIA"),["edit"]],[uxs,()=>B.Lmc("backward","shortcut"),M("dsP+YA"),["edit"]],[vxs,()=>B.Lmc("front","shortcut"),
M("57tYtg"),["edit"]],[wxs,()=>B.Lmc("back","shortcut"),M("UcHnxQ"),["edit"]]);const G=()=>B.Lmc("forward","menu"),H=()=>B.Lmc("front","menu"),K=()=>B.Lmc("backward","menu"),L=()=>B.Lmc("back","menu");p.jc(()=>({kng:z.SO,fPp:z.J9h,TOp:z.I9h}),(T,{kng:V,fPp:W,TOp:aa})=>{!V||W&&aa?(T.WDh=void 0,T.KCc=void 0,T.LCc=void 0,T.oDc=void 0,T.pDc=void 0):(T.WDh={Button:xxs},T.KCc={Button:ba=>fV(yxs,{...ba,onClick:G,Dm:txs,disabled:W})},T.LCc={Button:ba=>fV(zxs,{...ba,onClick:H,Dm:vxs,disabled:W})},T.oDc={Button:ba=>
fV(Axs,{...ba,onClick:K,Dm:uxs,disabled:aa})},T.pDc={Button:ba=>fV(Bxs,{...ba,onClick:L,Dm:wxs,disabled:aa})})},{equals:nV.shallow});q?.ym(()=>z.SO&&!z.I9h,{type:"simple",key:"send-backward",name:M("u+2kVg"),Icon:__c.Cdr,Dm:uxs,execute:async()=>K()},{type:"simple",key:"send-to-back",name:M("t3ZWGw"),Icon:Cxs,Dm:wxs,execute:async()=>L()});q?.ym(()=>z.SO&&!z.J9h,{type:"simple",key:"bring-forward",name:M("Pxfk5A"),Icon:Dxs,Dm:txs,execute:async()=>G()},{type:"simple",key:"bring-to-front",name:M("pbaLlQ"),
Icon:Exs,Dm:vxs,execute:async()=>H()});const {Icg:N,kqp:P}=pxs({selection:a,viewport:l,hb:b,Hti:B,la:d,P:e,KEk:g,Kh:p,l2:r,ya:c,pT:t,Wk:v,Wl:w,Rt:x,pg:y});n.plugins.lra=()=>({Sd:()=>z.o2f,...P});n.plugins.KCc=()=>({Sd:()=>z.o2f,Button:hV(T=>fV(Fxs,{...T,onClick:G,disabled:z.Swg}))});n.plugins.LCc=()=>({Sd:()=>z.o2f,Button:hV(T=>fV(Gxs,{...T,onClick:H,disabled:z.Swg}))});n.plugins.oDc=()=>({Sd:()=>z.o2f,Button:hV(T=>fV(Hxs,{...T,onClick:K,disabled:z.Fwg}))});n.plugins.pDc=()=>({Sd:()=>z.o2f,Button:hV(T=>
fV(Ixs,{...T,onClick:L,disabled:z.Fwg}))});return{Hcg:k,Icg:N}};Nxs=function({selection:a,update:b,getValue:c,hMb:d,GAb:e,label:f}){const g=new Kxs,h=new Lxs(g,a,b);a=hV(()=>{kV(()=>iV(h.onBlur),[]);return fV(Mxs,{value:g.value,disabled:d?.(),nx:c(),focused:g.focused,onChange:h.onChange,onFocus:h.onFocus,onBlur:h.onBlur,label:f,unit:e?.()})});return{store:g,$md:a}};
Oxs=function(a,b,c){const {x:d,y:e}=c(b[0]),f=b.every(h=>hRi(c(h).x,d));b=b.every(h=>hRi(c(h).y,e));const g=tb.direction===2?a.width-d:d;a=a.units;return{x:f?jRi(rg(4,a,g),a):void 0,y:b?jRi(rg(4,a,e),a):void 0}};Pxs=function(a){a=Oj(a);return tb.direction===2?a.tr:a.tl};Sxs=function(a,b){var c=a.selection.Ma;if(c&&c.type==="elements"){var d=c.elements;if(d.length!==0&&d.every(Qxs))return c=a.hb.kl(c.container.page),Oxs(c,d,e=>Rxs(a,e,b))}};
Txs=function(a,b,c){return a.ue.gVa.has(c==="start"?b.start:b.end)};Rxs=function(a,b,c){const {s:d,e}=(new __c.Jn(a.ue,b)).Lja;return c==="start"?d:e};Qxs=function(a){return a.type==="line"};Uxs=function(a,b,c,d){const e=c.elements,f=c.container.page;c=c.box;a.P?.track(__c.pmh,{LIa:e.map(g=>g.type),Xc:d,eF:f.elements.count(),Yb:void 0,mIl:b.x,nIl:b.y,wak:c?.tl.x,xak:c?.tl.y,a0f:c?.width,T_f:c?.height})};
Wxs=function(a,b,c,d,e){let f,g;if(e==null){const h=Vxs[a][d];f=(k,l)=>h*l;g=Vxs[a].small*.5}else f=(h,k)=>{let l=h+k*(e/2+.5);l=Math.round(l/e)*e;return l+(d==="small"?0:e*3*k)-h};switch(c){case "up":return{delta:{x:0,y:f(b.y,-1)},p2i:g};case "down":return{delta:{x:0,y:f(b.y,1)},p2i:g};case "left":return{delta:{x:f(b.x,-1),y:0},p2i:g};case "right":return{delta:{x:f(b.x,1),y:0},p2i:g};default:throw new u(c);}};
Yxs=function(a,b,c,d,e,f){if(a.N){var {x:g,y:h}=e||{},{x:k,y:l}=f||{},{x:n,y:p}=c||{},{x:q,y:r}=d||{};a.N.track(Xxs,{Pqa:g,hvb:h,$pb:k,aqb:l,yls:n,zls:p,Sks:q,Tks:r,units:__c.Dv(__c.Cv(b))})}};
Zxs=function(a,b,c,d,e){var f=a.selection.Ma;if(f&&f.type==="elements"&&c.every(Qxs)&&a.store.vTh){f=a.hb.kl(f.container.page).units;b=Bv(f,b);var g=a.store.v9,h=a.store.H4a;for(const k of c){c=new __c.hZd(k,a.Wr.ue);const {x:l,y:n}=Rxs(a.store,k,d),p=e==="x"?new pj(b,n):new pj(l,b);d==="start"?__c.Jde(c,p):c.setEndPoint(p)}Yxs(a,f,g,h,a.store.v9,a.store.H4a)}};
dys=function({selection:a,hb:b,Wr:c,toolbar:d,Jd:e,nq:f,Gj:g,j2:h,JZ:k,iaa:l,P:n}){const p=new $xs(a,k),{YPn:q,Ruc:r}=new ays(p,a,c,b,g,l,n),t=iV((w,x)=>q(w,x,"keyboard"));h.register(["ArrowUp",()=>t("up","small"),M("B5NX3g"),["edit"]],["ArrowDown",()=>t("down","small"),M("SzdIhw"),["edit"]],["ArrowLeft",()=>t("left","small"),M("qpV6YA"),["edit"]],["ArrowRight",()=>t("right","small"),M("1v1q7g"),["edit"]],[Oo("ArrowUp"),()=>t("up","large"),M("B5NX3g"),["edit"]],[Oo("ArrowDown"),()=>t("down","large"),
M("SzdIhw"),["edit"]],[Oo("ArrowLeft"),()=>t("left","large"),M("qpV6YA"),["edit"]],[Oo("ArrowRight"),()=>t("right","large"),M("1v1q7g"),["edit"]],[Po("ArrowUp"),()=>t("up","small"),M("B5NX3g"),["edit"]],[Po("ArrowDown"),()=>t("down","small"),M("SzdIhw"),["edit"]],[Po("ArrowLeft"),()=>t("left","small"),M("qpV6YA"),["edit"]],[Po("ArrowRight"),()=>t("right","small"),M("1v1q7g"),["edit"]],[Po(Oo("ArrowUp")),()=>t("up","large"),M("B5NX3g"),["edit"]],[Po(Oo("ArrowDown")),()=>t("down","large"),M("SzdIhw"),
["edit"]],[Po(Oo("ArrowLeft")),()=>t("left","large"),M("qpV6YA"),["edit"]],[Po(Oo("ArrowRight")),()=>t("right","large"),M("1v1q7g"),["edit"]]);const v=w=>q(w,"small","nudge");e.plugins.N2a=()=>({Sd:()=>p.$Ij,Button:w=>fV(bys,{...w,Ruc:r}),vv:{sg:()=>M("aYsObw")},pa:w=>fV(cys,{...w,IF:v})});f.controls.FMb(()=>p.wVg);d.BF?.mS(()=>p.wVg)};
eys=function(a,b,c){const d=a.selection.Ma,e=a.store.position,f=d?.box?.Nb();a.N?.track(__c.pmh,{mE:d?.elements?.map(g=>Wj(g)?"sticky_note":g.type),Xc:"position_panel",Yb:void 0,units:__c.Dv(__c.Cv(b)),mIl:c?.x,nIl:c?.y,wak:e?.x,xak:e?.y,a0f:f?.width,T_f:f?.height})};
fys=function(a){if(a&&a.type===1&&a.only){if(a.container.type==="marker"||a.container.type==="section-marker")return sa(a.container.container.type!=="break-item","Page break item cover cannot be directly selected"),{FHc:"body",bVa:__c.as.snapshot(a.only),text:a.container.container.text,ref:a.container.marker};if(a.only.type==="break"&&a.only.marker.Pg.ref)return{FHc:"break",bVa:__c.as.snapshot(a.only.marker.Pg.ref),text:a.container.text,ref:a.only.marker}}};
mys=function(a){const b=a.selection,c=a.Jb,d=a.P,e=a.Jd;var f=a.Kh;const g=new gys(a.qc,b,a.K5,a.Gg,a.pS,a.Pa,a.undo,c,a.zKc,d);f.jc(()=>g.Q_f,(B,C)=>{B.EDc=C?{Button:hV(G=>fV(G.rl,{...G,qg:C==="set"&&c.Td.Gqj?fV(c.Td.Gqj,{}):void 0,Icon:C==="set"?__c.pdr:hys,label:C==="set"?M("R1qqvg"):M("+NqaGw"),onClick:C==="set"?g.r0k:g.u0k}))}:void 0});e.plugins.EDc=()=>({Sd:()=>!!g.Q_f,Button:hV(B=>fV(B.yi,{...B,icon:g.Q_f==="set"?__c.pdr:hys,zh:"icon",tooltip:g.Q_f==="set"?M("R1qqvg"):M("+NqaGw"),onClick:g.Q_f===
"set"?g.r0k:g.u0k}))});if(a.Ka!=="responsive"){var h=a.hb;f=a.Gj;var k=a.Wr,l=a.ue,n=a.toolbar,p=a.nq,q=a.j2,r=a.JZ;a=a.iaa;var t=new iys(b,h),v=new jys(t,b,h,d),w=()=>{var B=b.Ma;if(B&&B.type==="elements")return B=h.kl(B.container.page).units,` ${kys(B)}`},{$md:x}=Nxs({selection:b,update:v.qj,getValue:()=>t.position?.x,hMb:()=>t.ael,GAb:w,label:"X"});({$md:v}=Nxs({selection:b,update:v.Jj,getValue:()=>t.position?.y,hMb:()=>t.ael,GAb:w,label:"Y"}));var {uxd:y,...z}=lys({Gj:f,selection:b,hb:h,Wr:k,
ue:l,GAb:w,P:d});dys({selection:b,hb:h,Gj:f,Wr:k,toolbar:n,Jd:e,nq:p,j2:q,JZ:r,iaa:a,P:d});return{uxd:y,...z,nuj:x,ouj:v}}};
lys=function({Gj:a,selection:b,hb:c,Wr:d,ue:e,GAb:f,P:g}){const h=new nys(b,c,e);a=new oys(a,h,b,c,d,g);({$md:c}=Nxs({selection:b,update:a.GGs,getValue:()=>h.v9?.x,hMb:()=>h.lIl,GAb:f,label:M("uiBQMQ")}));({$md:d}=Nxs({selection:b,update:a.HGs,getValue:()=>h.v9?.y,hMb:()=>h.lIl,GAb:f,label:M("/qrYnA")}));({$md:e}=Nxs({selection:b,update:a.EGs,getValue:()=>h.H4a?.x,hMb:()=>h.vak,GAb:f,label:M("cYMiqw")}));({$md:b}=Nxs({selection:b,update:a.FGs,getValue:()=>h.H4a?.y,hMb:()=>h.vak,GAb:f,label:M("B+Mtdg")}));
return{uxd:a,trj:c,urj:d,Ujj:e,Vjj:b}};pys=function(a,b){return tb.direction!==2||a.store.Q8d?Dj():__c.Kj(b.c,oj(b.rotation),!0,!1)};qys=function(a,b,c){const {horizontal:d,vertical:e}=__c.Qde(a.Yba,[b]);return c==="x"&&!!d||c==="y"&&!!e};rys=function(a,b,c,d,e){var f=a.store.size;const g=f?.width;f=f?.height;const h=a.selection.Ma;a.N.track(__c.mMh,{mE:b.map(k=>k.type),Xc:a.store.Q8d?"keyboard":"position_panel",YOb:d,htb:e,kEg:g,RSm:f,Dhm:a.store.KVd,x:h?.box?.Nb().left,y:h?.box?.Nb().top,units:__c.Dv(__c.Cv(c))})};
sys=function(a){return __c.Vbg(a===3||a===2?"bottom":tb.direction===2?"left":"right",a)};tys=function(a,b,c){if(a?.mhd)switch(a.mhd.type){case "table":c=a.mhd.d6i;a=a.mhd.rows;b?.p3e?.(c.table,c.container,a,"contextual_menu");break;case "sheet":b=a.mhd.sheet;a=a.mhd.rows;c?.p3e(b,a.map(d=>d));break;default:throw new u(a.mhd);}};
uys=function(a,b,c){if(a?.w3c)switch(a.w3c.type){case "table":c=a.w3c.d6i;a=a.w3c.columns;b?.iYf?.(c.ia,c.container,a,"contextual_menu");break;case "sheet":b=a.w3c.sheet;a=a.w3c.columns;c?.iYf(b,a.map(d=>d));break;default:throw new u(a.w3c);}};vys=function(a,b,c){if(a?.nhd)switch(a.nhd.type){case "table":c=a.nhd.d6i;a=a.nhd.rows;b?.s3e?.(c,"row",a,"contextual_menu");break;case "sheet":b=a.nhd.sheet;a=a.nhd.rows;c?.WSi(b,a.map(d=>d));break;default:throw new u(a.nhd);}};
wys=function(a,b,c){if(a?.x3c)switch(a.x3c.type){case "table":c=a.x3c.d6i;a=a.x3c.columns;b?.s3e?.(c,"column",a,"contextual_menu");break;case "sheet":b=a.x3c.sheet;a=a.x3c.columns;c?.phe(b,a.map(d=>d));break;default:throw new u(a.x3c);}};
xys=function(a){switch(a.type){case "controlled":case "rect":case "shape":case "separator":case "layout":case "table":case "chart":case "embed":return a;case "design":if(a.Nx.ref?.type==="sticky-scroll")break;return a;case "sheet":case "break":case "pill":break;default:throw new u(a);}};
yys=function(a,b,c){if(b.size>0&&c.size===0)return{mhd:b.size>1?{type:"sheet",sheet:a,rows:b}:void 0,nhd:{type:"sheet",sheet:a,rows:b}};if(c.size>0&&b.size===0)return{w3c:c.size>1?{type:"sheet",sheet:a,columns:c}:void 0,x3c:{type:"sheet",sheet:a,columns:c}}};
Fys=function(a){const b=a.selection;var c=a.P,d=a.QRa;const e=a.hj,f=new zys(a.Pa,b),g=new Ays(f,c,e);if(a.Ka!=="responsive"){const q=a.hb,r=a.Yba,t=a.Wc,v=a.qeb,w=a.Gj,x=a.viewport,y=a.uxd;var h=a.nq;var k=a.j2;var l=a.toolbar;const z=()=>{var N=b.Ma;if(N&&N.type==="elements")return N=q.kl(N.container.page).units,` ${kys(N)}`},{store:B,$md:C}=Nxs({selection:b,update:(N,P)=>L.resizeTo(N,P,"y"),getValue:()=>K.ecn,hMb:()=>!K.fcn,GAb:z,label:M("ve8EdA")}),{store:G,$md:H}=Nxs({selection:b,update:(N,P)=>
L.resizeTo(N,P,"x"),getValue:()=>K.SYo,hMb:()=>!K.TYo,GAb:z,label:M("nImjeQ")}),K=new Bys(f,b,q,r,B,G),L=new Cys(K,g,b,t,r,d,e,q,v,c,w,x,y);c=hV(()=>fV(Dys,{label:M("hCgNKA"),KVd:K.KVd,Zkf:K.Zkf,kCi:L.kCi}));d=(N,P)=>iV(()=>L.U8r(N,P));k.register([Pk("ArrowLeft"),d("left","small"),M("ISKsQA"),["edit"]],[Pk("ArrowRight"),d("right","small"),M("pjnYvA"),["edit"]],[Pk("ArrowUp"),d("up","small"),M("MuydoQ"),["edit"]],[Pk("ArrowDown"),d("down","small"),M("liTRpQ"),["edit"]],[Pk(Oo("ArrowLeft")),d("left",
"large"),M("ISKsQA"),["edit"]],[Pk(Oo("ArrowRight")),d("right","large"),M("pjnYvA"),["edit"]],[Pk(Oo("ArrowUp")),d("up","large"),M("MuydoQ"),["edit"]],[Pk(Oo("ArrowDown")),d("down","large"),M("liTRpQ"),["edit"]]);h.controls.FMb(()=>K.Q8d);l.BF?.mS(()=>K.Q8d);h=K;k=L;l={guj:H,llj:C,Gmj:c}}const n=h||f,p=k||g;a.Kh.jc(()=>n.L2b,(q,r)=>{const t={Button:hV(w=>fV(w.rl,{...w,Icon:__c.Odr,label:M("g/5NUQ"),onClick:p.oHi}))},v={Button:hV(w=>fV(w.rl,{...w,Icon:__c.Kdr,label:M("h7cPEw"),onClick:p.mHi}))};q.X_c=
r?.mhd?.type==="sheet"?t:void 0;q.f0c=r?.mhd?.type==="table"?t:void 0;q.W_c=r?.w3c?.type==="sheet"?v:void 0;q.e0c=r?.w3c?.type==="table"?v:void 0;if(r?.nhd){const w=r.nhd.rows.size;q.CDc={Button:hV(x=>fV(x.rl,{Icon:__c.Mdr,label:J("2SUQmA",[w]),onClick:p.pHi,oa:x.oa}))}}else q.CDc=void 0;if(r?.x3c){const w=r.x3c.columns.size;q.BDc={Button:hV(x=>fV(x.rl,{Icon:__c.Idr,label:J("U4i6zQ",[w]),onClick:p.nHi,oa:x.oa}))}}else q.BDc=void 0;if(r?.item){const w=r.item;q.FDc={Button:hV(x=>fV(x.rl,{...x,Icon:w.width===
"100cqw"?Eys:__c.XXn,label:w.width==="100cqw"?M("8zQa7Q"):M("oAhr9A"),onClick:g.Xvh}))}}else q.FDc=void 0});return l||{}};Hys=function(a,b,c,d){const {width:e,height:f,left:g,top:h}=a.selection.Ma?.box?.Nb()||{};a.N.track(Gys,{mE:c,mb:d,width:e,height:f,x:g,y:h,rotation:a.store.rotation,h$k:b||0})};
Kys=function({selection:a,Swa:b,j2:c,toolbar:d,nq:e,JZ:f,P:g}){const h=new Iys(a,f),k=new Jys(h,b,a,g);({$md:a}=Nxs({selection:a,update:k.YKs,getValue:()=>h.rotation,hMb:()=>h.disabled,GAb:()=>"\u00b0",label:M("00WB4Q")}));b=(l,n)=>iV(()=>k.V8r(l,n));__c.Ro(c,[Po(","),b("left","small"),M("jthlfA"),["edit"]],[Po("."),b("right","small"),M("oazzMw"),["edit"]],[Po(Oo(",")),b("left","large"),M("jthlfA"),["edit"]],[Po(Oo(".")),b("right","large"),M("oazzMw"),["edit"]]);e.controls.FMb(()=>h.XVg);d.BF?.mS(()=>
h.XVg);return{Zpj:a}};
Rys=function(a,b){var c=b==="vertical"?Lys:Mys,d=b==="vertical"?Nys:Oys,e=b==="vertical"?Pys:Qys;a=a.map(k=>({element:k,box:Nj(Oj(k))})).slice();const f=a.sort(c)[0],g=a.sort(d).slice(-1)[0];c=a.filter(k=>k!==f&&k!==g).sort(e);d=b==="vertical"?f.box.b.y:f.box.r.x;e=b==="vertical"?g.box.t.y:g.box.Ub.x;const h=c.reduce((k,{box:l})=>k+(b==="vertical"?l.height:l.width),0);a=a.reduce((k,{box:l})=>k+(b==="vertical"?l.height:l.width),0);f===g&&h<d-e&&([d,e]=[e,d]);return{spacing:(e-d-h)/(c.length+1),eJe:d,
Cti:e,first:f,middle:c,last:g,TLo:h,L8i:a}};Lys=function(a,b){a=a.box.tl;b=b.box.tl;const c=a.y-b.y;return Sys(c)?a.x-b.x:c};Nys=function(a,b){a=a.box.br;b=b.box.br;const c=a.y-b.y;return Sys(c)?a.x-b.y:c};Pys=function(a,b){return a.box.c.y-b.box.c.y};Mys=function(a,b){a=a.box.tl;b=b.box.tl;const c=a.x-b.x;return Sys(c)?a.y-b.y:c};Oys=function(a,b){a=a.box.br;b=b.box.br;const c=a.x-b.x;return Sys(c)?a.y-b.y:c};Qys=function(a,b){return a.box.c.x-b.box.c.x};Sys=function(a){return Math.abs(a)<1E-4};
Tys=function(a,b,c,d){const e=c==="left"?d-b.left:0;c=c==="top"?d-b.top:0;a.Wr.W3a([b]).translate(e,c);return Oj(b)};
Xys=function({selection:a,Wr:b,aqd:c,keyboardShortcuts:d,P:e,TGe:f}){const g=new __c.OUi(c,f),h=new __c.NUi(g,b,a,e),k=()=>h.F8g("menu");a={Button:hV(n=>fV(Uys,{...n,type:g.params?.type,onClick:k,disabled:g.LRe,Dm:Vys}))};const l=()=>h.F8g("toolbar");b=hV(()=>g.params?.type!=null?fV(Wys,{type:g.params.type,onClick:l,disabled:g.LRe}):null);d.register([Vys,()=>!g.LRe&&h.F8g("shortcut"),M("WLw+ig"),["edit"]]);return{zct:a,Fsj:b,Dct:g}};
fzs=function({selection:a,Wr:b,aqd:c,la:d,keyboardShortcuts:e,P:f,Jd:g,Kh:h,TGe:k}){const l=new Yys(c),n=new Zys(l,b,a,f),{zct:p,Fsj:q,Dct:r}=Xys({selection:a,Wr:b,aqd:c,keyboardShortcuts:e,P:f,TGe:k}),t=()=>n.UYe("vertical","menu"),v=()=>n.UYe("horizontal","menu");h&&h.jc(y=>({M0p:y?.type==="elements"&&y.Ri()&&!l.Lki,LRe:r.LRe,zAr:l.dlh?.XIk,swr:l.dlh?.xFk}),(y,{M0p:z,LRe:B,zAr:C,swr:G})=>{!z||B&&C&&G?(y.Z_c=void 0,y.pJh=void 0,y.XIh=void 0,y.WIh=void 0):(y.Z_c={Button:hV(H=>fV($ys,{...H,Cct:r.params?.type}))},
y.pJh=p,y.XIh={Button:H=>fV(azs,{...H,onClick:t,disabled:C})},y.WIh={Button:H=>fV(bzs,{...H,onClick:v,disabled:G})})},{equals:nV.shallow});const w=y=>n.UYe(y,"toolbar"),x=oV(()=>l.Lki?void 0:hV(()=>fV(czs,{display:"comfortable",$Wc:d.layout===1,UYe:w,svq:l.dlh?.xFk,tvq:l.dlh?.XIk,Fsj:q})));g.plugins.Z_c=()=>({Sd:()=>d.layout===2&&!l.Lki,Button:y=>fV(dzs,{...y}),vv:{sg:()=>M("8xqoHg")},pa:()=>fV(ezs,{kse:x.get()})});return{kse:x}};
jzs=function(a,b,c,d,e){var f=c[b];const g=d.get(c[a]),h=d.get(f),k=e==="x"||e==="y"?c.filter((r,t)=>{if(t===a||t===b)r=!1;else{r=d.get(r);const [v,w]=gzs(g,h,e);r=e==="x"?r.Ub.x>v.Ub.x&&r.r.x<w.r.x:r.t.y>v.t.y&&r.b.y<w.b.y}return r}):[],{pAi:l,rAi:n,oAi:p}=(()=>{switch(e){case "grid":return{pAi:new pj(h.tl.x,h.tl.y),rAi:new pj(g.tl.x,g.tl.y),oAi:[]};case "diagonal-two-element":return hzs(g,h);case "x":case "y":return izs(g,h,k.map(r=>d.get(r)),e);default:throw new u(e);}})();f=(r,t)=>{r=d.get(r);
return Oj({top:t.y,left:t.x,width:r.width,height:r.height})};const q=new Map;for(let r=0;r<c.length;r++){const t=c[r];if(r===a){q.set(t,f(t,l));continue}if(r===b){q.set(t,f(t,n));continue}const v=k.indexOf(t);v!==-1?q.set(t,f(t,p[v])):q.set(t,d.get(t))}return q};gzs=function(a,b,c){return a.tl[c]<b.tl[c]?[a,b]:[b,a]};
izs=function(a,b,c,d){const [e,f]=gzs(a,b,d);a=e===a?"forwards":"backwards";b=new pj(d==="x"?f.tl.x-e.tl.x:0,d==="y"?f.tl.y-e.tl.y:0);const g=new pj(d==="x"?f.width-e.width:0,d==="y"?f.height-e.height:0);d=f.translate(d==="x"?e.tl.x-f.tl.x:0,d==="y"?e.tl.y-f.tl.y:0);b=wj(b,g);b=e.translate(b.x,b.y);c=c.map(h=>h.translate(g.x,g.y));return a==="backwards"?{pAi:new pj(d.tl.x,d.tl.y),rAi:new pj(b.tl.x,b.tl.y),oAi:c.map(h=>new pj(h.tl.x,h.tl.y))}:{pAi:new pj(b.tl.x,b.tl.y),rAi:new pj(d.tl.x,d.tl.y),oAi:c.map(h=>
new pj(h.tl.x,h.tl.y))}};hzs=function(a,b){const [c,d]=gzs(a,b,"y");a=c===a?"down":"up";let e;(c.Ub.x===Math.min(c.Ub.x,d.Ub.x)?"main":"anti")==="main"?(b=new pj(d.br.x-c.width,d.br.y-c.height),e=new pj(c.tl.x,c.tl.y)):(b=new pj(d.Tn.x,d.Tn.y-c.height),e=new pj(c.tr.x-d.width,c.tr.y));return{pAi:a==="down"?b:e,rAi:a==="down"?e:b,oAi:[]}};
kzs=function(a){const b=Sj(0,[Oj(a.elements[0])]);return a.elements.map(c=>{c=Sj(0,[Oj(c)]);return`${c.width},${c.height},${c.rotation},`+`${Math.round((c.tl.x-b.tl.x)*1E5)/1E5},${Math.round((c.tl.y-b.tl.y)*1E5)/1E5}`}).join("|")};
nzs=function(a){var b;if(b=a.length!==1){a:{for(b=0;b<a.length-1;b++)if(!(Math.abs(a[b].c.x-a[b+1].c.x)<.5&&Math.abs(a[b].c.y-a[b+1].c.y)<.5)){b=!1;break a}b=!0}b=!b}if(b){a:{b=new Set;var c=new Set,d=new Set;for(var e=0;e<a.length;e++){var f=a[e];const g=Math.round(f.Ub.x);f=Math.round(f.t.y);const h=`${g}/${f}`;if(b.has(h)){b=!1;break a}b.add(h);c.add(g);d.add(f);if(c.size*d.size>a.length){b=!1;break a}}b=c.size<=1||d.size<=1||c.size*d.size<a.length?!1:!0}if(b)return"grid";b=lzs(a,"x");c=lzs(a,
"y");d=b?mzs(a,"x"):void 0;e=c?mzs(a,"y"):void 0;b=d!=null||e!=null?a.length!==2&&(d!=null&&e!=null||e==null&&d!==0&&b&&b[0]-b[1]===0||d==null&&e!==0&&c&&c[0]-c[1]===0)?"grid":d!=null&&e!=null?Math.abs(d)<Math.abs(e)?"x":"y":d!=null?"x":"y":void 0;!(c=a.length!==2)&&(c=b!=null&&b!=="grid")&&(c=a[0],a=a[1],d=Sj(0,[c,a]),c=!(b==="x"?d.height>Math.max(c.height,a.height):d.width>Math.max(c.width,a.width)));return c?b:"diagonal-two-element"}};
lzs=function(a,b){let c=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const d of a)if(a=b==="x"?[d.t.y,d.b.y]:[d.Ub.x,d.r.x],c=[Math.max(c[0],a[0]),Math.min(c[1],a[1])],c[0]>c[1])return;return c};mzs=function(a,b){a=b==="x"?[...a].sort(ozs):[...a].sort(pzs);let c=0;for(let f=0;f<a.length-1;f++){var d=a[f],e=a[f+1];d=b==="x"?e.tl.x-d.tr.x:e.tl.y-d.Tn.y;d<0&&(c+=d)}return c};ozs=function(a,b){return a.tl.x-b.tl.x};pzs=function(a,b){return a.tl.y-b.tl.y};
rzs=function(a,b){if(Sj(0,a).GH(b))return b=qzs(a,b),a.indexOf(b)};qzs=function(a,b){return a.reduce((c,d)=>{const e=tj(d.c,b);return e<c.distance?{box:d,distance:e}:c},{box:a[0],distance:Infinity}).box};szs=function(a,b){a=a.store.geb;return a!=null&&a.vxc!==b};
wzs=function(a,b,c,d){var e=a.Kle;if(e==null)d();else{a.store.Kia=d;e=tzs([...e.elements],c);a.o4=a.o4??a.undo.startBuffering();try{const f=new Map(e.map(n=>[n,new uzs(Oj(n))]));a.store.nXn=e;a.store.ZHd=f;const g=f.get(b).zhg.c,h=e.indexOf(b);if(h===-1)throw Error();const k=a.Wok(a.store.cJi,g),l=vzs(a,h,k??h,e,c);a.setState({key:k,QRb:c,vxc:b,Z2g:l});a.store.Oqg.set(a.store.geb.key,l);a.coe(g)}catch(f){d(),a.MM()}}};
vzs=function(a,b,c,d,e){const f=a.store.ZHd;return nd(a.J8p(b,c,d,a.store.Rks,e),(g,h)=>{h=f.get(h);g=g.tl;const k=h.container.tl;h=h.zhg.Nb();return Oj({...h,left:h.left+(g.x-k.x),top:h.top+(g.y-k.y)})})};xzs=function(a,b,c,d){d-=b.left;c-=b.top;a.Wr.W3a([b]).translate(d,c)};
tzs=function(a,b){const c=yzs();if(b==="grid"){const e=Math.max(...a.map(f=>{f=c(f);return f.left+f.width}));return a.sort((f,g)=>{f=c(f);g=c(g);return f.left+Math.round(f.top)*e-(g.left+Math.round(g.top)*e)})}const d=b==="x"||b==="diagonal-two-element"?"left":"top";return a.sort((e,f)=>e[d]-f[d])};yzs=function(){const a=new Map;return b=>{if(a.has(b))return a.get(b);const c=Sj(0,[Oj(b)]).Nb();a.set(b,c);return c}};
zzs=function(a){switch(a.type){case "rect":return a.fill.video.ref!=null?"video":a.fill.image.ref!=null?"image":"color";case "group":return"group";case "grid":return"grid";case "text":return"text";case "shape":return"shape";case "table":return"table";case "chart":return"chart";default:return"other"}};Azs=function(){return fV("div",{className:"VV_aEQ QsnBig"})};
Bzs=function(a,b){if(a.hb.i_(b,d=>d?.u1d||d?.e0j))return!1;const c=a.haa.page===b&&a.haa.targets.some(d=>d.type==="dgz-x"||d.type==="dgz-y");return a.Uh.OZd.has(b)||c};Czs=function(a,b){return b.uh&&b.DU&&a.hb.i_(b.ya,c=>!c?.u1d)};Dzs=function(a){const b=[{mime:"text/plain",type:"text"},{mime:"text/html",type:"html"},{mime:"application/x-canva",type:"proto"}];let c=null;for(const d of b)if(a.getData(d.mime).length>0){c=d.type;break}return c};
Ezs=function(a){let b;a.cells.LA===1&&a.cells.Pra<=1&&a.forEach({item:c=>{b=c}});return b};Fzs=function(a){const b=[];a.cells.Pra===1&&a.forEach({item:c=>b.push(c)});return b};Gzs=function(a){const b=[];Fzs(a).forEach(c=>{c.type==="rect"&&(c.fill.image||c.fill.video)&&b.push(c)});return b};
Hzs=function(a){switch(a.Sh.type){case "date":return{content:{...__c.sYc,value:__c.vyb(__c.zm(a.Sh.date))},Cb:{...__c.HYc}};case "mention":return{content:{...__c.xYc,value:[{text:a.Sh.text,user:a.Sh.user,brand:a.Sh.brand}]},Cb:{...__c.IYc}};case "select":return{content:{...__c.vYc,value:a.Sh.text},Cb:{...__c.JYc,options:a.Sh.options.map(b=>({label:b.label,fill:b.fill}))}};case "embed":return{content:{...__c.yYc,value:[{embed:{text:a.Sh.text,url:a.Sh.url}}]}};default:throw new u(a.Sh);}};
Jzs=function(a){const b=[];a.forEach(c=>{(c.fill.image||c.fill.video)&&b.push({fill:c.fill,Cw:void 0})});return b.length>0?{content:{...__c.wYc,value:b}}:{content:{...__c.vYc,value:a.map(c=>`<${Izs(c.type)}>`).join("\n")}}};
Kzs=function(a){switch(a.type){case "pill":return Hzs(a);case "rect":return Jzs([a]);case "embed":return{content:{...__c.yYc,value:[{embed:{text:a.altText?a.altText.text:a.url,url:a.url}}]}};case "controlled":case "table":case "shape":case "break":case "design":case "layout":case "sheet":case "chart":case "separator":return{content:{...__c.AYc,value:Qk.qd().Xb(`<${Izs(a.type)}>`).Xb("\n").build()}};default:throw new u(a);}};
Izs=function(a){switch(a){case "controlled":return console.warn("Controlled items are currently not supported. Call site:","richtext3ToSheetCell itemTypeToText"),"";case "rect":return M("Po4g+Q");case "shape":return M("3KoYQg");case "break":return M("vRuadQ");case "separator":return M("9Ah64A");case "embed":return M("blnNUw");case "pill":return M("sYyvAw");case "chart":return M("db+1ng");case "design":return M("rLM0FQ");case "layout":return M("3ljN7A");case "table":return M("SsLNlA");case "sheet":return M("j7viPg");
default:throw new u(a);}};Lzs=async function(a,b,c){b.forEach(d=>{d.content.text.setAttributes(de(Be.Nf,()=>{}));d.content.text.Ywa(a.content.text.cells.Ya());let e=0;a.content.text.forEach({...ae,Ya:(f,g)=>{f=f.length;d.content.text.setAttributes(g,{index:e,length:f});e+=f}})});c.ob().addEvent("content_added")};
Mzs=function(a,b){const c=b.St.rows.length;b=b.St.cols.length;const d=c*b;return c>a.Pub?(a.ma.Ib({Db:M("5Jz/og")}),!1):b>a.Oub?(a.ma.Ib({Db:M("V4HzaA")}),!1):d>a.Vje?(a.ma.Ib({Db:M("DD0OAw")}),!1):!0};
Nzs=function(a,b,c,d){b.layout.cells.forEach((e,f)=>{if(e.content.ref?.type==="formula"){e=e.content.ref.value;switch(e.type){case "canonical":sa(e.Hf.length===0);e=e.Ora;break;case "invalid":e=e.pUc;break;default:throw new u(e);}e=e.trim().slice(1);var g=__c.Gde(a.sE,{type:0,Ora:e})??{type:1,gna:e};c&&(g=a.Nma.CVd(b,g,{Pt:-c.$2b,xT:-c.uVb}));d.Ew(h=>{h.faa(b,{row:f.$b,column:f.ec},__c.Vge(g.gna))})}})};
Ozs=function(a,b,c,d,e,f){let g;const h=a.selection.Ma;if(h?.inner?.type==="sheet"){const k=h.type==="elements"?h.inner.sheet.config:h.inner.page.sheet,l=a.hj?.Y2i(b.config,c,k,h.inner.cells.map(n=>n),d,e,f);l&&h.type==="elements"&&f?.NWc&&a.fd?.Ew(n=>{for(const p of l)n.setAttributes(k,{row:p.row,column:p.column},{UK:f.NWc})});if(!l?.length)return;switch(h.type){case "elements":a.selection.L7a(h.inner.container,l[0],l[0],l);g=h.inner.sheet;break;case "pages":a.selection.u1a(h.inner.container,l[0],
l[0],l);break;case "audio":break;default:throw new u(h);}}else{e=h?.Fp||a.viewport.Vg.page;if(hf(e)||e.type==="responsive"||!Mzs(a,b.config))return;const k=e.elements.append(b);sa(k.type==="sheet");g=k;f?.NWc&&a.fd?.Ew(l=>{k.config.layout.cells.forEach((n,p)=>{l.setAttributes(k.config,{row:p.$b,column:p.ec},{UK:f.NWc})})});a.fd&&Nzs(a,g.config,c,a.fd)}d.ob().addEvent("content_added");return g};
Pzs=function(a,b,c,d,e,f,g,h){const k=a.hj?.Y2i(b.config,e,c.sheet.config,d,f,g,h);k&&h?.NWc&&a.fd?.Ew(l=>{for(const n of k)l.setAttributes(c.sheet.config,{row:n.row,column:n.column},{UK:h.NWc})});k?.length&&(__c.xv(a.selection,c,k[0],k[0],k),f.ob().addEvent("content_added"))};
Qzs=function(a,b,c,d,e,f){var g=a.selection.Kb;if(g?.type===4)Pzs(a,b,g.container,g.cells.map(k=>k),c,d,e,f);else if(g?.type===0&&g.container.type==="sheet-item-cell-richtext"){g=g.container.container;const k={row:g.row,column:g.column};a.mZ.iCb?.();Pzs(a,b,g.container,[k],c,d,e,f)}else if(Mzs(a,b.config)){var h=a.Za.jOc(b);h&&(sa(h.item.type==="sheet"),f?.NWc&&a.fd?.Ew(k=>{sa(h.item.type==="sheet");h.item.config.layout.cells.forEach((l,n)=>{sa(h.item.type==="sheet");k.setAttributes(h.item.config,
{row:n.$b,column:n.ec},{UK:f.NWc})})}),a.fd&&Nzs(a,h.item.config,c,a.fd))}};Rzs=function(a,b){const c=__c.fOc.domain.cells.qd();b.forEach((d,e)=>c.add({top:e,left:0,bottom:e,right:0},{...ws,content:{...__c.vYc,value:d}}));a=__c.Eje({kb:a.kb,i0b:1,j0b:b.length,...kId});return{...a,St:{...a.St,cells:c.build()}}};
Szs=async function(a,b,c,d,e){var f=a.selection.Ma;const g=a.selection.Kb;if(Sl(b).ok)return a.vEc(Kv(b),c);if(f?.inner?.type==="table")a={...vs,content:{...us,text:Fg.I6(`${b}\n`)}},await Lzs(a,f.inner.cells,c);else if(f?.inner?.type==="sheet"){const h=f.type==="elements"?f.inner.sheet.config:f.inner.page.sheet,k=f.inner.cells;f=b.split("\n").filter(l=>l.length>0);if(f.length>1){f=Rzs(a,f);f={...PYc,top:0,left:0,width:f.St.cols.reduce((n,p)=>n+p.width,0),height:f.St.rows.reduce((n,p)=>n+p.height,
0),id:a.kb.Af.generate(),config:f};const l=xMb.create(f);a.fd?.Ew(n=>{l.config.layout.cells.forEach((p,q)=>{p=__c.DSc.snapshot(p).content;sa(p?.type==="plaintext");n.RIa(l.config,{row:q.$b,column:q.ec},p.value)})});f=xMb.snapshot(l);Ozs(a,f,void 0,c,d,e)}else a.fd?.Ew(l=>{k.forEach(n=>{l.RIa(h,n,b)})}),c.ob().addEvent("content_added")}else if(g?.type===4){const h=g.container.sheet.config,k=g.cells;f=b.split("\n");if(f.length>1){f=Rzs(a,f);f={...hZc,id:a.kb.Ci.generate(),config:f};const l=aVc.create(f);
a.fd?.Ew(n=>{l.config.layout.cells.forEach((p,q)=>{p=__c.XUc.snapshot(p).content;sa(p?.type==="plaintext");n.RIa(l.config,{row:q.$b,column:q.ec},p.value)})});f=aVc.snapshot(l);Qzs(a,f,void 0,c,d,e)}else a.fd?.Ew(l=>{k.forEach(n=>{l.RIa(h,n,b)})}),c.ob().addEvent("content_added")}else g!=null?a.Za.lcc(Qk.qd().attrs(a.w8q()).Xb(b).build()):await a.qc.addText(b.replace(/\t/g," "),{Xc:"paste",span:c}),c.ob().addEvent("content_added")};
Tzs=async function(a,b,c){const d=a.selection.Ma;if(d?.inner?.type==="table")await Lzs({...vs,content:{...us,text:b}},d.inner.cells,c);else{var e=b.cells.Ya();if(Sl(e).ok)return a.vEc(Kv(e),c);if(d?.inner?.type==="sheet"){const f=d.type==="elements"?d.inner.sheet.config:d.inner.page.sheet,g=d.inner.cells,h=b.attrs.attributes["font-size"],k=b.attrs.attributes["font-family"];a.fd?.Ew(l=>{g.forEach(n=>{var p=Fg.create(b);l.KEb(f,n,p);p={};h&&h.size!==0||(p.fontSize=kId.fontSize);k&&k.size!==0||!a.wq.HV||
(p.fontFamily=a.wq.HV);Object.keys(p).length>0&&l.setAttributes(f,n,p)})})}else await a.qc.addText(e.replace(/\t/g," "),{Xc:"paste",span:c});c.ob().addEvent("content_added")}};Vzs=function(a,b,c){const d=a.selection.Kb;if(d?.type===4){const f=b.cells.Ya();if(Sl(f).ok)a.vEc(Kv(f),c);else{var e=Uzs(b).content;a.fd?.Ew(g=>{d.cells.forEach(h=>{g.JEb(d.container.sheet.config,h,e)})});c.ob().addEvent("content_added")}}else return a=a.Za.lcc(b),c.ob().addEvent("content_added"),a};
Wzs=function(a,b){if(!a.FPc||!a.FPc(b.media))return b.filter?{...b,filter:void 0}:b};Xzs=function(a,b){if(!a.FPc||!a.FPc(b.video))return b};
$zs=async function(a,b,c,d){if(b.gj.size>0){const h=new Yzs(__c.Lza(b.gj));c.pages&&(c.pages=c.pages.map(k=>h.p9b(k)));c.elements&&(c.elements=h.zHc(c.elements));c.rG&&(c.rG=c.rG.map(k=>h.WYd(k)));d.ob().addEvent("text_styles_inlined")}if(b.ka==="")return{L7b:!0,...c};b=new __c.a5e({yJ:b.ka,extension:b.Of});const e=__c.Df(c);let f;try{f=await a.lq.CY(e,{type:"document",ref:b})}catch{f=!1}d.ob().addEvent("resources_loaded");const g=new Zzs(a.x4q(),a.y4q(),f?void 0:h=>!a.pHf(h));c.pages&&(c.pages=c.pages.map(h=>
g.p9b(h)));c.tracks&&(c.tracks=c.tracks.map(h=>g.hRj(h)));c.fh&&(c.fh=c.fh.map(h=>g.fCa(h)));c.elements&&(c.elements=g.zHc(c.elements));c.rG&&(c.rG=c.rG.map(h=>g.WYd(h)));d.ob().addEvent("resources_normalized");return{L7b:f,...c}};aAs=function(a){const b=$r.snapshot(a);return a.type==="line"?{...b,...Oj(a).Nb()}:a.type==="chart"?(a=a.Juc.get(),a==null?b:{...b,data:a}):b};
bAs=function(a,b,c){const d=new Map;for(const e of b){b=a.layout.cells.get(e.row,e.column);if(b?.ref.content.ref?.type!=="formula")continue;const f=c?.getContent(a,b.span.$b,b.span.ec);f&&d.set(`${b.span.ec.id}:${b.span.$b.id}`,f?.hU)}return d};
cAs=function(a,b,c,d,e){const f=new Map,g=new Map,h=new Map,k=new Set,l=new Set,n=[],p=[];let q,r,t=1;for(const w of d){d=c.kL(w.row);q=q!=null?Math.min(q,d):d;d=c.zL(w.column);r=r!=null?Math.min(r,d):d;d=c.layout.cells.get(w.row,w.column);const x=d?.span||{$b:w.row,ec:w.column,df:w.row,jf:w.column},y=xk(x.ec,x.jf,c.layout.cols),z=xk(x.$b,x.df,c.layout.rows),B=`C${t++}`;var v=d?.ref?.content.ref;let C=v?e(v):void 0;if(v?.type==="formula")switch(sa(C?.type==="formula"),v.value.type){case "invalid":break;
case "canonical":v=__c.Z8q(b,c,v.value);v=b.Cme(c,v);if(v.type!=="canonical")throw Error();C={...C,value:{...__c.qYc,Ora:v.Ora,Hf:[]}};break;default:throw new u(v.value);}g.set(B,{...ws,content:C,Cb:d?.ref?.Cb.ref?__c.PNc.snapshot(d?.ref.Cb.ref):void 0});h.set(`${x.ec.id}:${x.$b.id}`,c.layout.attrs.get(Ee.ht,x.$b,x.ec)||{});for(const G of y){k.has(G.id)||(k.add(G.id),n.push(__c.ZNc.snapshot(G)));for(const H of z)l.has(H.id)||(l.add(H.id),p.push(__c.YNc.snapshot(H))),f.set(`${G.id}:${H.id}`,B)}}return{sheet:{St:__c.Dje(a.domain.cells,
{rra:g,UDc:f,cols:n,rows:p,_attributes:h}),z8:[],direction:c.direction,Or:new Map,GV:__c.jId,Isa:!1,view:__c.NYc},metadata:{$2b:q??0,uVb:r??0}}};
dAs=function(a,b,c){return(d,e)=>{const f=c?.getContent(a.config,e.$b,e.ec),g=a.config.layout.attrs.get(Ee.ht,e.$b,e.ec)||{};var h=__c.QUb(g.textAlign,d?.type,f?.Cb?.type),k={...__c.EUf(g),"text-align":h};h={...vs,content:{...us,text:Fg.qd().attrs(k).Xb("\n").build()}};if(!f)return h;k=Fg.S2i().attrs(k);switch(d?.type){case void 0:case "embed":case "number":case "boolean":case "plaintext":case "media":case "mention":var l=k.Xb(f.hU+"\n").build();break;case "formula":d=`${e.ec.id}:${e.$b.id}`;(d=b?.WJe.get(d))&&
(l=k.Xb(d+"\n").build());break;case "text2":l=Fg.snapshot(d.value);l=k.append(l).build();break;default:throw new u(d);}return l?{...vs,content:{...us,text:Fg.eyb(l)},fill:{...ks,color:g?.n1}}:h}};
eAs=function(a,b,c){return(d,e)=>{const f=a.config.layout.attrs.get(Ee.ht,e.$b,e.ec)||{};var g=__c.QUb(f.textAlign,d?.type);g={...__c.CA(f),textAlign:g};let h;d?.type==="formula"?(d=`${e.ec.id}:${e.$b.id}`,(d=b?.WJe.get(d))&&(h=Qk.qd().attrs(g).Xb(d+"\n").build())):d&&(h=c(a.config,d,e));return h?{...vs,content:{text:h},fill:{...ks,color:f?.n1}}:{...vs,content:{...us,text:Qk.qd().attrs(g).Xb("\n").build()}}}};gAs=function(a){if(a)return[...a.entries()].map(([b,c])=>new fAs({...c,selection:b.slice(1)}))};
kAs=function(a,{aspectRatio:b,jo:c,yb:d}){return new hAs({aspectRatio:b&&new iAs(b),jo:c&&new jAs(c),yb:d&&a.i0f(d)})};pAs=function(a){return new lAs({osa:a.osa.filter(sb).map(b=>new mAs({boundingBox:new nAs({left:b.boundingBox.Vmb,top:b.boundingBox.Xmb,width:b.boundingBox.width,height:b.boundingBox.height}),hca:new oAs({Fd:b.hca.Fd,C7:b.hca.C7.filter(sb),bcd:b.hca.bcd})}))})};
FAs=function(a){return __c.ud(a.map(b=>{switch(b.type){case "inpainting":return new qAs({...b,mask:rAs(b.mask)});case "prompt_inpainting":var c=rAs(b.mask);a:{var d=b.Akb;switch(d){case "normal":d=1;break a;case "color_harmonized":d=2;break a;case "phoenix":d=3;break a;default:throw new u(d);}}return new sAs({...b,mask:c,Akb:d});case "text_breakout_inpainting":return new tAs({Kn:b.Kn});case "bg_remover":return new uAs(b);case "erase_restore":return new vAs({...b,mask:new wAs(b.mask)});case "prompt_editing":return new xAs({...b,
mask:b.mask?rAs(b.mask):void 0});case "outpainting":return new yAs({...b});case "segmentation_bg_remover":return new zAs({mask:rAs(b.mask)});case "image_merge":return new AAs({...b,w6a:new BAs({...b.w6a,nC:b.w6a.nC&&new CAs({...b.w6a.nC})})});case "bg_generation":return new DAs(b);case "style_transfer":return new EAs(b);default:throw new u(b);}}))};IAs=function(a){return __c.ud(a.map(b=>new GAs({mask:rAs(b.mask),Qi:b.Qi&&new HAs(b.Qi),OL:b.OL&&gAs(b.OL)||[]})))};
rAs=function(a){switch(a.type){case "mask_selection":return new wAs(a);case "segmentation_mask":const {points:c,IMa:d,...e}=a;a=__c.wxf(__c.ud(c));a:switch(d){case "standard":var b=1;break a;case "more":b=2;break a;default:throw new u(d);}return new JAs({...e,points:a,IMa:b});case "adaptive_brush_mask":return new KAs(a);case "foreground_mask":return new LAs({region:2});case "background_mask":return new LAs({region:1});default:throw new u(a);}};
MAs=function(a,{aspectRatio:b,jo:c,yb:d}){return{aspectRatio:b&&{...b},jo:c&&{...c},yb:d&&a.rsf(d)}};NAs=function(a){return a?.length?new Map(a.map(b=>[`#${b.selection}`,b])):__c.cA.OL};OAs=function(a){return{osa:a.osa.map(b=>{const c=b.boundingBox;return{boundingBox:{...c,Vmb:c.left,Xmb:c.top},hca:{...b.hca}}})}};
QAs=function(a){return a.map(b=>{switch(b.type){case "INPAINTING":return{...b,type:"inpainting",mask:PAs(b.mask)};case "PROMPT_INPAINTING":var c=PAs(b.mask);a:{var d=b.Akb;switch(d){case 1:d="normal";break a;case 2:d="color_harmonized";break a;case 3:d="phoenix";break a;default:throw new u(d);}}return{...b,type:"prompt_inpainting",mask:c,Akb:d};case "TEXT_BREAKOUT_INPAINTING":return{type:"text_breakout_inpainting",Kn:b.Kn};case "BG_REMOVER":return{...b,type:"bg_remover"};case "ERASE_RESTORE":return{type:"erase_restore",
mask:{...b.mask,type:"mask_selection"}};case "PROMPT_EDITING":return{...b,type:"prompt_editing",mask:b.mask?PAs(b.mask):void 0};case "OUTPAINTING":return{...b,type:"outpainting"};case "SEGMENTATION_BG_REMOVER":return{type:"segmentation_bg_remover",mask:PAs(b.mask)};case "IMAGE_MERGE":return{...b,Ig:b.BBi,type:"image_merge"};case "BG_GENERATION":return{...b,type:"bg_generation"};case "STYLE_TRANSFER":return{...b,type:"style_transfer"};default:throw new u(b);}})};
RAs=function(a){return a.map(b=>({mask:PAs(b.mask),Qi:b.Qi&&{...b.Qi},OL:b.OL&&NAs(b.OL)}))};
PAs=function(a){switch(a.type){case "MASK_SELECTION":return{...a,type:"mask_selection"};case "SEGMENTATION_MASK":var b=a.wWa,c=a.points?__c.uxf(a.points.xs,a.points.ys):[];a:{var d=a.IMa;switch(d){case 1:d="standard";break a;case 2:d="more";break a;default:throw new u(d);}}return{...a,type:"segmentation_mask",wWa:b,points:c,IMa:d};case "ADAPTIVE_BRUSH_MASK":return{...a,type:"adaptive_brush_mask"};case "FGBG_MASK":return{type:a.region===1?"background_mask":"foreground_mask"};default:throw new u(a);
}};UAs=function(a,b,c){const d=[],e=[];b.forEach(g=>{const h=a.DN?.XHe(g.image.ref);h&&d.push(h);e.push(Wg.N5(Pn.snapshot(g)))});const f=SAs(d);b={contentType:"page_backgrounds",C0b:b.length};return{qVb:new TAs({...c,fh:e,fill:e[0],ofe:f}),Nye:b}};
VAs=function(a,b,c,d,e){const {sheet:f,metadata:g}=cAs(__c.mBa,a.sE,c,b,k=>__c.CSc.snapshot(k)),h=[...b].sort((k,l)=>c.layout.rows.dj(k.row,l.row)||c.layout.cols.dj(k.column,l.column))[0];d=wj(d,new pj(c.yd(h.column),c.ld(h.row)));a=a.fd?bAs(c,b,a.fd):new Map;return{sheet:{...PYc,id:e,config:f,top:d.y,left:d.x,width:f.St.cols.reduce((k,l)=>k+l.width,0),height:f.St.rows.reduce((k,l)=>k+l.height,0)},metadata:{...g,WJe:a}}};
WAs=async function(a,b,c){var d=a.selection.Ma,e=d&&d.type==="pages"?d:void 0;d=!0;let f=b.fh.map(h=>qqs(a.vpb,Wg.vY(h)));c.ob().addEvent("proto_deserialized");a.session!==b.session&&({L7b:d,fh:f}=await $zs(a.hEb,b,{fh:f},c));c.ob().addEvent("content_normalized");const g=a.viewport.Vg;a.Lk.Yu&&g.type==="fixed-page"?(e=__c.JRd(a.od,g.page.Hc,a.timing.fH),a.MX.DBn(f,e,b.width,b.height)):a.MX.jCn(f[0],b.width,b.height,e);c.ob().addEvent("content_added");return d};
XAs=async function(a,b,c){if(!a.sq.QLj({GOl:b.tracks.length}))return c.abort(),!1;let d=b.tracks.map(f=>__c.Xce(a.vpb,Wg.X1h(f)));c.ob().addEvent("proto_deserialized");let e=!0;b.session!==a.session&&({L7b:e,tracks:d}=await $zs(a.hEb,b,{tracks:d},c));c.ob().addEvent("content_normalized");rV(()=>{var f=__c.Ei(d,h=>h.startUs??0).startUs??0;const g=a.sq.Ahi()-f;d=d.reduce((h,k)=>{const l=(k.startUs??0)+g;l<=a.sq.xUe&&h.push({...k,startUs:l});return h},[]);f=a.vGa.document.audio.tracks.vfa(void 0,d);
c.ob().addEvent("content_added");__c.ode(a.selection,f)});return e};
$As=function(a,b,c,d,e){b=YAs(b,{width:d,height:e,units:4},a.hb.kl(c.page),a.viewport.ey().transform(a.viewport.hm(c)),ZAs(a,c));d=__c.Ei(b,h=>Math.min(...Oj(h).Ah().map(k=>k.y)));const f=Oj(d);d=h=>c.page.elements.some(k=>{k=Oj(k);const l=f.transform(Ej(h,h));return k.approximatelyEquals(l)});let g=0;for(;d(g);)g+=__c.uk;if(a.Lk.Yu){d=a.timing.fH;e=__c.Ei(b,k=>k.startUs??0).startUs??0;const h=d-e;b=b.map(k=>{const l=(k.startUs??0)+h;let n;n=k.durationUs!=null?k.durationUs:k.type!=="rect"&&k.type!==
"layout"||k.fill.video==null?5E6:a.od.aYb(k.fill.video)||5E6;return{...k,startUs:l,durationUs:n}})}return b.map(h=>__c.On(h,Ej(g,g)))};ZAs=function(a,b){const c=a.BYa.store.B1;if(c?.page===b.page)return a.viewport.hm(b).transformPoint(c.position)};
YAs=function(a,b,c,d,e){if(!a.length)return[];const f=Sj(0,a.map(Oj));b=ug(b)?f:Oj({left:0,top:0,...sg(4,b)});const g=!ug(c),h=g?Oj({left:0,top:0,...sg(4,c)}):void 0;c=f;!h||h.approximatelyEquals(b)||h.tD(f)||(c=__c.cde(f.transform(Hj(f.tl,h.tl)),h.tl,h));g?h&&!Rj(c,d)&&(d=Rj(h,d)??d,c=c.transform(Hj(c.c,d.c))):c=c.transform(e?Hj(c.c,e):Hj(c.c,d.c));const k=Dj().then(Hj(f.tl,c.tl)).then(__c.Jj(c.tl,c.width/f.width));return a.map(l=>__c.On(l,k))};SAs=function(a){return a.map(b=>new aBs({value:b&&bBs.serialize(b)}))};
cBs=function(a){switch(a){case "solid":return yfe([]);case "dotted":return yfe([1,1]);case "dashed":return yfe([3,1]);default:throw new u(a);}};dBs=function(a){const b=[];a.cells.Pra===1&&a.forEach({item:c=>b.push(c)});return b};eBs=function(a){return a<=0?"solid":a===1?"dotted":"dashed"};fBs=function(a,b,c){const d=eV.element("td");(a=c?.getContent(a,b.row,b.column))&&d.setContent(a.hU);return d};
gBs=function(a,b){const c=new Map;for(const {row:d,column:e}of b)(b=__c.gde(__c.lId,a,e,d))&&c.set(`${e.id}:${d.id}`,b);return c};hBs=function(a){const b=new Map;for(const c of a.layout.rows)for(const d of a.layout.cols){const e=__c.gde(__c.lId,a,d,c);e&&b.set(`${d.id}:${c.id}`,e)}return b};
iBs=function(a){if(a.gif){var b=a.gif.transform();if(b.cells.Ya().trim().length!==0){var c=__c.BQb(a.Vi,b,1,"em-square"),d=__c.Nn(c,a.container.width);c.destroy();b={...__c.zs,id:a.kb.Af.generate(),top:a.Moc,left:0,width:d.width,height:d.height,text:b,no:1,zv:1,Sf:{oi:d.oi}};a.elements.push(b);a.Moc+=d.height}}};vV=function(a){a.zba==null||a.Wnn(a.zba)||a.dOa("\n")};
jBs=function(a,b,c){const d={},e=()=>{wV(Bts(c,a),h=>{d["font-size"]=h});var g=Ots(c,a);wV(g?g*1E3:void 0,h=>{d.leading=h});g=Sts(c,a);wV(g?g*1E3:void 0,h=>{d.tracking=h});wV(Its(c,a),h=>{d["text-transform"]=h});g=Kts(c,a);wV(g,h=>{d.direction=h});wV(Dts(c,a,g),h=>{d["text-align"]=h});g=Ets(a);wV(g,h=>{d["list-level"]=h});wV(g?g*1700:void 0,h=>{d["head-indent"]=h});wV(Fts(a),h=>{h!=="checked"&&h!=="unchecked"&&(d["list-marker"]=h)});wV(Tts(a),h=>{d.semantics=h})},f=()=>{wV(Cts(c,a),g=>{d["font-weight"]=
g});wV(Gts(c,a),g=>{d["font-style"]=g});wV(uts(c,a),g=>{d.color=g});wV(Hts(c,a),g=>{d.decoration=g});wV(Jts(c,a),g=>{d.strikethrough=g});wV(brs(a),g=>{d.link=g})};switch(b){case "block":e();f();break;case "inline":f();break;default:throw new u(b);}return d};wV=function(a,b){a!=null&&b(a)};kBs=function(a){a.Qgb&&(a.$Ya.push(a.Qgb),a.Qgb=void 0)};lBs=function(a){return a==="decimal"||a==="lower-alpha"||a==="lower-roman"?"ol":"ul"};
nBs=function(a,b,c){return b.map(d=>{switch(d.type){case "TEXT":d=Fg.VJ.deserialize(d.text);const h=eV.element("div");(new mBs(d)).transform().forEach(q=>{h.appendChild(q)});return h;case "GROUP":const k=eV.element("div");nBs(a,d.pb).forEach(q=>k.appendChild(q));return k;case "TABLE":return d=Wg.yCe(d),Qqs(a.SRa,d,q=>{const r=eV.element("td");(new mBs(q)).transform().forEach(t=>r.appendChild(t));return r});case "SHEET":d=__c.oBa(Wg,d);const l=xMb.create(d),n=c?.sheets[d.id];d=n?n.cells?gBs(n.sheet,
n.cells):hBs(n.sheet):hBs(l.config);return(new oBs(l.config,(q,r)=>{switch(q.type){case "text2":const t=eV.element("td");r=Fg.snapshot(q.value);(new mBs(r)).transform().forEach(w=>t.appendChild(w));return t;default:q=n?.sheet||l.config;const v=m(q.Z2b(r.row.id));r=m(q.tVb(r.column.id));return fBs(q,{row:v,column:r},a.fd)}},d)).transform();case "SHAPE":if(!d.ed.length)break;var e=__c.Dn.create(Wg.BIc(d)),f=m(e.ed.first());d=f.text.Ya.trim();if(!d)break;e=Wj(e)?e.ed.next(f)?.text.Ya.trim()??"":"";if(!e)return e=
eV.element("p"),e.setContent(d),e;f=eV.element("table");var g=f.appendChild(eV.element("tr"));const p=g.appendChild(eV.element("td"));g=g.appendChild(eV.element("td"));p.setContent(d);g.setContent(e);return f;case "EMBED":case "RECT":case "CHART":case "GRID":case "LAYOUT":case "LINE":case "CONTROLLED":break;default:throw new u(d);}}).filter(sb)};
pBs=function(a,b,c){return b.map(d=>{switch(d.type){case "TEXT":return Fg.VJ.deserialize(d.text).cells.Ya().trim();case "GROUP":return pBs(a,d.pb);case "TABLE":return d=Wg.yCe(d),Pqs(a.SRa,d);case "SHEET":d=__c.oBa(Wg,d);var e=xMb.create(d);const f=c?.sheets[d.id]?.sheet||e.config;return a.Wuh.serialize(d.config,h=>h(f));case "SHAPE":if(!d.ed.length)break;e=__c.Dn.create(Wg.BIc(d));const g=m(e.ed.first());d=g.text.Ya.trim();if(!d)break;e=Wj(e)?e.ed.next(g)?.text.Ya.trim()??"":"";return d+(e?` \u2014 ${e}`:
"");case "EMBED":case "RECT":case "CHART":case "GRID":case "LAYOUT":case "LINE":case "CONTROLLED":break;default:throw new u(d);}}).filter(sb).join("\n")};
sBs=function(a,b){const c=a.grid.Bw;var d=b.map(l=>qBs(l,c));const e=rBs(d.map(l=>l.gridColumnStart)),f=rBs(d.map(l=>l.gridRowStart));var g=a.grid.gridTemplateColumns.filter((l,n)=>e.includes(n+1));d=a.grid.gridTemplateRows.filter((l,n)=>f.includes(n+1));g=g.map(l=>parseFloat(l));const h=Math.min(...g),k=h<1?1/h:1;g=g.map(l=>`${l*k}fr`);return{Sp:a.Sp,grid:{gridTemplateColumns:g,gridTemplateRows:d,columnGap:a.grid.columnGap,rowGap:a.grid.rowGap,Bw:new Map(b.map(l=>{const n=qBs(l,c),p=e.indexOf(n.gridColumnStart)+
1,q=f.indexOf(n.gridRowStart)+1;__c.ta(n.gridColumnStart+1,n.gridColumnEnd);__c.ta(n.gridRowStart+1,n.gridRowEnd);return[l,{...__c.ln,alignSelf:n.alignSelf,padding:n.padding,gridColumnStart:p.toString(),gridColumnEnd:(p+1).toString(),gridRowStart:q.toString(),gridRowEnd:(q+1).toString()}]}))}}};
qBs=function(a,b){a=b.get(a);b=c=>{c=parseInt(c??"1",10);sa(!isNaN(c),"Invalid placement position");return isNaN(c)?1:c};return{alignSelf:a?.alignSelf,padding:a?.padding??__c.mYc,gridColumnStart:b(a?.gridColumnStart),gridRowStart:b(a?.gridRowStart),gridColumnEnd:b(a?.gridColumnEnd),gridRowEnd:b(a?.gridRowEnd)}};
vBs=function(a,b,c,d,e){const f=[];b.forEach({item:n=>{f.push(tBs(n));if(n.type==="sheet"&&!c.has(n.id)){var p=aVc.create(n);p=a.fd?bAs(p.config,p.config.layout.cells.map((q,r)=>({row:r.$b,column:r.ec})),a.fd):new Map;c.set(n.id,{$2b:0,uVb:0,WJe:p})}}});var g=__c.DNr(a.Za),h=a.DN&&g?__c.CGf(a.DN,[...g.items.values()]):[];g?.disconnect();g=h.map(n=>new aBs({value:n&&bBs.serialize(n)}));const {media:k,Dc:l}=__c.Df({rG:[b]});h={contentType:"richtext3",C0b:f.length,mE:f.join(", "),GE:[...k.map(n=>n.id),
...l]};b=Wg.S7a(b);return{qVb:new uBs({...e,Sc:b,ofe:g,Gzc:c}),Nye:h,JGc:d}};yBs=function(a,b,c,d,e,f,g,h,k){b.type==="table"?a.mC.oyi(d,e,f,b,!0,"clipboard"):b.type==="sheet"?(c=c!=null?h?.get(c):void 0,b=wBs(a,b,c),a.mC.oyi(d,e,f,b,!0,"clipboard")):xBs(a,b,g,k)};
ABs=function(a,b,c,d,e,f,g,h){c=c!=null?e?.get(c):void 0;b.type==="sheet"?Qzs(a.JYa,b,c,f,g,h):b.type==="table"?(b=(new zBs(a.kb,k=>Uzs(a.JS.config.sLg(k)),__c.pAa,k=>{if(!a.fd)return k;const l=__c.$Uc.create(k);a.fd.Ew(n=>{l.layout.cells.forEach((p,q)=>{p.content.ref&&p.content.ref.type==="text3"&&n.Khc(l,{column:q.ec,row:q.$b},p.content.ref.value)})});return __c.$Uc.snapshot(l)},b)).transform(),b={...hZc,id:a.kb.Ci.generate(),config:b},Qzs(a.JYa,b,c,f,g,h)):xBs(a,b,d,f)};
xBs=function(a,b,c,d){b=BBs(a,b);const e=Qk.qd();for(f of b)e.append(f);var f=Qk.eyb(e.build());CBs(a,f.slice(0,f.length-1),c,d)};CBs=function(a,b,c,d){const e=a.selection.Ma?.type==="pages"&&a.selection.Ma.Pd?.type==="responsive"?a.selection.Ma.Pd:void 0;e&&a.Za.qv(e.text,Gw.end());(b=Vzs(a.JYa,b,d)?.CPj())&&b.items.size>0&&a.DN?.ani([...b.items],c);b?.disconnect()};EBs=function(a,b,c){return DBs(a)&&!c.marker.Pg.ref&&b.width==="100cqw"};
BBs=function(a,b){switch(b.type){case "table":return[...b.cells.values()].filter(({content:{text:d}})=>d.cells.Pra>1||d.cells.LA>0).map(d=>d.content.text);case "sheet":const c=aVc.create(b);return c.config.layout.cells.map((d,e)=>d.content.ref?FBs(a,c.config,d.content.ref,e):void 0).filter(sb);case "layout":return[...b.cells.values()].filter(({text:d})=>d.cells.Pra>1||d.cells.LA>0).map(d=>d.text);default:throw new u(b);}};
FBs=function(a,b,c,d){var e=he(Ee,b.layout.attrs.get(Ee.ht,d.$b,d.ec)||{});const f=a.fd?.getContent(b,d.$b,d.ec);b=__c.QUb(e.textAlign,c.type,f?.Cb?.type,f?()=>f.NC.type:void 0);e={...__c.CA(e),textAlign:b};b=f?.hU;if(d=f?.Cb)switch(d.type){case "date":if(c.type==="number"&&(d=__c.wyb(c.value)))return Qk.qd().attrs(e).item(GBs(d,b,a.vGa.document.language)).Xb("\n").build();break;case "select":if(b)return Qk.qd().attrs(e).item(HBs(b,d.options)).Xb("\n").build()}switch(c.type){case "number":case "formula":case "boolean":case "plaintext":return b&&
b.length>0?Qk.qd().attrs(e).Xb(`${b}\n`).build():void 0;case "media":if(c.value.count()===0)break;const g=Qk.qd().attrs(e);c.value.forEach(l=>g.item(IBs(l)));return g.Xb("\n").build();case "mention":if(c.value.count()===0)break;const h=Qk.qd().attrs(e);c.value.forEach(l=>h.item({...__c.nZc,Sh:{type:"mention",...l}}));return h.Xb("\n").build();case "embed":if(c.value.count()===0)break;const k=Qk.qd().attrs(e);c.value.forEach(l=>k.item({...__c.nZc,Sh:{type:"embed",...l.embed}}));return k.Xb("\n").build();
case "text3":return a=Qk.snapshot(c.value),a.cells.Pra>1||a.cells.LA>0?Qk.qd().attrs(e).append(a).build():void 0;default:throw new u(c);}};wBs=function(a,b,c){b=aVc.create(b);c=(new JBs(eAs(b,c,(d,e,f)=>FBs(a,d,e,f)),b.config)).transform();return{...__c.gZc,...c}};
DBs=function(a){const b=a.selection.Kb;if(!b||b.container.type!=="body"&&b.container.type!=="responsive-page")return!1;switch(b.type){case 0:return a.Za.$oa(b.container.text,b.range,Gw.start()).intersects;case 1:return!!b.only&&!a.Za.oWd(b.container.text,b.only);default:return!1}};
KBs=function(a,b,c){switch(b.type){case "controlled":case "rect":case "chart":case "design":case "embed":case "pill":case "break":case "separator":case "sheet":return b;case "shape":throw new __c.vv;case "table":return{...b,cells:nd(b.cells,d=>({...d,content:{...d.content,text:a.lZf(d.content.text,c)}}))};case "layout":return{...b,cells:nd(b.cells,d=>({...d,text:a.lZf(d.text,c)}))};default:throw new u(b);}};LBs=function(a){let b;a.cells.LA===1&&a.cells.Pra===0&&a.forEach({item:c=>{b=c}});return b};
MBs=function(a){const b=[];a.cells.Pra===0&&a.forEach({item:c=>b.push(c)});return b};tBs=function(a){switch(a.type){case "pill":return`${a.Sh.type}_${a.type}`.toLowerCase();default:return a.type.toLowerCase()}};IBs=function(a){const {width:b,height:c}=m(a.Cw||a.fill.image.ref?.yb||a.fill.video.ref?.yb);return{...__c.eZc,gb:b,Wb:c,fill:Pn.snapshot(a.fill)}};
GBs=function(a,b,c){return{...__c.nZc,Sh:{type:"date",text:b??a.toString(),date:{day:a.getUTCDate(),month:(a.getUTCMonth()+1)%12,year:a.getUTCFullYear()},language:c??"en",style:2}}};HBs=function(a,b){let c="0";b=b.map((d,e)=>{d.label===a&&(c=e.toString());return{id:e,label:d.label,fill:{...ks,color:d.fill.color}}});return{...__c.nZc,Sh:{type:"select",text:a,options:b,DD:c}}};
PBs=function(a,b,c){const d=Pb("cf27dcb6",!1),e=Pb("73c869d2",!1),f={},g=()=>{var k=Kts(c,a);xV(k,l=>{f.direction=l});xV(Dts(c,a,k),l=>{f.textAlign=l});xV(Ets(a),l=>{f.Mk=l});xV(Fts(a),l=>{f.Dk=l});xV(Ots(c,a),l=>{f.lineHeight=l});k=NBs(a,k);xV(k,l=>{f.marginInlineStart=l});xV(OBs(a,k),l=>{f.textIndent=l});xV(Tts(a),l=>{e&&(f.FEa=l)})},h=()=>{xV(Bts(c,a),k=>{if(!d||a.tagName!=="SUB"&&a.tagName!=="SUP")f.fontSize=k});xV(Cts(c,a),k=>{f.fontWeight=k});xV(Gts(c,a),k=>{f.fontStyle=k});xV(uts(c,a),k=>{f.color=
k});xV(rts(c,a),k=>{k!=="#ffffff"&&(f.backgroundColor=k,f.Dra=__c.S7f.Dra,f.Cra=__c.S7f.Cra)});xV(Hts(c,a),k=>{f.decoration=k});xV(Jts(c,a),k=>{f.rv=k});xV(brs(a),k=>{f.link=k});xV(Sts(c,a),k=>{f.letterSpacing=k});xV(Uts(c,a),k=>{if(d)switch(k){case "super":f.verticalAlign=__c.XA.verticalAlign;f.VK=__c.XA.VK;break;case "sub":f.verticalAlign=__c.Bvg.verticalAlign;f.VK=__c.Bvg.VK;break;default:throw new u(k);}})};switch(b){case "block":g();h();break;case "inline":h();break;default:throw new u(b);}return f};
OBs=function(a,b){a=vts(tV(a.style.textIndent));b=a!=null&&a>0?24+((b||0)===0?8:0):0;return b>0?b:void 0};NBs=function(a,b){b=b==="rtl"?a.style.marginRight:a.style.marginLeft;return(a=vts(tV(a.style.marginInlineStart||b)))?ers(a):void 0};xV=function(a,b){a!=null&&b(a)};
QBs=function(a,b){const {width:c,height:d}=Di(a.files,g=>g.width);sa(c>0&&d>0);const e=Lj(0,0,c,d).Nb();let f;b?f="100%":b=a.type===2?"50%":c<d?"50%":"100%";return{...__c.eZc,width:b,maxWidth:f,fill:{...ks,image:{...__c.js,media:{id:a.id,version:a.version},yb:e}},gb:void 0,Wb:void 0}};SBs=function(a,b){return Qqs(a.SRa,b,c=>{const d=eV.element("td");(new RBs(c,a.fd,a.SRa)).transform().forEach(e=>d.appendChild(e));return d})};
TBs=function(a,b){const c=aVc.create(b),d=a.JGc?.sheets[b.id];b=d?d.cells?gBs(d.sheet,d.cells):hBs(d.sheet):hBs(c.config);return(new oBs(c.config,(e,f)=>{switch(e.type){case "text3":return f=Qk.snapshot(e.value),f=(new RBs(f,a.fd,a.SRa)).transform(),e=eV.element("td"),e.setContent(f.join("")),e;default:e=d?.sheet||c.config;const g=m(e.Z2b(f.row.id));f=m(e.tVb(f.column.id));return fBs(e,{row:g,column:f},a.fd)}},b)).transform()};
VBs=function(a,b){const c=eV.element("table"),d=eV.element("tr");c.appendChild(d);c.setStyle("padding-block-start",`${b.padding.ld}px`);c.setStyle("padding-block-end",`${b.padding.je}px`);b.fill.color&&c.setStyle("background-color",b.fill.color);b.cells.forEach(e=>{e=UBs(a,e);d.appendChild(e)});return c};UBs=function(a,b){const c=eV.element("td");(new RBs(b.text,a.fd,a.SRa)).transform().forEach(d=>c.appendChild(d));b.fill.color&&c.setStyle("background-color",b.fill.color);return c};
WBs=function(a){return a==="decimal"||a==="lower-alpha"||a==="lower-roman"?"ol":"ul"};YBs=function(a,b,c,d,e){const f=new Wts(b.getElementsByTagName("style"));e=new XBs(()=>({...a.szd(),...d}),{m_d:g=>a.m_d(g,c),l_d:g=>a.l_d(g,f,c)},f,a.kb,c,()=>bB,e,a.Wa?.A2c,a.LGl);return ars(b,e).transform()};
$Bs=function({zPr:a,kQr:b,eXs:c,sXs:d,tXs:e,pma:f,ma:g,la:h,Kc:k}){const l=iV(()=>k.sv=void 0),n=iV(()=>k.sv=()=>fV(__c.Hxr,{closeDialog:l})),p=iV(()=>k.sv=()=>fV(ZBs,{closeDialog:l})),q=Symbol("ContextualMenuCopyPaste"),r=B=>{h.layout===2&&g.Ib({Db:B,group:q})},t=B=>{B&&r(M("l7+Eng"))},v=()=>{h.layout===2?p():n()},w=()=>a().then(()=>r(M("hQep9g"))).catch(v),x=()=>b().then(t).catch(v),y=()=>b({mmd:!0}).then(t).catch(v),z=()=>b({THg:!0}).then(t).catch(v);f.jc(()=>({BYs:c(),n_s:d(),o_s:e()}),(B,{BYs:C,
n_s:G,o_s:H})=>{B.qnd=C?{Button:K=>fV(K.rl,{Icon:tD,label:M("y+PwqQ"),onClick:w,oa:K.oa,Dm:Pk("c")})}:void 0;B.bod=G?{Button:K=>{const L=jV(()=>{K.oa?.();K.Gg?.clear()},[K]);return fV(K.rl,{Icon:__c.clr,label:M("mvO3fA"),onClick:x,oa:L,Dm:Pk("v")})}}:void 0;B.koj=H?{Button:K=>fV(K.rl,{...K,Icon:__c.clr,label:M("iV8+cw")})}:void 0;B.tdg=H?{Button:K=>fV(K.rl,{...K,Icon:__c.clr,label:M("JQ7LxA"),onClick:y,Dm:Pk(Oo("v"))})}:void 0;B.sdg=H?{Button:K=>fV(K.rl,{...K,Icon:__c.clr,label:M("RBZgMg"),onClick:z,
Dm:Pk(Po("v"))})}:void 0},{equals:nV.shallow})};
dCs=function(a,b,c,d){const e=a.Ka,f=a.selection,g=a.b5f.OOd,h=a.Q1f.fd,k=a.C8c.Zn,l=a.kb,{qh:n}=a.VT??{},p=new aCs(c,g,h,k,l,n?.rca||d.rca,{A2c:()=>f.Kb?.type===4},bCs);if(e==="responsive")return p;const q=a.session,r=a.canvas.viewport,t=new cCs(b,()=>{const w=r.Vg;if(w.type==="responsive-page")throw Error("Cannot get the target box for a responsive page");const x=sg(4,w.page.dimensions||q.document.dimensions);return ug(x)?r.ey().transform(r.hm(w)).scale(.85):Oj({top:0,left:0,...x}).translate(x.width*
.075,x.height*.075).scale(.85)},a.Vi,a.b5f.c6i,h,l,n?.rca||d.rca,{A2c:()=>f.Ma?.inner?.type!=="table"}),v=()=>f.Kb||f.Ma?.type==="pages"&&f.Ma.Pd?.type==="responsive"?p:t;return{b2h(w){return v().b2h(w)},j_d(w){return v().j_d(w)},ssf(w){return v().ssf(w)},serialize(w){return v().serialize(w)}}};
jCs=function(a,b,c,d,e,f){const g=a.$s.alert,h=a.xc;var k=a.session;const l=a.skeleton.controller,n=a.canvas.viewport,p=a.ma,q=a.QTi.Za,r=a.selection;var t=a.M9d.Gg,v=a.fa;const w=v.P;v=v.sc;var x=a.qc;const y=a.Wc,z=a.Ap;var B=a.pS;const C=a.lp;var G=a.b5f,H=G.OOd,K=G.ula,L=G.BAc;G=a.kb;var N=a.aAf;const P=N.sE;var T=N.Nma,V=a.wid.mZ,W=a.Q1f;N=W.hj;W=W.fd;var aa=a.FK,ba=a.wq;const da=a.eab;var la=a.C8c;const ja=la.WKa,oa=la.Fya;la=()=>{const xa=g.Vq(()=>fV(Ck,{dismissible:!0,Rc:xa,tone:"warn",UH:!1,
children:M("1qqN6w")}))};const {yZf:ma}=new eCs({session:0,ka:"",domain:"",width:0,height:0});d=new fCs(r,a.Ka!=="responsive"?a.mc:void 0,n,p,G,x,q,d,e,a.Ka!=="responsive"?a.b5f.QRa:void 0,P,T,N,W,aa,V,ba,da.Pub,da.Oub,da.Vje);const na=new gCs(b,d,c,la,xa=>{oa.kNb&&[...xa.values()].find(Ba=>!__c.Hif(oa,Ba))&&p.Ib({Db:M("Y1SDvw"),Jq:{buttonText:M("0MD9lQ"),onClick:()=>ja.V8k()},group:hCs})},ma,xa=>!!h?.rules.find(Ba=>Ba.Ic?.brand===xa),document.location.hostname,k,Date.now(),l,q,r,t,w,f,x,v,z,B,C?.DN,
H,K,L,P,N,W,G);if(a.Ka==="responsive")return na;k=new __c.Si(Math.round(Math.random()*1E4).toString(36)+Date.now().toString(36));t=a.canvas.BYa;B=a.b5f;e=B.VRb;x=B.QRa;B=B.c6i;H=a.Jb;K=a.hb;L=a.MX;T=a.jr;V=a.cja;aa=a.VF;ba=a.M9d.Gg;const qa=a.Lk,ua=a.timing,za=a.od,va=new iCs(na,b,d,a.qc,c,la,ma,k,document.location.hostname,a.session,Date.now(),l,q,H,w,f,r,ba,C?.DN,n,t,K,L,T,e,x,B,qa,ua,za,P,N,W,G,Cs,V,v,y,z,p,aa,da.g1d,da.IH);return{copy(xa,Ba){return(r.Kb?na:va).copy(xa,Ba)},cut(xa,Ba,pa,ia){return(r.Kb?
na:va).cut(xa,Ba,pa,ia)},paste(xa,Ba,pa,ia,wa){return(r.Kb?na:va).paste(xa,Ba,pa,ia,wa)},Trd(){return(r.Kb?na:va).Trd()},rng(){return(r.Kb?na:va).rng()},tnc(){return(r.Kb?na:va).tnc()},H4f(xa){return(r.Kb?na:va).H4f(xa)}}};
lCs=function(a,b,c,d,e,f){const g=a.Ka;var h=a.skeleton;const k=h.controller;var l=a.fa;const n=l.P,p=l.errorService,q=a.selection,r=a.QTi.Za,t=a.ma;l=a.M9d.jEb;const v=a.Rrg,w=K=>{p.Tu({level:"info",category:"clipboard",message:K})},x=async(K,L,N)=>{w("cut");K=b.wb(K,{Hb:{name:"editor.cut"}});const P=await c.cut(N,L,K,void 0);P?(K.ob().xH(P.qVb.type.toLowerCase()),K.ob().addEvent("copied"),K.ob().wk(({Oi:T})=>{n.track(Wff,{...P.Nye,action:"cut",mb:L,Tb:T()})}),K.qe()):(K.ob().xH("no_data"),K.end())},
y=K=>k.mode>=30?r.focused:K?.target?K.target instanceof Element&&__c.STb(K.target)!=null?!0:__c.Dhe(K.target):!1,z=async K=>{if(!(k.mode<=20)&&(y(K)||document.activeElement&&Vqs()!=null||!__c.Iba(K)&&document.getSelection()?.type!=="Range"))return x("editor_clipboard_cut_shortcut_used","shortcut",K)},B=async(K,L,N)=>{w("copy");K=b.wb(K,{Hb:{name:"editor.copy"}});const P=await c.copy(N,void 0);P?(K.ob().xH(P.qVb.type.toLowerCase()),K.ob().addEvent("copied"),K.ob().wk(({Oi:T})=>{n.track(Wff,{...P.Nye,
action:"copy",mb:L,Tb:T()})}),K.qe()):(K.ob().xH("no_data"),K.end())},C=async K=>{(y(K)||document.activeElement&&Vqs()!=null||!__c.Iba(K)&&document.getSelection()?.type!=="Range")&&await B("editor_clipboard_copy_shortcut_used","shortcut",K)},G=async(K,L,N,P)=>{w("paste");const T=b.wb(K,{Hb:{name:"editor.paste",attrs:new Map([["control_context",L]])}});N?.preventDefault();K=await d.paste(N,void 0,q.Kb&&P?.K1n?new Set(["text/plain"]):void 0);if(!K)return t.Ib({Db:M("xsdoFQ")}),T.ob().xH("no_data"),
T.end(),!1;T.ob().addEvent("clipboard_data_read");T.ob().xH(mrs(K.type));await c.paste(K,T,L,f?.rca||e.rca,P).catch(V=>{if(V instanceof __c.noe)T.abort(),t.Ib({Db:M("d6WIJg"),group:__c.moe});else throw T.end("error"),V;});return!0},H=async(K,L)=>{k.mode<=30||!(y(K)||document.activeElement&&Vqs()!=null)&&__c.Iba(K)||await G("editor_clipboard_paste_shortcut_used","shortcut",K,L)};$Bs({zPr:()=>B("editor_clipboard_copy_menu_used","menu"),kQr:K=>G("editor_clipboard_paste_menu_used","menu",void 0,K),eXs:()=>
c.Trd(),sXs:()=>c.rng(),tXs:()=>c.tnc(),pma:a.pma,la:a.la,Kc:h.configuration,ma:t});if(g==="responsive")document.addEventListener("cut",z),document.addEventListener("copy",C),document.addEventListener("paste",H);else if(kCs()){h=[Pk("x"),()=>z(),M("EtFtgQ"),["edit"]];const K=[Pk("c"),()=>C(),M("y+PwqQ"),["edit"]],L=[Pk("v"),()=>H(),M("mvO3fA"),["edit"]];a.M9d.u3d.register(h);a.M9d.u3d.register(K);a.M9d.u3d.register(L)}else document.addEventListener("cut",z),document.addEventListener("copy",C),document.addEventListener("paste",
H,{capture:!0});l.register([Pk(Oo("v")),()=>{G("editor_clipboard_paste_shortcut_used","shortcut",void 0,{mmd:c.tnc(),K1n:!c.tnc()})},M("mvO3fA"),["edit","suggest"]],[Pk(Po(Oo("v"))),()=>{G("editor_clipboard_paste_shortcut_used","shortcut",void 0,{mmd:c.tnc(),K1n:!c.tnc()})},M("mvO3fA"),["edit","suggest"]],[Pk(Po("v")),()=>{!v.Fbb&&c.tnc()&&G("editor_clipboard_paste_shortcut_used","shortcut",void 0,{THg:!0})},M("mvO3fA"),["edit","suggest"]]);g!=="responsive"&&a.M9d.u3d.register([Pk(Oo("v")),()=>{c.tnc()&&
H(void 0,{mmd:!0})},M("mvO3fA"),["edit"]],[Pk(Po(Oo("v"))),()=>{c.tnc()&&H(void 0,{mmd:!0})},M("mvO3fA"),["edit"]],[Pk(Po("v")),()=>{!v.Fbb&&c.tnc()&&H(void 0,{THg:!0})},M("mvO3fA"),["edit"]])};kCs=function(){var a=navigator;return a!=null&&/iPad|Macintosh/i.test(a.userAgent)&&a.maxTouchPoints!=null&&a.maxTouchPoints>2};pCs=function(a){const b=a.cYp;a=a.QZ;const c=new mCs;a=new nCs(c,a);b.gFh=hV(()=>c.nee==null?null:fV(oCs,{bounds:c.nee}));return{kYp:a}};
qCs=function(a,b){return zo.S$j&&a.hb.i_(b,c=>!!c?.zDg)};rCs=function(a){return a.every(b=>!!b.fill.image.ref)};sCs=function(a){return a.every(b=>!!b.fill.video.ref)};tCs=function(a){return a.every(b=>!!b.fill.image.ref)};uCs=function(a){return a.every(b=>!!b.fill.video.ref)};
vCs=function(a,b,c,d){switch(b.type){case "group":case "grid":case "table":case "sheet":return a.kwa(c,d,1,b.container.container),a.Ap.Zra?.([b.container.ia],b.container.container),!0;case "sheet-cell-media":return a.kwa(c,d,1,b.container.container.container),a.Ap.Zra?.([b.sheet],b.container.container.container),!0;case "shape":return a.kwa(c,d,1,b.container.container),a.Ap.Zra?.([b.shape],b.container.container),!0;case "layout":case "layout-cell":return!1;default:throw new u(b);}};
wCs=function(a,b,c,d){if(c.length===b.layout.cells.size)switch(c=b.container,c.type){case "fixed-page":a.Ap.Zra?.([b.layout],c);break;case "group-element":case "controlled-element":throw Error("Deleting layout in these containers not supported");case "layout-element-cell":wCs(a,c.container,[c.tb],d);break;default:throw new u(c);}else a.Ap.oFm?.(b.layout,c),a.vg.lcd(b,b.layout.cells.values().next().value)};
xCs=function(a,b){const c={type:a};if(a!=="page"&&a!=="row"&&a!=="column")return c;const d={};switch(b?.type){case "page":d.mQs=b.pages.length;break;case "table-element":case "table-item":a==="column"?(a=NLe(b.table,b.cells),d.clb=a[a.length-1]-a[0]+1):a==="row"&&(a=MLe(b.table,b.cells),d.v3b=a[a.length-1]-a[0]+1);break;case "sheet-page-content":case "sheet-element":case "sheet-item":a==="column"?d.clb=b.columns.length:a==="row"&&(d.v3b=b.rows.length)}c.JTk=d;return c};
ACs=function(a,b){switch(a.type){case "background":a={message:M("AYGgyw"),Icon:Ix,mode:"inner",Dm:"Delete"};break;case "page":a={message:J("JwjLTA",[a.JTk?.mQs??1]),Icon:Ix,Dm:"Delete"};break;case "scrollable-design":case "element":a={message:M("eLUEGw"),Icon:Ix,mode:"outer",Dm:"Delete"};break;case "grid":a={message:M("9p4Z5w"),Icon:__c.JBr,mode:"outer"};break;case "table-element":case "table-item":a={message:M("Kj4xeQ"),Icon:__c.e8g,mode:"outer"};break;case "controlled":case "group":a={message:M("IBNQDA"),
Icon:JIn,mode:"inner"};break;case "image":a={message:M("8gZNXQ"),Icon:__c.Ku,mode:"inner"};break;case "video":a={message:M("jOQ+DQ"),Icon:__c.XC,mode:"inner"};break;case "shape":a={message:M("4iOUcQ"),Icon:__c.wVi,mode:"outer"};break;case "layout-element":case "layout-item":a={message:M("nMb99Q"),Icon:__c.ZTi,mode:"outer"};break;case "column":a={message:J("78BjBg",[a.JTk?.clb??1]),Icon:yCs,mode:"column"};break;case "row":a={message:J("F6TSbw",[a.JTk?.v3b??1]),Icon:zCs,mode:"row"};break;case "sheet-element":case "sheet-item":a=
{message:M("V1ylcQ"),Icon:__c.PF,mode:"outer"};break;case "sheet-element-cell-media":case "sheet-item-cell-media":a={message:M("eLUEGw"),Icon:Ix,mode:"inner"};break;case "sheet-page-content":throw Error("Sheet page content cannot be deleted directly");default:throw new u(a.type);}return{...a,message:b?M("eLUEGw"):a.message,Icon:b?Ix:a.Icon}};BCs=function(a){switch(a){case "section":return J("/g1arw",[1]);case "page":return J("JwjLTA",[1]);default:throw new u(a);}};
FCs=function(a,b,c,d,e){var f=CCs(a,b);f&&(f.count()===c.length||f.some(g=>!g.draft&&!c.includes(g)))&&(f=__c.fWe(a.document,c,a.Zo),!f||a.MYn.qtq?(DCs(a,b,c),ECs(a,d,e)):a.i_s({$ne:g=>{if(g){var h=a.MYn;h.storage?h.storage.setItem("E2DontShowPageDeleteWarningWithLink",JSON.stringify(g)):h.THm=g}},onCancel:()=>e.abort(),onClose:()=>e.abort(),Ip:()=>{DCs(a,b,c);ECs(a,d,e)},U3g:f,SC:c.length}))};
CCs=function(a,b){switch(b.type){case "fixed-document":return a.document.pages;case "concatenated-fixed-page":return(a=CCs(a,b.container))?b.Rja(a)?.pages:void 0;default:throw new u(b);}};DCs=function(a,b,c){const d=CCs(a,b);if(d){var e=GCs(d,c);e==null&&(e=m(d.last()),sa(a.Hbi.$M!=null),{ia:e}=a.Hbi.$M(e,{location:"delete_all_pages",Xc:"delete_all_pages"},{template:"default"}));a.vg.pW(b,e);a.Ap.K1h?.(c,d)}};
ECs=function(a,b,c){var d=a.vg.Ma?.pages??[];const e=new Map;for(const [g,h]of a.document.pages.toArray().entries())e.set(h,g);d=d.map(g=>e.get(g)).filter(sb);c.ob().addEvent("deleted");const f={action:"delete",fXc:d.map(String),mb:b,location:b};c.ob().wk(({Oi:g})=>{a.N.track(__c.agf,{...f,Tb:g(),rz:0})});c.qe()};GCs=function(a,b){var c=a.first(e=>b.includes(e)),d=a.last(e=>b.includes(e));c=c&&a.previous(c);d=d&&a.next(d);a=a.first(e=>!b.includes(e));return d||c||a};
KCs=function({X:a,Ra:b}){const c=new HCs,d=new ICs(c,a,b);d.init();return hV(()=>d.mla?fV(JCs,{Rc:d.Rc}):null)};
yV=function(a,b,c){const d=a.map(({label:f,values:g,type:h,Cb:k})=>{let l;h.binding!=="unused"&&(l=h.id);return{...__c.ms,label:f,values:g,Cb:k,id:l,Mb:void 0}}),e=__c.rij(d,b);return{jTa:"state",mediaId:`_gc${b.type.toLowerCase().replace(/_/g,"")}`,config:e,data:d,Pb:void 0,xsa:f=>{var g=`_gc${b.type.toLowerCase().replace(/_/g,"")}`,h={...__c.ns,title:c?{...__c.pXc,text:c}:__c.ns.title};a:switch(e.type){case "LINE":case "GROUPED_COLUMN":case "STACKED_COLUMN":case "GROUPED_ROW":case "STACKED_ROW":case "BUBBLEPLOT":case "DOTPLOT":case "STACKED_AREA":case "GROUPED_DOTPLOT":case "RADAR":var k=
__c.Aw.TCa(m(e.Mb)).length<=5;break a;case "BAR_RACE":case "PIE":case "DONUT":case "SCATTERPLOT":case "PACKED_CIRCLES":case "TREEMAP":case "HISTOGRAM":case "FUNNEL":k=!1;break a;default:throw new u(e);}return{...__c.rz,jTa:"state",mediaId:g,xo:h,data:d,config:e,Pb:void 0,mo:k,style:__c.yw(f)}}}};LCs=function(a,b,c){switch(a.type){case "COLUMN":return a.header;case "BLOCK_HEADER":return b;case "BLOCK_VALUE":return c;default:throw new u(a);}};
OCs=function(a,b,c){const d=new Set(krs(c));if(!b.every(f=>d.has(f)))return Ma({lKe:"LABELLED_SERIES_FROM_ROWS",binding:"labels"});var e=MCs(c.data());c=[];for(const [f,g]of e){e={binding:"unused"};a&&d.has(a)&&f===a?e={binding:"labelBy",id:Ay()}:b.includes(f)&&(e={binding:"valueBy",id:Ay()});const {values:h,Cb:k}=NCs([...g],e.binding);c.push({label:f,values:h,type:e,Cb:k})}return La(c)};
PCs=function(a,b){var c=krs(b),d=c.indexOf(a.label);const e=c.indexOf(a.group);c=c.indexOf(a.value);if(d<0)return Ma({lKe:"PIVOT",binding:"label"});if(e<0)return Ma({lKe:"PIVOT",binding:"groupBy"});if(c<0)return Ma({lKe:"PIVOT",binding:"valueBy"});var f=new Set,g=new Set;for(var h of b.raw.slice(1))f.add(h[e]),g.add(h[d]);h=Array.from(f);const k=Array.from(g);g=new Map;for(f=0;f<h.length;f++)g.set(h[f],f);const l=new Map;for(const q of b.raw.slice(1))b=q[d],g=q[e],f=q[c],l.has(b)||l.set(b,new Map),
m(l.get(b)).set(g,f);const {values:n,Cb:p}=NCs(k,"labelBy");a=[{label:a.label,values:n,type:{binding:"labelBy",id:Ay()},Cb:p}];d=h.map(q=>{const r=k.map(x=>{if(!l.has(x))return"";x=m(l.get(x));return x.has(q)?m(x.get(q)):""}),t={binding:"valueBy",id:Ay()},{values:v,Cb:w}=NCs(r,"valueBy");return{label:q,values:v,type:t,Cb:w}});return La(a.concat(d))};MCs=function(a){const b=new Map;for(const c of a)for(const [d,e]of c)ij(b,d,e);return b};
SCs=function(a,b){const c=b.raw[0],d=QCs(c),e=QCs([...c,d]),f=a.map(g=>c.indexOf(g));sa(f.every(g=>g>=0),"not all datablock headers are defined in the csv");a=[[...c.filter((g,h)=>!f.includes(h)),d,e]];for(const g of b.raw.slice(1))for(const h of f)a.push([...g.filter((k,l)=>!f.includes(l)),c[h],g[h]]);return{QBr:d,lmd:e,smt:new RCs(a)}};QCs=function(a){let b=1,c;do c=J("rlYolQ",[b++]);while(a.includes(c));return c};
NCs=function(a,b){let c=a,d;switch(b){case "valueBy":case "sizeBy":const [e,f]=__c.rge(a,{OGe:!1});f.ok?(c=e.map(k=>{const l=__c.mge(k,f.value[0]);return l.ok?l.value.toString():k}),d=__c.cPe({kind:"number",format:f.value[0]},{rxc:!1})):d=__c.cPe({kind:"number",format:__c.yWg},{rxc:!1});break;case "xValueBy":case "yValueBy":const [g,h]=__c.rge(a,{OGe:!1});h.ok?(c=g.map(k=>{const l=__c.mge(k,h.value[0]);return l.ok?l.value.toString():k}),d=__c.cPe({kind:"number",format:h.value[0]},{rxc:!1})):d=__c.aPe;
break;case "labelBy":case "groupBy":case "colorBy":d=__c.aPe;break;case "unused":break;default:throw new u(b);}return{values:c,Cb:d}};
VCs=function(a,b){switch(a.type){case "WIDE_DATA":if(a.group.type==="BLOCK_HEADER"&&a.value.type==="BLOCK_VALUE"&&a.label.type==="COLUMN")a=OCs(a.label.header,[...a.SWj],b);else{const {smt:c,QBr:d,lmd:e}=SCs([...a.SWj],b);a=PCs({group:LCs(a.group,d,e),label:LCs(a.label,d,e),value:LCs(a.value,d,e)},c)}break;case "LONG_DATA":a=PCs({label:a.N9d,group:a.dar,value:a.lmd},b);break;case "SCATTERPLOT":case "DOT_PLOT":case "GROUPED_DOT_PLOT":a=TCs(a.N9d,a.b1l,[a.k1l],a.ZNj,a.vGl,b);break;case "HIERARCHY_CHART":a=
UCs([...a.p7m],a.lmd,b);break;case "SINGLE_SERIES_PART_TO_WHOLE":a=OCs(a.N9d,[a.lmd],b);break;case "HISTOGRAM":a=OCs(void 0,[a.lmd],b);break;default:throw new u(a);}return a};
YCs=function(a,b){b=VCs(a,b);if(!b.ok)return b;b=b.value;if(!b.length)throw Error("Error getting chart series");const c={CV:b.length,rowCount:b[0].values.length+1},{Orn:d,bindings:e}=WCs(b);var f=e.valueBy,g=e.labelBy;const h=e.groupBy;var k=e.sizeBy,l=e.colorBy,n=e.xValueBy;const p=e.yValueBy;switch(a.type){case "WIDE_DATA":case "LONG_DATA":switch(a.jd){case 1:return La({Xcb:yV(b,{...__c.NZg,Ch:f,fg:g[0]},a.title),cta:c});case 10:return La({Xcb:yV(b,{...__c.UZg,Ch:f,fg:g[0]},a.title),cta:c});case 2:case 8:return La({Xcb:yV(b,
{...__c.IZg,Ch:f,fg:g[0]},a.title),cta:c});case 3:return La({Xcb:yV(b,{...__c.JZg,Ch:f,fg:g[0]},a.title),cta:c});case 9:return La({Xcb:yV(b,{...__c.MZg,Ch:f,fg:g[0]},a.title),cta:c});case 4:return La({Xcb:yV(b,{...__c.SZg,Ch:f,fg:g[0]},a.title),cta:c});case 6:return La({Xcb:yV(b,{...__c.LZg,Ch:f,fg:g[0]},a.title),cta:c});case 5:case 7:return La({Xcb:yV(b,{...__c.KZg,Ch:f,fg:g[0]},a.title),cta:c});default:throw new u(a);}case "SCATTERPLOT":f=g[0];l=l[0];sa(n.length===1,`xValueBy does not exist for ${a.type}`);
sa(p.length===1,`yValueBy does not exist for ${a.type}`);g=m(b.find(r=>r.type.binding==="xValueBy"),`xSeries does not exist for ${a.type}`);var q=m(b.find(r=>r.type.binding==="yValueBy"),`ySeries does not exist for ${a.type}`);g=g.Cb===__c.aPe;q=q.Cb===__c.aPe;return g&&q?La({Xcb:yV(b,{...RZg,fg:f,Vo:l,OO:n[0],ON:[p[0]],vf:XCs(RZg.vf,d.get(n[0])),xe:XCs(RZg.xe,d.get(p[0]))},a.title),cta:c}):g||q?(k=g?"x":"y",La({Xcb:yV(b,{...QZg,fg:f,Vo:l,m8:g?"X":"Y",OO:n[0],ON:[p[0]],Raa:XCs(QZg.Raa,k==="x"?d.get(n[0]):
d.get(p[0])),f7:XCs(QZg.f7,k==="x"?d.get(p[0]):d.get(n[0]))},a.title),cta:c})):La({Xcb:yV(b,{...__c.PZg,fg:f,Vo:l,gv:k[0],OO:n[0],ON:p,vf:XCs(__c.PZg.vf,d.get(n[0])),xe:XCs(__c.PZg.xe,d.get(p[0]))},a.title),cta:c});case "DOT_PLOT":return sa(n.length===1,`xValueBy does not exist for ${a.type}`),sa(p.length===1,`yValueBy does not exist for ${a.type}`),k=m(b.find(r=>r.type.binding==="xValueBy"),`xSeries does not exist for ${a.type}`).label===a.J2p,La({Xcb:yV(b,{...QZg,fg:g[0],Vo:l[0],m8:k?"X":"Y",OO:n[0],
ON:[p[0]],Raa:XCs(QZg.Raa,k?d.get(n[0]):d.get(p[0])),f7:XCs(QZg.f7,k?d.get(p[0]):d.get(n[0]))},a.title),cta:c});case "GROUPED_DOT_PLOT":return sa(n.length===1,`xValueBy does not exist for ${a.type}`),sa(p.length===1,`yValueBy does not exist for ${a.type}`),La({Xcb:yV(b,{...RZg,fg:g[0],Vo:l[0],OO:n[0],ON:[p[0]],vf:XCs(RZg.vf,d.get(n[0])),xe:XCs(RZg.xe,d.get(p[0]))},a.title),cta:c});case "HIERARCHY_CHART":switch(n=a.p7m.map(r=>h.find(t=>d.get(t)===r)).filter(sb),a.jd){case 1:return La({Xcb:yV(b,{...__c.RXc,
groupBy:n,gv:f,AH:n.length},a.title),cta:c});case 2:return La({Xcb:yV(b,{...__c.QXc,groupBy:n,gv:f,AH:n.length},a.title),cta:c});default:throw new u(a);}case "HISTOGRAM":return sa(f.length===1,`valueBy does not exist for ${a.type}`),La({Xcb:yV(b,{...__c.TZg,Ch:f[0]},a.title),cta:c});case "SINGLE_SERIES_PART_TO_WHOLE":switch(sa(f.length===1,`valueBy does not exist for ${a.type}`),a.jd){case 1:return La({Xcb:yV(b,{...__c.IXc,fg:g.length===1?g[0]:void 0,Ch:f[0]},a.title),cta:c});case 2:return La({Xcb:yV(b,
{...__c.JXc,fg:g.length===1?g[0]:void 0,Ch:f[0]},a.title),cta:c});case 3:return La({Xcb:yV(b,{...__c.VZg,fg:g.length===1?g[0]:void 0,Ch:f[0]},a.title),cta:c});default:throw new u(a);}default:throw new u(a);}};XCs=function(a,b){return b?{...a,title:{...a.title,text:b}}:a};
WCs=function(a){return a.reduce((b,c)=>{const d=c.type;switch(d.binding){case "unused":return b;case "valueBy":case "labelBy":case "groupBy":case "sizeBy":case "colorBy":case "xValueBy":case "yValueBy":return b.Orn.set(d.id,c.label),b.bindings[d.binding].push(d.id),b;default:throw new u(d);}},{Orn:new Map,bindings:{valueBy:[],labelBy:[],groupBy:[],sizeBy:[],colorBy:[],xValueBy:[],yValueBy:[]}})};
ZCs=function({root:a=null,onChange:b}){const c=lV(null);kV(()=>{if(c.current){var d=new __c.Bk,e=d.B_(a,"0px");d.observe(c.current,f=>{b(f)});return e}},[b,a]);return{leb:c}};bDs=function(a,b,c){if(!a||a.trim()==="")return Ma({type:"no_markdown_provided"});const d=$Cs(a);var e=a.split(/\n+/).filter(f=>f.trim()!=="");a=[];for(const f of e){e=aDs(f.trim(),b,c,d);if(!e.ok)return Ma(e.error);a.push(e.value)}return La(a)};
dDs=function(a){if(!a)return[];const b=[];let c;for(;(c=cDs.exec(a))!=null;)b.push(c[1]);return b};aDs=function(a,b,c,d){var e=dDs(a);if(e.length===0)return La({type:"text",content:a});const f=new Map;for(const h of e){e=d.get(h);if(e===void 0)return Ma({type:"missing_placeholder",fQu:h});var g=c.find(k=>k.Xa===h);if(g)return La({type:"chart",Zb:g,index:e});(g=b.find(k=>k.Xa===h))&&f.set(h,{formula:g,index:e})}return f.size>0?La({type:"formula",content:a,cWa:f}):Ma({type:"invalid_section"})};
$Cs=function(a){a=dDs(a);const b=new Map;let c=0;for(const d of a)b.has(d)||b.set(d,c++);return b};hDs=function(a){switch(a.type){case "text":return{type:"text",lEp:()=>fV(eDs,{content:a.content})};case "chart":return{type:"chart",R3o:b=>fV(fDs,{section:a,...b})};case "formula":return{type:"formula",Ehp:b=>fV(gDs,{section:a,...b})};default:throw new u(a);}};
kDs=function(a,b){return a.split(iDs).filter(c=>c!=="").map(c=>{var d=c.match(jDs);return d&&(d=b.get(d[1]))?{type:"formula-placeholder",$_q:d.formula,index:d.index}:{type:"text",content:c}})};
lDs=function(a,b){switch(a.type){case "text":return kDs(a.value,b);case "strong":case "emphasis":case "heading":return[{type:"bold",children:a.children.flatMap(c=>lDs(c,b))}];case "paragraph":return a.children.flatMap(c=>lDs(c,b));case "break":return[{type:"break"}];default:throw Error(`Unknown markdown node type: ${a.type}`);}};
mDs=function(a){switch(a.type){case "text":return[{type:"text",content:a.value}];case "strong":case "emphasis":case "heading":return[{type:"bold",children:a.children.flatMap(b=>mDs(b))}];case "paragraph":return a.children.flatMap(b=>mDs(b));case "break":return[{type:"break"}];default:throw Error(`Unknown markdown node type: ${a.type}`);}};
oDs=function(a){var b=a.hU;const c=a.NC;a=a.Cb;if(c&&c.type){var d=c.type;switch(d){case 1:return b=nDs(a),new __c.o7c({value:c.value,Wci:b});case 2:return new __c.o7c({value:c.value,Wci:new __c.m7c});case 3:return new __c.p7c({value:c.value});case 4:return new __c.q7c({value:b});case 6:return new __c.r7c;case 7:return new __c.s7c({name:b});case 8:return new __c.t7c({title:b});case 9:break;default:throw new u(d);}}};
nDs=function(a){if(a===void 0)return new __c.i7c;const b=a.type;switch(b){case "plain_number":return new __c.j7c({Dw:a.Fj.Dw,dr:a.Fj.dr});case "percentage":return new __c.l7c({Dw:a.Fj.Dw,dr:a.Fj.dr});case "currency":return new __c.k7c({Dw:a.Fj.Dw,dr:a.Fj.dr,tma:a.Fj.symbol,locale:a.Fj.locale});case "date":return new __c.m7c;case "select":case "mention":case "embed":case "checkbox":return new __c.i7c;default:throw new u(b);}};
pDs=function(a,b){const c=b.sheet,d=new Map;b=b.cells.reduce((f,{row:g,column:h})=>{const k=a.fd.getContent(c,g,h);if(!k||!k.Nr)return f;switch(k.Nr.type){case "text2":case "text3":case "plaintext":case "mention":case "formula":case "media":case "embed":case "boolean":f.push({reference:Nm({row:g,column:h},c),value:k.hU.trim(),BK:void 0});break;case "number":if(!k.Cb){f.push({reference:Nm({row:g,column:h},c),value:k.Nr.value.toString().trim(),BK:void 0});break}switch(k.Cb.Fj?.type){case "date":f.push({reference:Nm({row:g,
column:h},c),value:k.hU,BK:k.Nr.value.toString()});g=m(k.Cb.Fj?.format);d.set(g,(d.get(g)??0)+1);break;case "currency":case "percentage":case "plain":case void 0:f.push({reference:Nm({row:g,column:h},c),value:k.Nr.value.toString().trim(),BK:void 0});break;default:throw new u(k.Cb.Fj);}break;default:throw new u(k.Nr);}return f},[]);const e=d.size>0?Array.from(d.entries()).reduce(([f,g],[h,k])=>k>g?[h,k]:[f,g])[0]:void 0;return{data:b,cta:{dateFormat:e}}};
qDs=function(a,b){const c=b.cells,d=b.sheet;ra(c.length>0);let e=0,f=0;const g=c[0].row,h=c[0].column;c.forEach(l=>{const n=d.kL(l.row)-d.kL(g);l=d.zL(l.column)-d.zL(h);e=Math.max(e,n);f=Math.max(f,l)});const k=Array.from({length:e+1},()=>Array(f+1).fill(""));c.forEach(l=>{const n=d.kL(l.row)-d.kL(g),p=d.zL(l.column)-d.zL(h);if((l=a.kla.Pgi(d,l.column,l.row)?.content)&&l.Nr)switch(l.Nr.type){case "text2":case "text3":case "plaintext":case "mention":case "formula":case "media":case "embed":case "boolean":k[n][p]=
l.hU.trim();break;case "number":k[n][p]=l.Nr.value.toString().trim();break;default:throw new u(l.Nr);}else k[n][p]=""});return k};
rDs=function(a){var b=a.QA.findSheet();if(!b)return Ma({errorMessage:M("lGc67g"),DEa:void 0,X0c:"no_selection"});const c=b.sheet;b=b.sheetName;const d=c.layout.rows.toArray(),e=c.layout.cols.toArray(),f=d.flatMap(l=>e.map(n=>({row:l,column:n})));b={sheet:c,cells:f,range:`A1:${Nm({row:d[d.length-1],column:e[e.length-1]},c)}`,sheetName:b};const {data:g,cta:h}=pDs(a,b);if(g.length<2)return Ma({errorMessage:M("Xi2QLg"),DEa:b,X0c:"too_few_cells"});const k=new Map;c.layout.cells.forEach((l,n)=>{if(l.content.ref){l=
n.ec;var p=n.$b;n=Nm({column:l,row:p},c);if(l=a.fd.getContent(c,p,l))l=oDs(l),l!==void 0&&k.set(n,l)}});return La({DEa:b,Soa:g,cta:h,Mu:k})};tDs=async function(a){try{const b=await a.lU.Knk(new sDs),c=Date.now();rV(()=>{a.store.quota={kind:"loaded",Fze:b.quota.Fze,qG:b.quota.qG,ugd:b.quota.ugd?new Date(c+b.quota.ugd):void 0}})}catch(b){a.errorService.ra(b),rV(()=>{a.errorService.ra(b,"Error fetching credits.");a.store.Cvd=M("ldPNNQ")})}};
uDs=function(a){switch(a){case 1:case 5:return{cLf:M("q0uMCg"),Hyh:M("kC6nPg"),Od:1};case 4:return{cLf:M("SbbsuQ"),Hyh:M("yaFQLA"),Od:1};case 2:return{cLf:M("E9w/qw"),Hyh:M("j7cy7A"),Od:0};case 3:return{cLf:M("qLeuiA"),Hyh:M("/mPGOg"),Od:1};case 6:return{cLf:M("ldPNNQ"),Hyh:M("rtuM4A"),Od:0};default:throw new u(a);}};
vDs=function(a){switch(a){case 1:return"no_valid_insights";case 5:return"unsupported_functionality";case 4:return"unrelated_query";case 2:return"insufficient_data";case 3:return"dangerous_content";case 6:return"internal_error";default:throw new u(a);}};
wDs=function(a){switch(a.type){case "GROUPED_COLUMN":case "STACKED_COLUMN":case "GROUPED_ROW":case "STACKED_ROW":case "PIE":case "DONUT":case "LINE":case "STACKED_AREA":case "SCATTERPLOT":case "BUBBLEPLOT":case "DOTPLOT":case "GROUPED_DOTPLOT":case "PACKED_CIRCLES":case "TREEMAP":case "BAR_RACE":case "HISTOGRAM":case "RADAR":case "FUNNEL":case "SUNBURST":return a.type;case "POPULATION_PYRAMID":case "DUMBBELL":case "LOLLIPOP":case "TIME_SERIES":case "PROGRESS":case "PICTOGRAM":throw Error("Unsupported chart type");
default:throw new u(a);}};xDs=function(a){switch(a){case void 0:break;case "stacked":return"STACKED";case "proportional-stacked":return"PROPORTIONAL_STACKED";case "stacked":return"STACKED";case "proportional":return"PROPORTIONAL";case "unstacked":return"UNSTACKED";case "stream":return"STREAM";default:throw new u(a);}};
yDs=function(a){if(a){if(a===M("/15meQ"))return{type:"spot_trends",index:0};if(a===M("WdBwUg"))return{type:"visualize",index:1};if(a===M("JLfw8A"))return{type:"summarize",index:2};if(a===M("l8zS1w"))return{type:"find_outliers",index:3}}};
zDs=function(a){if(a=a.selection.Ma){if(a.pages?.length===1){const b=a.pages[0];if(hf(b)&&b.id)return{sheet:b.sheet,sheetId:b.id}}switch(a.type){case "elements":if(a.inner?.type==="sheet")return{sheet:a.inner.sheet.config,sheetId:a.inner.sheet.id};if(a.Pd?.type==="sheet")return{sheet:a.Pd.config,sheetId:a.Pd.id};break;case "pages":if(a.inner?.type==="sheet"&&a.inner.page.id)return{sheet:a.inner.page.sheet,sheetId:a.inner.page.id};if(a.pages.length===1&&(a=a.pages[0],hf(a)&&a.id))return{sheet:a.sheet,
sheetId:a.id}}}};DDs=function({X:a,Ra:b,Ob:c,Aa:d,l5d:e}){if(a){var f=new ADs,g=new BDs(f,a,b,c,d,e);return{zgf:hV(()=>{kV(()=>{g.$Tq()},[]);return f.mke?fV(CDs,{onClose:g.Rc,onClick:g.p$r}):null}),z5r:g.Rc}}};EDs=function(a,b){if(b.type==="fixed-page")return sa(a.session.document.Ka==="fixed"),b.container?.xb(b.page)??zf(a.session.document).xb(b.page);if(b.container!=null&&b.container.type!=="fixed-document"&&b.container.type!=="responsive-document")return EDs(a,b.container)};
FDs=function(a,b,c){switch(a){case 5:return{Icon:__c.ou,ib:void 0,label:M("ZK0snA")};case 2:return{Icon:__c.szg,ib:M("KkfI8w"),label:void 0};case 3:return{Icon:__c.szg,ib:M("eCV9Kg"),label:void 0};case 1:return{Icon:__c.Smg,ib:M("SSbFKQ"),label:void 0};case 6:return{Icon:__c.vB,ib:void 0,label:M("LtzRdg")};case 4:return{Icon:__c.vB,ib:void 0,label:M("YLfGCA")};case 0:return{Icon:void 0,ib:void 0,label:M("FXfIUQ")};case "view":return{Icon:c==="compact"?bu:__c.pv,label:c==="compact"?void 0:M("shxLEA"),
ib:b===2?M("nOK04Q"):M("shxLEA"),variant:"secondary"};case "comment":return{Icon:c==="compact"?bu:__c.OH,label:c==="compact"?void 0:M("REoikw"),ib:b===4?M("nOK04Q"):M("REoikw"),variant:"secondary"};case "playground":throw Error(`${a} mode is not supported`);default:throw new u(a);}};GDs=function(a){function b(){a(...(d??[]));e=d=void 0}function c(...f){d=f;e||(e=setTimeout(b,1100))}let d,e;c.cancel=()=>{clearTimeout(e);e=d=void 0};return c};
JDs=function(a){const b=zV.box(a(),{deep:!1});let c;const d=iV(g=>b.set(g)),e=GDs(d),f=()=>{c?.();c=void 0;e.cancel()};HDs(b,()=>{f();c=gV(a,g=>{g===1?(e.cancel(),d(g)):e(g)},{fireImmediately:!0})});IDs(b,f);return b};LDs=function(a){const b=zV.box(),c=gV(()=>a.xP===1,d=>{b.set(d?void 0:KDs())},{fireImmediately:!0});return{JKk:oV(()=>b.get()??KDs()),dispose:c}};MDs=function(a){const b=a.layout.direction!==2?2:void 0;return a.layout.direction=b};
NDs=function(a){const b=a.direction!=="rtl"?"rtl":"ltr";return a.direction=b};ODs=function(a){const b=a.direction!==2?2:1;return a.direction=b};QDs=function(a,b){a=a.V1a.zLd;return b.direction?{value:PDs[b.direction],selection:"table"}:a?{value:"ltr",selection:"table"}:void 0};SDs=function(a,b){a=a.V1a.zLd;return b.direction==="rtl"?{value:RDs[b.direction],selection:"sheet"}:a?{value:"ltr",selection:"sheet"}:void 0};
UDs=function(a,b){a=a.V1a.zLd;return b.direction===2?{value:TDs[b.direction],selection:"layout"}:a?{value:"ltr",selection:"layout"}:void 0};VDs=function(a,b,c,d){ra(c!==0);if(c<0){const e=b.x;b=b.y;b=a==="horizontal"?new pj(e+c,b):new pj(e,b+c);c=-c}return{dir:a,start:b,length:c,type:d}};WDs=function(a){const b=a.image.ref;a=a.video.ref?.video;return{mediaId:b?.media.id||a||"",YE:b?.media.version.toString()||""}};
YDs=function(a){const b=a.Rtr,c=a.onClick,d=a.onMouseEnter,e=a.onMouseLeave,f=a.onDragStart,g=a.pe,h=a.onDragEnd;return({direction:k})=>{const l=k==="top"||k==="bottom"?"right":"bottom";return fV(__c.ash,{onClick:()=>c(k),onMouseEnter:()=>d?.(k),onMouseLeave:e,onDragStart:n=>f(k,new pj(n.clientX,n.clientY)),pe:n=>g(k,new pj(n.clientX,n.clientY)),onDragEnd:n=>h(k,new pj(n.clientX,n.clientY)),$zd:XDs(b?k:"plus"),Sqb:"floating",fixedRotation:b,ib:b?M("kZxMcQ"):M("QLoPdg"),ek:l})}};
XDs=function(a){switch(a){case "plus":return __c.I3d;case "top":return __c.g3g;case "bottom":return __c.d3g;case "left":return __c.Jzc;case "right":return __c.kEd;default:throw new u(a);}};
cEs=function(a,b,c,d,e,f,g,h,k){var l=__c.ghe(b),n=__c.ghe(c);l=ZDs(d,l);n=ZDs($Ds(d),n);f=aEs(b,f,d);const p={...f,...k?.rFr};g={...__c.SYc,...p,...__c.hWa({Ub:l,r:n,height:f.weight}).Nb(),id:g.Af.generate(),start:{...p.start,position:{left:l.x,top:l.y}},end:{...p.end,position:{left:n.x,top:n.y}}};a=a.elements.append(g);e.connect(a.start,b,{Zfa:1,anchorPoint:bEs(d)});e.connect(a.end,c,{Zfa:h,anchorPoint:k?.ISm?k.ISm:h===1?bEs($Ds(d)):new pj(.5,.5)});return a};
aEs=function(a,b,c){var d=b.Q8c(a);if(d.length){const e=bEs(c);c=[...d].sort(k=>{const l=b.gVa.get(k.start)===a,n=b.gVa.get(k.end)===a;return l&&dEs(e,k.start)||n&&dEs(e,k.end)?-1:l?0:1});[c]=c;const {SLk:f,aKf:g}=eEs(b,c,a,e);switch(c.geometry.ref?.type){case void 0:d=void 0;break;case "elbowed":d={...__c.TYc,qb:c.geometry.ref.qb};break;case "curved":d={...__c.UYc,depth:0,skew:0};break;default:throw new u(c.geometry.ref);}const h=m(c.color||c.fill.gradient.ref);return{end:{...g,anchor:void 0},start:{...f,
anchor:void 0},geometry:d,weight:c.weight,color:h.type!=null?void 0:h,fill:{...ks,gradient:h.type!=null?h:void 0},za:c.za,rg:c.rg,Zl:c.Zl}}return(c=a.paths.first()?.stroke.ref)&&c.weight>0?(d=m(c.color||c.fill.gradient.ref),{...fEs,weight:Math.max(Math.round(c.weight),1),color:d.type!=null?void 0:d,fill:{...ks,gradient:d.type!=null?d:void 0},rg:c.rg,Zl:c.Zl,za:a.za,geometry:__c.TYc}):{...fEs,za:a.za,geometry:__c.TYc}};
eEs=function(a,b,c,d){const e=[2,3];var f=b.end.marker;if(f&&e.includes(f))return{SLk:b.start,aKf:b.end};if((f=b.start.marker)&&e.includes(f))return{SLk:b.end,aKf:b.start};const [g,h]=a.gVa.get(b.start)===c?[b.start,b.end]:[b.end,b.start],[k,l]=dEs(d,g)?[g,h]:[h,g];return{SLk:k,aKf:l}};ZDs=function(a,[b,c,d,e]){switch(a){case "top":return d;case "right":return c;case "bottom":return e;case "left":return b;default:throw new u(a);}};
$Ds=function(a){switch(a){case "top":return"bottom";case "right":return"left";case "bottom":return"top";case "left":return"right";default:throw new u(a);}};bEs=function(a){switch(a){case "top":return{x:.5,y:0};case "right":return{x:1,y:.5};case "bottom":return{x:.5,y:1};case "left":return{x:0,y:.5};default:throw new u(a);}};dEs=function(a,b){if(!b.anchor)return!1;const c=b.anchor.left;return b.anchor.top===a.y&&c===a.x};
gEs=function(a){a.LSf&&(clearTimeout(a.LSf),a.LSf=void 0);a.Kia?.();a.Kia=void 0;a.Owq?.();a.yXh?.onDragEnd();a.yXh=void 0;document.body.classList.toggle("_1Nlzlw",!1);a.store.bph=!1;a.store.E_i=!1;a.store.isDragging=!1;a.store.zMe=void 0;a.store.ECf=void 0;a.store.connectTarget=void 0;a.Fne=void 0;a.from=void 0;a.store.DCf?.pages.Er()};
mEs=function(a,b,c,d){const e=a.Gj.cXc;d=hEs(iEs(d),b.rotation);const f=jEs(c,b),{position:g,sOb:h,bpc:k}=kEs(b,d,f,e,sg(4,c.dimensions||a.document.dimensions));return{xWr:lEs(b,g,a.vpb),sOb:h,bpc:k}};
nEs=function(a,b,c,d,e){c=sg(4,c.dimensions||a.document.dimensions);c=m(a.store.DCf).pages.set(0,{...__c.Qn,id:a.kb.nh.generate(),dimensions:c});e=lEs(b,e,a.vpb);e=c.elements.append(e);a.Jdb.b0g(e);const f=c.elements.append($r.snapshot(b));b=aEs(b,a.ue,d);a=cEs(c,f,e,d,a.JZ,m(a.r6m),a.kb,1,{rFr:b});f.za=1;Wj(e)&&(a.za=1);return{Yzd:c,zMe:e,ECf:a,E2i:f}};
oEs=function(a,b){a.Owq=gV(()=>Oj(b).Nb(),c=>{const d=m(a.store.E2i),e=m(a.store.zMe);d.top=c.top;d.left=c.left;d.width=c.width;d.height=c.height;d.rotation=c.rotation;e.width=c.width;e.height=c.height;e.rotation=c.rotation})};pEs=function(a,b,c){b=Oj({...b,left:a.x,top:a.y});switch(c){case "top":c=b.b;break;case "bottom":c=b.t;break;case "left":c=b.r;break;case "right":c=b.Ub;break;default:throw new u(c);}return Hj(c,a).transformPoint(a)};
iEs=function(a){switch(a){case "top":return{x:0,y:-1};case "right":return{x:1,y:0};case "bottom":return{x:0,y:1};case "left":return{x:-1,y:0};default:throw new u(a);}};hEs=function(a,b){a=Ij(new pj(0,0),oj(b)).transformPoint(a);return{x:a.x,y:a.y}};jEs=function(a,b){const c=Oj(b);return a.elements.filter(d=>{d.type!=="shape"||!eFd(d)&&!Wj(d)?d=!1:Oj(d).intersects(c)?(d=Oj(d),d=Math.max(Math.abs(d.width-c.width),Math.abs(d.height-c.height))<=Number.EPSILON):d=!0;return d})};
kEs=function(a,b,c,d,e){const f=Oj(a);var g=qEs(f,f,b,b.x!==0?d:void 0,b.y!==0?d:void 0);const h=Oj({top:g.y,left:g.x,width:f.width,height:f.height,rotation:f.rotation});var k=rEs(h,c);if(!k)return sEs(g,a,e)?{position:g,sOb:1,bpc:!0}:(g=tEs(f,c),{position:new pj(a.left+g,a.top+g),sOb:1,bpc:!1});k=Oj(k);a=uEs(k,f,hEs(b,90),c,d);k=uEs(k,f,hEs(b,-90),c,d);b=k.sOb+a.sOb+1;d=a.position;a=k.position;k=sEs(d,f,e);e=sEs(a,f,e);e=k||e?k?e?tj(d,g)<=tj(a,g)?d:a:d:a:void 0;return e?{position:e,sOb:b,bpc:!0}:
(c=tEs(h,c),{position:new pj(g.x+c,g.y+c),sOb:b,bpc:!1})};qEs=function(a,b,c,d,e){const f=vEs(a,c),g=vEs(b,c);c=__c.yj(f/2+g/2+80,c);a={x:c.x+a.center().x-b.width/2,y:c.y+a.center().y-b.height/2};b.rotation===0&&(d&&(a.x=Math.round(a.x/d)*d),e&&(a.y=Math.round(a.y/e)*e));return a};vEs=function(a,b){a=a.Ah().map(c=>__c.Cj(c,b));return Math.max(...a)-Math.min(...a)};
uEs=function(a,b,c,d,e,f=0){a=qEs(a,b,c,e,e);const g=rEs(Oj({top:a.y,left:a.x,width:b.width,height:b.height,rotation:b.rotation}),d);return g?uEs(Oj(g),b,c,d,e,f+1):{position:a,sOb:f+1}};rEs=function(a,b){for(const c of b)if(a.intersects(Oj(c)))return c};
lEs=function(a,b,c){const d={ed:m(a.ed).map(e=>{const f={...e.text.stream.Xz(0),link:void 0};Be.copy("block",e.text.stream.pI(0),f);e=__c.YRc.snapshot(e);return{...e,text:Fg.rya({stream:__c.Ze.qd().attrs(f).wT().build(),fh:e.text.fh})}})};return{...__c.Vce(c,__c.Dn.snapshot(a)),...d,link:void 0,left:b.x,top:b.y}};tEs=function(a,b){const c=f=>b.some(g=>{g=Oj(g);const h=a.translate(f,f);return g.approximatelyEquals(h)});let d=0,e=0;for(;c(d)&&e<100;)d+=__c.uk,e+=1;return d};
wEs=function(a,b){var c=a.Ah();a=Math.round(Math.min(...c.map(k=>k.x)));var d=Math.round(Math.max(...c.map(k=>k.x))),e=Math.round(Math.min(...c.map(k=>k.y)));c=Math.round(Math.max(...c.map(k=>k.y)));var f=b.Ah();b=Math.round(Math.min(...f.map(k=>k.x)));var g=Math.round(Math.max(...f.map(k=>k.x))),h=Math.round(Math.min(...f.map(k=>k.y)));f=Math.round(Math.max(...f.map(k=>k.y)));return!(a>=g||d<=b||e>=f||c<=h)};
sEs=function(a,b,c){if(ug(c))return!0;a=Oj({...b,top:a.y,left:a.x});return wEs(Lj(0,0,c.width,c.height),a)};zEs=function({update:a,getValue:b,hMb:c,GAb:d,label:e,JNh:f=!0}){const g=new xEs,h=new yEs(g,a,f);a=hV(()=>fV(Mxs,{value:g.value,disabled:c?.(),nx:b(),focused:g.focused,onChange:h.onChange,onFocus:h.onFocus,onBlur:h.onBlur,label:e,unit:d?.()}));return{store:g,vZ:a}};
FEs=function({document:a,viewport:b,Vf:c,ma:d}){const e=new AEs(a,b);a=new BEs(e,d);b=()=>` ${CEs[e.dimensions.units]}`;const {vZ:f}=zEs({update:a.aSs,label:M("gPUe1Q"),getValue:()=>e.columns,JNh:!1}),{vZ:g}=zEs({update:a.iZi,label:M("JE/qcA"),getValue:()=>e.rows,JNh:!1}),{vZ:h}=zEs({update:a.$Rs,getValue:()=>e.RGc,hMb:()=>e.Uvm,GAb:b,label:M("zKi7Hw")}),{vZ:k}=zEs({update:a.wTs,getValue:()=>e.Aqa,hMb:()=>e.peo,GAb:b,label:M("zKi7Hw")}),{vZ:l}=zEs({update:a.ZRs,getValue:()=>e.u3c,GAb:b,label:M("8bavyQ")}),
{vZ:n}=zEs({update:a.vTs,getValue:()=>e.lhd,GAb:b,label:M("8bavyQ")}),p=()=>mV(uV,{children:[fV(f,{}),fV(h,{}),fV(l,{})]}),q=()=>mV(uV,{children:[fV(g,{}),fV(k,{}),fV(n,{})]});return{nij:()=>fV(DEs,{uhj:p,bqj:q}),V8o:r=>fV(EEs,{Vf:c,uhj:p,bqj:q,onClose:r.onClose}),store:e}};
MEs=function({viewport:a,document:b,header:c,la:d,Vf:e,P:f,ma:g,Rsk:h,dNg:k}){const {nij:l,V8o:n,store:p}=FEs({document:b,viewport:a,Vf:e,ma:g}),q=new GEs(p,d,a,b),r=new HEs(b,q,d,h,k,f,g),t=()=>{r.zJn();c.Y9()},v=new __c.R7d,w=()=>({sg:IEs,get wBa(){return d.layout===2?()=>fV(JEs,{onClick:t}):void 0},Hzc:!1}),x=()=>v.$g({hf:()=>fV(n,{onClose:r.$Hs}),options:w()}),y=B=>{r.Woo(B);q.mq==="custom"&&x()},z=hV(B=>fV(KEs,{options:LEs,mq:q.mq,We:B.We,Uc:r.xOn,Wh:r.yOn,Iz:y,oa:B.oa}));return{Hmp:hV(B=>d.layout===
2?fV(z,{...B}):fV(KEs,{options:LEs,mq:q.mq,We:B.We,Uc:r.xOn,Wh:r.yOn,Iz:r.Woo,onSubmit:r.zJn,onCancel:B.oa,oa:B.oa,nij:q.Syo?l:void 0})),B8q:w,iNi:oV(()=>q.iNi),navigation:v}};OEs=function(a,b){const c=b.position;b=b.direction===1;const d=ck(a.ya,a.document.dimensions),{width:e}=sg(4,d);return NEs(d.units,(a.fj&&!b?e-c:c)/Bv(d.units)).toString()};PEs=function(a,b,c){if(a.store.o_e==="viewable")return!0;c=a.ya===c;return!(a.store.yjk.has(b)||a.canvas.WVa==="none"&&b.direction===1&&!c)};
QEs=function(a,b){return a.viewport.hm(a.viewport.Vg).transformPoint(b)};SEs=function(a,b,c){a.N.track(REs,{previous:c.toString(),value:b.position.toString(),direction:b.direction===1?"horizontal":"vertical",Bq:0,ss:0,rz:0})};UEs=function(a,b,c){var d=b.filter(e=>e.direction===2);b=b.filter(e=>e.direction===1).length;d=d.length;a.N.track(TEs,{Jar:-1,direction:b&&d?"mixed":d?"vertical":b?"horizontal":"none",mb:c,O3g:b,b4g:d,Bq:0,ss:0,rz:0})};
VEs=function(a){const b=a.filter(c=>c.direction===2);a=a.filter(c=>c.direction===1);return{direction:b.length&&a.length?"mixed":b.length?"vertical":a.length?"horizontal":"none",b4g:b.length,O3g:a.length}};NEs=function(a,b){const c=d=>{const e=Math.pow(10,d);return(Math.round(b*e)/e).toFixed(d)};switch(a){case 1:return c(1);case 2:return c(3);case 3:case 4:return c(0);default:throw new u(a);}};
WEs=function({onClick:a}){const b=jV(c=>{c.preventDefault()},[]);return fV("div",{className:"xlB9Gg",onPointerDown:a,onMouseDown:b})};
ZEs=function(a){const b=new XEs(a.$Re,a.vza,a.pd,a.Za,a.Pa,a.Zn),c=a.Ka!=="responsive"&&a.SBb?new YEs(a.szg,a.SBb):void 0;a.Kh.jc(()=>{const d=c?.V2a;return d&&Object.keys(d).length!==0?{actions:d,Hpf:c}:{actions:b.V2a,Hpf:b}},(d,{actions:e,Hpf:f})=>{d.imj=e["add-column"]?{Button:n=>fV(n.rl,{Icon:Gu,label:M("gQ2wmg"),onClick:f.gDi,oa:n.oa})}:void 0;d.jmj=f.j0k&&e["add-row"]?{Button:n=>fV(n.rl,{Icon:Gu,label:M("yR5v2g"),onClick:f.j0k,oa:n.oa})}:void 0;const g=tb.direction===2,h=g?mr:lr,k=g?lr:mr,l=
f.dtn;d.mmj=e["move-column-before"]?{Button:hV(n=>fV(n.rl,{Icon:l===2?k:h,label:l===2?M("AbZWJg"):M("GsrOSg"),onClick:f.GLn,oa:n.oa}))}:void 0;d.lmj=e["move-column-after"]?{Button:hV(n=>fV(n.rl,{Icon:l===2?h:k,label:l===2?M("GsrOSg"):M("AbZWJg"),onClick:f.FLn,oa:n.oa}))}:void 0;d.omj=f.ILn&&e["move-row-up"]?{Button:hV(n=>fV(n.rl,{Icon:__c.oB,label:M("rLHohQ"),onClick:f.ILn,oa:n.oa}))}:void 0;d.nmj=f.HLn&&e["move-row-down"]?{Button:hV(n=>fV(n.rl,{Icon:__c.Rt,label:M("SnU4qQ"),onClick:f.HLn,oa:n.oa}))}:
void 0},{equals:nV.shallow});return{QAr:b}};cFs=function({pd:a,$Re:b,vza:c,YA:d,CSe:e,aJf:f,Zn:g,Icc:h}){function k(q,r){l.ste&&c.Cib(l.ste,g,q,r)}const l=new $Es(b,a,e,f,h),n=new aFs(l),p=q=>d.$R.transformPoint(q);return hV(()=>{const q=l.VLh,r=l.ste,t=l.Ebm,v=l.ctn,w=l.gb;return!l.N9c&&q&&t&&v&&w&&r?fV(bFs,{h8:v,tj:r,gb:w,gridTemplateColumns:t.grid.gridTemplateColumns,direction:q?.direction??1,Cib:k,TMj:p,UBi:n.UBi,QDi:n.QDi,ULh:n.ULh}):null})};
gFs=function(a){if(a.Ka!=="responsive"){const r=a.viewport,t=a.szg,v=a.Ljj;a.canvas.jc(()=>t.selected.w7n,(w,x)=>{w.Bg.cTd=x?y=>y.page.page!==r.ya?null:fV(dFs,{YAp:()=>fV(eFs,{viewport:r,Tc:y.Tc,context:x,Lxp:v})}):void 0})}const b=a.canvas,c=a.$Re,d=a.pd,e=a.Zlj,f=a.Spp,g=a.DGh,h=a.YAr,k=a.aJf,l=a.Ppp,n=oV(()=>h.kpn),p=oV(()=>h.YUa),q=oV(()=>k.d_b);b.jc(r=>r===40&&(c.selected.Kw||c.focused.Kw||c.TE.Kw),(r,t)=>{r.Bn.FL.cTd=t?()=>fV(fFs,{AJ:c,pd:d,Lpj:f,Kpj:e,spj:g,czr:n,mHk:p,d_b:q,I_o:l}):void 0})};
hFs=function(a,b,c){return Fj(b).transformPoint(__c.Gj(oj(-c)).transformPoint(a))};nFs=function(a){var b=a.Za;const c=a.viewport;var d=a.vza;const e=a.selection,f=a.Ih,g=a.Icc,h=new iFs(a.$Re,a.KDr,a.pd,g);b=new jFs(h,d,e,b,f,c);if(a.Ka==="responsive"||!a.z1d)return{DGh:kFs(h,b),aJf:h};d=a.SBb;a=new lFs(a.szg,g);return{Ljj:kFs(a,new mFs(a,d,f,c)),BBq:a,DGh:kFs(h,b),aJf:h}};
kFs=function(a,b){return hV(({gd:c=1})=>{const d=a.orientation,e=a.direction,f=a.gap,g=a.UMo,h=a.wGj,k=a.gb,l=a.$ni,n=a.E8a,p=a.Eid,q=a.padding;return d&&l!=null&&f!=null&&g&&h&&k&&!p?fV(oFs,{orientation:d,width:h.sWd*c,height:h.imf*c,onClick:b.onClick,padding:{paddingTop:q.paddingTop*c,paddingRight:q.paddingRight*c,paddingBottom:q.paddingBottom*c,paddingLeft:q.paddingLeft*c},gb:k*c,T$q:g.map(r=>(r*c).toString()+"px"),gap:f*c,$ni:l,onDragStart:b.onDragStart,pe:b.pe,onDragEnd:b.onDragEnd,o0d:n?.o0d,
jzb:n?.jzb,Vbc:n?.Vbc,direction:e,gd:c}):null})};pFs=function(a,b){const c=a.tj.zoom;if(!(a.hDo<a.tj.A1g)){b=b.x-a.bIl.x;a.toc==="right"&&(b*=-1);var d=a.tj.width/c;const e=a.tj.zoom;__c.Vbe(a.Kw,d,Math.max(a.tj.A1g*e,Math.min((a.hDo-b*2)/c,d)),a.tj.Vp.width,e)}};qFs=function(a,b){const c=(a.width-a.gb)/2;return Lj(b.tl.x+c,b.tl.y+a.padding.paddingTop,b.tr.x-c,b.br.y-a.padding.paddingBottom)};
rFs=function(a,b){const c=a.asa,d=a.SJb,e=a.Idm;if(c){var f=c.grid.gridTemplateColumns;b/=a.baq;if(!(d>=f.length||e>=f.length)){a=f.map(k=>parseFloat(k));var g=f.reduce((k,l)=>k+parseFloat(l),0);a=a[d]+a[e];var h=.1*g;b=Math.max(h,Math.min(a-h,b*g));f=[...f];f[d]=`${b}fr`;f[e]=`${a-b}fr`;c.grid.gridTemplateColumns=f}}};
uFs=function(a,b,c,d,e){const f=new sFs(a,c,d,g=>m(b.iN).transformPoint(g),e);return hV(()=>{const {tj:g,C9d:h}=e.selected??{},{width:k,height:l}=h??{};return k!=null&&l!=null&&g&&Vz(g)?.SOc?fV(tFs,{GU:k,nDa:l,paddingTop:g.padding.paddingTop,paddingBottom:g.padding.paddingBottom,gb:g.gb,onDragStart:f.r4r,pe:f.q4r,onDragEnd:f.p4r,toc:e.toc,Icc:e.Icc}):null})};
xFs=function({selection:a,nq:b,CSe:c}){const d=iV(()=>{c.PVg=!0}),e=iV(()=>{c.PVg=!1});b.wv(()=>({toc:c.toc,SOc:(c.selected?.tj!=null&&Vz(c.selected.tj)?.SOc)??!1,Xwr:a.Kb?.type===1&&a.Kb?.only?.type==="layout"}),(f,{toc:g,SOc:h,Xwr:k})=>{f.layout.Jbg=k?g||!h?()=>null:hV(({onDragStart:l,onDragEnd:n,...p})=>{const q=c.selected.Kw;var r=c.selected.tj;const t=c.selected.container,{width:v,height:w}=c.selected.C9d??{},x=q&&r!=null?vFs(r):!1;r=jV((z,B,C,G,H)=>{l(z,B,C,G,H);x&&d()},[l,x]);const y=jV(()=>
{e();n()},[n]);return q&&t&&v!=null&&w!=null?fV(wFs,{width:v,height:w,GYs:x||c.PVg,onDragStart:r,onDragEnd:y,...p}):null}):void 0})};AFs=function(a,b,c,d,e){const f=new yFs(a,b,c,d,e);return{Zlj:hV(()=>{const g=e.focused.Kw,h=e.focused.tj,k=e.focused.C9d,l=e.focused.oGf;return k&&g&&h&&l!=null&&!e.BWs?fV(zFs,{Kw:g,C9d:k,tj:h,oGf:l,onDragStart:f.S3r,pe:f.R3r,onDragEnd:f.Q3r,onMouseEnter:f.onMouseEnter,onMouseLeave:f.onMouseLeave,onClick:f.onClick,lHk:e.lHk}):null})}};
FFs=function({Jd:a,es:b,P:c,Hpf:d,AJ:e}){const f=new BFs(e,d),g=new CFs(f,c);a.plugins.alc=()=>({Sd:()=>!!f.cXd,Button:h=>fV(DFs,{...h}),vv:{sg:()=>{M("BtDtuQ")}},pa:hV(h=>fV(EFs,{...h,Zh:b,N_k:f.cXd?.cellPadding?g.uXi:void 0,cellPadding:f.cXd?.cellPadding?f.PCm:void 0,P3r:f.cXd?.columnGap?g.YRs:void 0,columnGap:f.cXd?.columnGap?f.columnGap:void 0,cds:f.cXd?.rowGap?g.uTs:void 0,rowGap:f.cXd?.rowGap?f.rowGap:void 0}))})};
GFs=function(a,b,c,d,e,f,g){const h=iV((q,r,t,v)=>{b.k$b==null&&(a.TE.erb={container:q,Kw:r,N2c:t&&v?{tb:t,id:v}:void 0})}),k=iV((q,r,t)=>{b.k$b==null&&(a.TE.erb=t!==void 0?{container:q,Kw:r,N2c:void 0}:void 0)}),l=iV((q,r,t,v)=>{switch(v){case "padding":__c.rde(e,q.ew(r),[t]);break;case "before_text":c.qv(t.text,Gw.start());c.focus();break;case "after_text":c.qv(t.text,Gw.end());c.focus();break;default:throw new u(v);}}),n=d({}),p=(q,r)=>e.cwa(q,r);f.Noa.BFh=hV(q=>{const r=q.Tc,t=q.item,v=q.Vp,w=
AV(()=>new __c.$Ib(t,v,r),[t,v,r]);return fV(__c.aJb,{...q,zaa:n,tj:w,hye:g.DDr,cwa:p,onMouseEnter:h,onMouseLeave:k,uLn:l})})};
HFs=async function(a){var b=a.selection.Ma?.pages?.at(0);if(b&&a.ka){if(b.id)var c=new __c.yt({selection:new __c.Pvd({w$c:b.id})});else b=a.session.document.pages.toArray().indexOf(b)+1,c=new __c.yt({P0:b});b=!(!a.fe||!__c.ATe(a.fe))&&a.SBg&&!!a.j$d.y3k;c=__c.sB.iMb({id:a.ka,extension:a.session.extension,Gc:__c.ni(new __c.oi({wa:c}))});try{await a.NP(c),b&&a.P.track(__c.ijk,{ka:a.ka,reason:"private_link_copied",errorMessage:"Private link copied to clipboard",Flb:"copy_page_link",location:"toast_message"}),
a.ma.Ib({Db:b?M("jjR/oQ"):M("dYyNFQ"),media:{content:b?fV(Xt,{size:"medium"}):fV(Tx,{size:"medium"})},Jq:b&&a.j$d.y3k?{buttonText:M("dxl/gA"),onClick:a.j$d.y3k}:void 0}),a.P.track(Wff,{action:"copy",contentType:"page_link",mb:"menu"}),a.P.track(__c.gjk,{medium:"link",location:"page_menu",Jub:a.document&&a.fe?__c.Sik(a.document.xc.extension,a.fe.Kpa,a.fe.kX):void 0})}catch(d){a.errorService.ra(d)}}};
JFs=function(a){const b=a.Jd,c=a.Kh,d=a.ma,e=a.P,f=a.session,g=a.la,h=__c.Zo();if(a.Ka!=="responsive"){var k=zf(f.document),l=new IFs(a.j$d,a.selection,d,e,f,a.ka,h,a.errorService,a.document,a.Owd,a.SBg,a.fe);if(l.zPp){const n=()=>HFs(l),p={Button:hV(r=>fV(r.rl,{label:M("J3oYlg"),disabled:a.selection.Ma?.pages?.length!==1,onClick:n,Icon:to,oa:r.oa}))};c.jc(()=>a.selection.Ma?.type==="pages"&&(!a.selection.Ma.inner||g.layout===2&&a.selection.Ma.inner.type==="background"),(r,t)=>{r.hDc=t?p:void 0});
const q={Button:({yi:r,onClick:t,...v})=>{const w=jV(()=>{t&&t();HFs(l)},[t]);return fV(r,{...v,icon:to,zh:"icon-and-label",onClick:w,children:M("J3oYlg")})}};b.plugins.hDc=()=>({Sd:()=>a.selection.Ma?.type==="pages"&&!a.selection.Ma?.inner,...q});a.E0d&&gV(()=>a.E0d?.get()?.selection?.w$c,r=>{if(r){const t=k.ia.pages.first(v=>v.id===r);t&&a.selection.pW(k,t)}})}}};
KFs=function(a,b){if(b.startsWith(location.origin)){var c=DJa(b);if(c&&c.id===a.ka)try{const d=(new URL(b)).searchParams.get("ui")??void 0,e=__c.MJa(d)?.wa?.selection?.w$c;return e?a.document.pages.first(f=>f.id===e):void 0}catch{}}};MFs=function(a,b){const c=a.store.ijo;if(c){var d=!!a.store.link;c.forEach(({JFr:e})=>{e.set(b)});a.store.Xob&&LFs(a,b);b&&a.ma.Ib({Db:d?M("vgGQGQ"):M("wStY/A")});a.mne({type:c[c.length-1].UOa.ia.type})}};
NFs=function(a,b){if(a.store.Xob){var c=a.mc.state?.type==="multi-config"?__c.$A(a.mc.state):a.mc.state,d=!!a.store.link;a.mc.select(a.store.Xob);a.mc.setContext({[4]:void 0});LFs(a,b);c||a.mc.deselectAll();b&&a.ma.Ib({Db:d?M("vgGQGQ"):M("wStY/A")});a.mne({type:"text",rBj:!0})}};OFs=async function(a,b){var c=a.store.mz;const d=!!a.store.link;if(c){var e=c.sheet;c=c.anchor;b?await a.FK?.Hjg(e,[c],b):a.FK?.kRi(e,c);b&&a.ma.Ib({Db:d?M("vgGQGQ"):M("wStY/A")});a.mne({type:"sheet-cell",rBj:!1})}};
LFs=function(a,b){const c=b==="";a.store.OTi&&(a.store.OTi.set(b),a.store.$3a?.inner?.type==="sheet"&&a.mc.setAttributes({color:c?void 0:bB.color}))};QFs=async function(a,b){try{const c=await a.ii.Usa(new __c.Iod({user:a.X.user.id,brand:a.X.Ab.brand.id,types:[1],query:b,Gy:3,limit:5})),d=PFs(a,c)?.map(a.Ccm)||[];return await Promise.all(d)}catch(c){a.errorService.ra(c,{La:`Failed to search for designs with query: ${b}`})}};
PFs=function(a,b){if(b.items&&b.items.length){var c=Math.min(b.items.length,4);return b.items.map(d=>({id:d.id,title:d.name,href:__c.sB.iMb({id:d.id,extension:d.document?.extensions?.default}),Ks:d.thumbnail&&d.thumbnail.url,width:d.thumbnail&&d.thumbnail.width||40,height:d.thumbnail&&d.thumbnail.height||40,nr:d.nr})).filter(d=>d.id!==a.ka).slice(0,c)}};
RFs=async function(a,b){const c=a.Za.$qg(),d=a.undo.startBuffering();try{const f=a.Ww.$ib,g=a.Ww.link,h=a.Ww.jKf;if(f&&g?.href){var e=await a.Fv.wL(g.href);await rV(async()=>{if(a.Za.state?.type==="RANGE"&&c?.Sc){var k=a.Za.state.oB;k?a.Za.Nw(c.Sc,k):(a.Za.qv(c.Sc,c),a.Za.TLf(g.href));a.Za.vR();var l=DJa(g.href);l=h&&g.href&&g.href===h&&l?M("PwCL7w"):h;await b(f,g.href,e.title||l,k?.width)}})}}finally{rV(()=>{d.stop();c?.disconnect()})}};
SFs=function(a){switch(a){case "iframe":case "pill":return"item";case "link":return"text";default:throw new u(a);}};TFs=function(a,b,c){c=c(b).then(iV(d=>{a.Yzb.delete(b);a.store.Jol.set(b,d);return d})).catch(iV(d=>{a.Yzb.delete(b);d instanceof __c.dm&&a.vVm.add(b);throw d;}));a.Yzb.set(b,c)};WFs=function(a){const b=new UFs,c=new VFs(b,d=>a.ILj({url:d,maxWidth:void 0,maxHeight:void 0}));return{Kol:b,pIs:c}};
XFs=async function(a,b){b=(new URL(b)).pathname;b=DJa(b);if(!b)return[];try{const {document:c}=await a.Gb.getDocument(new __c.Ws({id:b.id,extension:b.extension,nHa:!0}));return c.draft.content.pages}catch{return[]}};YFs=function(a){if(a.Ww.link?.type==="url"&&a.Ww.link.href){var b=a.Ww.link.href;XFs(a,b).then(iV(c=>{b.includes("include_page_ids")?a.kaj({pages:c,uId:null,w_e:__c.ENr(b)}):a.kaj({pages:c,uId:null,w_e:null});a.store.ENm=a.store.uId.slice().sort().join(",");a.store.vBe=a.store.uId}))}};
ZFs=async function(a,b,c){const d=a.Za.$qg(),e=a.Ww.DOa?.oB,f=a.undo.startBuffering();try{if(e?.type==="embed"){var g=e.url;g&&(await a.Fv.wL(g),await rV(async()=>{d?.Sc&&(e&&a.Za.Nw(d.Sc,e),a.Za.vR(),await b(c,{width:e.width,maxWidth:e.maxWidth}))}))}}finally{rV(()=>{f.stop();d?.disconnect()})}};
dGs=function({ka:a,U5a:b,Zo:c,qa:d,qc:e,P:f,Fv:g,LV:h,Gb:k,Yl:l,errorService:n,ii:p,X:q,ma:r,uns:t,K6g:v,V:w,undo:x,...y}){const {Bbg:z,Gsf:B}=$Fs({ka:a,Yl:l,errorService:n,ii:p,X:q}),C=new __c.ZNr(y.Ww,c,g,t?.USc,B),G=new __c.XNr(C,b,v,B),{Kap:H}=aGs({...y,LFr:G,Gb:k,ma:r,Fv:g,qa:d,qc:e,P:f,LV:h,V:w,undo:x}),{Igf:K,ePb:L,yal:N}=bGs({...y,Gb:k,ma:r,Fv:g,qc:e,P:f,undo:x}),{Qqp:P}=cGs(),T=t?hV(()=>fV(t.Hre,{Aud:C.ju,P0:C.P0,P$:G.P$})):void 0,V=hV(()=>fV(z,{Qk:C.Qk,qAd:C.qAd,T2f:C.T2f,D0a:G.D0a})),W=
hV(na=>fV(P,{...na,Bbg:C.qAd?V:void 0,Hre:T,O5r:G.w8m})),aa=hV(na=>fV(__c.dOr,{...na,value:C.njc,error:C.ODd!=="none",WSe:C.WSe,onChange:G.G1k,onSubmit:G.H1k})),ba=hV(na=>{const qa=na.oa,ua=na.Tub,za=jV(()=>{G.onSubmit();qa?.()},[qa]),va=jV(()=>{G.onRemove();qa?.()},[qa]);return fV(ua?__c.iOr:__c.hOr,{...na,Tqb:C.Tqb,CCd:L.CCd,link:C.link,sdc:C.sdc,loading:C.Ltc,O$:za,onCopy:b.onCopy,Tec:G.Tec,onRemove:va})}),da=hV(()=>fV(__c.fOr,{onClick:b.onCopy,disabled:C.link.type==="page"||!C.Tqb})),la=hV(()=>
fV(__c.gOr,{onClick:G.onRemove,disabled:!C.Tqb})),ja=hV(na=>fV(__c.eOr,{...na,disabled:C.Ltc,MFa:C.MFa,value:C.ju,error:C.R0i,sdc:C.sdc,ifa:C.ifa,$vd:C.$vd,Hx:C.Hx,onSubmit:G.onSubmit,onChange:G.n1b,$i:G.Kjb,onFocus:G.EIi,sEf:G.sEf,o6e:G.o6e})),oa=()=>{G.Nda();YFs(N)},ma=()=>{G.GX();N.PGm()};return{Ncg:hV(na=>{const qa=!!T||C.qAd,ua=oV(()=>y.Ww.lYg);return fV(__c.bOr,{...na,Tub:C.Tub,mWe:C.mWe,open:C.open,rdc:C.WLk,ODd:C.ODd,Tqb:C.Tqb,Ltc:C.Ltc,DDe:C.DDe,j8e:C.j8e,onBlur:G.Mpg,Nda:oa,GX:ma,JF:G.JF,
selection:ua,Buttons:ba,rq:ja,zea:qa?W:void 0,Mcg:aa,xnd:H,Igf:K,ZEh:da,hIh:la})})}};gGs=function({document:a,ne:b}){const c=new eGs(a);a=hV(({Aud:d,P0:e,P$:f})=>{d=c.K4m(d);return fV(fGs,{pages:d,P0:e,jsc:c.jsc,onSelect:f,ne:b})});return{store:c,Hre:a}};iGs=async function(a,b,c){const d=a.ZP(b,c);if(!d)throw Error("Cell has no URL to embed");const e=await a.Fv.fetch(d);rV(()=>{hGs(a,b,[c],e)})};
hGs=function(a,b,c,d){a.fd.Ew(e=>{for(const l of c){var f=e,g=b,h=l,k=d;f.setAttributes(g,h,{link:void 0,decoration:void 0,color:void 0});f.faa(g,h,__c.Wge([{embed:{text:k.text?k.text:k.url,url:k.url}}]));f.m2(g,h,{type:"embed",Fj:void 0})}})};jGs=function(a,b,c){a.fd.Ew(d=>{for(const g of c){var e=d,f=b;a.isEmpty(f,g)&&(e.setAttributes(f,g,{link:void 0,decoration:void 0,color:void 0}),e.m2(f,g,{type:"embed",Fj:void 0}),e.faa(f,g,__c.rQd))}})};
kGs=function(a,b){return(a=DJa((new URL(a)).pathname))?b?b.wpa(new __c.In(a)):Promise.reject(Error("DocumentService not provided")):Promise.reject(Error("Invalid document path"))};oGs=function(a,b,c){const d=new lGs(c);b=new mGs(b,d,c);return{FK:a&&new nGs(a,b),v7e:d}};
sGs=function(a){const b=a.v7e,c=a.mc,d=a.Gj,e=a.Kh,f=a.la,g=a.S5a,h=a.Ncg,k=new pGs(a.FK,b,a.rVs,a.Ww,a.selection),l=new qGs(k,b,e),n=rGs(k,l,g,h);d.Bn.jc(p=>{if(p===40&&f.layout!==2)return k.selection},(p,q)=>{q?(l.open(q.link),p.FL.a7b=hV(r=>fV(n,{selection:q,page:r.page.type==="responsive-page"?r.page.ia:void 0}))):(l.close(),p.FL.a7b=void 0)});d.jc(p=>{if(p===40&&c?.state?.type!=="focused"&&f.layout!==2)return k.selection},(p,q)=>{q?(l.open(q.link),p.Bg.a7b=hV(r=>fV(n,{selection:q,page:r.page.ia}))):
(l.close(),p.Bg.a7b=void 0)});return{GVs:l}};rGs=function(a,b,c,d){const e=tGs(a,b,c,d);return hV(f=>{const g=f.selection;return fV(__c.Yz,{wz:g.FE,page:f.page,Amc:g.anchor,overflow:!0,children:fV(uGs,{anchorPoint:g.anchorPoint,children:fV(e,{selection:g})})})})};
tGs=function(a,b,c,d){const e=hV(()=>fV(d,{oa:b.Pye,We:"fixed"})),f=hV(()=>fV(vGs,{open:a.Vw,onClick:b.EPd,oa:b.Pye,tjj:e}));return hV(g=>{g=g.selection;if(g.link.type===2)return fV(wGs,{Vw:a.Vw,tjj:e});const h=c(g.link.url);if(!h)return null;g=hV(()=>fV(xGs,{gYg:h,uIo:a.hui}));const k=a.yme,l=a.thumbnail;if(k&&l){const n=hV(()=>fV(yGs,{thumbnail:l,gYg:h}));return fV(zGs,{title:k,Sff:n,Xeg:g,Qbg:f})}return k?fV(AGs,{title:k,Xeg:g,Qbg:f}):fV(BGs,{Xeg:g,Qbg:f})})};
RGs=function(a){var b=a.selection;const c=a.Pa;var d=a.Zo,e=a.kYg;const f=a.Fv,g=a.LV,h=a.Gb,k=a.P,l=a.keyboardShortcuts,n=a.yco,p=a.kJa,q=a.toolbar,r=a.Jd,t=a.dda,v=a.Kh,w=a.qc;var x=a.fd;const y=a.Gj,z=a.viewport;var B=a.hb;const C=a.qa,G=a.pd,H=a.ma,K=a.he,L=a.session,N=a.X;var P=a.ka;const T=a.ii,V=a.errorService,W=a.la,aa=a.Yl,ba=L.undo;let da,la;const ja=a.Ha.Vd("editor.editing.linking");var oa=new __c.HNb(h);const ma=__c.Zo(),{FK:na,v7e:qa}=oGs(x,f,h);x=a.Za;B=new CGs(B,z);const ua=new DGs(b,
x,na,B,c,W,d,oa,N);var za=new EGs(w,f,oa,x,H,ba);const va=new FGs(ua,za,na,x,H,k,P,ma);if(a.Ka!=="responsive"){const ab=a.viewport;B=a.selection;const Ta=a.mc,mb=a.ne,pb=new GGs(a.session),{store:xb,Hre:nb}=gGs({document:a.session.document,ne:mb});oa=new HGs(e,B,c,Ta,ua,na,q,W,xb,d,oa,N);za=new IGs(a.session.document,oa,za,B,f,H,ba,ja,w);P=new JGs(e,oa,za,va,na,pb,B,Ta,ab,H,k,P,ma,ba,a.session.document);e={USc:xb,Hre:nb};da=oa;la=P;x={Ka:a.Ka,A$b:za,selection:B,document:a.session.document,Ww:oa,FK:na,
mc:Ta,Za:x}}else da=ua,la=va,e=void 0,x={Ka:a.Ka,A$b:za,Ww:ua,FK:na,Za:x};const {Ncg:xa}=dGs({...x,ka:L.id,U5a:la,Zo:d,qa:C,qc:w,P:k,Gb:h,Fv:f,LV:g,Yl:aa,errorService:V,ii:T,X:N,ma:H,uns:e,K6g:()=>{setTimeout(()=>{da.Z3b&&Oa&&v.sX(Oa)&&da.lxa&&(q.BF?.dC(da.lxa),v.Tsd())})},V:ja,undo:ba}),Ba={Button:hV(ab=>{const Ta=ab.onClick,mb=ab.open,pb=jV(()=>{Ta?.();!mb&&la.sQf("link")},[Ta,mb]);return fV(KGs,{...ab,onClick:pb,state:da.iKf,selected:da.KOi})}),vv:{sg:()=>M("vcZEOw")},pa:xa};r.plugins.Link=iV(()=>
{da.lxa={Sd:()=>da.k8e,...Ba};return da.lxa});const pa={Button:hV(ab=>{const Ta=ab.onClick,mb=ab.open,pb=jV(()=>{Ta?.();!mb&&la.sQf("link")},[Ta,mb]);return fV(KGs,{...ab,onClick:pb,state:da.iKf,selected:!1})}),pa:xa};t?t.Link=()=>{da.lxa={Sd:()=>da.Z3b,...pa};return da.lxa}:q.BF?.jc(()=>da.Z3b,(ab,Ta)=>{da.lxa=Ta?pa:void 0;ab.Link=()=>da.lxa});const ia=ab=>({Button:hV(Ta=>fV(LGs,{...Ta,link:ab,label:da.jKf||"",tooltip:da.bui||"",icon:da.hYg,layout:W.layout,onClick:la.Tec,disabled:da.hKf}))}),wa=
{Button:hV(ab=>fV(MGs,{...ab,onClick:la.onCopy}))};r.plugins.rfb=()=>({Sd:()=>da.n8e,...ia(da.link)});r.plugins.enb=()=>({Sd:()=>da.$7e,...wa});t?(t.rfb=()=>({Sd:()=>da.n8e,...ia(da.link)}),t.enb=()=>({Sd:()=>da.$7e,...wa})):(q.BF?.jc(()=>da.n8e?da.link:void 0,(ab,Ta)=>{ab.rfb=Ta?()=>ia(Ta):void 0}),q.BF?.jc(()=>da.$7e,(ab,Ta)=>{ab.enb=Ta?()=>wa:void 0}));d=NGs(d,la);const Ca=new OGs(b,z,G,c),{GVs:Ha}=na?sGs({mc:a.Ka!=="responsive"?a.mc:void 0,selection:b,FK:na,rVs:Ca,v7e:qa,Kh:v,Gj:y,la:W,S5a:d,
Ww:da,Ncg:xa}):{};let Oa;const Ka=ab=>()=>{if(q.BF&&!q.BF.hidden&&da.lxa&&da.lxa.Sd?.())q.BF.dC(da.lxa);else if(Ba.Sd?.())q.BF?.dC(Ba);else if(Ha?.isOpen)Ha.aMa();else if(Oa)da.mz&&Ca.NMj&&v.VOb(Ca.NMj,"sheet","right_click"),v.E7(Oa);else return;la.sQf(ab)},Ua=ab=>()=>{na&&da.mz&&jGs(na,da.mz.sheet,da.mz.cells);Ka(ab)()},cb=Pk("k");b=[cb,iV(Ua("link_keyboard_shortcut")),M("vcZEOw"),["edit","suggest"]];l?.register(b);n.register(b);p.register(b);v.jc(()=>({Mid:da.Mid,To:W.layout===2}),(ab,{Mid:Ta,To:mb})=>
{Oa=Ta?{Button:pb=>{const xb=mb?()=>pb.Gg?.$g({hf:xa,options:{sg:()=>M("vcZEOw")}}):Ka("link_context_menu");return fV(PGs,{...pb,state:da.iKf,Dm:cb,onClick:xb})},pa:xa}:void 0;ab.Link=Oa},{equals:nV.structural,i7n:!0});K?.ym(()=>da.x8e,{type:"simple",key:"link",name:M("vcZEOw"),Icon:to,execute:async()=>{Ka("quick_actions")()}});K?.ym(()=>da.Wph,{type:"simple",key:"link-insert",name:M("vcZEOw"),Icon:to,execute:async()=>Ua("quick_actions")()});a.Gj.hk=d;a.Gj.afa.hk=d;a.Ka!=="responsive"&&gV(()=>c.mode,
ab=>{switch(ab){case 30:case 40:a.Gj.DGa.MGh=void 0;break;case 20:a.Gj.DGa.MGh=new QGs(a.selection);break;case 10:a.Gj.DGa.MGh={g3f:()=>!0};break;default:throw new u(ab);}},{fireImmediately:!0});return{FK:na}};SGs=function(a){gV(()=>a.lu,b=>{b&&(a.store.$qi=!0)});gV(()=>a.selection.Ma,()=>{a.store.$qi=a.lu})};TGs=function(a,{action:b,WM:c,ITe:d,location:e,ob:f}){b={ka:"",action:b,WM:c,ITe:d,location:e};f?(f.addEvent("actioned"),Uo({ob:f,P:a.N,event:__c.Ovh,props:b})):a.N.track(__c.Ovh,b)};
UGs=function(a){return a.map(b=>{switch(b){case Ol.Sw:return"content";case Ol.JJa:return"text_formatting";case Ol.COLOR:return"color";case Ol.Bnd:return"effects";default:throw new u(b);}})};
VGs=function(a,{selection:b,locked:c,WM:d,location:e,ob:f}){const g=[];switch(b.type){case "audio":break;case "pages":if(!b.inner){b=b.pages.filter(h=>h.type!=="responsive");b.forEach(h=>a.Ac.vWc(h,c,d));b.length>1&&g.push("page");break}switch(b.inner.type){case "pages":if(!b.inner.inner){b.inner.pages.forEach(k=>a.Ac.vWc(k,c,d));g.push("page");break}switch(b.inner.inner.type){case "background":b.inner.inner.Hc.forEach(k=>{a.Ac.RYi(k,c)});g.push("background");break;default:throw new u(b.inner.inner.type);
}break;case "background":const h=b.inner.page;if(h.type==="responsive")return;if(ug(h.dimensions||a.document.dimensions))break;b.inner.Hc.forEach(k=>{a.Ac.RYi(k,c)});g.push("background");break;case "sheet":case "sheet-cell-media":break;default:throw new u(b.inner);}break;case "elements":b.elements.forEach(h=>{a.Ac.jxl(h,c,d);g.push(h.type)});break;default:throw new u(b);}TGs(a,{action:c?"locking":"unlocking",WM:d!=null?UGs(d).join(","):"",ITe:g.join(","),location:e,ob:f})};
WGs=function({document:a,viewport:b,ne:c}){var d=c&&__c.JAr(({Bd:f,vd:g,Df:h,ptf:k})=>{f=[...a.pages][f-1];return fV(__c.jPm,{Y6a:!k&&f.draft,children:fV(c,{vd:g,Df:h,page:zf(a).xb(f)})})});const e=oV(()=>{const f=b.ya;return f!=null&&a.pages.has(f)?[...a.pages].indexOf(f):0});d=__c.Jgo({DCg:!1,nra:d,Wo:e});return __c.n7n({dDc:d,xDc:__c.p7n()})};XGs=function(a){const b=new Map;b.set("pages",Array.from(a).join(","));return b};
YGs=function(a){switch(a){case 0:return"CX3XCQ";case 1:return"r4r9MA";case 2:return"HJl02Q";case 3:return"GuWP5w";default:throw Error("indentation not supported");}};ZGs=function(a){a.store.DAi&&(a.store.DAi.selected=!1,a.store.DAi=void 0);a.store.n3g&&(a.store.n3g.selected=!1,a.store.n3g=void 0)};
dHs=function(a,b){if(!a[0])return{tree:[],zjo:void 0};b=b[0];let c;var d=$Gs(a);const e={};__c.ESb(d,4).forEach((k,l)=>{k.forEach(n=>{n=Math.round(__c.FSb({fontSize:n.attrs["font-size"],fontWeight:n.attrs["font-weight"]}));e[n]=l})});d=new __c.Si("outline-tree-");const f=new aHs(d.next(),-1,void 0);let g=f;for(const k of a){var h=(a=k.ugk)?Math.round(__c.FSb({fontSize:a.fontSize,fontWeight:a.fontWeight})):0;const l=e[h];a=b===k;if(l==null||l>=3||h<bHs||cHs(()=>k.axc.get().trim()===""))g.selected=
g.selected||a,a&&(c=g);else{h=new aHs(d.next(),l,k);for((h.selected=a)&&(c=h);g.level>=h.level&&g.parent;)g=g.parent;h.parent=g;g.children.push(h);g=h}}return{tree:f.children,zjo:c}};$Gs=function(a){a=a.map(c=>__c.vSb(c.ugk));const b=new Map;a.forEach(c=>{const d=__c.wSb(c),e=b.get(d);e?e.frequency++:b.set(d,{attrs:c,frequency:1})});return[...b.values()]};eHs=function(a,b){return a.Pa.mode<40?!0:b.draft?!1:a.document.pages.filter(c=>!c.draft).length<=1};
fHs=function(a,b){return a.Pa.mode<40?!0:b.ia.draft?!1:b.container.pages.filter(c=>!c.draft).length<=1};hHs=function(a,b,c){const d=a.V.wb("unhide_pages",{Hb:{name:`editor.page_drafting.${b}_unhide_pages`}});gHs(a,c,!1);a.NI("unhide",b,d,c);d.qe()};iHs=function(a,b){const c=a.V.wb("unhide_sections",{Hb:{name:"editor.page_drafting.page_controls_unhide_sections"}});b.forEach(d=>{d.ia.draft=!1});b=b.map(d=>d.container?.ia);a.NI("unhide","page_controls",c,b);c.qe()};
jHs=function(a,b){const c=a.V.wb("hide_sections",{Hb:{name:"editor.page_drafting.page_controls_hide_sections"}});b.forEach(d=>{d.ia.draft=!0});b=b.map(d=>d.container?.ia);a.NI("hide","page_controls",c,b);c.qe()};gHs=function(a,b,c){b.forEach(d=>{d.draft=c;d.type!=="responsive"&&kHs(a,d)})};kHs=function(a,b){if(b.draft)switch(a=c=>{c.elements.Er(d=>Yv(d))},b.type){case "fixed":a(b);break;case "concatenated-fixed":b.pages.forEach(a);break;default:throw new u(b);}else a.qc.Vte?.(b)};
lHs=__c.lHs=function(a,b){a.N.track(__c.b8g,b)};mHs=function(a,{Ogn:b,KXm:c,mb:d,Tb:e}){a.N.track(__c.agf,{action:"reorder",mb:d,Tb:e,fXc:b.map(String),p6i:c.map(String),location:"page_navigator",rz:0})};oHs=function(a,{action:b,previous:c,current:d,mb:e,Tb:f}){a.N.track(nHs,{action:b,Jfd:c,wWj:d,mb:e,Tb:f})};qHs=function(a,{GJ:b,Tb:c,mb:d}){a.N.track(pHs,{eet:b?"fixed":"scaled",Tb:c,mb:d})};sHs=function(a,{Ffl:b,XVj:c,sYk:d,Tb:e}){a.N.track(rHs,{action:"resize",Ffl:b,XVj:c,sYk:d,Tb:e})};
tHs=function(a,b){const c=Math.round(b.width),d=Math.round(b.height);if(a){if(c<=0||d<=0)return a;switch(b.units){case 1:return J("5fKDgA",[a,c,d]);case 3:return J("XW7xhg",[a,c,d]);case 2:return J("I87Viw",[a,c,d]);case 4:return J("E2FYXw",[a,c,d]);default:throw Error("Invalid unit type");}}};xHs=function({mha:a,$T:b}){return{TZc:hV(({page:c,lGd:d,className:e})=>{const f=jV(()=>{a.BDl(c)},[c]);return fV(uHs,{className:e,onClick:f,oYk:d.Hga,yNe:d.yNe})}),MZc:b?c=>fV(vHs,{...c,$T:b}):void 0,KKt:wHs}};
yHs=function(a,b){const c=lJe(a,b);return{iIl:xqs(a,b)/c*100,g9h:(b.transition.ref?.durationUs||0)/1E6/c*100}};AHs=function({nz:a,bAa:b,jx:c,gL:d,document:e,XH:f}){const g=k=>e.pages.previous(k),h=k=>e.pages.previous(k,l=>!l.draft);return({page:k,oc:l})=>fV(zHs,{nz:a,bAa:b,gL:d,jx:c,XH:f,S7q:g,P7q:h,page:k,oc:l})};BHs=function(a,b){const c=a.props.I0b,d=a.props.durationUs;return{type:b,x7d:b==="end"?c+d:c,Ssn:void 0,nRg:a.props.qp.scrollLeft,deltaX:0}};
DHs=function(a,{DFf:b}){return(a=__c.Ei(a.targets.get(),c=>Math.abs(b-c.TEa)))&&CHs(a,b)?a?.TEa:void 0};GHs=function(a,{TEa:b,DFf:c,xJf:d,Cbe:e}){return EHs(a,{TEa:b,DFf:c,xJf:d})||FHs(a,{Cbe:e})};EHs=function(a,{TEa:b,DFf:c,xJf:d}){if(a.BJf==null||d==null)return!1;d=Math.abs(b-c)>Math.abs(b-d);return a.BJf.A2s===b-c>0&&d};FHs=function(a,{Cbe:b}){const c=m(a.BJf);return b-c.ID>a.z2s};
HHs=function({Crl:a,yrl:b,Z5:c,page:d}){if(d.type==="responsive-page"||d.type==="concatenated-fixed-page")return{left:0,top:0,width:a,height:b};d=c.width/c.height;if(d<.9)return b=a*.6/c.width,d=c.width*b,{left:(a-d)/2,top:8,width:d,height:c.height*b};if(d>1.1)return a/=c.width,d=c.height*a,{left:0,top:(b-d)/2,width:c.width*a,height:d};const e=Math.max(a/c.width,b/c.height);d=c.width*e;c=c.height*e;return{left:d>a?-((d-a)/2):0,top:c>b?-((c-b)/2):0,width:d,height:c}};
JHs=function(a,b){if(!b.GJ&&IHs(b,a))return a.Hc.first()?.color};KHs=function({r:a,g:b,b:c}){return`radial-gradient(100% 120% at 0% 120%, rgba(${a}, ${b}, ${c}, 0.8) 55%, rgba(0, 0, 0, 0))`};LHs=function({r:a,g:b,b:c}){return`rgba(${a}, ${b}, ${c}, 0.6) 0px 0px 5px, rgb(${a}, ${b}, ${c}) 0px 0px 8px`};MHs=function({r:a,g:b,b:c}){return`drop-shadow(0 0 5px rgb(${a} ${b} ${c} / 60%)) drop-shadow(0 0 8px rgb(${a} ${b} ${c}))`};
OHs=function(a){switch(a.type){case "fixed":return NHs(a);case "concatenated-fixed":return{gradient:{background:KHs({r:255,g:255,b:255})},text:{color:"#000000",textShadow:void 0},icon:{color:"#000000",filter:void 0}};case "responsive":return{gradient:{background:KHs({r:255,g:255,b:255})},text:{color:"#000000",textShadow:void 0},icon:{color:"#000000",filter:void 0}};default:throw new u(a);}};
NHs=function(a){if(a.draft||a.Hc.first()?.image.ref||a.Hc.first()?.video.ref||a.Hc.first()?.gradient.ref)return{gradient:{background:"radial-gradient(100% 120% at 0 120%, rgba(13, 18, 22, 0.8), rgba(0, 0, 0, 0))"},text:{color:"#ffffff",textShadow:"0 0 5px rgb(13 18 22 / 60%), 0 0 8px rgb(13 18 22 / 70%)"},icon:{color:"#ffffff",filter:"drop-shadow(0 0 5px rgb(13 18 22 / 60%)) rgb(13 18 22 / 70%))"}};a=a.Hc.first()?.color;if(!a)return{gradient:{background:KHs({r:255,g:255,b:255})},text:{color:"#000000",
textShadow:void 0},icon:{color:"#000000",filter:void 0}};const b=$h(a);a=Di(["#000000","#ffffff"],c=>__c.mj(c,b))==="#000000";return{gradient:{background:KHs(b)},text:{color:a?"#000000":"#ffffff",textShadow:LHs(b)},icon:{color:a?"#000000":"#ffffff",filter:MHs(b)}}};
PHs=function(a,b,c){b=a.type==="fixed"&&b.a9d(a)&&!hf(a)&&(!ug(b.document.dimensions)||c.c6>1);if(hf(a))return __c.PF;if(b)return __c.xwf;if(a.type==="concatenated-fixed")return __c.VN;if(a.re?.type==="inline")return __c.jHh;if(a=c.i_(a,__c.WQj))switch(a){case 9:return BV.nGq?__c.so:__c.UPm;case 1:return __c.UPm;case 2:return __c.Xck;case 3:return __c.xwf;case 4:return __c.g7j;case 5:return __c.wPn;case 6:return __c.XC;case 7:return __c.VN;case 8:return __c.PF;default:throw new u(a);}};
QHs=function(a,b){b=a.Uqd.Sgi(b);if(b===-1)throw Error("Audio track not found in audio timeline");const c=a.FJc>0?Uc:0,d=a.Uqd.height.get()>0?Uc:0;return{top:a.qVc+a.FJc+c+a.vZf.height+d+b*a.Uqd.rowHeight.get(),rowHeight:a.Uqd.rowHeight.get()}};SHs=function(a){const b={vZf:{height:CV}};a=new RHs(b,a);return{hdc:b,Bfa:a}};
THs=function(a,b,c){if(c&&(c=a.hb.i_(c,__c.WQj),a=a.hb.c6>1,BV.vFq&&b.data.type==="searchMedia"&&(b.data.kind==="searchImageMedia"||b.data.kind==="searchPrivateMedia")&&(a||c!==6))){b=b.data.media.files.filter(f=>f.quality<=7).sort((f,g)=>g.quality-f.quality);const {height:d,width:e}=b[0];if(e&&d)return{type:"fixed",dimensions:{width:e,height:d,units:4},re:{type:"inline",hH:void 0}}}};
VHs=function(a,b,c){a.pJc===void 0&&a.store.ya!==c&&UHs(b)&&(a.pJc=window.setTimeout(()=>{a.store.lL(c);a.Ngd()},750))};
WHs=function(a,b,c){a.pJc===void 0&&a.store.ya!==c&&(a.pJc=window.setTimeout(()=>{switch(b.data.type){case "editingElements":a.HH.W4h(c);a.store.ui&&a.store.lL(c);a.Ngd();break;case "searchMedia":case "video":case "audio":case "template":case "pageView":case "generatedDesign":case "searchShape":case "line":case "table":case "grid":case "layout":case "design":case "embed":case "chart":case "appElement":case "textParagraph":case "textPlaceholder":case "datasetFieldPlaceholder":case "pageNumbers":case "widget":case "sheet":case "file":a.store.lL(c);a.Ngd();
break;default:throw new u(b.data);}},750))};
UHs=function(a){switch(a.data.type){case "chart":const b=a.data.Zb.config;a=a.data.Zb.jTa==="state"?b.type:__c.Bme(b.type);return __c.bdk(a,"responsive");case "table":case "video":case "searchMedia":case "embed":case "layout":case "sheet":case "template":case "design":return!0;case "editingElements":case "audio":case "pageView":case "generatedDesign":case "searchShape":case "line":case "grid":case "appElement":case "textParagraph":case "textPlaceholder":case "pageNumbers":case "widget":case "file":case "datasetFieldPlaceholder":return!1;default:throw new u(a.data);
}};
YHs=async function(a,b,c,d){b={data:b.data,positions:void 0};a.Ngd();b.data.type!=="editingElements"&&a.store.viewport.uE(c);a:switch(c.type){case "fixed-page":var e=c;break a;case "concatenated-fixed-page":e=c.xb(c.pages.first());break a;case "responsive-page":throw new __c.Lw;default:throw new u(c);}switch(b.data.type){case "editingElements":a.HH.W4h(c.page,"to-origin");a.store.ui&&(await ka(0),a.store.viewport.uE(c));break;case "searchMedia":switch(b.data.kind){case "futureSearchMedia":case "searchImageMedia":case "searchPrivateMedia":d=XHs(a,
e);b=b.data;b.kind!=="futureSearchMedia"?b={type:"image",image:Xef(b.media)}:(b=await b.future,b=b.type==="static"?{type:"image",image:Xef(b.media)}:{type:"video",video:b.video});d&&a.km.n1a(d,b);break;default:a.cAa.qEe(e,b,{location:"page_navigator",vvc:d})}break;case "video":c=await b.data.video;if(c.contentType==="STICKER"){a.cAa.qEe(e,b,{location:"page_navigator",vvc:d});break}d=XHs(a,e);b={type:"video",video:c};d&&a.km.n1a(d,b);break;case "audio":a.cAa.qEe(e,b,{location:"page_navigator",vvc:d});
break;case "template":case "pageView":case "generatedDesign":case "searchShape":case "line":case "table":case "grid":case "layout":case "design":case "embed":case "chart":case "appElement":case "textParagraph":case "textPlaceholder":case "pageNumbers":case "widget":case "sheet":case "file":a.cAa.qEe(e,b,{location:"page_navigator",vvc:d});break;case "datasetFieldPlaceholder":break;default:throw new u(b.data);}};
ZHs=async function(a,b,c,d){b={data:b.data,positions:void 0};a.Ngd();b.data.type!=="editingElements"&&a.store.viewport.uE(c);switch(b.data.type){case "chart":case "table":case "video":case "searchMedia":case "embed":case "layout":case "template":case "design":case "sheet":await a.cAa.qEe(c,b,{location:"page_navigator",vvc:d});break;case "editingElements":case "audio":case "pageView":case "generatedDesign":case "searchShape":case "line":case "grid":case "appElement":case "textParagraph":case "textPlaceholder":case "pageNumbers":case "widget":case "file":case "datasetFieldPlaceholder":break;
default:throw new u(b.data);}};XHs=function(a,b){const c=a.q5q(b,b.page.elements.toArray());return c.length?c.reduce((d,e)=>d.lr.width*d.lr.height>e.lr.width*e.lr.height?d:e):__c.wy.gda(b,a.Uh.aib(b.page))};$Hs=async function(a,b,c,d,e){c=a.iyj(d,c,e);if(!c)return null;if(a.Lk.Yu)return c;b.PG==="command"?await b.UUd(c):await b.Uta(c);zo.aCg&&b.ui&&setTimeout(()=>a.selection.deselectAll());return c};aIs=function(a,b,c){a.RCm=gV(()=>c.uh?c.ya:void 0,d=>{d&&b.$Ua&&b.PG==="single"&&!b.oc(d)&&b.qga(d)})};
bIs=async function(a,b){a.oc(b)?await a.wIc(b):await a.UUd(b)};cIs=async function(a,b,c){if(b&&b!==c){if(a.VL===a.SC){var d=a.document.pages.first();const f=a.document.pages.last();if(a.ya===d&&b===f&&c===d||a.ya===f&&b===d&&c===f){await a.Uta(c);return}}var e=!1;d=a.document.pages.flatMap(f=>{const g=e;if(f===b||f===c)e=!e;return e||g?[f]:[]});await a.pW(md([...a.Dg,...d]));a.sra=c}else await a.Uta(c)};
dIs=function(a){a.tcl!=null&&(cancelAnimationFrame(a.tcl),a.tcl=void 0);a.cbh==null&&(a.cbh=a.V.wb("scroll",{Hb:{name:"page_navigator.scroll",performance:{NU:!0}}}),a.cbh.ob().wk(({Oi:b})=>{a.N.F9i({Tb:b()})}))};
gIs=function(a,b,c){const d=m(a.oXa),e=a.qp.clientWidth,f=a.qp.scrollTo;if(d.aza(c)){var g=m(__c.IRd(a.od,c.Hc).find(l=>l.fill===b));c=g.startUs;var h=c+g.durationUs;g=d.iLa(c);var k=d.iLa(h);d.W4f&&eIs(a.timing.fH,{startUs:c,endUs:h})||!fIs(a,g,k)||(a=g,k-g<e&&(a=Math.max(0,(g+k)/2-e/2)),f({left:a,behavior:"smooth"}))}};
hIs=function(a,b){var c=m(a.oXa);const d=a.qp.clientWidth,e=a.qp.clientHeight,f=a.qp.scrollTo,g=a.qp.scrollHeight;b=a.n3a.XP(b);const h=b.startUs,k=h+b.durationUs,l=c.iLa(h),n=c.iLa(k);let p;c.W4f&&eIs(a.timing.fH,{startUs:h,endUs:k})||!fIs(a,l,n)||(p=l,n-l<d&&(p=Math.max(0,(l+n)/2-d/2)));const {top:q,rowHeight:r}=QHs(a.Bfa,b);c=q+r;let t;q<a.qp.scrollTop+a.Bfa.qVc?t=Math.max(q-a.Bfa.qVc,0):c>a.qp.scrollTop+a.qp.clientHeight&&(t=Math.max(c-a.qp.clientHeight,0));a=()=>f({left:p,top:t,behavior:"smooth"});
t&&t+e>g?requestAnimationFrame(a):(p!=null||t!=null)&&a()};eIs=function(a,b){return b.startUs<=a&&b.endUs>=a};fIs=function(a,b,c){const d=m(a.oXa),e=a.qp.scrollLeft;a=e+a.qp.clientWidth-d.Cgb-d.O6f;return c<=e||b>=a};iIs=function(a,b,c="smooth"){const d=a.qp.scrollLeft,e=a.qp.scrollTo;a=a.qp.offsetWidth;b<d?e({left:b-200,behavior:c}):(a=a??0,b>d+a&&e({left:b+200-a,behavior:c}))};jIs=function(a){a.XMf!=null&&(cancelAnimationFrame(a.XMf),a.XMf=null);a.rSb=null;a.iYc=[]};
kIs=function(a,b,c,d){if(a.dv){var e=b,f=c,g=()=>{if(a.dv)if(e*=.95,f*=.95,Math.sqrt(e*e+f*f)<=1)a.XMf=null;else{var h={};if(d==="horizontal"||d==="diagonal")h.left=a.dv.scrollLeft-e;if(d==="vertical"||d==="diagonal")h.top=a.dv.scrollTop-f;a.qp.scrollTo(h);a.XMf=requestAnimationFrame(g)}};a.XMf=requestAnimationFrame(g)}};pIs=function({timing:a,Lk:b,gL:c,V:d,N:e,Bfa:f,n3a:g,od:h}){d=new lIs(d,e);a=new mIs(d,a,f,g,h);b=new nIs(d,a,c,b);c=Vb()&&BV.DNq?new oIs(d):void 0;return{Fkg:b,qp:d,udb:a,pQl:c}};
tIs=function(a,b,c){const d=qIs(async()=>{const {glq:e}=await __webpack_require__.me(106146).then(()=>({glq:__c.rIs}));return{default:await e(a,b,c)}});return e=>fV(sIs,{fallback:null,children:fV(d,{...e})})};vIs=function(a){const b=a.EA;return hV(c=>{const d=lV(null),e=__c.sga(d,{fih:"--17LfHw"})?.fih;kV(()=>{e&&b.mso(e)},[e]);return mV("div",{className:DV("ni1AiA",{hFmqkA:b.isLinear}),ref:d,children:[fV(uIs,{...a,...c}),b.e8b&&fV(a.xbp,{}),!!a.tse&&fV(a.tse,{})]})})};
wIs=function(a,b,c={}){let d=yqs(a.jr,b);if(!d)return[];c.Yli||(d=d.filter(g=>c.Yli?!0:g.position===1));const e=a.Dx.iLa,f=e(b.startUs);return d.map(({Ke:g,position:h})=>{g=Math.floor(g*1E6+b.startUs-b.trim.startUs);return{TEa:g,fts:h,kdc:e(g,{withTrim:!0,ujc:!0})-f}})};
xIs=function(a,b,c,d,e){const f=b.LU,g=b.track.volume,h=d+b.startUs,k=h+b.durationUs,l=b.lLc&&!f,n=Math.round(h-b.trim.startUs);return a.Dx.I5c.map((p,q)=>{var r=p.page,t=p.Ofa;const v=p.paddingRight;var w=p.durationUs;p=p.width;const x=t+w;var y=Math.round(Math.max(t,Math.min(h,x)));t=(l?x:Math.round(Math.max(t,Math.min(k,x))))-y;if(t===0||!EV(a.Dx,r))return null;r=y-n;w=p-p/w*(w-t);p=a.Dx.I5c;y=0;for(q+=1;q<p.length&&!EV(a.Dx,p[q].page);)y+=p[q].width+p[q].paddingRight,q++;q=q<p.length?y:0;return{state:{startUs:r,
durationUs:t,width:w,height:c,r4i:e,volume:g},draft:q>0,paddingRight:v+q}}).filter(sb)};yIs=function(a,b){const c=a.trim.startUs,d=b/a.durationUs;return{yDo:c?d*c:0,Ydh:e=>1/d*e}};zIs=function(a){a.store.HPh="max"};
AIs=function(a,b,c,d){const e=a.boa.pjd;if(a.Lk.Yu){b=a.ui.get()?[]:a.boa.zzg.get();const h=a.boa.EPh.get(),k=a.boa.njh.get();return md([...b,...h,...k]).map(l=>({TEa:l,Ljd:e,j7c:e}))}const f=[{TEa:0,Ljd:a.boa.pjd*5,j7c:a.boa.pjd}],g=a.jr.Gja==="trim"&&a.jr.E7e(b.track)?wIs(a,b,{Yli:a.Y_i}).map(h=>h.TEa):[];d.forEach((h,k)=>{const l=h.Ofa,n=l+h.durationUs;f.push({TEa:n,Ljd:e,j7c:d[k+1]?e:a.boa.pjd*5});c.forEach(p=>{l<p&&p<n&&f.push({TEa:p,Ljd:e,j7c:e})});g.forEach(p=>{l<p&&p<n&&f.push({TEa:p,Ljd:p===
0?0:e,j7c:e})})});return f};BIs=function(a,b){const c=a.store,d=a.RTp;a=a.ltt;const e=b.track,f=b.Fza,g=b.KIk;if(f&&f!==6&&f!==5||g)return c.fih;if(b.audio?.g8b===2)return a;if(b=c.zDj.get(e.audio))return b;const h=d[c.Rsn%d.length];rV(()=>{c.zDj.set(e.audio,h);c.Rsn++});return h};CIs=function(a,b){a.jr.select(...a.CS.filter(c=>c!==b))};
EIs=function({positions:a,data:b}){if(a)return{box:{top:a.Uy.y-(a.start?a.start.VEa.y:0),left:a.Uy.x-(a.start?a.start.VEa.x:0)+(b.YL-DIs),width:DIs/b.YL*b.QJ,height:DIs,rotation:0}}};
HIs=function(a,b,c){const d=a.YMi.map(k=>k.map(l=>b.find(n=>n!==l&&n.track.id!=null&&n.track.id===l.track.id)??l)),e=new Set(d.flat());var f=b.filter(k=>!e.has(k));const g=f.filter(k=>k.audio?.g8b===2);f=f.filter(k=>k.audio?.g8b!==2);g.length>0&&d.unshift(g);f.length>0&&d.push(f);const h=FIs(c);a.YMi=d.reduce((k,l)=>{l.filter(n=>b.includes(n)).sort(h).forEach(n=>{const p=GIs(a,n,k);k[p]||(k[p]=[]);k[p].push(n)});return k},[]);a.GRl.clear();return a.YMi};
GIs=function(a,b,c){if((a=a.GRl.get(b))&&!IIs(b,c[a]??[]))return a;a=c.findIndex(d=>!IIs(b,d??[]));return a>=0?a:c.length};IIs=function(a,b){const c=a.lLc&&!a.durationUs?Infinity:a.startUs+a.durationUs;return b.some(d=>d===a?!1:d.track.loop===2||a.track.loop===2?!0:(d.lLc&&!d.durationUs?Infinity:d.startUs+d.durationUs)>a.startUs&&c>d.startUs)};KIs=function(a){return b=>fV(JIs,{...a,...b})};
LIs=function(a){const b=lV(null),[c,d]=qV(!0);kV(()=>{if(b.current)return a.observe(b.current,d)},[d,a]);return[c,b]};NIs=function(a){return b=>fV(MIs,{...a,...b})};
PIs=function({gpc:a,selection:b,Kh:c,jr:d,EA:e,fB:f,pXa:g,Dx:h,i3q:k}){const l=r=>{const t=by(d,r);e.Rrb(t)||__c.ode(b,[r])},n=r=>{r.stopPropagation();e.w4c&&(r=by(e.jr,e.w4c),e.Uvh(r))},p=()=>{e.hBn("contextual_menu")},q=()=>{e.mBn()};c.jc(()=>({n0p:b.Ma?.type==="audio",Zyr:d.mUa?.loop===2}),(r,{n0p:t,Zyr:v})=>{t?(r.CDh=v?void 0:{Button:w=>fV(w.rl,{label:M("LNMQvg"),onClick:n,Icon:__c.QAg,disabled:!e.BIj||e.CS.length>1,oa:w.oa})},r.cFh={Button:w=>fV(w.rl,{label:J("Pd364g",[e.CS.length]),onClick:p,
Icon:Ix,oa:w.oa,Dm:"Delete"})},r.Mbg={Button:w=>fV(w.rl,{label:J("ksDiTw",[e.CS.length]),onClick:q,Icon:__c.fy,oa:w.oa,Dm:Pk("d")})},r.yea=v?void 0:{Button:w=>fV(w.rl,{label:M("0GYwog"),onClick:()=>{d.CUb.X7&&d.toolbar.dC(d.CUb.X7)},Icon:__c.P7g,oa:w.oa,disabled:e.CS.length>1})},a||(r.Bua={Button:w=>fV(w.rl,{label:M("dqBWeQ"),onClick:()=>{d.KRf()},Icon:__c.uJe,oa:w.oa,disabled:e.CS.length>1})})):(r.CDh=void 0,r.cFh=void 0,r.Mbg=void 0,r.Ood=void 0,r.yea=void 0,r.Bua=void 0)},{equals:nV.structural});
return{onContextMenu:(r,t,v)=>{r.preventDefault();const w=__c.qj({x:r.clientX||0,y:r.clientY||0});l(t);t=w.x;var x=k();!x||t<x||!f||!g||v?.vNu||(v=t-x,t=h.gMg(v)/1E6,x=h.iLa(g.currentTime*1E6,{ujc:!1}),Math.abs(x-v)>OIs&&(f.bvb=t));c.VOb(w,"audio_timeline","right_click","bottom-start");r.stopPropagation()},t0a:(r,t)=>{r.stopPropagation();l(t)}}};
aJs=function({gpc:a,Fc:b,qc:c,viewport:d,Pa:e,jr:f,n3a:g,nac:h,selection:k,Kh:l,Uo:n,Dx:p,boa:q,Lk:r,fB:t,pXa:v,qp:w,errorService:x,la:y,Zoa:z,rjc:B,bAa:C,Wk:G,T4b:H,uOl:K,hdc:L,hAg:N,wDg:P,pNs:T}){const V=oV(()=>B.a7c),W=oV(()=>y.layout===2);x=tIs(x,n,N);const aa=new QIs(f,g,k,new RIs,SIs,TIs,p,q,z,C,W,H,K,V,r,P,h,t,G),ba=parseInt("28px",10);L.Uqd={Sgi:ma=>aa.B1c.findIndex(na=>na.some(qa=>qa===ma)),height:oV(()=>{const ma=aa.som,na=C.Dse&&C.cki.get()?ba:0;return ma+na}),rowHeight:oV(()=>aa.wDj),
V3g:oV(()=>aa.B1c.length)};f.Ahi=ma=>p.Rib?ma?p.aza(ma).Ofa:Math.max(Math.min((v?.currentTime??0)*1E6,f.xUe),0):p.aza(ma??d.ya).Ofa;const da=KIs({EA:aa,LDc:x,Uo:n});g=UIs({Dx:p,jr:f,EA:aa});const {onContextMenu:la,t0a:ja}=PIs({selection:k,jr:f,EA:aa,Kh:l,gpc:a,fB:t,pXa:v,Dx:p,i3q:()=>w.getBoundingClientRect().left+p.Cgb+VIs-w.scrollLeft});a=NIs({Pa:e,Uo:n,jr:f,EA:aa,Y5b:da,LDc:x,fgj:g,onContextMenu:la,t0a:ja,pma:l,Dx:p,ui:W,qp:w});__c.Lce(b,"audio",ma=>{aa.oNn(ma.id);B.a7c&&setTimeout(T)});k=async({data:ma,
positions:na})=>{if(ma.type==="audio"&&na&&p.rEe!=null&&c.GIb!=null){na=Math.max(Math.min(p.rEe*1E6,f.xUe),0);ma=await ma.audio;if(!ma)throw Error("The Audio object could not be found.");c.GIb(ma,{Xc:"object_panel_drag",startUs:na});t?.seek(p.rEe);p.onDrop()}};l={canDrop(){return!0},Yt:ma=>{if(ma.positions)return WIs(p,{scrollLeft:w.scrollLeft,left:w.getBoundingClientRect().left},ma.positions.Uy.x),aa.Y0b(ma.data.result.nd.rr),EIs(ma)}};a=mc(b,["audio"],async({data:ma,positions:na},{pD:qa})=>{if(ma.type===
"audio"&&na&&p.rEe){ma=await ma.audio;if(!ma)throw Error("The Audio object could not be found.");t?.seek(p.rEe);f.Dgd(qa.track,ma,"audio_timeline_replace");p.onDrop()}},a,l);e=mc(b,["audio"],k,hV(ma=>fV(XIs,{children:ma.children,connectDropTarget:ma.connectDropTarget,drag:ma.drag,EA:aa,Y5b:da})),l);k=mc(b,["audio"],k,hV(ma=>fV(YIs,{connectDropTarget:ma.connectDropTarget,drag:ma.drag,Fc:b,EA:aa,Dx:p,Y5b:da})),l);const oa=ma=>{ma.stopPropagation();C.A8k?.("audio_timeline")};l=hV(()=>aa.Psa?fV(ZIs,{onClick:oa,
label:M("hrciHQ")}):null);B.T1l=vIs({iDj:new $Is,EA:aa,Sfj:a,tse:l,Y5b:da,xbp:k,Rfj:e,ui:W});return{EA:aa,dUp:ma=>{if(ma.data.type==="audio")return aa.Y0b(ma.data.result.nd.rr),EIs(ma)}}};bJs=function(a,b){a.Lwo.add(b)};
cJs=function({qf:a,Yra:b,Vw:c,onChange:d,onSubmit:e}){const f=lV(null),g=jV(k=>{d(!1);e(k)},[d,e]),h=jV(k=>{k.key==="Escape"&&d(!1);k.key!=="Enter"&&k.key!=="Escape"||setTimeout(()=>f.current?.focus(),0)},[d]);return c?mV($q,{spacing:"0",Fa:"center",children:[fV(Yq,{width:"content",children:fV(__c.Hu,{className:"FmO3ug",tN:a<10?"NxXA5w":a<100?"RzFpKA":"_3ZP36A",ariaLabel:M("8aYwqA"),placeholder:b?.toString(),kh:g,onKeyDown:h,autoFocus:"on-desktop",min:1,max:a,maximumFractionDigits:0,maxLength:a.toString().length})}),
fV(Yq,{width:"content",children:fV(Q,{size:"medium",weight:"bold",className:"S9lMNA",children:J("bw8g6Q",[a])})})]}):fV(Wi,{ref:f,className:"vZB9Zg",variant:"tertiary",size:"small",ib:M("8aYwqA"),onClick:()=>d(!0),children:b!=null?J("q6CACQ",[b,a]):J("plwCKA",[a])})};
fJs=function({keyboardShortcuts:a,document:b,viewport:c,hb:d,N:e,V:f}){const g=new dJs(c,b,d,e,f),h=l=>g.Vxl(l),k=l=>g.Sha(l);b=hV(l=>fV(eJs,{...l,Vw:g.Vw,onChange:h,onSubmit:k}));a.register([Pk(Po("g")),()=>g.Vxl(!0),M("8aYwqA"),["edit","view","comment"]]);return{eap:b}};
jJs=function({rjc:a,hdc:b,Bfa:c,onDragEnd:d,onDragStart:e,N:f,V:g,rd:h=tb.rd}){b.Q5c={height:oV(()=>a.a7c?gJs:0)};const k=new hJs,l=new iJs(c,f,g);b=iV(p=>{l.onDragStart(k,p);e?.()});c=iV(()=>{l.onDragEnd(k);d?.()});f=iV(p=>{l.pe(k,p)});const n=new Tq({mKa:oV(()=>"k1UFGA"),onDragStart:b,pe:f,onDragEnd:c});return{Ibg:hV(function({disabled:p}){return fV("div",{className:DV("rRLseg k1UFGA",{QdeuaQ:k.isDragging,_7N0f3Q:h,hzE_6A:p}),onMouseDown:p?void 0:n.onMouseDown,onTouchStart:p?void 0:n.onTouchStart,
children:fV("div",{className:"y8mVQA"})})}),isDragging:oV(()=>k.isDragging)}};kJs=function(a){a.FHl=void 0;a.B1=void 0;a.lEe=void 0;a.xY=void 0;a.U4h=!1;a.Ytc=!1;a.AVg=!1};
pJs=function({o4a:a,qp:b,Wl:c,ui:d,Lk:e}){const f=new __c.z1g;f.fkb=b;Sus(()=>{f.RYc({K_g:d.get()?400:void 0,$_g:400,QPg:d.get()?60:void 0,FBh:30})});b=new __c.x1g(f);const g=new lJs(c,d);c=new mJs(g,b);const h=__c.lc(a,"timelineItems"),k=__c.Mce(h,"timelineItems",c.onDragStart,c.pe,c.onDragEnd,c.ux,{x5a:{enabled:"touch-only"}});a=hV(({item:l,onDragStart:n,children:p})=>e.Yu?fV(nJs,{item:l,onDragStart:n,$wq:k,kzq:g,children:p}):p);gV(()=>h.isDragging,l=>{l||kJs(g)});c=hV(()=>fV(__c.fd,{open:h.isDragging,
level:1,children:fV(oJs,{store:g})}));return{o4a:h,Pia:g,YCc:a,qbp:c}};sJs=function(a,b,c=d=>d.timing){return a.o_q.get()?qJs(b,c):rJs(b,c)};tJs=function(a,b,c){if(a.jxc.get(b)?.fUi!==c.fUi||a.jxc.get(b)?.CRb!==c.CRb)c.fUi||c.CRb?a.jxc.set(b,c):a.jxc.has(b)&&a.jxc.delete(b)};uJs=function(a,b){const c=a.startUs,d=a.endUs;return c===0&&d===Infinity?b.length>0:b.some(e=>e.endUs>c&&d>e.startUs)};
wJs=function(a,b,c,d,e=f=>f.timing){d=b<0?!1:b>=c.length?!0:d==="above";b=Math.max(0,Math.min(c.length-1,b));let f=vJs(a,c[b],e);if(f==null){if(d){b++;if(b>=c.length)return{rowIndex:c.length,Dfe:0,YKd:!0};f=vJs(a,c[b],e);return f==null?{rowIndex:b,Dfe:0,YKd:!0}:{rowIndex:b,Dfe:f,YKd:!1}}a=b>0?vJs(a,c[b-1],e):void 0;if(a==null)return{rowIndex:b,Dfe:0,YKd:!0};--b;f=a}return{rowIndex:b,Dfe:f,YKd:!1}};
vJs=function(a,b,c=f=>f.timing,d=0,e=b.length-1){if(!b.length)return 0;const f=a.startUs,g=a.endUs;if(f!==0||g!==Infinity){d=Math.max(0,d);e=Math.max(d,Math.min(b.length-1,e));if(f>=c(b[e]).endUs)return e+1;if(g<=c(b[d]).startUs)return d;if(d!==e){var h=d+Math.floor((e-d)/2),k=c(b[h]);if(f>=k.endUs)return vJs(a,b,c,h+1,e);if(g<=k.startUs)return vJs(a,b,c,d,h-1)}}};yJs=function(a,b){return new xJs(oV(()=>b.J4j(a)),oV(()=>b.Yu))};
AJs=function(a,b){const c=a.tqf(a.page),d=m(b.parent),e=b.elements.map(f=>m(c.items.find(g=>g.element===f)));return{type:1,data:b,group:d,tEb:c,items:e,...zJs(a,c,e)}};BJs=function(a,b){const c=a.tqf(a.page),d=b.elements.flatMap(e=>{if(e.type==="group"){const f=c.items.filter(g=>g.parent===e);if(f.length)return f}return[m(c.items.find(f=>f.element===e))]});return{type:0,data:b,tEb:c,items:d,...zJs(a,c,d)}};
CJs=function(a,b){const c=a.tqf(a.page);let d=c.yza;const e=b.fh.map(f=>{const g=a.od.KL(f)||5E6,h=d;d+=g;return{timing:{startUs:h,endUs:h+g,durationUs:g},fill:f}});for(const f of e)c.Ml(f);return{type:2,data:b,tEb:c,items:e,...zJs(a,c,e)}};
zJs=function(a,b,c){const d=m(c[0]),e=m(b.d5d(d)).rowIndex,f=d.timing.startUs,g=c.slice(1);let h=Infinity,k=Infinity;for(const l of c)c=m(b.d5d(l)),h=Math.min(h,l.timing.startUs),k=Math.min(k,c.rowIndex);a=new DJs(a.gWa,a.uRb,f,e,d.timing.durationUs,Math.max(0,f-h),Math.max(0,e-k));b=new EJs(b,a,d,g);return{Hrg:d,G9d:a,rfn:b}};
FJs=async function(a,b){var c=5E6;if(b.type==="video"){var d=await b.video;(d=d.uv||d.Dpc)&&(c=d*1E6)}d=a.tqf(a.page);c={timing:{startUs:d.yza,endUs:d.yza+c,durationUs:c}};d.Ml(c);c=[c];return{type:3,data:b,tEb:d,items:c,...zJs(a,d,c)}};
GJs=function(a,b){if(a.page.locked)return!1;switch(b.type){case "timelineItems":case "video":case "chart":case "searchShape":case "table":case "line":case "grid":case "textParagraph":return!0;case "searchMedia":switch(b.kind){case "futureSearchMedia":case "searchImageMedia":case "searchVectorMedia":case "searchPrivateMedia":return!0;case "searchElementGroupMedia":case "searchTemplate":return!1;default:throw new u(b);}default:throw new u(b);}};
KJs=function(a,b){const c=a.page;var d=b.tEb;const e=b.G9d;b=b.items;const f=HJs(b);if(e.Nvk){var g=[],h=new Set;for(const l of d.items){d=l.parent||l.element;if(b.includes(l)){if(d.type==="group"){if(h.has(d))continue;h.add(d)}c.elements.Dza(k,d);g.push(d)}var k=d}e.CRb?(IJs(a.h6c,g,void 0,e.CRb,void 0,Infinity),JJs(a.h6c,g,f)):JJs(a.h6c,[],f)}else JJs(a.h6c,[],f)};
LJs=function(a,b){const c=a.page,d=b.tEb,e=b.G9d,f=b.items;b=b.group;const g=HJs(f);if(e.Nvk){var h,k=!1,l=[];for(const p of d.items){f.includes(p)&&(k||(c.elements.Dza(h,b),k=!0),b.pb.Dza(n,p.element),l.push(p.element));if(p.parent===b)var n=p.element;k||(h=p.parent||p.element)}e.CRb?(IJs(a.h6c,l,b,e.CRb,void 0,Infinity),JJs(a.h6c,l,g)):JJs(a.h6c,[],g)}else JJs(a.h6c,[],g)};
MJs=function(a,b){const c=a.page,d=sg(4,a.hb.kl(c)),e=b.tEb;b=b.items;const f=new Map(b.map(k=>[k,m(e.d5d(k)).startUs]));let g;for(const k of e.items)if(b.includes(k)){var h=f.get(k);const l=k.fill,n={...Pn.snapshot(l),durationUs:void 0,transition:void 0};h={...Rn,id:a.kb.Af.generate(),fill:n,startUs:h,durationUs:k.timing.durationUs,top:0,left:0,width:d.width,height:d.height};g=c.elements.FJ(g,h);c.Hc.has(l)&&c.Hc.delete(l)}else g=k.parent||k.element};
NJs=async function(a,{data:b,tEb:c,G9d:d,items:e}){var f=c.items.find((g,h)=>c.items[h+1]===e[0])?.element;d={Xc:"object_panel_drag",startUs:d.startUs};f=f?{rNa:{type:"ref",after:f}}:{rNa:{type:"absolute",value:"bottom"}};switch(b.type){case "video":b=await b.video;a.qc.XF(b,d,f);break;case "chart":a.qc.hja(__c.Uef(b.Zb),d,f);break;case "searchShape":a.qc.Baa?.(b.shape,b.ref,d,f);break;case "table":b=b.table;a.qc.addTable(b.data.FXc,b.ref,d,f);break;case "line":a.qc.LSa?.(b.line.data,d,f);break;case "grid":const {cells:g,
layout:h}=__c.Ohe(b.grid);a.qc.Rte?.(g,h,d,f);break;case "textParagraph":a.qc.addText(b.Daf.label,{...d,U0:b.I.U0},void 0,void 0,void 0);break;case "searchMedia":switch(b.kind){case "futureSearchMedia":case "searchImageMedia":case "searchVectorMedia":case "searchPrivateMedia":if(b.kind==="futureSearchMedia"){b=await b.future;switch(b.type){case "static":b=Xef(b.media);a.qc.addImage(b,d,f);break;case "animated":a.qc.XF(b.video,d,f);break;default:throw new u(b);}return}b=Xef(b.media);a.qc.addImage(b,
d,f);break;case "searchElementGroupMedia":throw Error("element groups not supported");case "searchTemplate":throw Error("templates not supported");default:throw new u(b);}break;default:throw new u(b);}};OJs=async function(a,b){switch(b.type){case "timelineItems":return a=a.mJm,b.elements.length?b.parent?AJs(a,b):BJs(a,b):CJs(a,b);case "video":case "chart":case "searchShape":case "table":case "line":case "grid":case "textParagraph":case "searchMedia":return FJs(a.mJm,b);default:throw new u(b);}};
HJs=function(a){const {gQa:b,yza:c}=a.reduce((d,e)=>{const f=e.timing.startUs;e=e.timing.durationUs;d.gQa=Math.min(d.gQa,f);d.yza=Math.max(d.yza,f+e);return d},{gQa:Infinity,yza:0});return Number.isFinite(b)?c-b:0};
RJs=function({element:a,page:b,Icon:c,isActive:d,Yu:e,Vad:f,Dln:g,Rmn:h,Vwo:k,LUd:l,width:n,trim:p}){a:switch(a.type){case "text":var q="fjN3Rg";break a;default:q="_5U_EXA"}d=DV("KFVziA",{v1Zhxg:f,Mztdbw:e&&!g,IytRuQ:g,A_OCpw:!e&&d,[q]:e});e=AV(()=>{if(!f)return null;const r=DV("_8XK3EQ",{parHvw:k});switch(a.type){case "text":return fV(__c.Sz,{size:"small",tone:"primary",className:r});case "rect":if(a.fill.video.ref)return null;if(a.fill.image.ref)return fV(__c.Ku,{size:"small",tone:"primary",className:DV(r,
"qGJ1eQ")});default:return fV(PJs,{size:"small",tone:"primary",className:r})}},[f,k,a]);return mV("div",{className:d,children:[e,h&&fV(c,{width:n,height:QJs,zla:l,element:a,page:b,trim:p})]})};
SJs=function({F4j:a,od:b,jfg:c}){return hV(({page:d,element:e})=>{const {startUs:f,durationUs:g}=eXa(e,d.ia,b.xb(d.ia),void 0),h=a.hRd(g);return fV("div",{className:"VzBqkA",style:{width:h,height:a.rowHeight},children:fV(RJs,{element:e,page:d.ia,Icon:c,isActive:!1,Yu:!0,Vad:!0,Dln:!1,Rmn:!0,Vwo:!1,width:h,trim:{startUs:f,endUs:f+g}})})})};
$Js=function({qc:a,kb:b,o4a:c,hb:d,od:e,fB:f,vg:g,qp:h,Pia:k,F4j:l,IBq:n,h6c:p,tqf:q,TMc:r,jfg:t}){const v=FV(x=>{var y=r(x);const z=new TJs(h,l,y);y=new UJs(z);x=new VJs(x,d,a,b,g,h,y,new WJs(x,e,z,n,q),n,k,p);return{W$a:y,A5c:x}}),w=hV(({connectDropTarget:x,drag:y,page:z})=>{const {W$a:B,A5c:C}=v(z);kV(()=>{if(y?.z5)C.onDragEnter(y.data);else C.onDragLeave()},[C,y]);kV(()=>gV(()=>c.isDragging,G=>{G?C.ZWb():C.j0j()}),[C]);kV(()=>gV(()=>k.isDragging,G=>{G?f.L6e():f.j3e()}),[C]);return fV(XJs,{connectDropTarget:x,
W$a:B,children:fV(YJs,{store:B,ZIa:l})})});k.g4l=SJs({F4j:l,od:e,jfg:t});return{Mjj:mc(c,ZJs,(x,{page:y})=>{const {A5c:z,W$a:B}=v(y);x=m(B.pEe);z.onDrop(x)},w,{Yt:({positions:x},y)=>v(y.page).A5c.onDragOver(m(x)),canDrop:(x,y)=>GJs(v(y.page).A5c,x.data)})}};bKs=function(a){return GV(b=>fV(aKs,{...a,...b}))};cKs=function(a,b,c,d){return a.Dx.iLa(c,{...d,Hfh:b,Txb:a.Smn})};
dKs=function(a,b,c){if(!a.ui.get()){a.nd.jph=!1;c=a.Dx.gMg(c);var {Ofa:d,durationUs:e}=a.Dx.aza(b);b=d+e;c=Math.min(b,Math.max(c,d));a.nd.IQc(c/1E6,c<b?"start":"end");a.nd.stop();requestAnimationFrame(()=>a.nd.jph=!0)}};eKs=function(a,b){return a.scrollHeight-Math.max(0,(b+1)*a.rowHeight)};
gKs=function(a,b,c,d,e,f,g){const h=FV(n=>c.aza(n).uZk),k=oV(()=>{const n=b.V5h;var p=b.Qya;const q=f.Vg;p=g.Yu&&q.type==="fixed-page"?q.ia:p;if(p==null)return[];const r=h(p);return n(p).filter(t=>b.NCa!==t.element).reduce((t,{element:v,parent:w})=>{const {startUs:x,durationUs:y}=w==null?v:__c.cXa(w,v);x&&t.push(x+r);(v=y&&(x||0)+y)&&t.push(v+r);return t},[])});a.zzg=k;const l=oV(()=>{var n=f.Vg,p=g.Yu&&n.type==="fixed-page"?n.ia:b.Qya;if(!p)return[];n=b.Yu;const q=h(p),{durationUs:r}=c.aza(p);p=
n&&e.get()?null:a.rfd.get();p=p!=null?[p]:[];const t=a.njh.get(),v=a.zzg.get(),w=n&&e.get()?[]:a.EPh.get();n=n?[]:a.xQh.get();const x=a.pjd;return md([...p,...t,...v,...w.filter(y=>y>q&&y<q+r),...n]).map(y=>({TEa:y-q,Ljd:x,j7c:x}))});return{uRb:new fKs(l,a.oOe,d),zzg:k}};iKs=function({element:a,parent:b},c){const {startUs:d,endUs:e}=hKs({element:a,parent:b});return!!d||e<c||a.type==="group"&&a.pb.some(f=>iKs({element:f,parent:a},c))};
hKs=function({parent:a,element:b}){const {startUs:c=0,durationUs:d=Infinity}=a?__c.cXa(a,b):b;return{startUs:c,endUs:c+d}};IJs=function(a,b,c,d,e,f){b.forEach(g=>{const {startUs:h=0,durationUs:k=f-h}=c?__c.cXa(c,g):g,l=__c.qm({startUs:h+d,endUs:h+d+k},f);c?jKs(c,g,l,f):(g.startUs=l.startUs||void 0,__c.cJe(g,f,l))});e&&kKs(a,e,f);a.Rje=0};
JJs=function(a,b,c,d=c){a.AQd?.addEvent("trimming");a.AQd?.ob().wk(({Oi:e})=>a.P.track(lKs,{action:"trim",mE:b.map(f=>f.type),e$k:Math.floor(d/1E3),HVj:Math.floor(c/1E3),Tb:e()}));a.AQd?.qe()};kKs=function(a,b,c){b.durationUs==null&&isFinite(c)&&c!==a.od.xb(b)&&(b.durationUs=c)};
jKs=function(a,b,c,d){const {startUs:e=0,durationUs:f=d-e}=a,g=a.pb.toArray(),h=g.map(p=>{if(p===b)return{startUs:c.startUs,durationUs:c.endUs-c.startUs};const {startUs:q=0,durationUs:r=f-q}=p;return{startUs:q+e,durationUs:Math.min(r,f-q)}});var k=__c.pfe(h,d);const l=k.startUs;k=k.endUs-k.startUs;e!==l&&(a.startUs=l||void 0);f!==k&&__c.dJe(a,d,{startUs:l,durationUs:k});for(a=0;a<g.length;++a){d=g[a];var n=h[a];const {startUs:p=0,durationUs:q=k-p}=d,r=Math.max(n.startUs-l,0);n=Math.min(n.durationUs,
k-r);p!==r&&(d.startUs=r||void 0);q!==n&&__c.dJe(d,k,{startUs:r,durationUs:n})}};nKs=function(a,b){const c=iV(()=>{a._open=!a._open;if(a._open){a.M$r();var d=a.selection.Ma;d?.inner?.type==="group"&&d.inner.group.type==="group"&&a.G2d.add(d.inner.group)}else a.G2d.clear();b.track(mKs,{action:a.open?"open":"close"})});return hV(d=>{const e=d.Gg,f=d.oa,g=jV(()=>{f?.();e?.clear()},[e,f]);return fV(d.rl,{Icon:__c.Oz,label:a.open?M("vATgeQ"):M("V59lIw"),onClick:c,oa:g})})};
oKs=function({store:a,P:b,Kh:c}){const d=nKs(a,b);c.jc(()=>a.fqh,(e,f)=>{e.e_c=f?{Button:d}:void 0})};pKs=function(a,b,c){if((a=a.gp(b.wo||b.media))&&a.images.length){var d=c*__c.wYa();return Di(a.images,e=>e.height>d?-e.height:e.height).url}};qKs=function(a,b){const c=b.Uzd(a);if(c.length)return{frames:c};if(a=b.l9c(a))return{url:a}};
wKs=function(a,b,c,d,e,f,g,h){return hV(function({element:k,page:l,width:n,height:p,zla:q}){switch(k.type){case "text":return fV(rKs,{element:k,page:l,SF:e,Vad:g});case "group":if(!sKs(k))break;k=k.pb.first();return fV(rKs,{element:k,page:l,SF:e,Vad:g});case "rect":var r=k.fill.image.ref;if(g&&r){n=pKs(c,r,tKs);if(!n)break;return fV(uKs,{url:n})}const t=k.fill.video.ref;if(t&&f.Yu){r=qKs(t,d);if(r?.frames)return fV(vKs,{fill:t,bMb:r.frames,If:d,width:n,height:p,zla:q,Acj:h});if(r?.url)return fV(uKs,
{url:r.url})}}l=a.xb(l);return fV("div",{className:DV(["iQioCA"],{hCGVwg:g}),children:fV(b,{element:k,page:l,vd:tKs,Df:tKs})})})};
CKs=function({document:a,kb:b,viewport:c,Gj:d,Wl:e,Qa:f,qc:g,Dx:h,gO:k,Lk:l,fB:n,T4b:p,hb:q,Fc:r,qp:t,Ewg:v,Pia:w,YCc:x,selection:y,pT:z,Kh:B,SF:C,Ac:G,od:H,rjc:K,hdc:L,Bfa:N,boa:P,Pa:T,J8d:V,ui:W,Wk:aa,P:ba,Ha:da}){da=da.Vd("editor.editing.page_navigator.timeline.element_timing");const la=new xKs(a,V,W,H,y,h,q,l,()=>{d.fq="thumbnail";W.get()&&c.zoom.mode==null&&c.HC(c.ya,"fit")});v.add(()=>!la.open);({uRb:v}=gKs(P,la,h,aa,W,c,l));aa=new yKs(n,H,ba,da,aa);const ja=FV(ma=>yJs(ma,la));P=oV(()=>K.a7c||
BV.Sfh);const oa=new zKs(c,a,la,h,ja,W,P);L.Z5h={$4q:(ma,na)=>{ma=ja(ma).ZAf(na);if(!ma)throw Error("Element position not found");return eKs(oa,ma.rowIndex)},height:oV(()=>oa.FJc),rowHeight:oa.rowHeight,V3g:oV(()=>oa.fRk)};p=new AKs(a,la,H,n,h,G,y,oa,ja,p,T,ba,v,da,W);G=zf(a);e=wKs(G,e,f,k,C,l,!!p.Vad,(ma,na)=>BKs.factory(oV(()=>h.WDa),H)(ma,na));({Mjj:b}=$Js({qc:g,kb:b,o4a:r,hb:q,od:H,fB:n,vg:y,qp:t,Pia:w,F4j:oa,IBq:v,h6c:aa,tqf:ma=>yJs(ma,la),TMc:ja,jfg:e}));K.f4l=bKs({ui:W,document:a,viewport:c,
L:p,store:la,ZIa:oa,Bfa:N,TMc:ja,Pia:w,Dx:h,kcf:aa,pT:z,Kh:B,jfg:e,YCc:x,Mjj:b,l0j:P,qp:t});oKs({store:la,P:ba,Kh:B});return{ecp:la}};DKs=function({jr:a,Kh:b}){b.jc(()=>({D0p:a.lpm,W0p:a.Dpm}),(c,{D0p:d,W0p:e})=>{c.Coj=d||e?{Button:f=>{const g=jV(h=>{h.stopPropagation();d?a.x1n():a.OQo()},[]);return fV(f.rl,{label:d?M("NH7+Vw"):M("6vk0bw"),onClick:g,Icon:to,oa:f.oa})}}:void 0})};
KKs=function({V:a,u4a:b,J8d:c,ui:d,F4c:e,boa:f,EA:g,fB:h,pXa:k,Dx:l,XH:n,qp:p,Lk:q,Vmq:r}){const t=oV(()=>h.bvb!=null?l.iLa(h.bvb*1E6):null),v=oV(()=>h.rmc??!1),w=oV(()=>{const T=r?.get();return T!=null?T/1E6:k.currentTime}),x=oV(()=>q.Yu||r?.get()==null),y=zV.box(!1);let z=!1,B;const C=iV(()=>{h.I3i();B?.isRecording()||(B=a.wb("playhead_drag",{performance:{NU:!0}}));y.set(!0);(z=k.Qf)&&h.pause({seeking:!0,ended:!1});h.gxl(!0);h.rmc=!1}),G=iV(()=>{y.set(!1);const T=l.Ezd(k.currentTime,v.get());h.lL(T);
h.gxl(!1);z&&h.play();h.j9h();B?.qe({tx:({Oi:V})=>{V=V();b.track(EKs,{action:"seek",mb:"click",Tb:V});B=void 0}})}),H={top:Uc*2.5,height:oV(()=>p.clientHeight)},K=hV(({duc:T})=>fV(FKs,{Dx:l,Ryc:h.seek,currentTime:w,onDragStart:C,onDragEnd:G,playing:k.Qf,scrolling:!!T,hidden:c.get(),AOo:h.oRe||!!g?.ZUd||g.Wuk,zvh:H,To:d.get(),yNh:v,qp:p,Txb:x})),L=new GKs,N=new HKs(L,l,e,w,IKs,q),P=hV(()=>!Wb()||d.get()||n.GJ?null:fV(JKs,{store:L,L:N,Jjc:f.rfd.get()!=null||l.pur||!!g.ZUd||c.get()||t.get()!=null||L.Jjc,
zvh:H}));return{P9q:N,Lvp:hV(({duc:T})=>!l.Rib||l.G7e&&n.GJ&&!k.Qf&&!y.get()?null:mV(uV,{children:[fV(P,{}),fV(K,{duc:T})]}))}};MKs=function({Dx:a,fB:b,pg:c,wD:d}){const e=new LKs(a,b,d);c.$Nn=()=>{setTimeout(()=>{e.Yoo(!0)},18E4)}};QKs=function({hdc:a,jx:b,XH:c,qp:d,cck:e,gL:f}){a.sLs={height:oV(()=>b.isLinear?NKs:0)};const g=new OKs(b,c,d,e);return{Isj:hV(()=>b.isLinear?fV(PKs,{store:g,jx:b,gL:f}):null)}};
SKs=function(a,b){const c=m(b.image.ref),d=a.od;return RKs({type:1,key:a.generateKey(),fill:b,Cy:c,get trim(){return{startUs:0,endUs:this.durationUs}},get durationUs(){return d.KL(this.fill)||5E6},LU:Infinity},{trim:oV,durationUs:oV})};TKs=function(a,b){const c=m(b.gradient.ref),d=a.od;return RKs({type:3,key:a.generateKey(),fill:b,AUa:c,get trim(){return{startUs:0,endUs:this.durationUs}},get durationUs(){return d.KL(this.fill)||5E6},LU:Infinity},{trim:oV,durationUs:oV})};
UKs=function(a,b){const c=a.od;return RKs({type:2,key:a.generateKey(),fill:b,get color(){return b.color??"#ffffff"},get trim(){return{startUs:0,endUs:this.durationUs}},get durationUs(){return c.KL(this.fill)||5E6},LU:Infinity},{color:oV,trim:oV,durationUs:oV})};VKs=function(a,b){const c=a.od;return RKs({type:5,key:a.generateKey(),fill:b,get trim(){return{startUs:0,endUs:this.durationUs}},get durationUs(){return c.KL(this.fill)||5E6},LU:Infinity},{trim:oV,durationUs:oV})};
WKs=function(a,b){return b.video.ref?a.QSj(b):b.image.ref?SKs(a,b):b.gradient.ref?TKs(a,b):b.color?UKs(a,b):VKs(a,b)};YKs=function(a,b){const c=XKs(Promise.resolve(b));return RKs({type:4,key:a.generateKey(),get durationUs(){return c.case({pending:()=>5E6,rejected:()=>5E6,fulfilled:d=>(d=d.uv??d.Dpc)?d*1E6:5E6})},get LU(){return this.durationUs},get trim(){return{startUs:0,endUs:this.durationUs}}},{durationUs:oV,LU:oV,trim:oV})};
ZKs=function(a){return{type:4,key:a.generateKey(),durationUs:5E6,LU:5E6,trim:{startUs:0,endUs:5E6}}};$Ks=function({r:a,g:b,b:c}){return`rgba(${a}, ${b}, ${c}, 0.6) 0px 0px 5px, rgb(${a}, ${b}, ${c}) 0px 0px 8px`};
aLs=function(a){switch(a.type){case 5:return{textColor:"black",textShadow:void 0};case 0:case 1:case 3:return{textColor:"white",textShadow:"0 0 5px rgb(13 18 22 / 60%), 0 0 8px rgb(13 18 22 / 70%)"};case 2:const b=$h(a.color);return{textColor:Di(["#000000","#ffffff"],c=>__c.mj(c,b))==="#000000"?"black":"white",textShadow:$Ks(b)};default:throw new u(a);}};
dLs=function({gL:a,xza:b,Qhe:c,kqj:d,$zp:e,Qsj:f}){return hV(({scene:g,width:h,height:k})=>{const l=b.BBb(g),n=c.bMe(g).Tvb;var p=n!=null;const q=h>50,r=!a.ui&&c.bMe(g).moa.isVisible;p=!q||p||!l||r;return fV(d,{scene:g,To:a.ui,children:mV("div",{className:DV("FlISGw",{_Tgftw:l}),style:{width:h-bLs/2,height:k},children:[fV(e,{scene:g,width:h,height:k,zla:n}),fV(f,{fill:g.fill,oc:l}),fV(cLs,{scene:g,hidden:p})]})})})};
eLs=function({NHa:a,e3b:b,o3j:c,Qhe:d,jqe:e}){const f=FV(h=>b.OKg(a.scenes,h)+b.hib(h)-bLs/2),g=hV(({scene:h})=>{const k=lV(null),l=jV(()=>{rV(()=>{a.AEf=h.fill})},[h.fill]),n=jV(()=>{rV(()=>{a.AEf=void 0})},[]);kV(()=>{const q=k.current;if(q)return gV(()=>f(h),r=>{q.style.left=`${r}px`},{fireImmediately:!0,scheduler:requestAnimationFrame})},[h]);const p=cHs(()=>b.hib(h)<50);return fV("div",{ref:k,className:DV("_9yzjaQ",{_8LWVwQ:p}),onMouseEnter:l,onMouseLeave:n,children:fV(e,{fill:h.fill})})});return hV(()=>
{const h=Vb()?d.rSp(a.scenes):d.qSp(a.scenes)||d.lzr(a.scenes);return fV("div",{className:DV("UMhIdg",{_8LWVwQ:h||c.ZWb}),children:a.scenes.map((k,l)=>l>=a.scenes.length-1?null:fV(g,{scene:k},k.key))})})};
gLs=function(a,b){if(a.NHa.page.ia.locked)return!1;switch(b.type){case "timelineItems":return b.elements.length===1?fLs(a,b.elements):b.fh.length===1?a.NHa.Svr(b.fh[0]):!1;case "video":return b.kind==="futureVideo"?!1:b.video.contentType==="VIDEO";case "searchMedia":a:switch(b.kind){case "searchImageMedia":case "searchPrivateMedia":a=b.media.ho?.j_;b=b.media.type===1&&(!a||a===1);break a;case "futureSearchMedia":case "searchVectorMedia":case "searchElementGroupMedia":case "searchTemplate":b=!1;break a;
default:throw new u(b);}return b;case "file":return!!a.qh;default:throw new u(b);}};fLs=function(a,b){return b.every(c=>hLs(a,c))};hLs=function(a,b){return b.type!=="rect"?!1:b.fill.video.ref?(a=(b=b.fill.video.ref.video)?a.dc.kda(b):void 0,!(a==="VECTOR_STICKER"||a==="STICKER"||a==="CLIP")):b.fill.image.ref?a.Qa.nfa(b.fill.image.ref)===1:!!b.fill.gradient.ref||!!b.fill.color};
iLs=function(a,b){const c=a.kjh,d=a.NHa;switch(b.type){case "timelineItems":return[...b.fh.map(e=>d.tbi(e)).filter(sb),...b.elements.filter(e=>hLs(a,e)).map(e=>WKs(c,e.fill))];case "video":return[YKs(c,b.video)];case "searchMedia":switch(b.kind){case "searchImageMedia":case "searchPrivateMedia":return[ZKs(c)];case "futureSearchMedia":case "searchVectorMedia":case "searchElementGroupMedia":case "searchTemplate":throw Error("Unsupported drag type");default:throw new u(b);}case "file":return[ZKs(c)];
default:throw new u(b);}};oLs=function(a,b,c){if(a.qh?.rca){var d=a.NHa.scenes[c.index],{Dc:e,images:f}=a.qh.rca(b,"canvas");b.filter(g=>jLs.includes(g.type)).length!==0&&(e.then(g=>{rV(()=>{for(const h of g)c.type==="replace"?kLs(a.xza,d,h):lLs(a.xza,h,d,"drag_file")})}),f.then(g=>{rV(()=>{for(const h of g){const k=Yef(h);c.type==="replace"?mLs(a.xza,d,k):nLs(a.xza,k,d,"drag_file")}})}))}};pLs=function(a){a.cAc=void 0;a.lXc=void 0;a.gWa=void 0;a.Jbh=void 0;a.Rhe=void 0};
uLs=function({Qa:a,dc:b,o4a:c,qp:d,Pia:e,YCc:f,NHa:g,xza:h,kjh:k,e3b:l,Zzp:n,qh:p}){const q=new qLs(d,g,e,l),r=new rLs(a,b,d,q,k,e,g,h,p);a=hV(w=>{const x=jV(()=>r.veq(w.scene.fill),[w.scene.fill]);return fV(f,{item:w.scene.fill,onDragStart:x,children:fV(n,{...w})})});const t=hV(({scene:w})=>{const x=lV(null),y=q.VRg?.type==="replace",z=w.fill!=null&&h.BBb(w);kV(()=>{const B=x.current;if(B)return gV(()=>q.W4q(w),C=>{B.style.transform=C?`translateX(${C}px)`:""},{fireImmediately:!0})});return fV("div",
{ref:x,className:DV("nvSIEQ",y?"Lmgmmw":"ChvVrA",y&&!z&&"QLhSLg"),style:{width:l.hib(w),height:CV},children:y&&fV(R,{background:"contrast",borderRadius:"elementRound",padding:"1u",children:fV(__c.S0f,{size:"small",className:"qlLLfw"})})})}),v=hV(()=>q.n3j?.length?q.n3j.map(w=>fV(t,{scene:w},w.key)):null);b=hV(({connectDropTarget:w,drag:x})=>{kV(()=>{if(x?.z5)r.onDragEnter(x.data);else r.onDragLeave()},[x]);kV(()=>gV(()=>c.isDragging,y=>{y?r.ZWb():r.j0j()}),[]);return fV(sLs,{connectDropTarget:w,store:q,
children:fV(v,{})})});return{o3j:q,Ymj:mc(c,tLs,w=>{const x=q.VRg,y=x?.type==="replace"||q.lan;if(x!=null&&y){if(!gLs(r,w.data))throw Error("Unacceptable drag data provided on drop");r.onDrop(w.data,x)}},b,{canDrop:w=>gLs(r,w.data),Yt:({positions:w})=>{r.onDragOver(m(w))}}),fjj:a}};
wLs=function(){const a=new vLs,b=({children:c,BXq:d,nDr:e,cdj:f=20})=>{kV(()=>{a.tUo(d,e)},[d,e]);kV(()=>{a.lTo(f)},[f]);return c};return{pqp:({itemSizes:c,On:d,children:e,nZl:f,oZl:g,cdj:h})=>fV(__c.qC,{On:d,itemSizes:c,zwa:f,TIo:g,children:k=>fV(b,{BXq:k?.gba||0,nDr:k?.Aba||0,cdj:h,children:e})}),XDr:a}};
xLs=function({Zjb:a,NHa:b,Ymj:c,e3b:d,Yzp:e,Zhe:f,wVc:g,G1o:h}){const {pqp:k,XDr:l}=wLs(),n=hV(({index:r,scene:t})=>l.H9q(r).LWs?fV(e,{scene:t}):null),p=hV(()=>b.scenes.map((r,t)=>fV(n,{index:t,scene:r},r.key))),q=hV(({On:r,nZl:t,oZl:v,cdj:w})=>{const x=lV(null);kV(()=>{const y=x.current;if(y)return gV(()=>d.t7q(b.scenes),z=>{y.style.paddingLeft=z?`${z}px`:""})},[]);return fV("div",{ref:x,className:"awPkZA",style:{height:CV},children:mV(k,{itemSizes:d.n6m(b.scenes),On:r,nZl:t,oZl:v,cdj:w,children:[fV(p,
{}),fV(h,{})]})})});return hV(({On:r,tse:t})=>mV("div",{className:"XV0shQ",children:[fV(q,{On:r,nZl:f,oZl:g}),t?fV(t,{}):a.Tpe&&fV(a.Tpe,{size:"m",shape:"square"}),fV(c,{})]}))};yLs=function(a,b,c){a.page.Hc.c0a(c?.fill,b.map(d=>d.fill))};ALs=async function(a,b){return Promise.all(b.map(c=>zLs(a,c)))};kLs=function(a,b,c){return a.km.n1a(new BLs(a.T$g,b.fill,a.Xe),{type:"video",video:c},{Ocj:b.durationUs})};
lLs=function(a,b,c,d){const e=a.page.Hc.toArray();a.qc.qEc({type:"video",video:b},{Xc:d},{rr:b.uv,placement:{Xe:a.Xe}});b=a.page.Hc.filter(f=>!e.includes(f));a.page.Hc.c0a(c?.fill,b)};mLs=function(a,b,c){return a.km.n1a(new BLs(a.T$g,b.fill,a.Xe),{type:"image",image:c})};nLs=function(a,b,c,d){const e=a.page.Hc.toArray();a.qc.qEc({type:"image",image:b},{Xc:d},{placement:{Xe:a.Xe}});b=a.page.Hc.filter(f=>!e.includes(f));a.page.Hc.c0a(c?.fill,b)};
CLs=function(a,b){a.fB.stop();const c=a.store.$l;c?.oc(a.page,b.fill)||(a.T4b.get()==="single"||!c||c.isEmpty?__c.f2a(a.vg,a.Xe,b.fill):c.fae(a.page,b.fill))};zLs=async function(a,b){if(b.fill.video.ref)return DLs(a,b);if(b.fill.image.ref)return ELs(a,b);if(b.fill.color||b.fill.gradient.ref)return{...Pn.snapshot(b.fill),durationUs:b.durationUs||a.od.KL(b.fill)||5E6};throw Error("Unknown fill type");};
DLs=async function(a,b){const c=Pn.snapshot(b.fill),d=m(c.video);var e=await __c.qVi(a.dc,d.video);e?.length?(e=Di(e,f=>f.width),e=$m(a.hKe,e)):e=$m(a.hKe,d.yb);return{...c,durationUs:b.durationUs||a.od.KL(b.fill)||5E6,video:{...d,yb:e.Nb()}}};
ELs=function(a,b){const c=Pn.snapshot(b.fill),d=m(c.image);var e=a.Qa.getImages(d.media);e.length?(e=Di(e,f=>f.width),e=$m(a.hKe,e)):e=d.yb?$m(a.hKe,d.yb):Lj(0,0,a.hKe.width,a.hKe.height);return{...c,durationUs:b.durationUs||a.od.KL(b.fill)||5E6,image:{...d,yb:e.Nb()}}};
FLs=function({xza:a,e3b:b,fjj:c,Kh:d}){const e=FV(g=>iV(()=>{var h=a.BBb(g);if(a.store.B5e.length!==1||!h){var k=a.T4b.get();switch(k){case "single":CLs(a,g);break;case "command":case "shift":h?(h=a.store.$l,h?.oc(a.page,g.fill)&&h.lae(a.page,g.fill)):CLs(a,g);break;default:throw new u(k);}}})),f=FV(g=>iV(h=>{h.preventDefault();h.stopPropagation();Ic.wba||Ic.DCd||(CLs(a,g),d.VOb(__c.qj({x:h.clientX??0,y:h.clientY??0}),"element_timeline","right_click","bottom-start"))}));return hV(({scene:g})=>{const h=
b.hib(g);return fV("div",{className:DV("_5mXa1w",{b3FjcQ:a.BBb(g)}),style:{minWidth:h},onClick:e(g),onContextMenu:f(g),children:fV(c,{scene:g,width:h,height:CV})})})};HLs=function({od:a,bAa:b,NHa:c,page:d}){const e=d.ia.Hc,f=k=>e.last()===k,g=k=>e.previous(k),h=k=>{const l=a.KL(k);return{iIl:(e.previous(k)?.transition.ref?.durationUs||0)/l*100,g9h:(k?.transition.ref?.durationUs||0)/l*100}};return({fill:k,oc:l})=>fV(GLs,{y9q:h,bAa:b,NHa:c,Q7q:g,fill:k,oc:l,Twr:f})};
LLs=function({If:a,Qa:b,Acj:c}){return hV(({scene:d,width:e,height:f,zla:g})=>{switch(d.type){case 0:const h=qKs(d.H9,a);return h?.frames?fV(vKs,{fill:d.H9,bMb:h.frames,If:a,width:e,height:f,zla:g,Acj:c}):h?.url?fV(uKs,{url:h.url}):fV(ILs,{EJ:a.EJ(d.H9),isPending:a.ECd(d.H9)});case 1:return b.contains(d.Cy.media)||b.Xzb([d.Cy.media]),(e=pKs(b,d.Cy,f))?fV(uKs,{url:e}):fV(ILs,{EJ:b.bka(d.Cy.media),isPending:b.isPending(d.Cy.media)});case 2:return fV(JLs,{color:d.color});case 3:return(d=__c.HXf(d.AUa))?
fV(KLs,{gradient:d,width:e,height:f}):fV(ILs,{});default:return fV(ILs,{})}})};MLs=function(a,b,c,d){const e=oV(()=>{if(d.get())return[];var f=b.rfd.get();f=f!=null?[f]:[];const g=b.zzg.get(),h=b.EPh.get(),k=b.pjd;return md([...f,...g,...h]).map(l=>({TEa:l,Ljd:k,j7c:k}))});return{njh:oV(()=>{const f=[];let g=0;a.scenes.forEach(h=>{f.push(g);g+=h.durationUs});f.push(g);return f}),uRb:new fKs(e,b.oOe,c)}};
RLs=function({qp:a,xza:b,oXa:c,fB:d,od:e,tcf:f,boa:g,Wk:h,ui:k}){const l=(r,t)=>r+f.ddl(t),n=FV(r=>{const t=new NLs(r,b,c,f,k);r=new OLs(e,r,t,d);return{store:t,L:r}}),{njh:p,uRb:q}=MLs(b,g,h,k);g.njh=p;g=new PLs(r=>n(r).store);return{kqj:hV(({scene:r,To:t,children:v})=>{const {store:w,L:x}=n(r);return fV(QLs,{qp:a,I0b:w.Afo,durationUs:w.durationUs,gib:l,gQa:w.gQa,yza:w.yza,Eae:1E5,LU:r.LU,Ika:x.Ika,VDa:x.VDa,gqa:x.CUn,fIa:x.fIa,Zsb:x.Zsb,$sb:x.$sb,captureEvents:!0,disabled:w.isDisabled,To:t,Aac:w.Ygk,
moa:w.moa,zQd:q,children:v})}),Qhe:g}};
XLs=function({Ai:a,page:b,hb:c,Qa:d,dc:e,od:f,gO:g,vg:h,qc:k,km:l,T4b:n,fB:p,oXa:q,boa:r,Wk:t,ui:v,o4a:w,qp:x,Pia:y,YCc:z,gL:B,Zjb:C,Zhe:G,wVc:H,Kh:K,jqe:L,qh:N}){const P=new SLs(f);a=new TLs(a,b,c,P,h);h=new ULs(a,f,k,l,d,e,h,n,p);k=new VLs(q);const {kqj:T,Qhe:V}=RLs({od:f,fB:p,boa:r,Wk:t,ui:v,qp:x,xza:h,tcf:k,oXa:q});p=new WLs(k,V);g=LLs({If:g,Qa:d,Acj:(da,la)=>BKs.factory(oV(()=>q.WDa),f)(da,la)});b=dLs({gL:B,xza:h,Qhe:V,kqj:T,$zp:g,Qsj:HLs({od:f,bAa:C,NHa:a,page:b})});const {o3j:W,Ymj:aa,fjj:ba}=
uLs({Qa:d,dc:e,o4a:w,qp:x,Pia:y,YCc:z,NHa:a,xza:h,kjh:P,e3b:p,Zzp:b,qh:N});d=FLs({xza:h,e3b:p,fjj:ba,Kh:K});L=eLs({NHa:a,e3b:p,o3j:W,Qhe:V,jqe:L});return xLs({Zjb:C,NHa:a,Ymj:aa,e3b:p,Yzp:d,Zhe:G,wVc:H,G1o:L})};
dMs=function({Ja:a,pg:b,nz:c,qp:d,jx:e,fB:f,XH:g,tOl:h,P$g:k,mtb:l,gL:n,Ynd:p,Zhe:q,wVc:r,tZa:t,IH:v,onContextMenu:w}){const x=zf(a),y=hV(K=>{const L=jV(()=>YLs(e,n,K.page,f),[K.page]);return fV(ZLs,{store:n,document:a,N:k,V:h,ZKs:n.z7q(K.page),b3a:L,uhd:n.ui?60:void 0,FHg:!0,tZa:t,GXa:e.isLinear,...K,children:K.children})}),z=hV(K=>{const L=lV(d);return fV($Ls,{Ja:a,gL:n,z_k:f?.stop,Omh:e.Omh,cDl:e.cDl,aXp:e.lyi,kRe:n.kRe(K.page.page),uFh:y,GXa:e.isLinear,bsl:L,...K})}),B=hV(K=>fV(aMs,{Bd:K.Bd,z$k:g.GJ?
"pageNumber":"pageDuration",page:K.page,gL:n,mtb:l,nz:c,qga:K.qga,GXa:e.isLinear})),C=hV(K=>fV(bMs,{MEp:z,cAp:B,Ja:a,onContextMenu:n.mO?w:void 0,NWg:!!e.Fcb,kRe:n.kRe(K.page.page),IH:v,pg:b,jx:e,XH:g,Ynd:p,store:n,tZa:t,...K})),G=hV(({yld:K,On:L,Kg:N,jmb:P,eDc:T,ICc:V,qQa:W,K7a:aa})=>{const ba=lV({GOk:Number.MAX_VALUE,Fxk:a.pages.count()<=20?a.pages.count()-1:-1}),da=e.Drl;return fV(__c.qC,{On:L,itemSizes:da,zwa:q,TIo:r,children:la=>{let ja=-1;const oa=la?.gba||0,ma=la?.Aba||0,na=Math.min(oa,ba.current.GOk),
qa=Math.min(da.length-1,Math.max(ma,ba.current.Fxk));ba.current.GOk=Math.min(na,ba.current.GOk);ba.current.Fxk=Math.max(qa,ba.current.Fxk);return fV(uV,{children:a.pages.map((ua,za)=>{ja++;const va=ja>=na&&ja<=qa,xa=ja===0?da[ja]-e.Cgb:da[ja];return fV(C,{qp:d,page:x.xb(ua),Yb:ja,Sms:xa,yld:K,jmb:P,K7a:aa,MWs:va,akb:oa<=ja&&ja<=ma?"visible":"hidden",On:L,Kg:N,eDc:T,ICc:V,qQa:W},za)})})}})}),H=hV(({y6b:K,ewc:L,$5b:N})=>fV(cMs,{y6b:K,ewc:L,vMg:{width:e.$hi,height:CV},$5b:N,Ynd:p,gL:n,mtb:l,fB:f,jx:e,
IH:v}));return hV(({yld:K,On:L,Kg:N,jmb:P,eDc:T,$5b:V,ICc:W,qQa:aa,y6b:ba,ewc:da,K7a:la})=>{const ja=e.Cgb;return mV(uV,{children:[fV("div",{className:"_AhXog",style:{width:ja,marginLeft:-ja},children:fV(p,{page:a.pages.first(),pLm:"full",FHg:!0,Jfr:!0})}),fV(G,{yld:K,On:L,Kg:N,jmb:P,eDc:T,ICc:W,qQa:aa,K7a:la}),ba&&da&&fV(H,{y6b:ba,ewc:da,$5b:V})]})})};
eMs=function({Ja:a,viewport:b,pg:c,Qa:d,dc:e,hb:f,od:g,gO:h,qc:k,km:l,nz:n,vg:p,T4b:q,o4a:r,Fkg:t,qp:v,Pia:w,YCc:x,dEh:y,jqe:z,Lk:B,EA:C,rjc:G,jx:H,fB:K,XH:L,tOl:N,P$g:P,mtb:T,gL:V,Zjb:W,Ynd:aa,Zhe:ba,wVc:da,tZa:la,IH:ja,onContextMenu:oa,Kh:ma,boa:na,Wk:qa,ui:ua,qh:za}){let va=()=>{};const xa=dMs({Ja:a,pg:c,nz:n,qp:v,jx:H,fB:K,XH:L,tOl:N,P$g:P,mtb:T,gL:V,Ynd:aa,Zhe:ba,wVc:da,tZa:la,IH:ja,onContextMenu:oa});c=hV(Ba=>{va();var pa=b.Vg;if(B.Yu&&pa.type==="fixed-page"){const ia=zf(a);pa=XLs({Ai:ia,page:ia.xb(pa.ia),
hb:f,Qa:d,dc:e,od:g,gO:h,qc:k,km:l,vg:p,T4b:q,fB:m(K),oXa:H,boa:na,Wk:qa,ui:ua,o4a:r,qp:v,Pia:w,YCc:x,gL:V,Zjb:W,Zhe:ba,wVc:da,Kh:ma,dEh:y,jqe:z,qh:za});return fV(pa,{...Ba})}va=t.X_j.add(()=>!!H.Fcb||!!H.Bib||!!C.w4c||H.z0j);return fV(xa,{...Ba})});G.n8l=c};gMs=function(a){const b=new fMs;gV(()=>b.trim&&!a.pages.has(b.trim.page),c=>{c&&(b.trim=void 0)});return b};
hMs=function(a,b,c){c=c||a.store.trim?.direction;({durationUs:c}=a.tKg(om.oy(b),c));a=lJe(a.nz,b);return c?Math.max(a,c/1E6):Math.max(a,600)};kMs=function(a,b,c,d,e,f,g,h,k,l){return g?new iMs(a,b,c,d,e,g,h,k,l):new jMs(a,b,c,d,e,f,h,l)};
lMs=function(a,b,c){if(a.Lxe(b,c)){var d=a.ya;a.kgh(d);var e=om.oy(d),f=e.indexOf(b);f!==-1&&c.forEach((g,h)=>{h>0&&(h=Cs.HR(An.snapshot(d),{sIa:!0}),d=a.document.pages.FJ(d,h));e=om.oy(d);h=e[f];a.jZi(d,g.endUs/1E6-g.startUs/1E6,"end");h.trim={startUs:g.startUs,endUs:g.endUs}})}};nMs=function({a9e:a,nz:b,If:c,viewport:d,document:e,Jh:f}){const g=new mMs(a,b,c,d,e,f);gV(()=>a.CEb.length&&a.GOh,h=>{h&&a.Sk&&lMs(g,a.Sk,a.CEb)})};
pMs=function(a){if(a.Pa.mode<40||a.Dx.GJ)return!1;const b=a.jr.CS?.filter(d=>{d=by(a.jr,d);return!!oMs(d,a.bvb)})?.length??0,c=a.document.audio.tracks.count();return b>0&&c+b<=a.jr.ADj};qMs=function(a,b){a=a.Dx.tLg(b,!0);if(a?.page){b-=a.Ofa/1E6;var c=a.durationUs/1E6-b;if(!(b<.1||c<.1))return{...a,z3s:b}}};rMs=function(a,b,c){let d=0;for(const e of b)if(b=a.od.KL(e)||5E6,d+=b,b>0&&c<d)return a=d-c,c=b-a,c<1E5||a<1E5?void 0:{fill:e,ZUq:c,bVq:a}};
oMs=function(a,b){b=b*1E6-a.startUs;a=a.durationUs-b;if(!(b<1E5||a<1E5))return b};
sMs=function(a,b,c){const d=by(a.jr,b);b=a.EA.B1c.findIndex(k=>k.some(l=>l===d));var e=oMs(d,c);if(e){var f=__c.Xce(Cs,__c.KEc.snapshot(d.track));c=d.trim.startUs+e;var g={startUs:c,endUs:d.trim.endUs},h=(g.endUs-g.startUs)/2;e=a.document.audio.tracks.append({...f,startUs:Math.floor(d.startUs+e),trim:g,fadeIn:f.fadeIn!=null&&f.fadeIn.durationUs>h?{...f.fadeIn,durationUs:h}:f.fadeIn,fadeOut:f.fadeOut!=null&&f.fadeOut.durationUs>h?{...f.fadeOut,durationUs:h}:f.fadeOut});f=by(a.jr,e);a.EA.aig(f,b);a.EA.aig(d,
b);a.jr.jFb(d,"trim");a.jr.Ije(d,d.trim.startUs,c);a.jr.lFb(d,"shortcut");return e}};
xMs=function({Jh:a,Kh:b,Gj:c,Jd:d,selection:e,document:f,Lk:g,nz:h,jr:k,Dx:l,od:n,V:p,pXa:q,fB:r,EA:t,ui:v,Kc:w,Pa:x}){const y=oV(()=>c.fq==="thumbnail"&&!w.DNa),z=new tMs(f,x,h,k,t,l,g,n,p,a,r,q,y);d.plugins.tIb=()=>({Sd:()=>e.Ma?.type==="pages"&&c.fq==="thumbnail"&&!l.GJ&&e.Ma?.Ri(),Button:hV(B=>fV(uMs,{...B,disabled:!z.CTh,q9e:z})),onClose:r.mhe});b.jc(()=>z.CTh,(B,C)=>{C?B.ZIh={Button:G=>{const H=jV(()=>{G.onClick?.();z.b3i()},[G]);return fV(G.rl,{label:M("GiOiNA"),onClick:H,Icon:vMs,Dm:"s",oa:G.oa})},
onClose:r.mhe}:(B.ZIh=void 0,r.mhe())});d.plugins.UGb=()=>({Sd:()=>x.mode===40&&e.Ma?.type==="audio"&&!!k.CS?.length,Button:hV(B=>fV(wMs,{...B,disabled:!pMs(z),To:v.get(),q9e:z})),onClose:r.mhe});b.jc(()=>pMs(z),(B,C)=>{B.mrj=C?{Button:G=>{const H=jV(K=>{G.onClick?.();K.stopPropagation();z.a3i()},[G]);return fV(G.rl,{label:M("W417Fg"),onClick:H,Icon:vMs,Dm:"s",oa:G.oa})},onClose:r.mhe}:void 0});return z};
yMs=function({ui:a,onClick:b}){a=a?M("OEWZcA"):M("8pJsaQ");return fV(Wi,{variant:"tertiary",icon:lr,onClick:b,children:a})};AMs=function({onClick:a,playState:b,isDisabled:c}){const d=()=>b.fH/1E6,e=()=>b.pbf/1E6;return hV(()=>fV(zMs,{onClick:a,currentTime:d,totalTime:e,Qf:b.Qf,xa:b.xa,isDisabled:c?.get()??!1}))};
zMs=function({onClick:a,currentTime:b,totalTime:c,Qf:d,xa:e,isDisabled:f}){return mV($q,{spacing:"1u",Fa:"center",children:[fV(Yq,{width:"content",children:fV(BMs,{currentTime:b,totalTime:c})}),fV(Yq,{width:"content",children:fV(ir,{onClick:a,variant:"tertiary",icon:e?__c.Wq:d?__c.Cu:__c.Du,disabled:e||f,size:"small",Qc:"medium",ib:d?M("8Pbkhg"):M("Y/SEvA"),PWb:!0})}),fV(Yq,{width:"content",children:fV(CMs,{totalTime:c})})]})};DMs=function({b0m:a}){return fV("time",{dir:"ltr",className:"Nbtq6A",children:a})};
IMs=function({hdc:a,kBg:b,nac:c,ui:d,Lk:e,jx:f,fB:g,pXa:h,XH:k,Fvq:l,Tlg:n,S8h:p,Lxr:q}){let r=EMs,t=oV(()=>null);a.vme={height:oV(()=>b&&f.Rib?FMs:0)};if(!g||!h)return{vme:t,Ghf:r};const v=()=>{g.VRa({mb:"click"})};if(b){const w=AMs({onClick:v,isDisabled:l,playState:h}),x=iV(()=>{e.gR(1);g.stop();g.configure({page:void 0});k.qje(!0)}),y=hV(()=>n&&p&&e.Yu&&q.get()?fV(yMs,{ui:d.get(),onClick:x}):null);t=oV(()=>f.Rib?fV(GMs,{vss:fV(w,{}),EQq:fV(y,{})}):null)}else r=hV(()=>{if(!f.Rib)return null;var w=
g.oRe||!!f.Fcb||!!f.Bib||k.uK;w=l.get()||d.get()&&w;return fV(HMs,{onClick:v,Qf:h.Qf,xa:h.xa||!!c?.zRd.size,mH:w})});return{vme:t,Ghf:r}};
LMs=function({jx:a,XH:b,s7j:c,Kc:d,keyboardShortcuts:e,cba:f,ee:g,Gj:h,ui:k}){const l=Po("d");c&&e.register([l,()=>{a.G7e&&b.qje(!b.GJ,"shortcut")},M("VH6WcA"),["edit","comment","view"]]);g.wv(()=>k.get()&&a.G7e,({vM:p},q)=>{p&&(p.Hsj=q?{Button:hV(r=>fV(JMs,{...r,Gj:h,XH:b}))}:void 0)});const n=()=>{b.qje(!b.GJ,"click")};f.L1a.install("timeline_mode",{Sd:()=>!k.get()&&h.fq==="thumbnail"&&!d.DNa&&a.G7e,Component:hV(()=>fV(KMs,{active:!b.GJ,onClick:n,LI:c?l:void 0,ib:c?b.GJ?M("JOx0bg"):M("vr2BIw"):
void 0}))});Sus(()=>{a.G7e||a.GJ||b.qje(!0)},{scheduler:requestAnimationFrame})};NMs=function({rjc:a,Zjb:b,Lk:c,document:d,viewport:e,ui:f}){gV(()=>c.Yu&&e.Vg.type==="fixed-page"&&e.Vg.ia.elements.empty&&e.Vg.ia.Hc.empty&&d.audio.tracks.count()===0,g=>{a.tse=g?hV(()=>fV(MMs,{Tpe:b.Tpe,ui:f})):void 0},{fireImmediately:!0})};EV=function(a,b){return __c.pm(b,a.I.document)};IHs=function(a,b){a=a.I.hb;return b.type!=="fixed"||ug(a.kl(b))?!1:a.i_(b,c=>!!c&&!c.MGa&&!c.vhb)};
WIs=function(a,b,c){b=a.x5d(c+b.scrollLeft-(b.left+OMs+a.Cgb));a.rEe=Math.round(b*100)/100};QMs=function(a,b){return a.I5c.slice(b,b+2).some(({width:c})=>c<PMs)};YLs=function(a,b,c,d){a.IJn();if(d)if(b.ui){const e=gss(()=>!b.AAd,()=>{d.jph=!0;d.lL(c);d.FSk(c,"start");e()})}else d.FSk(c,"start")};RMs=function(a,b,{offsetWidth:c,width:d,Ofa:e,durationUs:f}){b-=e;if(b<=0)return c;e=b-f;return e<=0?c+(f?b/f:1)*d:c+d+e/1E6*a.WDa};
SMs=function(a,b,{ujc:c,Hfh:d,withTrim:e}={}){if(d){const {uZk:f}=a.aza(d);b+=f}c=d?.draft?a.aza(d):a.tLg(b/1E6,c,e)||a.qti||{offsetWidth:0,width:a.G7i,Ofa:0,durationUs:a.Qkd};return a.Jih(Math.max(RMs(a,b,c),0))};TMs=function(a,b){const c=a.i$b.find(({width:d,offsetWidth:e})=>b<=e+d);return c&&!EV(a,c.page)?{offsetWidth:c.offsetWidth,width:c.width,Ofa:c.Ofa,durationUs:0}:c||a.qti||{offsetWidth:0,width:a.G7i,Ofa:0,durationUs:a.Qkd}};
UMs=function(a,b,{offsetWidth:c,width:d,Ofa:e,durationUs:f}){b-=c;if(b<=0)return e;c=b-d;return c<=0?e+b/d*f:e+f+c/a.WDa*1E6};VMs=function(a,b,{Hfh:c}={}){if(c){const {iJn:d}=a.aza(c);b+=d}c=c?.draft?a.aza(c):TMs(a,b);return Math.max(UMs(a,b,c),0)};WMs=function(a){clearTimeout(a.akh);a.akh=setTimeout(()=>{a.controller.Oda();a.akh=void 0},20)};XMs=function(a,b=a.gSh){clearInterval(b);clearTimeout(b)};
YMs=function(a,b,c=0){const d=m(a.effect),e=c>0,f=()=>{var g=a.Bf,h=b-a.rlo+c*a.heartbeatInterval;const k=m(a.Nqc);let l=a.FNk;rV(k)&&(l+=Date.now()-a.KIl);d({Bf:g,Zvl:h,rft:l,NZp:e?"heartbeat":a.isBuffering?"start":"end"})};e?a.Pwk=window.setTimeout(f,a.oHj):f()};ZMs=function(a){a.nI.VC&&a.nI.configuration!==a.nI.gHe&&(a.stop(),a.create())};
$Ms=function(a){const b=a.viewport.ya;if(b.type==="fixed"){var c=a.od.Iac(a.document,b);const e=a.od.xb(b),f=a.store.fH-c;c=__c.OFd(b);var d=__c.IRd(a.od,b.Hc);let g;if(b.Hc.count()>1&&(d=d.find(h=>a.store.fH>=h.startUs&&a.store.fH<h.startUs+h.durationUs))){const h=a.store.fH-d.startUs;g=h>=0&&h<d.durationUs?h:void 0}c.forEach(({element:h,parent:k,fill:l})=>{if(!h&&g)__c.Fde(a.gO,l,g/1E6);else{const {startUs:n,durationUs:p}=h?eXa(h,b,e,k):{startUs:0,durationUs:e};h=f-n;h>=0&&h<p&&__c.Fde(a.gO,l,h/
1E6)}})}};aNs=function(a,b){b==="COMPOSITE"&&(a.store.Zoi?a.eHk=!1:b="ANIMATE");if(a.nI.djf!==b&&!(b==="COMPOSITE"&&a.store.VNg||b==="ANIMATE"&&!a.eHk&&!a.store.VNg)){var c=a.store.currentTime;a.nI.setActive(b)&&(a.t_?.dNn(a.uPa()),a.seek(c),a.stop())}};bNs=function(a,b,c){const {height:d,width:e}=sg(4,ck(b,a.document.dimensions)),{height:f,width:g}=sg(4,ck(c,a.document.dimensions));return d===f&&e===g};
cNs=function(a,b){if(a.nI.ya){var c=a.store.Qf,d=a.nI.ya,e=a.nI.GLe(d);a.stop();e!=null&&b.includes(d)&&(b=a.store.fH-e*1E3,{Ofa:d}=a.Dx.aza(d),a.C7e=c,a.create(),a.seek((d+b)/1E6))}};
kNs=function({P:a,Ha:b,Qia:c,Pa:d,canvas:e,viewport:f,toolbar:g,document:h,od:k,uc:l,Lk:n,timing:p,Dx:q,sq:r,Oua:t,G0:v,gO:w,yV:x,rua:y,selection:z,nq:B,sRa:C,Yaa:G,sAa:H,ma:K,Zea:L,boa:N,ui:P,vQe:T,UGe:V,pg:W,wAa:aa,kw:ba,AVb:da}){var la=b.Vd("editor.editing.page_navigator.timeline_preview");la=new __c.fyr(0,a,la,ba);b=__c.rXb({Ha:b,sessionType:"editing",N:a,kw:ba});ba=zf(h);const ja=new dNs(L.rma,h,ba,H,r,v,k);L=hV(()=>f.uh&&f.ya&&ja.iJd&&ja.S_&&V.get()?fV(eNs,{Wnb:__c.kXb(),uc:va,S_:ja.S_,tDh:qa,
L:na,store:ma,wAa:aa}):null);const oa=new fNs(ja,L),ma=new gNs(h,ba,f,k,p,n,oa),na=new hNs(ma,h,k,f,z,q,oa,da,w,a,N,P,T,W,la,b,x,oV(()=>n.Yu));c.init(na,ma);a=oV(()=>({X1b:oa.djf==="COMPOSITE"&&da&&da.YGc?da.YGc:ja.VC,If:oa.djf==="COMPOSITE"&&da&&da.yze?da.yze:v}));r=new __c.s5n(h,a,r,__c.Hl.tw);x=new __c.JVh({yV:x,Xua:r,VJc:!0,hZk:!0});const qa=__c.vXb(x);da&&iNs({Oua:t,gO:w,AVb:da,store:ma,Dx:q,$ct:oa,tDh:qa,UGe:V,L:na});da&&gV(()=>ma.Qf,xa=>{xa&&da.WFo.yko()});da&&__c.cyr({AVb:da,kyb:ma,JXs:()=>
!(!ma?.Zoi||ma?.VNg||ma?.IVj!=="ANIMATE"&&(ma?.Qf||ma?.xa)||ma?.rpi),HXs:()=>!(!ma?.Zoi||ma?.VNg)});const ua=(xa,{page:Ba,element:pa})=>{const ia=pa.container;switch(ia.type){case "group-element":na.lL(Ba.ia);na.stop();if(__c.oCe(ia.group)){rV(()=>z.Jl(ia.container,ia.group));break}z.KUe(ia,pa.ia);xa.stopPropagation();break;case "fixed-page":na.lL(Ba.ia);na.stop();rV(()=>z.Jl(ia,pa.ia));break;case "layout-element-cell":case "chart-element":case "controlled-element":break;default:throw new u(ia);}},
za={onTouchStart:(xa,Ba)=>{ua(xa,Ba)},onMouseDown:(xa,Ba)=>{ua(xa,Ba)},KEc:({page:xa,element:Ba})=>{if(d.mode<=10||Ba.ia.type==="group")return!1;const pa=Ba.container;if(C&&pa.type!=="layout-element-cell"&&pa.type!=="chart-element"&&!__c.Udg(C,Ba))return!1;switch(pa.type){case "group-element":case "controlled-element":case "fixed-page":case "chart-element":break;case "layout-element-cell":return!0;default:throw new u(pa);}return __c.fXa(Ba.ia,ma.fH-(n.Yu?0:k.Iac(h,xa.ia)),xa.ia,pa)}},va=GV(xa=>{const Ba=
xa.page,pa=jV(()=>{if(!C||__c.Rdg(C,Ba))d.mode>10&&Ba.container&&Ba.container.type!=="design-item"&&z.YU(Ba.container,Ba.ia),na.lL(Ba.ia),na.stop()},[Ba]);return fV(l,{...xa,gB:{...xa.gB,Yjc:()=>!0},hab:za,G4g:pa})});e.jc(()=>({isEnabled:q.Rib||ma.Qf,Overlay:oa.Overlay}),(xa,{isEnabled:Ba,Overlay:pa})=>{xa.dKa.GTd=Ba?pa:void 0});Pb("c25bfe2b",!1)&&e.jc(()=>ma.IVj==="COMPOSITE",(xa,Ba)=>{xa.dKa.cfg=Ba?jNs:void 0});e=()=>oa.Overlay!=null;p.nJl=()=>oa.Overlay!=null&&!n.Yu;p.BIk=()=>oa.VC?.paused===!1;
g.BF?.mS(e);B.controls.FMb(e);gV(e,xa=>{xa&&(G.isActive&&G.ioc("timeline_preview"),y.lle())});gV(()=>({LW:f.uh?f.lT(f.ya):1,ya:f.ya}),(xa,Ba)=>{xa.ya&&Ba.ya&&xa.ya.type===Ba.ya.type&&bNs(na,xa.ya,Ba.ya)&&xa.LW!==Ba.LW&&na.stop()},{scheduler:requestAnimationFrame});gV(()=>P.get()&&g.d5,xa=>xa&&na.stop());gV(()=>ma.Qf,xa=>{xa&&!H?.QAi&&H?.isEnabled&&(K.Ib({Db:M("bnV+qg")}),H.QAi=!0)});return{fB:na,pXa:ma}};
iNs=async function({AVb:a,Oua:b,gO:c,Dx:d,store:e,$ct:f,tDh:g,UGe:h,L:k}){if(await a.isSupported()){var {WWh:l,kyb:n,SEh:p,YGc:q,yze:r}=a.zZh({dimensions:oV(()=>e.box)});b=new lNs(l,n,b,c,d);c=hV(()=>h.get()?fV(mNs,{SEh:p,store:e,tDh:g,L:k}):null);a.YGc=q;a.yze=r;f.dPj=b;f.o5o=c}};sNs=function({Lk:a,V:b,N:c,qp:d}){const e=new nNs,f=new oNs(e,d),g=new pNs(a,b,c,f);a=new qNs(g);return{L:g,config:e,XRd:a,VAh:()=>rNs({fwt:g,wNs:f})}};
CNs=function({jR:{fi:a,tZa:b,rvg:c,vNq:d,lKq:e,kBg:f,Wwf:g,IKc:h,gpc:k,s7j:l,wDg:n,hAg:p},errorService:q,P:r,Ha:t,Qia:v,AKa:w,F5b:x,hdc:y,Bfa:z,P$g:B,oDb:C,jr:G,n3a:H,Oua:K,K_:L,G0:N,gO:P,yV:T,nac:V,sAa:W,SF:aa,xec:ba,a9e:da,hR:la,nz:ja,qp:oa,udb:ma,Fkg:na,Fc:qa,hb:ua,Lk:za,timing:va,qc:xa,km:Ba,ee:pa,Qa:ia,dc:wa,Pa:Ca,Kc:Ha,keyboardShortcuts:Oa,ma:Ka,document:Ua,kb:cb,Gj:ab,Wl:Ta,viewport:mb,od:pb,Soj:xb,Ynd:nb,Yaa:qb,selection:Ob,nq:Rb,sRa:Va,pT:yb,Uo:Jb,bAa:Nb,gL:ub,mtb:Yb,cba:hc,la:jc,wkc:Ec,
Vf:Qc,toolbar:bd,Jd:sc,Ac:dc,Kh:vb,Bta:fc,Ea:wc,Jh:yc,pg:Fc,wD:cd,Zoa:wd,Wk:ce,Zea:xe,onContextMenu:Se,Zhe:ad,wVc:se,UGe:De,IH:sd,kw:Ne,AVb:Fe,qh:Zd}){const Kd=gMs(Ua),Nd=d||c!==2,Rd=__c.u9q(),Sd=wc&&fc?Rd.Oig.has(wc)||Rd.gHf(fc,wc):!1,Ud=oV(()=>ub.ui),ng=oV(()=>ub.vQe),Ie=oV(()=>ub.PG),Yf=t.Vd("editor.editing.page_navigator.timeline"),{L:Hd,config:lf,XRd:gg,VAh:rd}=sNs({Lk:za,V:Yf,N:B,qp:oa}),pe=()=>Sd?!1:ab.fq==="thumbnail"&&(Nd||!Hd.GJ);va.Xri=()=>f&&pe();va.tqn=()=>pe()&&!Hd.GJ;const $e=new tNs({IH:sd,
kBg:f,IKc:h,tZa:b,Lk:za,viewport:mb,document:Ua,nz:ja,qp:oa,od:pb,Ewu:Sd,ui:Ud,Xri:pe,XH:Hd,r$i:Kd,hb:ua,Wk:ce,Pa:Ca});x.AIk=oV(()=>za.Yu||$e.G7e);ma.setup($e);w.Myr=()=>ab.fq==="scroll"?void 0:!Hd.GJ;const Xg=new uNs(oV(()=>$e.WDa)),{fB:uf,pXa:og}=v!=null&&kNs({P:r,Ha:t,Qia:v,document:Ua,Pa:Ca,canvas:ab,viewport:mb,toolbar:bd,od:pb,uc:xb,Lk:za,timing:va,Dx:$e,sq:H,Oua:K,G0:N,gO:P,yV:T,rua:L,sAa:W,ma:Ka,Zea:xe,Yaa:qb,selection:Ob,nq:Rb,sRa:Va,boa:Xg,pg:Fc,ui:Ud,vQe:ng,UGe:De,wAa:a.qwd,kw:Ne,AVb:Fe})||
{};if(za.Yu){const ag=mb.Vg;uf?.configure({page:ag})}const nf=__c.hk();lf.msl={get scrollLeft(){return oa.scrollLeft??0},get clientWidth(){return oa.clientWidth??0},get g3b(){return $e.Cgb+vNs},scrollTo:ag=>oa.scrollTo({left:ag})};lf.timeline={sXq:oV(()=>(nf.current?.nJo||0)+vNs),MLe:$e.MLe,x5d:$e.x5d,q9q:()=>$e.aza(ub.ya).Ofa/1E6,N7q:()=>(va.drf??0)/1E6};lf.O9q={hide:()=>qh?.P9q.hide()};const od=kMs(Kd,pb,ja,P,Yf,L,uf,Ob,ba,ce),{o4a:yd,Pia:Gc,YCc:zd,qbp:Yc}=pJs({o4a:qa,qp:oa,Wl:Ta,ui:Ud,Lk:za}),
be=oV(()=>!!ub.BQa),Id=new wNs,{ecp:me}=uf&&CKs({P:r,Ha:t,document:Ua,kb:cb,qc:xa,viewport:mb,Gj:ab,Wl:Ta,Qa:ia,J8d:be,ui:Ud,Ac:dc,Wk:ce,Kh:vb,SF:aa,od:pb,selection:Ob,pT:yb,Pa:Ca,rjc:Id,hdc:y,Bfa:z,Dx:$e,Ewg:na.Ewg,Lk:za,gO:P,fB:uf,T4b:Ie,hb:ua,boa:Xg,Fc:yd,qp:oa,Pia:Gc,YCc:zd})||{};bJs(Id,()=>(!$e.GJ||!!me?.open)&&(!Ud.get()||BV.vLq));y.a7c=oV(()=>Id.a7c);__c.pvf(Nb,()=>BV.iJq);const {EA:Hg,dUp:Ff}=aJs({gpc:k,Fc:qa,qc:xa,viewport:mb,Pa:Ca,rjc:Id,hdc:y,bAa:Nb,jr:G,n3a:H,nac:V,qp:oa,selection:Ob,
Kh:vb,Uo:Jb,Dx:$e,boa:Xg,Lk:za,fB:uf,pXa:og,errorService:q.Ef("audio_timeline"),la:jc,Zoa:wd,Wk:ce,T4b:Ie,uOl:oV(()=>Hd.LW),pNs:()=>{const ag=nf.current?.Xct||0;oa.scrollTop<ag&&oa.scrollTo({behavior:"smooth",top:ag-z.qVc})},hAg:p,wDg:n});ab.jc(()=>Ca.mode===40,(ag,Vi)=>ag.timeline=Vi?{Y9:()=>{Hg.mode!=="max"||Hg.mode!=="max"||Hg.Zjb.K_m||(Hg.store.HPh="min",Hg.w7.stop());me?.$nl()}}:void 0);const {vme:ef,Ghf:zj}=IMs({hdc:y,kBg:f,nac:V,ui:Ud,Lk:za,gL:ub,jx:$e,fB:uf,pXa:og,XH:Hd,Fvq:oV(()=>Nb.H0j),
Tlg:g,S8h:BV.S8h,Lxr:oV(()=>Ua.pages.count()>1)}),{Isj:Jh}=QKs({hdc:y,jx:$e,XH:Hd,qp:oa,cck:oV(()=>Nb.qdj.get()),gL:ub}),Em=xNs(),qh=uf&&og&&KKs({V:Yf,u4a:r,Ja:Ua,J8d:be,ui:Ud,F4c:Em,boa:Xg,EA:Hg,fB:uf,pXa:og,Dx:$e,XH:Hd,qp:oa,Lk:za,Vmq:oV(()=>Nb.qdj.get())});qh&&(Id.r9l=qh.Lvp);e&&DKs({jr:G,Kh:vb});const $k=og&&uf?xMs({Jh:yc,Kh:vb,Gj:ab,Jd:sc,selection:Ob,document:Ua,nz:ja,jr:G,Dx:$e,Lk:za,od:pb,V:Yf,pXa:og,fB:uf,EA:Hg,ui:Ud,Pa:Ca,Kc:Ha}):void 0;da&&nMs({a9e:da,nz:ja,If:P,viewport:mb,document:Ua,
Jh:yc});const pl=oV(()=>!Sd&&Vb()),{dEh:Jg,jqe:ki}=yNs({gL:ub,config:Nb,Vf:Qc,hR:la});eMs({Ja:Ua,viewport:mb,pg:Fc,od:pb,Qa:ia,dc:wa,hb:ua,gO:P,qc:xa,km:Ba,o4a:yd,Fkg:na,qp:oa,Pia:Gc,YCc:zd,nz:ja,vg:Ob,T4b:Ie,Lk:za,EA:Hg,rjc:Id,jx:$e,fB:uf,XH:Hd,tOl:Yf,P$g:B,mtb:Yb,gL:ub,Zjb:Nb,Ynd:nb,boa:Xg,Wk:ce,ui:Ud,Zhe:ad,wVc:se,tZa:b,IH:sd,onContextMenu:Se,Kh:vb,dEh:Jg,jqe:ki,qh:Zd});NMs({Lk:za,rjc:Id,Zjb:Nb,document:Ua,viewport:mb,ui:Ud});const Pi=()=>{ma.LLd()},Cf=hV(()=>{const ag=parseInt("28px",10);return Nb.Dse?
fV(Nb.Dse,{uJa:ag,Kpk:Vi=>$e.iLa(Vi,{withTrim:!0,Txb:!1}),tMg:(Vi,Jk)=>$e.hib(Vi,Jk,{withTrim:!0,Txb:!1}),zNs:Pi}):null}),$i=()=>{const {top:ag,rowHeight:Vi}={top:z.qVc+z.FJc+(z.FJc>0?Uc:0),rowHeight:z.vZf.height};oa.scrollTo({top:ag+Vi/2-z.uPd/2})},Sk=hV(ag=>{kV(()=>{Id.a7c&&requestAnimationFrame($i)},[]);kV(()=>{let Jk;const xh=gV(()=>za.Yu,gj=>{Jk!=null&&(Jk(),Jk=void 0);gj&&(Jk=zNs(Xg))},{fireImmediately:!0});return()=>{xh();Jk?.()}},[]);const Vi=ANs(oa,ub.wjm,ub.yjm);return mV(uV,{children:[fV(BNs,
{...ag,F4c:Em,ref:nf,Vf:Qc,store:ub,vc:Ka,EA:Hg,rjc:Id,jx:$e,fB:uf,pXa:og,XH:Hd,Isj:Jh,qp:oa,VAh:rd,wut:gg.Gq,M3s:Vi,TQm:pl,tZa:b,Lk:za,Dse:Cf}),fV(Yc,{})]})}),{eap:kf}=fJs({Kc:Ha,keyboardShortcuts:Oa,document:Ua,viewport:mb,hb:ua,N:B,V:Yf});!BV.AHm&&LMs({jx:$e,XH:Hd,s7j:l,Kc:Ha,keyboardShortcuts:Oa,cba:hc,ee:pa,Gj:ab,ui:Ud});hc.L1a.install("document_duration",{Sd:()=>(mb.uh||mb.MF)&&!C?.isActive,Component:hV(function(){const ag=ub.Dg.length===1?ub.Wo+1:void 0;return fV(kf,{currentTime:Math.floor((og?.fH||
0)/1E6),totalTime:(za.Yu?pb.xb(mb.Vg.ia):pb.oAb(Ua))/1E6,qf:ub.SC,Yra:ag,j_s:ab.fq==="scroll"||Hd.GJ})})});const zg={get active(){return Hd.isActive},get zoom(){return Hd.LW},get EB(){return Hd.GJ||!$e.Rib?"fixed":void 0},set EB(ag){Hd.qje(ag==="fixed")},HC(ag){Hd.HC(ag)},setActive:ag=>{Hd.MEb(ag)},s1b:()=>{Hd.s1b({wbh:"playhead_or_center"})},zna:ag=>{Hd.zna(ag)},xkc:Hd.min,yCc:Hd.max},Yg=jJs({rjc:Id,hdc:y,Bfa:z,onDragStart:()=>{$e.Npo(!0)},onDragEnd:()=>{$e.Npo(!1)},N:B,V:Yf}),Wh={m4e:od,jx:$e,udb:ma,
XH:Hd,fB:uf,pXa:og,Zct:(ag,Vi,Jk)=>{if(ag.data.type==="audio"&&ag.positions)return WIs($e,Jk,ag.positions.Uy.x),Ff(ag)},Gsj:Sk,vme:ef,Ghf:zj,F7i:Yg,rjc:Id,q9e:$k,TQm:pl,I7i:Xg,qh:Zd};gV(()=>ab.fq==="thumbnail"&&!Hd.GJ,ag=>{Ec.timeline=ag?zg:void 0},{fireImmediately:!0});gV(()=>Hd.GJ&&Nb.g_q,()=>{Hd.qje(!1)},{fireImmediately:!1});uf&&(gV(()=>z.qOl,()=>uf.stop()),Nb.bdt=()=>{uf.lL();uf.stop()},gV(()=>(G.Gja==="fade_in"||G.Gja==="fade_out")&&!!G.JEe,ag=>ag&&uf.pause()));uf&&Fc&&cd&&MKs({Dx:$e,fB:uf,
pg:Fc,wD:cd});return Wh};GNs=function({selection:a,Qia:b}){const c=new DNs(a,b),d=AMs({onClick:c.u6f,playState:b}),e=hV(()=>fV(ENs,{Qfa:c.Qfa,Oda:c.Oda,HX:c.HX,xa:b.xa,currentTime:b.fH/1E6,totalTime:b.pbf/1E6}));a=hV(()=>fV(FNs,{f4i:c.f4i,LEp:d,LAp:e}));return{jvs:c,gwp:a}};INs=function(a){switch(a.id){case "Photos":return HNs.jDc;case "Videos":return HNs.Nfg;case "Uploads":return HNs.Mhf;case "Media":return HNs.lnb;case "Blank":return HNs.Dag;case "Transition":return HNs.Transition}};
MNs=function({Aw:a,bAa:b,Je:c,la:d}){const {Qe:e,Ve:f}=__c.qc(JNs),g=new KNs(e),h=oV(()=>d.layout===2),k=hV(({size:q,shape:r,fill:t,L4k:v})=>fV(LNs,{items:g.s4,size:q,shape:r,fill:t,L4k:v})),l=(q,r)=>{a.qEc({type:"color",color:"#ffffff"},{Xc:"contextual_menu"},{P9s:r})};f.Dag=()=>({onClick:l});const n=q=>q===5||q===11||q===19||q===3,p=iV(()=>{c.odf(n)});f.lnb=()=>h.get()?{onClick:p}:void 0;f.Transition=()=>{if(h.get())return{onClick:iV((q,r)=>{if(r&&b.mwe.Ifg)b.mwe.Ifg.onClick(r)})}};b.Tpe=k;b.yvh=
f};__c.ONs=function(a,{action:b,mb:c,ob:d,Vke:e,U$e:f}){Uo({ob:d,P:a.N,event:NNs,props:{ka:"",action:b,mb:c,Vke:e.toString(),U$e:f?f.toString():""}})};RNs=function({document:a,Ai:b,$db:c,viewport:d}){const e=new PNs(a,b,d);a=hV(()=>fV(QNs,{hs:e.hs,tJa:e.tJa,onNext:e.O6m,tYe:e.R6m}));c.Hgf=a};
TNs=function(a){switch(a.type){case "line":case "rect":case "text":return!1;case "embed":const b=a.url;return SNs.some(c=>b.startsWith(c));case "group":case "chart":case "table":case "controlled":case "layout":return!0;case "grid":return a.cells.size>1;case "shape":return a.paths.reduce((c,d)=>c+(d.fill.dropTarget?1:0),0)>1;case "sheet":return __c.Xe("PublishingPresenter",!1);default:throw new u(a);}};
WNs=function({region:a,fos:b,Ih:c,hm:d,K7g:e,J7g:f,I7g:g,kgs:h,jgs:k,igs:l}){const n=AV(()=>a.transform(Fj(b)),[a,b]),p=AV(()=>new __c.dd([new __c.ed({yt:x=>c.SL(y=>{h(d().transformPoint(new pj(x.Li,x.zj)),y)}),IF:x=>k(d().transformPoint(new pj(x.Li,x.zj))),tx:()=>l()})]),[c,d,l,k,h]),[q,r]=qV(void 0),t=jV((x,y)=>{r(x);e(x,new pj(y.clientX,y.clientY),y.shiftKey)},[e]),v=jV(x=>f(d().transformPoint(new pj(x.clientX,x.clientY))),[d,f]),w=jV(()=>{r(void 0);g()},[g]);return mV(UNs,{className:"VsAudw",
box:n,children:[fV("div",{ref:p.Gq,className:"_3DzJMg"}),fV(VNs,{handle:"top-left",isActive:q==="top-left",className:"GW55Og",Y2b:-45,onDragStart:t,pe:v,onDragEnd:w}),fV(VNs,{handle:"top-right",isActive:q==="top-right",className:"HdZiQQ",Y2b:45,onDragStart:t,pe:v,onDragEnd:w}),fV(VNs,{handle:"bottom-left",isActive:q==="bottom-left",className:"DSLsKQ",Y2b:-135,onDragStart:t,pe:v,onDragEnd:w}),fV(VNs,{handle:"bottom-right",isActive:q==="bottom-right",className:"NbZpbw",Y2b:135,onDragStart:t,pe:v,onDragEnd:w})]})};
VNs=function({handle:a,isActive:b,className:c,Y2b:d,onDragStart:e,pe:f,onDragEnd:g}){const h=AV(()=>oV(()=>__c.Xx(new __c.E6g(d))),[d]),k=AV(()=>new Tq({onDragStart:l=>e(a,l),pe:f,onDragEnd:g,mKa:h}),[h,a,g,f,e]);return fV("div",{className:DV("aZSx8w",tb.rd&&"nS73hw",b&&"_9JheGg",h.get(),c),onMouseDown:k.onMouseDown,onTouchStart:k.onTouchStart,role:"button","aria-label":M("OD+MQQ"),children:fV("div",{"aria-hidden":"true",className:"_0h_AEw",dangerouslySetInnerHTML:{__html:XNs}})})};
UNs=function({box:a,className:b,style:c={},...d}){const {top:e,left:f,width:g,height:h,rotation:k}=a.Nb();return fV("div",{...d,className:DV("aGkcFA",b),style:{width:g,height:h,transform:`translate(${f}px, ${e}px) rotate(${k}deg)`,...c}})};$Ns=function(a){return new YNs(()=>__webpack_require__.me(268367).then(()=>__c.ZNs).then(iV(({Jrr:b})=>b(a))))};
aOs=function(a,{WZf:b,S4e:c,AHa:d,l3g:e,BLd:f}){b*=c;if(d||e||a.canvas.WVa==="space-between")return b;const {width:g,height:h}=sg(4,f),{x:k,y:l}=Fj(f.zoom).transform(g,h);return Math.min(d?k:l,b)};bOs=function(a,b,c,d,e,f){const g=f?d.left:d.top;return d.HUg?-((g-e)*d.zoom)*(a.fj?-1:1):a.getPosition(b,c,f)+g};dOs=function(a,b){a.Dbc.$af(b);a.N.track(cOs,{mb:b,previous:a.store.enabled?"hidden":"shown",value:a.store.enabled?"shown":"hidden",Bq:0,ss:0,rz:0})};
fOs=function(a,b,c){if(a.viewport.ya!==b)return{width:0,height:0,units:c.units,top:0,left:0,zoom:a.viewport.zoom.scale,HUg:!0};b=eOs(a,b);b=a.viewport.ey().transform(b);return{width:b.width,height:b.height,units:c.units,top:b.tl.y,left:b.tl.x,zoom:a.viewport.zoom.scale,HUg:!0}};eOs=function(a,b){var c=a.viewport.lT(b);b=a.viewport.ey().center();c=new pj(a.viewport.Qq.x*c*(a.fj?-1:1),a.viewport.Qq.y*c);return Ej(-b.x,-b.y).then(Fj(1/a.viewport.zoom.scale)).then(Ej(c.x,c.y))};
gOs=function(a,b){return a.fj?({width:a}=sg(4,b.dimensions||a.document.dimensions),Ej(-a,0)):Dj()};hOs=function(a){const b=a.view.freeze.DMa;b!=null&&(a.view.freeze.DMa=void 0,a.layout.OG.delete(b))};iOs=function(a){const b=a.view.freeze.bCa;b!=null&&(a.view.freeze.bCa=void 0,a.layout.EH.delete(b))};
lOs=function(a,b){const c=a.V.wb("freeze_clicked",{Hb:{name:"editor.editing.tabulating.freezing"}});switch(b.type){case "row":const f=b.sheet,g=b.gMl;for(var d of f.layout.cols){var e=f.layout.cells.get(g,d);({df:e}=e?e.span:{df:g});if(e!==g){const l=`${f.kL(g)+1}`,n=Om(f.zL(d)),p=a.alert.Vq(()=>fV(jOs,{Rc:p,uog:`${n}:${l}`}));c?.qe();return}}hOs(f);d=a.kb.Lqa.generate();f.view.freeze.DMa=d;f.layout.OG.create(d,g);c?.ob().wk(({Oi:l})=>{a.P.track(__c.W8g,{action:"frozen",type:"row",Xcd:f.kL(g)+1,Dzc:{Pt:f.layout.rows.count(),
UL:f.layout.cols.count()},mb:"click",location:"context_menu",Tb:l()})});c?.qe();break;case "column":const h=b.sheet,k=b.YLl;for(e of h.layout.rows)if(d=h.layout.cells.get(e,k),{jf:d}=d?d.span:{jf:k},d!==k){const l=`${h.kL(e)+1}`,n=Om(h.zL(k)),p=a.alert.Vq(()=>fV(kOs,{Rc:p,uog:`${n}:${l}`}));c?.qe();return}iOs(h);d=a.kb.Lqa.generate();h.view.freeze.bCa=d;h.layout.EH.create(d,k);c?.ob().wk(({Oi:l})=>{a.P.track(__c.W8g,{action:"frozen",type:"column",Xcd:h.zL(k)+1,Dzc:{Pt:h.layout.rows.count(),UL:h.layout.cols.count()},
mb:"click",location:"context_menu",Tb:l()})});c?.qe();break;default:throw new u(b);}};mOs=function(a){const b=a.sheet;switch(a.type){case "row":hOs(b);break;case "column":iOs(b);break;default:throw new u(a);}};oOs=function(a,b,c,d){if(b.ld(c)+c.height>d.vB.height){const e=a.alert.Vq(()=>fV(nOs,{Rc:e}))}};qOs=function(a,b,c,d){if(b.yd(c)+c.width>d.vB.width){const e=a.alert.Vq(()=>fV(pOs,{Rc:e}))}};rOs=function(a){ra(a.type==="row","Must be a row Freezable");return`${a.sheet.kL(a.gMl)+1}`};
sOs=function(a){ra(a.type==="column","Must be a column Freezable");return Om(a.sheet.zL(a.YLl))};
tOs=function(a,b,c,d,e,f){if(b.size>=1&&c.size===0){if(f=b.map(g=>g),f=f[f.length-1],!(e&&a.layout.rows.dj(f,e)<=0))return[{type:"row",sheet:a,gMl:f}]}else if(c.size>=1&&b.size===0){if(e=c.map(g=>g),e=e[e.length-1],!(f&&a.layout.cols.dj(e,f)<=0))return[{type:"column",sheet:a,YLl:e}]}else if(d.size>=1)return b=d.map(g=>g),c=b[b.length-1],b=c.row,c=c.column,d=[],e&&a.layout.rows.dj(b,e)<=0||d.push({type:"row",sheet:a,gMl:b}),f&&a.layout.cols.dj(c,f)<=0||d.push({type:"column",sheet:a,YLl:c}),d;return[]};
uOs=function(a,b,c){const d=[];b&&d.push({type:"row",sheet:a});c&&d.push({type:"column",sheet:a});return d};
yOs=function(a){const b=a.Pa,c=a.selection,d=a.Ac,e=a.viewport,f=a.pd,g=a.P,h=a.alert,k=a.Kh,l=a.kb;a=a.Ha.Vd("editor.editing.tabulating.freezing");const n=new __c.mu,p=new vOs(c,d,e,f,b),q=new wOs(l,n,g,a,h);gV(()=>p.x1a?.sheet?p.X8c(p.x1a.sheet):void 0,r=>{const t=p.x1a;t!=null&&r!=null&&oOs(q,t.sheet,r,t.wz)});gV(()=>p.x1a?.sheet?p.W8c(p.x1a.sheet):void 0,r=>{const t=p.x1a;t!=null&&r!=null&&qOs(q,t.sheet,r,t.wz)});k.jc(()=>b.mode===40&&(p.gIg&&p.gIg.length>0||p.Ryh&&p.Ryh.length>0),(r,t)=>{r.Ikj=
t?{Button:hV(v=>fV(v.rl,{...v,label:M("4PewAQ"),Icon:xOs}))}:void 0});k.jc(()=>b.mode===40&&p.jeo,(r,t)=>{r.mcg=t?{Button:hV(v=>{const w=jV(()=>{rV(()=>lOs(q,t))},[]);return fV(v.rl,{...v,label:J("9f/slg",[rOs(t)]),onClick:w})})}:void 0});k.jc(()=>b.mode===40&&p.Tum,(r,t)=>{r.lcg=t?{Button:hV(v=>{const w=jV(()=>{rV(()=>lOs(q,t))},[]);return fV(v.rl,{...v,label:J("YzDnVw",[sOs(t)]),onClick:w})})}:void 0});k.jc(()=>b.mode===40&&p.qeo,(r,t)=>{r.Ffg=t?{Button:hV(v=>{const w=jV(()=>{rV(()=>mOs(t))},[]);
return fV(v.rl,{...v,label:M("UfZC+Q"),onClick:w})})}:void 0});k.jc(()=>b.mode===40&&p.Vum,(r,t)=>{r.Efg=t?{Button:hV(v=>{const w=jV(()=>{rV(()=>mOs(t))},[]);return fV(v.rl,{...v,label:M("ODcpjQ"),onClick:w})})}:void 0})};
BOs=function(a){const b=a.Pa,c=a.alert,d=a.hj,e=a.Kh,f=new zOs(a.selection,a.Ac,d),g=new AOs(d,c);e.jc(()=>b.mode===40&&f.FDn,(h,k)=>{h.adg=k?{Button:hV(l=>fV(l.rl,{...l,Icon:__c.Bng,label:M("gFelzw"),onClick:()=>g.mergeCells(k)}))}:void 0});e.jc(()=>b.mode===40&&f.FQo,(h,k)=>{h.Hfg=k?{Button:hV(l=>fV(l.rl,{...l,Icon:__c.Cng,label:M("maahjw"),onClick:()=>g.Kld(k)}))}:void 0});return{HDn:f}};
COs=function(a){let b;switch(a.type){case "row":switch(a.direction){case "up":a=J("+dxZxg",[a.content.rows.length]);b=__c.oB;break;case "down":a=J("/cSxfw",[a.content.rows.length]);b=__c.Rt;break;default:throw new u(a);}break;case "column":switch(a.direction){case "left":a=J("JDPjyQ",[a.content.columns.length]);b=__c.lr;break;case "right":a=J("966Bew",[a.content.columns.length]);b=__c.mr;break;default:throw new u(a);}break;default:throw new u(a);}return{label:a,icon:b}};
DOs=function(a,b,c,d){if(d!=null){if(b.size>=1&&c.size===0){b=b.map(g=>g);c=a.rows.previous(b[0]);var e=a.rows.next(b[b.length-1]),f=c&&d.bsd(a,b,c,"before");d=e&&d.bsd(a,b,e,"after");return[f?{type:"row",direction:"up",content:{sheet:a,rows:b,target:c}}:null,d?{type:"row",direction:"down",content:{sheet:a,rows:b,target:e}}:null].filter(sb)}if(c.size>=1&&b.size===0)return b=c.map(g=>g),c=a.cols.previous(b[0]),e=a.cols.next(b[b.length-1]),f=c&&d.$rd(a,b,c,a.direction==="rtl"?"after":"before"),d=e&&
d.$rd(a,b,e,a.direction==="rtl"?"before":"after"),[f?{type:"column",direction:"left",content:{sheet:a,columns:b,target:c}}:null,d?{type:"column",direction:"right",content:{sheet:a,columns:b,target:e}}:null].filter(sb)}};
GOs=function(a){const b=a.Pa,c=a.selection,d=a.Ac,e=a.hj,f=a.Kh;a=a.Ha.Vd("editor.editing.tabulating.moving");const g=new EOs(c,d,e),h=new FOs(e,a);f.jc(()=>b.mode===40&&g.cFn,(k,l)=>{k.H_c=l?{Button:hV(n=>{const {label:p,icon:q}=COs(l);return fV(n.rl,{...n,label:p,Icon:q,onClick:()=>h.M3k(l)})})}:void 0});f.jc(()=>b.mode===40&&g.bFn,(k,l)=>{k.G_c=l?{Button:hV(n=>{const {label:p,icon:q}=COs(l);return fV(n.rl,{...n,label:p,Icon:q,onClick:()=>h.M3k(l)})})}:void 0});f.jc(()=>b.mode===40&&g.ZEn,(k,l)=>
{k.F_c=l?{Button:hV(n=>{const {label:p,icon:q}=COs(l);return fV(n.rl,{...n,label:p,Icon:q,onClick:()=>h.L3k(l)})})}:void 0});f.jc(()=>b.mode===40&&g.$En,(k,l)=>{k.E_c=l?{Button:hV(n=>{const {label:p,icon:q}=COs(l);return fV(n.rl,{...n,label:p,Icon:q,onClick:()=>h.L3k(l)})})}:void 0});return{Czi:g}};
HOs=function(a,b,c){if(c==null)return{type:5};const d=c.type;switch(d){case "number":return{type:0,value:c.value};case "boolean":return{type:2,value:c.value};case "plaintext":return{type:1,value:c.value.toString()};case "media":return{type:5};case "mention":return{type:1,value:c.value.map(f=>f.text).join(" ")};case "embed":return{type:1,value:c.value.map(f=>f.embed.text).join(" ")};case "text2":return{type:1,value:c.value.Ya};case "text3":const e=[];c.value.forEach({Ya:f=>e.push(f),item:()=>{throw Error();
},Kl:()=>{}});return{type:1,value:e.join("")};case "formula":switch(c=a.Mma.evaluate(b,c.value),c.type){case 0:return{type:0,value:c.value};case 2:return{type:1,value:c.value.toString()};case 1:return{type:2,value:c.value};case 3:return{type:4};case 15:return{type:5};case 4:return{type:3};case 16:return HOs(a,b,c.value.R3b);default:throw new u(c);}default:throw new u(d);}};
KOs=function(a,b,c,d,e){const f=[],g=[];for(var h=c.$b;h!=null&&b.rows.dj(h,c.df)<=0;h=b.rows.next(h))g.push(h);for(h=c.ec;h!=null&&b.cols.dj(h,c.jf)<=0;h=b.cols.next(h))f.push(h);if(g.length===0||f.length===0)return{type:"success"};for(var k of g){c=f[0];if((b.layout.cells.get(k,c)?.span||{$b:k,ec:c}).ec!==c)return{type:"error",error:"MERGED_CELL_OUTSIDE_RANGE"};c=f[f.length-1];h=b.layout.cells.get(k,c);if(h!=null&&h.span.jf!==c)return{type:"error",error:"MERGED_CELL_OUTSIDE_RANGE"}}let l=[];const n=
new __c.iB;k=new __c.iB;for(const w of g){c=b.layout.cells.get(w,d);c=HOs(a,b,c?.ref?.content.ref);h=[];for(const x of f){const y=b.layout.cells.get(w,x);if(y&&y.span.$b!==y.span.df){k.add([y.span.$b,y.span.ec]);continue}n.add([w,x]);if(y&&(y.span.$b!==w||y.span.ec!==x))continue;const z=b.layout.attrs.get(Ee.ht,w,x)||{},B={};we(Ee,z,"all",(C,G)=>{IOs[G]||(B[G]=C)});h.push({tb:{content:y?.ref.content.ref?a.Gtd(y.ref.content.ref):void 0,Cb:y?.ref?.Cb.ref?__c.PNc.snapshot(y.ref.Cb.ref):void 0,Qj:y?.ref.Qj||
[]},attrs:B,span:y?.span||{$b:w,ec:x,df:w,jf:x}})}l.push({...c,jls:{column:d,row:w},o3p:h})}if(k.size>0)return{type:"error",error:"CONTAINS_VERTICALLY_MERGED_CELL",EYa:k.map(([w,x])=>({row:w,column:x}))};const p=e==="asc"?1:-1;l.sort((w,x)=>JOs[w.type]<JOs[x.type]?-1*p:JOs[w.type]>JOs[x.type]?1*p:w.type===1&&x.type===1?a.vn.compare(w.value,x.value,{numeric:!0})*p:w.type===0&&x.type===0?w.value===x.value?0:w.value>x.value?1*p:-1*p:w.type===2&&x.type===2?w.value===x.value?0:w.value?1*p:-1*p:0);d=l.filter(w=>
w.type!==5);e=l.filter(w=>w.type===5);l=d.concat(e);const q=new Map,r=[],t=new Map;a.fd.Ew(w=>{for(let G=0;G<g.length;G++){const H=g[G];for(const N of f){var x=b.layout.cells.get(H,N);(!x||x.span.$b===H&&x.span.ec===N)&&x&&x.span.ec!==x.span.jf&&a.hj.Kld(b,{column:N,row:H})}const {o3p:K,jls:L}=l[G];for(const N of K){x=N.tb;var y=N.attrs,z=N.span,B=z.ec;if(z.ec!==z.jf){var C=[];for(const V of xk(z.ec,z.jf,b.layout.cols))C.push({column:V,row:H});r.push(C)}if((z=b.layout.cells.get(H,B))&&(z.span.$b!==
H||z.span.ec!==B))continue;C=x.content;const P={column:B,row:L.row};z={column:B,row:H};let T={};B=b.layout.attrs.get(Ee.ht,H,B)||{};we(Ee,B,"all",(V,W)=>{T[W]=IOs[W]?V:void 0});T={...T,...y};w.setAttributes(b,z,T);y=a.dRb.cYc(x.Cb?__c.PNc.create(x.Cb):void 0);x.content?.type==="formula"?(B=a.dGc(b,P,z))?(y=__c.Z8q(a.sE,b,x.content.value),y=a.Nma.CVd(b,y,B),q.set(z,y)):(w.JEb(b,z,C),w.m2(b,z,y)):(w.JEb(b,z,C),w.m2(b,z,y));t.set(z,[...x.Qj])}}},{n4b:w=>n.has([w.row,w.column])});a.fd.Ew(w=>{for(const [x,
y]of q.entries())w.faa(b,x,__c.Vge(y.gna))});for(var v of r)a.hj.mergeCells(b,v);for(const [w,x]of t.entries())(v=b.layout.cells.get(w.row,w.column))&&v.span.ec===v.span.jf&&v.span.$b===v.span.df&&(x.length>0||v.ref.Qj.length>0)&&(v.ref.Qj=x);return{type:"success"}};
NOs=function(a,b,c){if(c!=null)switch(c.type){case "success":break;case "error":switch(c.error){case "CONTAINS_VERTICALLY_MERGED_CELL":var d=c.EYa;if(d.length===0)return;if(d.length>1){const k=a.alert.Vq(()=>fV(LOs,{Rc:k}));return}const {row:e,column:f}=c.EYa[0];c=b.layout.cells.get(e,f)?.span??{$b:e,ec:f,df:e,jf:f};d=`${b.kL(c.$b)+1}`;let g=`${Om(b.zL(c.ec))}${d}`;c.$b!==c.df&&(d=`${b.kL(c.df)+1}`,b=Om(b.zL(c.jf)),g+=`:${b}${d}`);const h=a.alert.Vq(()=>fV(MOs,{Rc:h,uog:g}));break;case "MERGED_CELL_OUTSIDE_RANGE":break;
default:throw new u(c);}break;default:throw new u(c);}};
OOs=function(a,b){switch(b.type){case 4:var c=b.cells;const d=b.rows,e=b.columns;return{type:"sheet",sheet:b.container.sheet.config,wz:new Zz(b.container.container.ew(b.container.sheet),a.pd,a.viewport),cells:c.map(f=>f),rows:d.map(f=>f),cols:e.map(f=>f)};case 1:if(b.only?.type==="sheet"&&(b.container.type==="body"||b.container.type==="responsive-page")){c=b.only.config.layout.rows;const f=b.only.config.layout.cols;return{type:"sheet",sheet:b.only.config,wz:new Zz(b.container.ew(b.only),a.pd,a.viewport),
rows:c.map(g=>g),cols:f.map(g=>g),cells:c.flatMap(g=>f.map(h=>({row:g,column:h})))}}break;case 0:if(b.container.type!=="sheet-item-cell-richtext")break;return{type:"sheet",sheet:b.container.container.sheet,wz:new Zz(b.container.container.container.container.ew(b.container.container.container.sheet),a.pd,a.viewport),rows:[],cols:[],cells:[{column:b.container.container.column,row:b.container.container.row}]};case 2:case 3:case 5:break;default:throw new u(b);}};
POs=function(a,b){var c=a.Fte;if(c==null)return"default";var d=a.hj.Xya(c.sheet)?.range;if(d==null)return"default";c=c.sheet;if(!c.layout.rows.has(d.$b)||!c.layout.rows.has(d.df))return"default";let e;for(const f of xk(c.layout.rows.next(d.$b)??d.$b,d.df,c.layout.rows))if(d=c.layout.cells.get(f,b),d!=null&&d.span.$b===f&&d.span.ec===b){a:if(d=a.nBa.getContent(c,d.span.$b,d.span.ec),d==null)d="default";else switch(d=d.NC,d.type){case 1:d="number";break a;case 2:d="date";break a;case 3:case 4:case 0:case 9:case 6:case 7:case 8:d=
"default";break a;default:throw new u(d);}if(e&&d!==e){e="default";break}e=d}return e??"default"};SOs=function(a,b){const c=b.container;if(!b.elements.some(d=>a.Ac.Tr({element:d,container:c}))){if(!b.inner)return QOs(a,b);switch(b.inner.type){case "sheet":return ROs(a,b.inner);case "grid":case "table":case "shape":case "group":case "layout":case "layout-cell":case "sheet-cell-media":break;default:throw new u(b.inner);}}};
TOs=function(a,b){if(b.inner&&!a.Ac.nS(b.container.xb(b.inner.page)))switch(b.inner.type){case "sheet":const c=b.inner.cells,d=b.inner.rows,e=b.inner.columns;return{type:"sheet",sheet:b.inner.page.sheet,wz:new Xz(b.container.xb(b.inner.page),a.viewport,a.Pa),cells:c.map(f=>f),rows:d.map(f=>f),cols:e.map(f=>f)};case "background":case "pages":case "sheet-cell-media":break;default:throw new u(b.inner);}};
QOs=function(a,b){if(b.Pd?.type==="sheet"){var c=b.Pd.config.layout.rows,d=b.Pd.config.layout.cols;return{type:"sheet",sheet:b.Pd.config,wz:new Wz(b.container.Me(b.Pd),a.viewport),cells:c.flatMap(e=>d.map(f=>({row:e,column:f}))),rows:c.toArray(),cols:d.toArray()}}};ROs=function(a,b){const c=b.cells,d=b.rows,e=b.columns;return{type:"sheet",sheet:b.sheet.config,wz:new Wz(b.container,a.viewport),cells:c.map(f=>f),rows:d.map(f=>f),cols:e.map(f=>f)}};
UOs=function(a){if(!a)return"#000000";const b=$h(a);return Di(["#000000","#ffffff"],c=>__c.mj(c,b))};
aPs=function(a){const b=a.Pa,c=a.vn,d=a.selection,e=a.canvas,f=a.Ac,g=a.viewport,h=a.pd,k=a.Kh,l=a.Jd,n=a.alert,p=a.P,q=a.fd,r=a.dRb,t=a.hj,v=a.nBa,w=a.Mma,x=a.sE,y=a.Nma;a=a.Ha.Vd("editor.editing.tabulating.sorting");const z=new VOs(new WOs(c,w,x,y,q,r,t),t,n,p,a),B=hV(({column:L})=>{const N=C.Fte,P=N?t.Xya(N.sheet)?.range:void 0,T=jV(()=>{P&&N&&rV(()=>{z.v2i({type:"sheet",sheet:N.sheet,fjg:L,range:P},{nbk:!0});C.CJf=L})},[L,P,N]),V=jV(()=>{P&&N&&rV(()=>{z.w2i({type:"sheet",sheet:N.sheet,fjg:L,range:P},
{nbk:!0});C.CJf=L})},[L,P,N]),W=jV(()=>POs(C,L),[L]),aa=jV((da,la)=>{rV(()=>z.wxl(C,da,la))},[]);if(P!=null){var ba=N?.sheet.layout.attrs.get(Ee.ht,P.$b,L)?.n1;return fV(XOs,{Pri:C.CJf===L,bgColor:ba,n_q:C.CJf===L,v6q:W,RLh:C.RLh,wxl:aa,G2r:T,M2r:V})}}),C=new YOs(d,f,g,h,b,t,v),G=new ZOs(C,t);e.jc(()=>b.mode===40,(L,N)=>{L.Bg.Cxa=N?hV(P=>{const T=C.Fte;if(T!=null){var V=G.A3f;if(V!=null)return fV($Os,{A3f:V,wz:T.wz,L2a:B,page:P.page.page})}}):void 0});e.jc(L=>L===40,(L,N)=>{L.Bn.FL.Cxa=N?hV(()=>{const P=
C.Fte;if(P!=null){var T=G.A3f;if(T!=null)return fV($Os,{A3f:T,wz:P.wz,L2a:B,page:void 0})}}):void 0});k.jc(()=>b.mode===40?C.Qze:void 0,(L,N)=>{L.zeg=N?{Button:hV(P=>{const T=jV(()=>rV(()=>{z.g8i(C,{Pcn:!0})}),[]);return fV(P.rl,{...P,label:M("5vDH2g"),Icon:__c.Qdr,onClick:T})})}:void 0});const H=oV(()=>C.Qze!=null&&t.Xya(C.Qze.sheet)!=null),K={Sd:()=>b.mode===40?C.Qze!=null:!1,Button:hV(L=>{const N=L.onClick,P=jV(()=>rV(()=>{N?.();z.g8i(C,{Pcn:!0})}),[N]);return fV(L.yi,{...L,onClick:P,zh:"icon",
selected:H.get(),icon:__c.Qdr,tooltip:M("5vDH2g"),XEa:M("5vDH2g")})})};l.plugins.Cxa=()=>K};cPs=function(a,b,c){c&&(a.e7i=Qb());a.N.track(bPs,{source:b,fyr:c,e7i:a.e7i})};ePs=function(a,{qBi:b,kri:c,pBi:d,vBi:e,uBi:f,sBi:g,tBi:h,IHf:k,YRi:l},n){Uo({ob:n,P:a.N,event:dPs,props:{qBi:b,kri:c,pBi:d,vBi:e,uBi:f,sBi:g,tBi:h,IHf:k,YRi:l}})};
fPs=function(a){const b={text:new Set,shape:new Set,table:new Set,line:new Set,"responsive-table-text":new Set,"responsive-layout-text":new Set,"responsive-text":new Set,"responsive-inline-item":new Set};a.filter(c=>c.type==="richtext2"||c.type==="richtext3").forEach(({item:c})=>b[c.type].add(c.Sc));return{MNl:b.text.size+b["responsive-text"].size,Jtu:b["responsive-inline-item"].size,KLl:b.table.size+b["responsive-table-text"].size,WAl:b.shape.size,Boh:a.filter(c=>c.type==="sheet-cell").length}};
gPs=function(a,b,c,d){b=b.map(e=>({index:e,length:c}));a.kdb(b,d)};iPs=function(a,b,c,d){if(!b.length)return a;b=[...b].sort((k,l)=>k-l);hPs(a.length,b,c);let e=0,f="";const g=k=>{f+=k;e+=k.length};let h;for(;(h=b.shift())!=null;)g(a.slice(e,e+(h-e))),f+=d,e+=a.slice(e,e+c).length;g(a.slice(e,e+(a.length-e)));sa(e===a.length);return f};
jPs=function(a,b,c,d){if(!b.length)return a;a=Fg.eyb(a);sa(!d.includes("\n"));b=[...b].sort((n,p)=>n-p);hPs(a.length,b,c);let e=0;const f=a.cursor(a.length),g=Fg.qd(),h={...ae,Ya:(n,p)=>{g.attrs(p);g.Xb(n);e+=n.length}},k={...ae,Ya:(n,p)=>{sa(!n.includes("\n"));g.attrs(p);e+=n.length}};let l;for(;(l=b.shift())!=null;)f.Nt(l-e,h),f.Nt(1,k),g.Xb(d),f.Nt(c-1,k);f.Nt(a.length-e,h);f.finish();return g.build()};
kPs=function(a,b,c,d){if(!b.length)return a;a=Qk.eyb(a);sa(!d.includes("\n"));b=[...b].sort((n,p)=>n-p);hPs(a.length,b,c);let e=0;const f=a.cursor(a.length),g=Qk.qd(),h={item:(n,p)=>{g.attrs(p);g.item(n);e+=1},Ya:(n,p)=>{g.attrs(p);g.Xb(n);e+=n.length}},k={item:(n,p)=>{g.attrs(p);sa(n.display!==1);e+=1},Ya:(n,p)=>{sa(!n.includes("\n"));g.attrs(p);e+=n.length}};let l;for(;(l=b.shift())!=null;)f.Nt(l-e,h),f.Nt(1,k),g.Xb(d),f.Nt(c-1,k);f.Nt(a.length-e,h);f.finish();return g.build()};
hPs=function(a,b,c){const d=[...b].sort((e,f)=>e-f);ra(c>0);ra(d.slice(0,-1).every((e,f)=>e+c<=d[f+1]));ra(d[0]>=0);ra(d[d.length-1]+c<=a)};lPs=function(a,b){switch(b.type){case "formula":case "media":case "mention":case "embed":break;case "boolean":case "number":case "plaintext":return(c,d,e,f)=>{d=iPs(a.axc,d,e,f);c.RIa(a.sheet,{row:a.container.row,column:a.container.column},d,{IWe:"merge",uWe:!1})};default:throw new u(b);}};mPs=function(a){return a.type==="sheet-cell"&&a.item.L0a.type==="responsive-page"};
nPs=function(a){return a.type==="sheet-cell"&&a.item.L0a.type==="fixed-page"};oPs=function(a){let b;return(...c)=>{b==null&&(b=new Map,setTimeout(()=>b=void 0,0));const d=c[0];let e=b.get(d);if(e!=null)return e;e=a(...c);b.set(d,e);return e}};pPs=function(a){if(a.container.type==="fixed-page")return __c.fWa(a.ia);var b=a.container.ia;b=Fj(b.width/b.gb).then(Tj(Oj(b)));return Oj(a.ia).transform(b).Nb()};qPs=function(a){const b=Tj(a.UCa());a=Tj(Oj(a.el.ia));return b.then(a)};
tPs=function(a){return new rPs(new sPs(a.UJd,a.viewport),{XDm:100})};uPs=function(a,b){return a==null||b==null?!1:a.type==="sheet-cell"?b.type==="sheet-cell"&&a.item.equals(b.item):b.type==="sheet-cell"?!1:a.item.Sc===b.item.Sc&&a.startIndex===b.startIndex};vPs=function(a){if(a.dfe!=null){var b=a.dfe.match;a.dfe=void 0;var c=a.now();a.Ztg={match:b,YOq:c+a.xvh(b)};a.ZFn.navigateTo(b);a.setTimeout(()=>{uPs(a.Ztg?.match,b)&&(a.Ztg=void 0)},a.xvh(b))}};
wPs=function(a){var b=a.store;const c=a.matches;if(c.length===0)return b.Vbi=void 0,0;var d=a.now();d=b.Vbi==null||d-b.Vbi.FJf>1E4?{FJf:d,Xe:a.viewport.Vg}:{Xe:b.Vbi.Xe,FJf:d};b.Vbi=d;a=a.document.pages.flatMap(g=>{switch(g.type){case "fixed":return[g];case "concatenated-fixed":return g.pages.toArray();case "responsive":return[g];default:throw new u(g);}});a=new Map(a.map((g,h)=>{ra(g.id!=null);return[g.id,h]}));d=a.get(m(d.Xe.ia.id));if(d==null)return 0;let e;b=!1;for(let g=0;g<c.length;g++){var f=
c[g];mPs(f)?(ra(f.item.L0a.type==="responsive-page"),f=m(f.item.L0a.ia.id)):f.type==="richtext3"?(f=__c.sf(f.container),ra(f.type==="responsive-page"),f=m(f.ia.id)):f=m(f.item.type==="sheet-cell"?f.item.L0a.ia.id:f.item.page.ia.id);f=a.get(f);if(!(f==null||f<d-1))if(f===d-1)b||(e=g,b=!0);else if(f===d){e=g;break}else if(f>=d+1){e==null&&(e=g);break}}return e??0};yPs=function(a,b){const c=a.store.xy??0;a.WGg(b);a.gz.N.track(xPs,{zwi:a.MLa,cAn:c,dAn:b})};
zPs=function(a,b,c,d){switch(b.type){case "text":var e=pPs(b.el);e={x:e.left,y:e.top};break;case "table":e=qPs(b).transformPoint({x:0,y:0});break;case "shape":e=pPs(b.el);b=b.el.ia.ed.first().box;e={x:e.left+b.left,y:e.top+b.top};break;case "line":e=pPs(b.el);b=new __c.Jn(a.ue,b.el.ia);b=m(b.textBox);e={x:e.left+b.tl.x,y:e.top+b.tl.y};break;case "sheet-cell":e=Sj(0,[b.rog]).tl;break;default:throw new u(b);}return e.y*c+(d?c-e.x:e.x)};
APs=function(a){let b=0;return a.Ya.slice(0,-1).split("\n").map(c=>{const d=a.pI(b)["text-transform"];b+=c.length+1;switch(d){case "uppercase":return c.toUpperCase();case "lowercase":return c.toLowerCase();case "capitalize":return c;case "none":case void 0:return c;default:throw new u(d);}}).join("\n")+"\n"};
BPs=function(a,b,c){if(a.length===b.length)return a;a=[...a];const d=[];for(;a.length;){if(!b.length)throw Error("More CharacterItems than grapheme clusters");var e=m(a.shift());const f=b.shift();if(e.character===f)d.push(e);else{let g=e.character;for(e=[e];g!==f;){const h=m(a.shift());g+=h.character;e.push(h)}d.push(c(e,g))}}return d};
CPs=function(a,b){if(b.every(f=>f.length===1))return a;let c,d,e=0;for(let f=0;f<b.length;f++){const g=e+b[f].length;a.from>=e&&a.from<g&&(c=f);if(a.to>=e&&a.to<=g){d=f;break}e=g}return{from:m(c),to:m(d)+1}};DPs=function(a,b,c=cm(b)){b=Array.from(b).map((e,f)=>({box:a.get(f),character:e}));c=BPs(b,c,(e,f)=>{e=e.map(g=>g.box).filter(sb);return{character:f,box:e.length?Sj(e[0].rotation,e):void 0}});const d=new Map;c.forEach((e,f)=>{e.box&&d.set(f,e.box)});return d};
JPs=function({item:a,G3p:b,UOp:c}){var d=a.Sc.Ya;if(!(b.to-b.from<=0)){var e=cm(d);b=CPs(b,e);var f=EPs(e,c,b);if(f!=null&&f.length!==0){var g=BPs([...d].map((k,l)=>({character:k,indices:new Set([l])})),e,(k,l)=>{const n=new Set;for(const {indices:p}of k)for(const q of p)p.add(q);return{character:l,indices:n}});if(f.length!==b.to-b.from)throw Error("number of character boxes should be equal to the grapheme slice range length");d=[];e=[];for(let k=b.from,l=0;k<b.to;k++,l++){const n=a.Sc.pI([...g[k].indices][0]),
p=f[l];p!=null&&(d.push(p),e.push(n.direction??"ltr"));var h=n["font-size"]??h}if(d.length!==0&&(b=new FPs,f=new GPs(b),b=a.E8d?f.$of(d,a,e):b.$of(d,a.writingMode,e))){switch(a.type){case "text":f={width:a.el.ia.gb??a.el.ia.width,height:a.el.ia.Wb??a.el.ia.height};break;case "table":f=a.UCa();f={width:f.width,height:f.height};break;case "shape":f=a.el.ia.ed.first();f={width:f.box.width,height:f.box.height};break;case "line":f=a.el.ia.ed.first();f={width:f.width,height:f.height};break;default:throw new u(a);
}return{path:b,transform:HPs(a,()=>Sj(0,[...c.values()]).height),viewBoxSize:f,fontSize:IPs(h??Be.Nf["font-size"],a.el)}}}}};IPs=function(a,b){const c=b.ia;b=b.container;b=b.type==="fixed-page"?void 0:b.ia;return a*(c.type==="shape"||c.type==="line"?c.width:c.gb?c.width/c.gb:1)*(b?b.width/b.gb:1)};
HPs=function(a,b){switch(a.type){case "text":b=a.el.ia;var c=a.el.container,d=c.type==="fixed-page"?void 0:c.ia;c=b.gb?b.width/b.gb:1;a=d?d.width/d.gb:1;b=Tj(Oj(b));d=d?Tj(Oj(d)):Dj();return Fj(c).then(b).then(Fj(a)).then(d);case "table":c=a.tb.ia;b=b();d=a.UCa().height;var e=Dj();c.Ki===2?e=Ej(0,d/2-b/2):c.Ki===3&&(e=Ej(0,d-b));return e.then(qPs(a));case "shape":c=a.el.ia;a=a.el.container;e=a.type==="fixed-page"?void 0:a.ia;a=Tj(Oj(c));d=e?e.width/e.gb:1;e=e?Tj(Oj(e)):Dj();const f=c.ed.first(),g=
f.box,h=c.width/g.width;let k=Dj();f.Ki===2?k=Ej(0,c.height/2-b()/2):f.Ki===1?k=Ej(0,g.top*h):f.Ki===3&&(k=Ej(0,c.height-b()-g.top*h));return k.then(Ej(g.left*h,0)).then(a).then(Fj(d)).then(e);case "line":return b=a.el.container,b=(c=b.type==="fixed-page"?void 0:b.ia)?c.width/c.gb:1,a=Tj(Oj(a.el.ia)),c=c?Tj(Oj(c)):Dj(),Fj(b).then(a).then(c);default:throw new u(a);}};EPs=function(a,b,c){const d=[];for(let e=c.from;e<c.to;e++){const f=b.get(e);if(f==null&&!KPs.has(a[e]))return;d.push(f)}return d};
MPs=function(a,b,c){const d=[[a[0]]];for(let e=1;e<a.length;e++){const f=d[d.length-1],g=a[e],h=LPs(g,b),k=LPs(f[f.length-1],b),l=c[e]==="ltr";c[e]!==c[e-1]||l&&h<k||!l&&h>k?d.push([g]):f.push(g)}return d.map(e=>Sj(0,e))};NPs=function(a){return __c.le(a.map(b=>[new __c.Kk(0,b.tl),new Lk(0,b.Tn),new Lk(0,b.br),new Lk(0,b.tr),new __c.xn(0)]).flat())};LPs=function(a,b){return b===1?a.tl.x:a.tl.y};
OPs=function(a,b,c){const d=(g,h)=>{g=sj(g,h);return g.y/g.x},e=__c.yj(.5,wj(a,b));a=-1/d(a,b);const f=__c.yj(.5,wj(b,c));b=-1/d(b,c);if(!Number.isFinite(a)||!Number.isFinite(b)){if(Number.isFinite(a)&&Number.isFinite(b))throw Error("points are on a straight line");throw Error("two points are not unique");}b=(b*f.x-a*e.x+e.y-f.y)/(b-a);return{x:b,y:a*(b-e.x)+e.y}};PPs=function(a,b){return Math.atan2(a.y-b.y,a.x-b.x)};
RPs=function(a,b){let c=0;var d=QPs(PPs(a[0].c,b)*180/nj);for(let e=1;e<a.length;e++){const f=QPs(PPs(a[e].c,b)*180/nj),g=Math.min(f,d);d=Math.max(f,d);c+=Math.abs(Math.min(d-g,g+360-d));d=f}return c};QPs=function(a){a=YVa(a);return a<0?360-Math.abs(a):a};SPs=function(a){if(a=a.hl?.Lc?.first(b=>b.type==="curved"))return Number(a.parameters.get("curvature"))};
UPs=function(a,b,c,d){var e=(c<0?360+c:c)%360;if(e%90<.01)return Math.abs(e-0)<.01?b:Math.abs(e-180)<.01?Pj({center:b.c,width:b.width,height:b.height,rotation:e}):Pj({center:b.c,width:b.height,height:b.width,rotation:e});var f=e-90;f=a.lUf((f<0?360+f:f)%360);a=a.lUf(e);if(Math.abs(e%45)<.01&&Math.abs(b.width-b.height)<.1)if(d?.ETm)f=d.ETm(),e=oj(45+e%45),e={width:Math.abs((b.height-Math.sin(e)*f)/Math.cos(e)),height:f};else if(d?.FTm)f=d.FTm(),e=oj(45+e%45),e={width:f,height:Math.abs((b.width-Math.sin(e)*
f)/Math.cos(e))};else throw Error("expected a sizeHint");else{d=b.width/2;const g=b.height/2;e=Math.abs(Math.floor(e/90))%2===1?{width:Math.abs(TPs(f,a,g,d)),height:Math.abs(TPs(f,a,d,g))}:{width:Math.abs(TPs(f,a,-g,d)),height:Math.abs(TPs(f,a,-d,g))}}return Pj({center:b.c,width:e.width,height:e.height,rotation:c})};TPs=function(a,b,c,d){const e=b.y;b=-b.x;return(-b*d/e+c)/(-b*a.y/e+a.x)*2};
VPs=function(a,b){return BPs(a,b,(c,d)=>{const e=Sj(0,c.map(f=>f.boundingBox));return{character:d,boundingBox:e,fbk:c[0].fbk}})};WPs=function(a,b){b.innerHTML="";a.forEach(({igr:c,focused:d})=>{const e=window.document.createElementNS("http://www.w3.org/2000/svg","svg");Object.assign(e.style,{position:"absolute",top:0,left:0,overflow:"visible"});const f=c.viewBoxSize;e.setAttribute("viewBox",`0 0 ${f.width} ${f.height}`);e.innerHTML=`<path fill="${d?"hsla(262,  94%, 79%, 1)":"hsla(260, 100%, 93%, 1)"}"
    d="${c.path}"></path>`;b.appendChild(e)})};ZPs=function({canvas:a,Zda:b,store:c,L:d,viewport:e,Oph:f,errorService:g}){XPs({Zda:b,store:c,L:d,viewport:e,Oph:f,errorService:g});const h=hV(({page:{page:k},Tc:{scale:l}})=>fV(YPs,{matches:d.Awi.filter(n=>nPs(n)).filter(n=>n.item.L0a.Rcc(k)),scale:l}));a.jc(()=>f.get(),(k,l)=>{k.Bg.Ehf=l?h:void 0})};
$Ps=function(a){a=[...a].sort((d,e)=>d-e);const b=[];let c=[a[0]];for(let d=1,e,f;d<a.length;d++)e=a[d],f=c[c.length-1],f===e-1?c[1]=e:(b.push(c),c=[e]);b.push(c);return b};eQs=function({store:a,document:b,Q4b:c,undo:d,errorService:e,gz:f,V:g,ma:h,fd:k}){return new aQs(a,c,b,void 0,d,e,f,g,bQs(h),cQs({fd:k}),dQs({Vgc:c,fd:k}))};
fQs=function({kd:a,Vi:b}){return({item:c,ccd:d,YPb:e,L0:f})=>{gPs(c.Sc,d,e,f);switch(c.type){case "text":d=c.el.ia;c=c.el.container;c.type==="fixed-page"?a.K0(c,d):a.I5(c.container,c.ia,[d]);break;case "table":c=c.el.ia;d=b.Kgb(c.cells.values());a.w2b(c,d);d.destroy();break;case "shape":d=c.el.ia;c=c.el.container;c.type==="fixed-page"?a.Wka(d):a.I5(c.container,c.ia,[d]);break;case "line":d=c.el.ia;c=c.el.container;(e=d.ed.first())&&e.text.charLength<=1&&d.ed.delete(e);c.type==="fixed-page"?a.cQb(d):
a.I5(c.container,c.ia,[d]);break;default:throw new u(c);}}};gQs=function({Zml:a,fd:b}){return({match:c,YPb:d,L0:e})=>{if(c.type==="richtext3"||mPs(c))if(c.type==="sheet-cell"){const f=c.item,g=c.ccd;b?.Ew(h=>f.replace?.(h,g,d,e))}else sa(c.item.type!=="responsive-inline-item"),c.item.replace(e);else if(c.type==="sheet-cell"){const f=c.item,g=c.ccd;b?.Ew(h=>f.replace?.(h,g,d,e))}else a({item:c.item,ccd:[c.startIndex],YPb:d,L0:e})}};
hQs=function({Zml:a,fd:b,Vgc:c}){return({matches:d,YPb:e,L0:f})=>{sa(d.length>0);const g=d.filter(l=>l.type==="richtext2"),h=d.filter(l=>nPs(l));[...jj(g,({item:l})=>l.Sc).values()].forEach(l=>a({item:l[0].item,ccd:l.map(n=>n.startIndex),YPb:e,L0:f}));h.length>0&&b?.Ew(l=>{for(const n of h){const p=n.ccd;n.item.replace?.(l,p,e,f)}});c.replaceAll(f);const k=d.filter(l=>mPs(l));k.length>0&&b?.Ew(l=>{for(const n of k){const p=n.ccd;n.item.replace?.(l,p,e,f)}})}};
cQs=function({fd:a}){return({match:b,YPb:c,L0:d})=>{if(b.type==="sheet-cell"){const e=b.item,f=b.ccd;a?.Ew(g=>e.replace?.(g,f,c,d))}else sa(b.item.type!=="responsive-inline-item"),b.item.replace(d)}};dQs=function({Vgc:a,fd:b}){return({matches:c,YPb:d,L0:e})=>{a.replaceAll(e);const f=c.filter(g=>g.type==="sheet-cell");f.length>0&&b?.Ew(g=>{for(const h of f){const k=h.ccd;h.item.replace?.(g,k,d,e)}})}};
bQs=function(a){return b=>{switch(b.type){case "replace-all":b=b.Cwh===1?M("tjFCqA"):J("8IJfUQ",[b.Cwh]);break;case "replace-some":b=J("KysOJA",[b.Cwh,b.Cwh-b.PLo,b.PLo]);break;default:throw new u(b);}a.Ib({NX:!1,Db:b})}};
jQs=function(a,b,c){const d=[];for(const f of b.DKj)switch(f.type){case "indices":d.push({...f,OZf:b,mBk:void 0,L0a:c});break;case "inline-item-indices":d.push({...f,type:"indices",OZf:b,mBk:f.item,L0a:c});break;case "table-item":var e=f.container.ia;for(const h of iQs(e))(e=a.geh.Grb(h.content.text))&&d.push(...jQs(a,e,c));break;case "layout-item":const g=f.container.ia;e=__c.$Wd(g).map(h=>m(g.cells.get(h)));for(const h of e)(e=a.geh.Grb(h.text))&&d.push(...jQs(a,e,c));break;case "sheet-cell":d.push(f);
break;default:throw new u(f);}return d};
lQs=function(a){const b=[];if(a.type==="sheet-cell")return b.push(a),b;for(const d of a.indices){var c=e=>a.OZf.replace(d,e);c=a.mBk?{type:"responsive-inline-item",Ka:"responsive",item:a.mBk,replace:void 0,Sc:a.OZf.lVi}:a.container?.type==="table-item-cell"?{type:"responsive-table-text",Ka:"responsive",item:a.container.table,replace:c,Sc:a.OZf.lVi}:a.container?.type==="layout-item-cell"?{type:"responsive-layout-text",Ka:"responsive",item:a.container.layout,replace:c,Sc:a.OZf.lVi}:{type:"responsive-text",
Ka:"responsive",item:kQs,replace:c,Sc:a.OZf.lVi};b.push({type:"richtext3",startIndex:d,length:c.type==="responsive-inline-item"?1:void 0,container:a.container,item:c,L0a:a.L0a})}return b};mQs=function(a,b){return!a.VYf.K2e&&Object.entries(b).some(([c,d])=>__c.Me(c)&&d==="add")};iQs=function(a){const b=[...a.layout.columns];a.layout.direction===2&&b.reverse();const c=new Set;for(const e of a.layout.rows)for(const f of b){var d=e.Lp.get(f.id);(d=d&&a.cells.get(d))&&c.add(d)}return[...c]};
oQs=function({store:a,canvas:b,viewport:c,FXq:d,Vgc:e}){const f=hV(g=>{let h=[];g.page.type==="responsive-page"&&(c.MF||c.uh)&&d?h=d.MQk(g.page):g.page.type==="body"&&c.MF&&(h=e.lUe);return mV(uV,{children:[fV(nQs,{matches:h.filter(k=>k.type==="richtext3")}),fV(YPs,{matches:h.filter(k=>k.type==="sheet-cell"),scale:b.Bn.zoom})]})});b.jc(()=>a.isMounted,(g,h)=>{g.Bn.FL.lJh=h?f:void 0})};
rQs=function({store:a,L:b,uNr:c,errorService:d,Uc:e,Fpj:f,Hmj:g}){const h=v=>b.OA(v),k=()=>b.ohk(),l=()=>b.shk(),n=hV(()=>{const v=b.MLa,w=v>1,x=a.xy,y=AV(()=>{if(v!==0)return x!=null?x+1:"?"},[v,x]);return fV(pQs,{QNs:y,HZr:b.MLa,search:a.query,yTs:h,bii:k,j$q:l,Ffd:!w,xvc:!w})}),p=oV(()=>b.MLa>0&&a.isMounted),q=hV(()=>{kV(()=>{e();b.Uc();c.Uc();return()=>{b.Wh();c.Wh()}},[]);const v=b.zqh?g?.get():void 0;return mV(uV,{children:[fV(n,{}),b.zqh&&f&&fV(f,{}),v&&fV(v,{})]})}),r=v=>d.error(v),t=GV(()=>
fV(__c.Zt,{Tv:r,children:fV(q,{})}));return{Form:hV(({mode:v,onClose:w,source:x})=>{kV(()=>{b.cRl(x,!0);return()=>b.cRl(x,!1)},[x]);return fV(qQs,{Hhj:t,onClose:w,mode:v,title:b.zqh?M("TP6Mzw"):M("+MHgZQ")})}),Oph:p}};
wQs=function({store:a,L:b,locale:c,la:d}){const e=(l,n)=>b.lqo(n),f=sQs.includes(c)?void 0:hV(()=>fV(tQs,{checked:a.X_b,onChange:e})),g=l=>b.dso(l),h=()=>b.eao(),k=()=>b.replaceAll();c=hV(()=>fV(uQs,{replace:a.replaceWith,C0a:h,yGi:k,oTs:g,wsp:d.layout===1?f:void 0,kGs:b.bao,gGs:b.Z$n}));return{Hmj:oV(()=>{const l=b.ywn;if(l!=null)return GV(()=>fV(vQs,{state:l,A_g:a.query}))}),Fpj:c}};
xQs=function({L:a,j4e:b,Los:c,viewport:d}){var e=()=>a.FRb();const f={WO:oV(()=>a.WO),bpb:oV(()=>a.bpb),Fqd:oV(()=>a.Fqd),Iid:oV(()=>a.Iid),Eke:oV(()=>a.Eke),Prb:k=>a.Prb(k),hHi:k=>{a.xH(c.xYc,k);a.wkb(a.ya,k)},Idd:k=>a.wkb(a.ya,k),Tdd:e,jve:()=>a.jve(d.ya),TSn:()=>rV(()=>a.Fqd=!a.Fqd),USn:k=>{a.xH(c.xYc,k.type);a.Fqd&&a.jve(a.ya?.page);a.wkb(a.ya,k.type)}};e={WO:oV(()=>b.WO),bpb:oV(()=>b.bpb),Fqd:oV(()=>!1),Iid:oV(()=>!1),Eke:oV(()=>b.Eke),Prb:()=>!1,hHi:k=>b.xH(c.acf,k),Idd:k=>{b.wkb(k)},Tdd:e,
jve:()=>{},TSn:()=>{},USn:k=>{b.xH(c.acf,k.type);b.wkb(k.type)}};const g={WO:oV(()=>a.WO),directions:oV(()=>a.directions),origins:oV(()=>a.origins),ta:oV(()=>a.ta),Wab:()=>a.Wab(a.ya?.page),REb:k=>a.zuo(c.xYc,k),dgc:k=>a.dgc(a.ya,k),fgc:k=>a.fgc(a.ya,k),wkb:k=>a.wkb(a.ya,k),FRb:()=>a.FRb()},h={WO:oV(()=>b.WO),directions:oV(()=>b.directions),origins:oV(()=>b.origins),ta:oV(()=>b.ta),Wab:()=>b.Wab(b.Wta),REb:k=>b.yuo(c.acf,k),dgc:k=>b.dgc(b.Wta,k),fgc:k=>b.fgc(b.Wta,k),wkb:k=>b.wkb(k),FRb:()=>a.FRb()};
return{$pq:f,Vct:e,$Ts:g,Wct:h}};HQs=function(a){switch(a?.type){case void 0:break;case "chop":return yQs;case "color-wipe":return zQs;case "cross-dissolve":return AQs;case "flow":return BQs;case "match":return CQs;case "slide":return DQs;case "stack":return EQs;case "wipe-circle":return FQs;case "wipe-line":return GQs;default:throw new u(a);}};
NQs=function(a){switch(a){case "chop":return[{name:"clockwise",label:M("7OUI9Q"),icon:IQs,value:1},{name:"anticlockwise",label:M("tDA4Pg"),icon:JQs,value:2}];case "color-wipe":return[{name:"left",label:M("jukJIg"),icon:or,value:2},{name:"right",label:M("ON4niA"),icon:Ot,value:4},{name:"up",label:M("lIXrbw"),icon:tC,value:1},{name:"down",label:M("Nbt2Wg"),icon:f3g,value:3},{name:"up_left",label:M("xA+43A"),icon:KQs,value:5},{name:"up_right",label:M("wDxSNg"),icon:__c.D4g,value:6},{name:"down_right",
label:M("S6doUg"),icon:LQs,value:8},{name:"down_left",label:M("cU2POw"),icon:MQs,value:7}];case "flow":return[{name:"left",label:M("jukJIg"),icon:or,value:2},{name:"right",label:M("ON4niA"),icon:Ot,value:4},{name:"up",label:M("lIXrbw"),icon:tC,value:1},{name:"down",label:M("Nbt2Wg"),icon:f3g,value:3}];case "slide":return[{name:"left",label:M("jukJIg"),icon:or,value:2},{name:"right",label:M("ON4niA"),icon:Ot,value:4},{name:"up",label:M("lIXrbw"),icon:tC,value:1},{name:"down",label:M("Nbt2Wg"),icon:f3g,
value:3}];case "stack":return[{name:"left",label:M("jukJIg"),icon:or,value:2},{name:"right",label:M("ON4niA"),icon:Ot,value:4},{name:"up",label:M("lIXrbw"),icon:tC,value:1},{name:"down",label:M("Nbt2Wg"),icon:f3g,value:3}];case "wipe-circle":return[{name:"inwards",label:M("iovCXw"),value:1},{name:"outwards",label:M("xSSSwg"),value:2}];case "wipe-line":return[{name:"left",label:M("jukJIg"),icon:or,value:2},{name:"right",label:M("ON4niA"),icon:Ot,value:4},{name:"up",label:M("lIXrbw"),icon:tC,value:1},
{name:"down",label:M("Nbt2Wg"),icon:f3g,value:3}];case "cross-dissolve":case "match":case void 0:break;default:throw new u(a);}};SQs=function(a){switch(a){case "chop":return[{name:"topleft",label:M("6+a4Pg"),icon:OQs,value:1},{name:"topright",label:M("Q0GM2g"),icon:PQs,value:2},{name:"bottomleft",label:M("h9zn0Q"),icon:QQs,value:3},{name:"bottomright",label:M("PIvAww"),icon:RQs,value:4}]}};
UQs=function(a,b){if(a.Ja.pages.has(b)){var c=a.Ja.pages.next(b,d=>!d.draft)??a.Ja.pages.next(b);if(c&&TQs(a,b,c))return a.Ai.xb(c)}};TQs=function(a,b,c){var d;if(d=a.TUa(b)&&c.type==="fixed"&&a.TUa(c))b=ck(b,a.Ja.dimensions),a=ck(c,a.Ja.dimensions),d=b.width===a.width&&b.height===a.height&&b.units===a.units;return d};VQs=function(a,b,c){a=m(a.Yq.get().find(d=>d.type===b));return Math.min(c,a.xha)};
XQs=function({type:a,durationUs:b,Qtd:c,options:d}){switch(a){case "chop":return{type:"chop",durationUs:b,origin:d?.origin??3,direction:d?.direction??1};case "color-wipe":return{type:"color-wipe",durationUs:b,ta:d?.ta??c(4)??WQs,direction:d?.direction??2};case "cross-dissolve":return{type:"cross-dissolve",durationUs:b};case "flow":return{type:"flow",durationUs:b,direction:d?.direction??2};case "match":return{type:"match",durationUs:b};case "slide":return{type:"slide",durationUs:b,direction:d?.direction??
2};case "stack":return{type:"stack",durationUs:b,direction:d?.direction??3};case "wipe-circle":return{type:"wipe-circle",durationUs:b,direction:d?.direction??1};case "wipe-line":return{type:"wipe-line",durationUs:b,direction:d?.direction??2};default:throw new u(a);}};ZQs=function(a,b,c,d,e=!1){a.P.track(YQs,{v7f:c?.type,Yvs:d?.type,Bd:a.Fzd(b),ttq:e})};
$Qs=function(a){switch(a.type){case "chop":return{type:a.type,direction:a.direction,origin:a.origin};case "flow":case "slide":case "stack":case "wipe-circle":case "wipe-line":return{type:a.type,direction:a.direction};case "color-wipe":return{type:a.type,direction:a.direction,ta:a.ta};case "cross-dissolve":case "match":break;default:throw new u(a);}};
cRs=function(a,b){if(b&&b.Ri())switch(b.type){case "audio":break;case "elements":if(b.inner)switch(b.inner.type){case "sheet-cell-media":const d=b.inner.container;return new aRs(b.inner.media.map(g=>trs(a.controller,d.Gva(g).KL(g.fill))).filter(sb));case "sheet":const e=b.inner.container;var c=bRs(b.inner.sheet.config,b.inner.cells);return c.length===0?void 0:new aRs(c.map(({media:g,location:h})=>trs(a.controller,e.XZ(h.column,h.row).Gva(g).KL(g.fill))).filter(sb));case "grid":return srs(a.controller,
b.inner.container);case "group":const f=b.inner.container;return new aRs(b.inner.pb.map(g=>srs(a.controller,f.Me(g))).filter(sb));case "layout":case "layout-cell":return srs(a.controller,b.container.Me(b.inner.layout));case "shape":return srs(a.controller,b.container.Me(b.inner.shape));case "table":return srs(a.controller,b.inner.container);default:throw new u(b.inner);}return new aRs((b.Hg?[b.Hg]:b.elements).map(d=>srs(a.controller,b.container.Me(d))).filter(sb));case "pages":switch(b.inner?.type){case "background":return b.inner.container.type!==
"fixed-page"?void 0:trs(a.controller,b.inner.container.KL(b.inner.background));case "sheet-cell-media":const d=b.inner.container;return new aRs(b.inner.media.map(f=>trs(a.controller,d.Gva(f).KL(f.fill))).filter(sb));case "sheet":const e=b.inner.container;c=bRs(b.inner.page.sheet,b.inner.cells);return c.length===0?void 0:new aRs(c.map(({media:f,location:g})=>trs(a.controller,e.XZ(g.column,g.row).Gva(f).KL(f.fill))).filter(sb));case "pages":case void 0:return;default:throw new u(b.inner);}default:throw new u(b);
}};bRs=function(a,b){const c=[];for(const d of b)b=a.layout.cells.get(d.row,d.column),b?.ref.content.ref?.type==="media"&&b.ref.content.ref.value.forEach(e=>c.push({media:e,location:d}));return c};
gRs=function(a){const b=a.Oc,c=a.skeleton.configuration,d=a.fa,e=d.qa,f=d.P,g=a.Jb,h=a.session,k=zV.box(void 0,{deep:!1}),l=iV(q=>{c.Mod=q}),n=iV(()=>{c.Mod=void 0}),p=iV(()=>{g.Td.SMr?.();let q=k.get();if(q==null||q.state==="rejected")q=XKs(dRs({...a,Oc:b,closeDialog:n})),k.set(q);return eRs(q).then(r=>l(r))});return{Bse:hV(({source:q,render:r})=>{const t=k.get();return r({onClick:()=>{f.track(fRs,{ka:h.id,source:q});return p()},loading:t!=null&&t.state==="pending",disabled:e.status===2&&t==null})}),
open:p}};dRs=async function(a){const b=a.fa.Xi,c=a.closeDialog,[{Tkq:d},e]=await Promise.all([__webpack_require__.me(51530).then(()=>__c.hRs),b()]),f=d({...a,Bk:e});return()=>fV(__c.kr,{className:"mZjong",children:fV(f,{onClose:c})})};eRs=async function(a){return await a};
kRs=async function(a){a.N.track(iRs,{b6h:0,mE:"page",control:"page_navigation"});var b=a.nkh,c=b.map(h=>h.ia.Hc.first()?.image.ref?.media.id??void 0);const d=(new __c.uy(c)).ebf();if(d){var e=b[c.indexOf(d)].ia.Hc.first()?.image.ref;e={image:{id:e.media.id,version:e.media.version},yb:e.yb?__c.fWa(e.yb):void 0,za:e.za}}c={Ka:"fixed",pages:b,Cja:a.document.dimensions,origin:void 0};b=a.eD.text(c);let f,g;if(c.pages.length>1||a.qtb==null){if(c=await __c.o5e(a.eD,c))await ka(1),f=(await a.CE.load()).c4c(c.m7)}else g=
await a.qtb.O2d.extract(c.pages,{source:"copy_paste_styles"});return new jRs(f,g,b,e)};
mRs=async function(a){sa(a.style?.state==="fulfilled");const b=m(a.style.value);a.N.track(lRs,{rjd:0,sjd:"page",kkd:0,lkd:"page",control:"page_navigation"});const c=a.undo.startBuffering(),d=[],e=a.nkh.filter(f=>!a.Ac.nS(f));for(let f=0;f<e.length;f++){const g=e[f],h=g.ia.Hc.first();rV(()=>{h?.video.set(void 0);h?.image.set(void 0);b.backgroundImage&&h!=null&&(h.color=void 0,h.image.set({...__c.js,media:b.backgroundImage.image,yb:b.backgroundImage.yb,za:b.backgroundImage.za}))});if(b.text){const k=
await a.yW.M_b(b.text,"copy_paste_styles",[g.ia]);rV(()=>k([g]))}if(b.gyb)await a.qtb.UNa.apply([g],b.gyb,{source:"copy_paste_styles"}),a.logger?.log({style:b.gyb},"paste color styles");else if(b.kq){const {UNa:k,dispose:l}=await __c.Z8e(a.CE,g.ia);d.push(l);rV(()=>{const n=k.hve({page:g,kq:b.kq,document:a.document,fz:{source:"copy_paste_styles"},uih:a.logger?.isEnabled});n&&a.logger?.log(n,"paste color styles")})}}rV(()=>{c.stop();d.forEach(f=>f())})};
nRs=function(a,b,c){a.Pai(c).map(d=>d.image.ref).filter(d=>d&&a.Qa.nfa(d)===2).forEach(d=>{Hqs(a.lp,[{media:d.media,Lcb:{...__c.cA,Qi:{...__c.cA.Qi,contrast:.01}}}],[d])});gss(()=>!a.Pai(c).map(d=>d.image.ref).some(d=>d&&a.Qa.nfa(d)===2),()=>{const d=a.Pai(c).map(e=>e.image.ref);Hqs(a.lp,b,d)})};pRs=function(a,b,c){a.N.track(iRs,{b6h:1,mE:"page",control:c});oRs(a,b.ia)&&(a.store.clipboard.xoc=a.Nwc.OKa(b),a.Cm.Ib({Db:M("6jw2AQ")}))};
rRs=function(a,b,c,d){a.N.track(iRs,{b6h:b.length,mE:qRs(b),control:d});b.length!==0&&(a.store.clipboard.x$a=new Map,Yqs(b).slice(0,a.DLf).forEach(e=>{var f=$r.snapshot(e);f=Wg.RWa(f);e=a.Nwc.gUa(e,c);m(a.store.clipboard.x$a).set(f,e)}),a.Cm.Ib({Db:M("6jw2AQ")}))};oRs=function(a,b){return!ug(b.dimensions??a.document.dimensions)&&!__c.yv(a.Ac,{page:b})};
tRs=function(a,b,c,d){if(b.xoc)a.N.track(lRs,{rjd:1,sjd:"page",kkd:1,lkd:"page",control:d}),oRs(a,c.ia)&&a.Nwc.NW(b.xoc,c,f=>a.N.track(sRs,{style:f,TNd:"page",ROd:"page",control:d}));else if(b.ava)b=b.ava,a.N.track(lRs,{rjd:b.length,sjd:"sheet",kkd:1,lkd:"page",control:d}),b.length!==0&&oRs(a,c.ia)&&({styles:b}=b[0],a.Nwc.NW(b,c,f=>a.N.track(sRs,{style:f,TNd:"sheet",ROd:"page",control:d})));else if(b.x$a){const f=[...b.x$a.keys()];a.N.track(lRs,{rjd:f.length,sjd:qRs(f),kkd:1,lkd:"page",control:d});
if(f.length!==0&&oRs(a,c.ia)){var e=a.tNr(f);b=m(b.x$a.get(e));a.Nwc.NW(b,c,g=>a.N.track(sRs,{style:g,TNd:e.type,ROd:"page",control:d}))}}};uRs=function(a,b){if(b.inner&&b.inner.type==="group"&&!gf(b.inner.group)){const c=b.inner.container;return b.inner.pb.filter(d=>!a.Ac.Tr({element:d,container:c}))}return b.elements.filter(c=>!a.Ac.Tr({element:c,container:b.container}))};
wRs=function(a,b,c,d,e){const f=zf(a.document).xb(d);if(b.xoc)a.N.track(lRs,{rjd:1,sjd:"page",kkd:c.length,lkd:qRs(c),control:e}),c.length&&vRs(a.Nwc,b.xoc,c,f,(g,h)=>a.N.track(sRs,{style:g,TNd:"page",ROd:h.type,control:e}));else if(b.ava){const g=b.ava;a.N.track(lRs,{rjd:g.length,sjd:"sheet",kkd:c.length,lkd:qRs(c),control:e});g.length!==0&&c.length!==0&&c.forEach((h,k)=>{({styles:k}=g[k%g.length]);vRs(a.Nwc,k,[h],f,(l,n)=>a.N.track(sRs,{style:l,TNd:"sheet",ROd:n.type,control:e}))})}else if(b.x$a){d=
[...b.x$a.keys()];const g=Yqs(c);a.N.track(lRs,{rjd:d.length,sjd:qRs(d),kkd:c.length,lkd:qRs(c),control:e});d.length!==0&&g.length!==0&&a.sNr(d,g).forEach((h,k)=>{var l=m(b.x$a);l=m(l.get(k));vRs(a.Nwc,l,h,f,(n,p)=>a.N.track(sRs,{style:n,TNd:k.type,ROd:p.type,control:e}))})}};yRs=function(a){a.store.control!=="keyboard_shortcut"&&xRs(a)};
zRs=function(a){if(a.selection.Kb)return!1;var b=a.selection.Ma;if(!b||a.Pa.mode<=30)return!1;switch(b.type){case "audio":return!1;case "pages":return b.inner?.type==="background"?(b=b.inner.page,b.type==="responsive"?!1:oRs(a,b)):b.inner?.type==="sheet"?!0:!1;case "elements":return b.inner?.type==="sheet"?!0:b.inner?.type==="sheet-cell-media"?!1:uRs(a,b).length>0;default:throw new u(b);}};xRs=function(a){a.store.clipboard.clear();a.store.control=void 0};
ARs=function(a,b){var c=m(__c.zfe(b,a));const d=__c.jZa(b,{start:{column:c.ec,row:c.$b},end:{column:c.jf,row:c.df}});c=b.layout.rows.filter(g=>b.layout.rows.dj(g,d.start.row)>=0&&b.layout.rows.dj(g,d.end.row)<=0);const e=b.layout.cols.filter(g=>b.layout.cols.dj(g,d.start.column)>=0&&b.layout.cols.dj(g,d.end.column)<=0),f=new Map;a.forEach(g=>{const h=f.get(g.row);h?h.set(g.column,g):f.set(g.row,new Map([[g.column,g]]))});return{P2i:c,O2i:e,uUh:f}};
BRs=function(a){if(!a.Fbb)return!1;a=a.Za.state;switch(a?.type){case "RANGE":return a.DUa||a.oB?.display===2;case "TABLE_CELL":case "SHEET_CELL":case "LAYOUT_CELL":return!0;default:return!1}};CRs=function(a,b,c){b.y$a?a.uyc.tUb(b.y$a,[c],()=>{}):b.ava&&({styles:b}=b.ava[0],a.uyc.tUb(b,[c],()=>{}))};ERs=function(a,b,c){b.y$a?DRs(a.uyc,b.y$a,c,()=>{}):b.ava&&({styles:b}=b.ava[0],DRs(a.uyc,b,c,()=>{}))};
GRs=function(a,b,c){b.y$a?FRs(a.uyc,b.y$a,c,()=>{}):b.ava&&({styles:b}=b.ava[0],FRs(a.uyc,b,c,()=>{}))};qRs=function(a){return a.map(b=>b.type).sort().join(", ")};IRs=function({L:a}){return{g6o:hV(b=>{const c=b.onClick,d=jV(()=>{c&&c();a.qPf("toolbar_button")},[c]);return fV(HRs,{...b,onClick:d,Fbb:a.Fbb,variant:a.zxg?"magic":"monochrome"})})}};JRs=function(a){var b=[c=>c.type==="RECT"||c.type==="SHAPE",c=>c.type==="GRID",c=>c.type==="CHART"];for(const c of b)if(b=a.find(c))return b;return a[0]};
NRs=function(a,b){const c=[KRs,LRs,MRs];let d=new Map;for(const e of c){if(a.length===0)break;const f=e(a,b);a=a.filter(h=>!f.has(h));const g=new Set(__c.hfe(f));b=b.filter(h=>!g.has(h));d=new Map([...f,...d])}return d};KRs=function(a,b){return ORs(a,b,c=>c.TB||void 0)};LRs=function(a,b){return ORs(a,b,c=>{c=c.type.toLowerCase();if(c==="rect"||c==="shape"||c==="grid")c="rectOrShapeOrGrid";return c})};
MRs=function(a,b){return ORs(a,b,c=>{c=c.type.toLowerCase();if(c==="text"||c==="chart"||c==="shape"||c==="table")return"textOrChartOrShapeOrTable"})};ORs=function(a,b,c){const d=new Map;a=jj(a,c,{XAd:!0});b=jj(b,c,{XAd:!0});for(const [e,f]of a.entries())if(c=b.get(e)){for(const g of f){a=c.shift();if(!a)break;ij(d,g,a)}for(const g of c)ij(d,f[f.length-1]??null,g)}return d};
QRs=function(a,b,c){var d=b.paths.first(f=>!!f.stroke.ref);const e=b.paths.first(f=>f.qb>0);if(d||e)return d=d?__c.iGc.snapshot(d):void 0,PRs(a,b,c,d?.stroke)};
RRs=function(a){var b=__c.b0a(a);const c=[];if(a.layout.qw===0){for(var d of b.values())c.push(...[d.je,d.sf].filter(sb));b=a.layout.rows.first();for(var e of a.layout.columns)if(d=(d=b.Lp.get(e.id))?a.cells.get(d):void 0)d=__c.a0a(a,d),c.push(...d.ld);e=a.layout.columns.first();for(const f of a.layout.rows)if(b=(b=f.Lp.get(e.id))?a.cells.get(b):void 0)b=__c.a0a(a,b),c.push(...b.yd)}else for(const f of b.values())c.push(...[f.ld,f.je,f.yd,f.sf].filter(sb));a=jj(c,({color:f,weight:g,uD:h})=>`${f}-${g}-${h}`);
[a]=Di(a.values(),f=>f.length);if(a?.color)return{FA:[{Mb:a.color,rg:__c.wfe(a.uD),Zl:!1,weight:a.weight,qb:0}]}};
SRs=function(a,b){a.Mb!=null&&a.Mb.type==null&&(b.layout.borderStyle.color=a.Mb);a.weight!=null&&(b.layout.borderStyle.weight=a.weight);a.rg!=null&&(b.layout.borderStyle.rg=__c.wfe(__c.UYa(a.rg)));b.cells.forEach(c=>{c.borderColor.ld=void 0;c.borderColor.je=void 0;c.borderColor.yd=void 0;c.borderColor.sf=void 0;c.Hk.ld=void 0;c.Hk.je=void 0;c.Hk.yd=void 0;c.Hk.sf=void 0;c.qR.ld=void 0;c.qR.je=void 0;c.qR.yd=void 0;c.qR.sf=void 0})};
VRs=function(a,b,c,d){const e=TRs(b);URs(a,b,c,d);[...c.cells.values()].forEach(f=>{f.stroke.ref&&(f.stroke.ref.color=e.color,f.stroke.ref.fill.gradient.set(e.fill.gradient))})};PRs=function(a,b,c,d){a=a.Aca.Me(b,c);if(a.length===0)return{FA:[WRs]};a=a[0];b=a.qb?.get()??0;return!d&&b>0?{FA:[{...WRs,qb:b}]}:d?{FA:[{Mb:m(d.color||d.fill.gradient),...XRs(a)}]}:{FA:[WRs]}};URs=function(a,b,c,d){const e=TRs(b);a=a.Aca.Me(c,d);for(const f of a)f.pattern?.set(e.rg),f.Zl?.set(e.Zl),f.qb?.set(b.qb),f.weight?.set(e.weight)};
XRs=function(a){const b=a.pattern?.get();return{rg:b&&b!=="none"?b:[],Zl:a.Zl?.get()??!1,weight:a.weight?.get()??0,qb:a.qb?.get()??0}};TRs=function(a){const b=a.Mb,c=a.weight,d=a.rg;return{...ls,...a,color:b==null||b.type!=null?void 0:b,weight:c!=null?c:ls.weight,rg:d!=null?d:ls.rg,fill:{...ks,gradient:b!=null&&b.type!=null?b:void 0}}};
YRs=function(a){if(a.tb.fill.color)return{ta:[{type:"solid",color:a.tb.fill.color}],Rm:a.type};if(a.tb.fill.gradient.ref)return{ta:[{type:"gradient",gradient:a.tb.fill.gradient.ref}],Rm:a.type}};ZRs=function(a,b,c){a=a.ik?.Cqb(b,c,["fill","textCharacter"]);return Object.values(a||[]).flat()};$Rs=function(a,b){if(!a||a.ta.length===0)return!1;a=a.ta[0];b=__c.NVf(b.fill,!0);return a.type==="solid"?(b.pj(a.color),!0):a.type==="gradient"?(b.hz(a.gradient),!0):!1};
aSs=function(a){const b=[],c=new Map;for(const d of a)a=parseInt(d[1],16)>>2<<4+(parseInt(d[3],16)>>2)<<2+(parseInt(d[5],16)>>2),c.has(a)||c.set(a,[]),c.get(a).every(e=>__c.lj(d,e)>4)&&(b.push(d),ij(c,a,d));return b};bSs=function(a,b){return __c.m2e(a,b)};cSs=function(a,b){const c=b.media,d=a.Qa.gp(c);a=__c.NCa(a.Qa,b);if(d&&d.type===1)return{type:"image",image:{type:d.type,id:c.id,version:c.version,title:a?.gA?"":a?.text,user:d.gk?.user,brand:d.gk?.brand,vK:d.vK,kc:d.kc,dw:!1,files:d.images,RA:d.metadata}}};
dSs=function(a,b){b=__c.au.JO(b);return{A5a:b.map(c=>c.image.ref).filter(sb).filter(a.Ymn),JBh:b.map(c=>c.video.ref).filter(sb)}};eSs=function(a){return a.map(b=>{b=Rr.snapshot(b);return Wg.Fhc(b).filter}).filter(sb)};fSs=function(a){return a.map(b=>{b=__c.Sr.snapshot(b);return Wg.C3b(b).filter}).filter(sb)};iSs=function(a){return a.map(b=>__c.Sr.snapshot(b).Hn.filter(c=>gSs(c.type)).map(c=>Wg.Hlh(c)).filter(hSs))};
jSs=function(a,b){const c=b.ia.Hc.first()?.video.ref;b=b.ia.Hc.first()?.image.ref;return{Cy:b&&a.Ymn(b)?b:void 0,H9:c}};kSs=function(a,b){m(a[0]);a=a.slice();let c=a[0];b.forEach(d=>{const e=a.shift();c=e?e:c;d.filter.set(c)})};
lSs=function({KBh:a,LBh:b},c){m(a[0]||b[0]);[a,b]=[a.slice(),b.slice()];let [d,e]=[a[0],b[0]];c.forEach(f=>{const [g,h]=[a.shift(),b.shift()];[d,e]=[g??d,h??e];e&&(f.Hn.toArray().forEach(k=>gSs(k.type)&&f.Hn.delete(k)),e.forEach(k=>f.Hn.append(Wg.j2h(k))),f.filter.set(void 0));d&&f.filter.set(d)})};gSs=function(a){return __c.Ejr.includes(a)||a==="lut"};
hSs=function(a){switch(a.type){case "BRIGHTNESS_EFFECT":case "CONTRAST_EFFECT":case "HIGHLIGHTS_EFFECT":case "SHADOWS_EFFECT":case "WHITES_EFFECT":case "BLACKS_EFFECT":case "SATURATION_EFFECT":case "VIBRANCE_EFFECT":case "TEMPERATURE_EFFECT":case "TINT_EFFECT":case "LUT_EFFECT":return!0;case "FISHEYE_EFFECT":return!1;default:throw new u(a);}};
mSs=function(a,b){Fg.snapshot(b).forEach({...ae,Ya:(c,d,e)=>{c.includes("\n")&&Be.copy("block",e,a);/^\s+$/.test(c)||Be.copy("inline",e,a)}});delete a.link;delete a["start-us"]};pSs=function(a,b,c){c=c?nSs(b,c):1;return a*oSs(b)*c};qSs=function(a,b,c){c=c?nSs(b,c):1;return a/oSs(b)/c};oSs=function(a){const b=a.gb;a=a.width;return b?a/b:1};
nSs=function(a,b){if(!__c.Iw(a))return 1;a:{for(const c of b.elements)if(c.type==="group")for(const d of c.pb)if(d===a){a=c;break a}a=void 0}b=a;if(!b)return 1;a=b.gb;b=b.width;return a?b/a:1};
vRs=function(a,b,c,d,e){c.forEach(f=>{a.vSb.i3a?.(b.za,f,d)&&e("transparency",f);a.PJb.i3a?.(b.color,f,d)&&e("color",f);a.LLb.i3a?.(b.tac,f,d)&&e("fillMedia",f);a.OLb.i3a?.(b.filter,f,d)&&e("filter",f);a.PTi.i3a?.(b.chd,f,d)&&e("text",f);a.pdc.i3a?.(b.line,f,d)&&e("line",f);a.eRb.i3a?.(b.$hc,f,d)&&e("sheetCell",f);a.q8b.i3a?.(b.border,f,d)&&e("border",f);a.skf.i3a?.(b.animation,f,d)&&e("animation",f);a.rPb?.i3a?.(b.Bh,f,d)&&e("photo",f);a.Iuf.i3a?.(b.Lc,f,d)&&e("effects",f)})};
DRs=function(a,b,c,d){c.forEach(e=>{a.vSb.m1c?.(b.za,e)&&d("base",e);a.PJb.m1c?.(b.color,e)&&d("color",e);a.LLb.m1c?.(b.tac,e)&&d("fillMedia",e);a.OLb.m1c?.(b.filter,e)&&d("filter",e);a.Dhe.m1c?.(b.gRa,e)&&d("text",e);a.pdc.m1c?.(b.line,e)&&d("line",e);a.eRb.m1c?.(b.$hc,e)&&d("sheetCell",e);a.q8b.m1c?.(b.border,e)&&d("border",e);a.rPb?.m1c?.(b.Bh,e)&&d("photo",e)})};
FRs=function(a,b,c,d){c.forEach(e=>{a.vSb.l1c?.(b.za,e)&&d("base",e);a.PJb.l1c?.(b.color,e)&&d("color",e);a.LLb.l1c?.(b.tac,e)&&d("fillMedia",e);a.OLb.l1c?.(b.filter,e)&&d("filter",e);a.Dhe.l1c?.(b.gRa,e)&&d("text",e);a.pdc.l1c?.(b.line,e)&&d("line",e);a.eRb.l1c?.(b.$hc,e)&&d("sheetCell",e);a.q8b.l1c?.(b.border,e)&&d("border",e);a.rPb?.l1c?.(b.Bh,e)&&d("photo",e)})};rSs=function(a,b=0,c=100){return b+(c-b)*a};sSs=function(a,b=0,c=100){return(a-b)/(c-b)};
tSs=function(a){return a===180?180:(a+180)%360-180};uSs=function(a){return{id:"glitch",Lc:a.ta.map((b,c)=>({type:"drop-shadow",offset:a.offset,direction:tSs(a.angle+360/a.ta.length*c),blur:0,fill:{...ks,color:b}}))}};xSs=function(a){const b=a.Lc.first();return{get:()=>b?vSs.get(b.id)?.(b):void 0,set:c=>{a.Lc.Er();c!==void 0&&a.Lc.append(wSs(c))}}};
ASs=function(a){const b=a.hl.ref,c=b?.Lc.first(d=>ySs.has(d.type));return{get:()=>c?ySs.get(c.type)?.(c):void 0,set:d=>{d===void 0?b?.Lc.Er(e=>e.type!=="curved"):b?(b.Lc.Er(e=>e.type!=="curved"),b.Lc.append(zSs(d))):a.hl.set({Lc:[zSs(d)]})}}};
DSs=function(a,b){const c=b.hl.ref,d=c?.Lc.first(g=>BSs.has(g.type)),e=()=>a.mc.nA(),f=g=>CSs(a,g);return{get:()=>d?BSs.get(d.type)?.(d,e,f):void 0,set:g=>{g===void 0?(c?.Lc.Er(h=>h.type==="curved"),b.text.setAttributes({"font-kerning":"normal"})):(g.type==="curved"&&(b.zv=2,b.writingMode=1,b.text.setAttributes({"font-kerning":void 0,"font-feature-liga":void 0,"font-feature-clig":void 0,"font-feature-calt":void 0,"font-size-modifier":void 0,"vertical-align":void 0})),c?(c.Lc.Er(h=>h.type==="curved"),
c.Lc.append(zSs(g))):b.hl.set({Lc:[zSs(g)]}),g.type==="curved"&&CSs(a,g.MZ));a.mc.nA()}}};CSs=function(a,b){b<0?a.Vlh(3):b>0&&a.Vlh(1)};
wSs=function(a){switch(a.type){case "shadow":return{id:"shadow",Lc:[{type:"drop-shadow",offset:a.offset,direction:tSs(a.angle),blur:a.blur,fill:{...ks,color:a.color,za:1-sSs(a.za)}}]};case "glow":return{id:"glow",Lc:[{type:"drop-shadow",offset:.6,direction:0,blur:rSs(sSs(a.Fd),12,90),fill:{...ks,color:a.color,za:rSs(sSs(a.Fd),.95,.4)}}]};case "echo":return{id:"echo",Lc:[{type:"drop-shadow",offset:a.offset,direction:tSs(a.angle),blur:0,fill:{...ks,color:a.color,za:.5}},{type:"drop-shadow",offset:a.offset,
direction:tSs(a.angle),blur:0,fill:{...ks,color:a.color,za:.6}}]};case "glitch":return uSs(a);default:throw new u(a);}};
zSs=function(a){switch(a.type){case "shadow":return{type:"shadow",parameters:new Map([["offset",ESs.offset.Gs.rZ(a.offset).toString()],["angle",ESs.angle.Gs.rZ(a.angle).toString()],["blur",ESs.blur.Gs.rZ(a.blur).toString()],["transparency",ESs.transparency.Gs.rZ(a.za).toString()],["color",a.color]])};case "glow":return{type:"lift",parameters:new Map([["intensity",FSs.intensity.Gs.rZ(a.Fd).toString()]])};case "hollow":return{type:"hollow",parameters:new Map([["thickness",GSs.thickness.Gs.rZ(a.Pu).toString()]])};
case "splice":return{type:"splice",parameters:new Map([["thickness",HSs.thickness.Gs.rZ(a.Pu).toString()],["offset",HSs.offset.Gs.rZ(a.offset).toString()],["angle",HSs.angle.Gs.rZ(a.angle).toString()],["color",a.color]])};case "outline":return{type:"outline",parameters:new Map([["thickness",ISs.thickness.Gs.rZ(a.Pu).toString()],["color",a.color]])};case "echo":return{type:"echo",parameters:new Map([["offset",JSs.offset.Gs.rZ(a.offset).toString()],["angle",JSs.angle.Gs.rZ(a.angle).toString()],["color",
a.color]])};case "glitch":return{type:"glitch",parameters:new Map([["offset",KSs.offset.Gs.rZ(a.offset).toString()],["angle",KSs.angle.Gs.rZ(a.angle).toString()],["colors",a.ta.join(",")]])};case "neon":return{type:"neon",parameters:new Map([["intensity",LSs.intensity.Gs.rZ(a.Fd).toString()]])};case "background":return{type:"background",parameters:new Map([["roundness",MSs.roundness.Gs.rZ(a.HIa).toString()],["spread",MSs.spread.Gs.rZ(a.spread).toString()],["transparency",MSs.transparency.Gs.rZ(a.za).toString()],
["color",a.color]])};case "curved":return{type:"curved",parameters:new Map([["curvature",NSs.curvature.Gs.rZ(a.MZ).toString()]])};default:throw new u(a);}};OSs=F(()=>({data:Sa(1,__c.h7c),prompt:U(2),Mu:E(3,__c.v7c)}));__c.Lpg.prototype.irh=fa(1087,function(a,b){return pqs(this.JS,a,b)});
__c.Lpg.prototype.zCe=fa(1086,function(a){const b=__c.ang(a);let c=this.csv.parse(a,b);const d=c.length,e=c[0]?.length||0,f=e>0&&c.every(h=>h.length===e);let g=!1;switch(b.field){case ",":g=d>=2&&e>=4;break;case ";":case "|":g=d>=2&&e>=2||e>=4;break;default:g=!0}f&&g||(c=a.split(b.row).map(h=>[h]));a=c.map(h=>h.map(k=>k.trim()));return oqs(this.JS,a)});
__c.Ggg.prototype.z1h=fa(1081,function(a,b){const c=[];this.fd.Ew(d=>{for(const e of b){const f=a.layout.cells.get(e.row,e.column);d.setAttributes(a,{row:f?.span.$b||e.row,column:f?.span.ec||e.column},{...Ee.Nf,...kId,fontFamily:this.wq.HV||Ee.Nf.fontFamily});f!=null&&(__c.ngg(a,f.span),d.m2(a,{row:f.span.$b,column:f.span.ec},void 0),d.JEb(a,{row:f.span.$b,column:f.span.ec},void 0));c.push({row:f?.span.$b||e.row,column:f?.span.ec||e.column})}});__c.Nfg(this.$xa,a,c)});
__c.oXf.prototype.C_m=fa(1033,function(a,b){const [c]=this.bnc.for(a,b),[d]=this.NLb.for(a,b).map(__c.GA);a=this.xBh.for(a,b).map(__c.GA).map(FA.create);return{Dea:FA.hae(c),jT:FA.hae(d),ARr:a}});__c.oXf.prototype.x_m=fa(1032,function(a,b){const c=this.bnc.for(a,b)[0];a=this.NLb.for(a,b).map(__c.GA)[0];return{Dea:FA.hae(c),jT:FA.hae(a)}});__c.cSf.prototype.thn=fa(1029,function(a,b){a.reduce((c,d)=>nqs(this,d,c),b)});
__c.Krf.prototype.aec=fa(1024,function(a,b,c){a=lk.mR(a);if(c!==b&&a){a.grid.Bw.forEach(f=>{var g=m(f.gridColumnStart);g=parseInt(g,10)-1;if(g===b)f.gridColumnStart=(c+1).toString(),f.gridColumnEnd=(c+2).toString();else if(g>=Math.min(c,b)&&g<=Math.max(c,b)){const h=b<c?-1:1;f.gridColumnStart=(g+1+h).toString();f.gridColumnEnd=(g+2+h).toString()}});var d=[...a.grid.gridTemplateColumns],e=d.splice(b,1)[0];d.splice(c,0,e);a.grid.gridTemplateColumns=d}});
__c.Lrf.prototype.aec=fa(1023,function(a,b,c){a=a!=null?__c.Hrf(a):void 0;const {asa:d,Ydc:e}=a??{};if(c!==b&&d&&e){d.grid.Bw.forEach(g=>{var h=m(g.gridColumnStart);h=parseInt(h,10)-1;if(h===b)g.gridColumnStart=(c+1).toString(),g.gridColumnEnd=(c+2).toString();else if(h>=Math.min(c,b)&&h<=Math.max(c,b)){const k=b<c?-1:1;g.gridColumnStart=(h+1+k).toString();g.gridColumnEnd=(h+2+k).toString()}});a=d.grid.gridTemplateColumns;var f=[...a];f.splice(b,1);f.splice(c,0,a[b]);d.grid.gridTemplateColumns=f;
e.grid.Bw.forEach(g=>{var h=m(g.gridRowStart);h=parseInt(h,10)-1;if(h===b)g.gridRowStart=(c+1).toString(),g.gridRowEnd=(c+2).toString();else if(h>=Math.min(c,b)&&h<=Math.max(c,b)){const k=b<c?-1:1;g.gridRowStart=(h+1+k).toString();g.gridRowEnd=(h+2+k).toString()}});this.P?.track(__c.Mlh,{action:"columns_reordered",UL:d.grid.gridTemplateColumns.length,Pt:d.grid.gridTemplateRows.length})}});
__c.Krf.prototype.cNf=fa(1022,function(a,b,c){a=lk.mR(a);if(c!==b&&a){a.grid.Bw.forEach(f=>{var g=m(f.gridRowStart);g=parseInt(g,10)-1;if(g===b)f.gridRowStart=(c+1).toString(),f.gridRowEnd=(c+2).toString();else if(g>=Math.min(c,b)&&g<=Math.max(c,b)){const h=b<c?-1:1;f.gridRowStart=(g+1+h).toString();f.gridRowEnd=(g+2+h).toString()}});var d=[...a.grid.gridTemplateRows],e=d.splice(b,1)[0];d.splice(c,0,e);a.grid.gridTemplateRows=d}});sy.prototype.b_d=fa(928,function(a){return this.$hh.b_d(a)});
oWe.prototype.b_d=fa(927,function(a){__c.huf(a)});sy.prototype.rQb=fa(926,function(){return this.$hh.rQb()});oWe.prototype.rQb=fa(925,function(){this.Za.vR()});sy.prototype.csf=fa(924,function(a,b){return this.$hh.csf(a,b)});oWe.prototype.csf=fa(923,function(a,b){a.type==="section-marker"||a.type==="marker"?this.b_d(a.marker):(this.Za.Nw(a.text,b),this.rQb())});sy.prototype.Vmf=fa(922,function(a,b,c){return this.$hh.Vmf(a,b,c)});
oWe.prototype.Vmf=fa(921,function(a,b){a=__c.Jrf(this.vza,a,b);b=a!=null?Vz(a):void 0;return a!=null?!!b&&b.SOc&&b.jwg>1:!1});sy.prototype.XSh=fa(920,function(a,b){if(this.k$)return!1;const c=a.ia.pages;return!c.has(b)||this.Ac.nS(a.xb(b))?!1:c.count()-1>=1});oWe.prototype.XSh=fa(919,function(){return!1});sy.prototype.c_d=fa(918,function(a,b,c,d){a=a.layout.cells.get(b,c)?.ref.content.ref;if(a?.type==="media")for(const e of d)a.value.delete(e)});
oWe.prototype.c_d=fa(917,function(a,b,c,d){a=a.layout.cells.get(b,c)?.ref.content.ref;if(a?.type==="media")for(const e of d)a.value.delete(e)});sy.prototype.EYj=fa(916,function(a){for(const b of a)a=b.fill,a.image.ref?a.image.set(void 0):a.video.ref?a.video.set(void 0):a.gradient.ref?a.gradient.set(void 0):a.color&&(a.color=void 0)});sy.prototype.MYj=fa(915,function(a){let b=!1;for(const c of a)c.content.text.charLength>1&&(c.content.text.Ywa("\n"),c.content.Sf={oi:[]},b=!0);return b});
sy.prototype.ttm=fa(914,function(a){let b=!1;for(const c of a)a=c.fill,a.image.ref?(a.image.set(void 0),b=!0):a.video.ref?(a.video.set(void 0),b=!0):a.gradient.ref?(a.gradient.set(void 0),b=!0):a.color&&(a.color=void 0,b=!0);return b});sy.prototype.eng=fa(913,function(a){return a.Hc.count()===1?(a=a.Hc.first(),this.u5a(a)||this.ADf(a)||!!a.color):a.Hc.count()>1});oWe.prototype.eng=fa(912,function(){return!1});
sy.prototype.yng=fa(911,function(a){if(a.Hc.count()===1){a=a.Hc.first();const b=a.color!=null&&a.color!=="#ffffff";return this.u5a(a)||this.ADf(a)||b}return a.Hc.count()>1});oWe.prototype.yng=fa(910,function(){return!1});
sy.prototype.oYj=fa(908,function(a,b,c,d){for(const e of b)if(a.Hc.has(e))if(this.Lk?.Yu||a.Hc.count()!==1)a.Hc.delete(e),d?.();else{if(e.image.ref)e.image.set(void 0);else if(e.video.ref)e.video.set(void 0);else if(e.gradient.ref!=null||e.color!=="#ffffff"||!c&&e.color)e.gradient.set(void 0),e.color=c?"#ffffff":void 0;e.durationUs=void 0}});sy.prototype.FQi=fa(907,function(a,b){__c.mWe(this.Lvg,a,b)});oWe.prototype.FQi=fa(906,function(){});
__c.jqe.prototype.vEc=fa(869,async function(a,b,c){if(a==="")return Promise.resolve(void 0);this.Tu({message:"Add URL"});var d=this.Za.state;if(d?.type==="RANGE"&&d.isCollapsed){var e=Gw.vLb(d.range);d=this.Za.Dob(d.Sc,e);e=d.attributes.Mk.size===1?d.attributes.Mk.values().next().value:0;d=d.collapsed&&!(e&&e>0);({connect:e}=this.Za.gDa(a,{...bB,link:a}));const f=e();if(c==="link"||this.qa.status===2&&!zo.fDe)return"link";if(d){const h=this.undo.startBuffering();return __c.jne(this,a).then((0,__c.gw)(k=>
{const {m6c:l,access:n}=__c.kne(this,k);f.Sc&&(this.Za.qv(f.Sc,f),this.Za.vR());this.Ml(l,b);return n})).catch(k=>{if(k instanceof __c.ine)return"link";throw k;}).finally((0,__c.gw)(()=>{f.disconnect();h.stop()}))}const g=this.undo.startBuffering();return lqs(this,a).then((0,__c.gw)(h=>{f.Sc&&(this.Za.qv(f.Sc,f),this.Za.vR());this.bha(h,b);return"public"})).catch(h=>{if(h instanceof __c.ine)return"link";throw h;}).finally((0,__c.gw)(()=>{f.disconnect();g.stop()}))}mqs(this,a);return Promise.resolve("link")});
__c.gqe.prototype.vEc=fa(868,function(a,b,c){if(this.Dsa().type==="responsive-page")return this.lk.vEc(a,b,c);throw Error("Unimplemented");});__c.pYg.prototype.HXi=fa(865,function(a){return __c.gie(this,{text:this.target.altText?.text??"",gA:a})});__c.nde.prototype.vGk=fa(848,function(a,b){const c=this.Z$k.get(a);return!!c&&c.oc(a,b)});
__c.IZd.prototype.dnf=fa(804,function(a){if(a.width<this.minWidth||a.height<this.minHeight)return!1;const b=__c.tOb(this.kd,a,void 0,void 0,{ola:!0});return Math.abs(b.X5.width-a.width)<1E-10&&Math.abs(b.X5.height-a.height)<1E-10});__c.MMb.prototype.jUo=fa(794,function(a){sa(!this.uph);(0,__c.Fb)(()=>this.uph=a)});__c.qXb.prototype.BNn=fa(782,function(a){this.upi=!0;this.C4j=a?.hw??(this.sessionType==="non-editing"?"playhead_drag":void 0)});
__c.qXb.prototype.HSm=fa(781,function({ff:a}){this.eHe({i0:"closed",ff:a});this.t2d({ff:a,i0:"ended"});this.iEg({ff:a,i0:"ended"})});__c.qXb.prototype.dNn=fa(778,function(a){this.hRa?.isRecording()&&this.hRa.ob().addEvent("document_engine_updated",new Map([["type",a]]))});
__c.qXb.prototype.eNn=fa(775,function(a){this.XNg=!0;if(this.hRa?.isRecording()||this.yyc?.isRecording()||this.X2b?.isRecording())this.hRa?.isRecording()&&this.hRa.ob().addEvent("document_watch_error",new Map([["engine",a.ff],["error_data",a.aLc]])),this.t2d({ff:a.ff,i0:"error"}),this.iEg({ff:a.ff,i0:"error"}),a.uWs&&this.eHe({ff:a.ff,i0:"error"})});
__c.hOa.prototype.ILj=fa(258,async function(a){const b=__c.gh([__c.rVi,"url","resolve","check"]);__c.eh(b,{url:m(a.url),maxWidth:a.maxWidth,maxHeight:a.maxHeight});a=__c.ih(b);const [c,{i4o:d}]=await Promise.all([this.Da.get(a,{Sa:"checkembedresolvability"}),__webpack_require__.me(576875).then(()=>({i4o:__c.PSs}))]);return d.deserialize(c)});
__c.WNa.prototype.Knk=fa(184,async function(){const a=__c.ih(__c.gh([__c.kQg,"insights","quota"])),[b,{kkp:c}]=await Promise.all([this.Da.get(a,{Sa:"getinsightsquota"}),__webpack_require__.me(415643).then(()=>({kkp:__c.QSs}))]);return c.deserialize(b)});
__c.WNa.prototype.Jnk=fa(183,async function(a){const b=__c.gh([__c.kQg,"insights"]);__c.eh(b,{id:m(a.id)});a=__c.ih(b);const [c,{lkp:d}]=await Promise.all([this.Da.get(a,{Sa:"getinsights"}),__webpack_require__.me(415643).then(()=>({lkp:__c.RSs}))]);return d.deserialize(c)});
__c.WNa.prototype.eTj=fa(182,async function(a){const b=__c.ih(__c.gh([__c.kQg,"insights"])),[c,{B7o:d}]=await Promise.all([this.Da.post(b,OSs.serialize(a),{Sa:"createinsights"}),__webpack_require__.me(415643).then(()=>({B7o:__c.SSs}))]);return d.deserialize(c)});
var eV=class{get him(){const a=[],b=[];for(const [c,d]of this.styles.entries())b.push(`${c}: ${d};`);b.length&&a.push(`style="${b.join(" ")}"`);for(const [c,d]of this.attributes.entries())a.push(`${c}="${d}"`);return`${a.length>0?" "+a.join(" "):""}`}static element(a,b){return new eV(a,b)}appendChild(a){this.children.push(a);return a}setContent(a){this.content=a}setAttribute(a,b){this.attributes.set(a,b)}getStyle(a){return this.styles.get(a)}setStyle(a,b){this.styles.set(a,b)}toString(){if(this.j3g)return`<${this.tagName}${this.him}>`;
m(!(this.children.length>0&&this.content.length>0));const a=this.children.length>0?this.children.map(b=>b.toString()).join(""):this.content;return`<${this.tagName}${this.him}>${a}</${this.tagName}>`}constructor(a,b){this.tagName=a;this.children=[];this.content="";this.styles=new Map;this.attributes=new Map;this.j3g=b?.j3g||!1}},TSs={eventType:"editor_page_view_list_scrolled",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),performance_context:a.Tb==null?void 0:pf(a.Tb),location:a.location})}},
rHs={eventType:"editor_page_navigator_resize_interacted",Oa(a){return jf({action:a.action,previous_page_navigator_height:a.Ffl,current_page_navigator_height:a.XVj,num_current_layers:a.sYk,editing_context:a.Ca==null?void 0:mf(a.Ca),performance_context:a.Tb==null?void 0:pf(a.Tb)})}},NNs={eventType:"editor_pagemanager_page_altered",Oa(a){return jf({doctype_id:a.Ea,document_id:a.ka,category_id:a.eb,action:a.action,control_context:a.mb,source_position:a.Vke,target_position:a.U$e,performance_context:a.Tb==
null?void 0:pf(a.Tb),editing_context:a.Ca==null?void 0:mf(a.Ca)})}},USs=class{wv(a,b,c={}){(0,__c.Eb)(()=>a(),d=>b(this.nMm,d),{fireImmediately:!0,...c})}jc(a){(0,__c.Fb)(()=>{a(this.nMm)})}constructor(a,b){this.Zjb=a;this.bil=b;this.nMm={Ned:this.Zjb,LVf:this.bil}}},VSs={eventType:"preview_buffered",Oa(a){return jf({analytics_correlation_id:a.Bf,editing_context:a.Ca==null?void 0:mf(a.Ca),buffering_phase:a.NZp,location:a.location,total_buffering_duration_ms:a.rft,session_duration_ms:a.Zvl})}},lKs=
{eventType:"editor_element_timing_altered",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),action:a.action,element_types:a.mE,original_duration_ms:a.e$k,current_duration_ms:a.HVj,performance_context:a.Tb==null?void 0:pf(a.Tb)})}},mKs={eventType:"editor_alter_element_timing_view",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),action:a.action,performance_context:a.Tb==null?void 0:pf(a.Tb)})}},EKs={eventType:"editor_timeline_interacted",Oa(a){return jf({editing_context:a.Ca==
null?void 0:mf(a.Ca),action:a.action,control_context:a.mb,performance_context:a.Tb==null?void 0:pf(a.Tb)})}},nHs={eventType:"editor_timeline_zoom",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),action:a.action,control_context:a.mb,current_zoom_level:a.wWj,previous_zoom_level:a.Jfd,performance_context:a.Tb==null?void 0:pf(a.Tb)})}},pHs={eventType:"editor_timeline_view_mode_changed",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),to_view_mode:a.eet,performance_context:a.Tb==
null?void 0:pf(a.Tb),control_context:a.mb})}},Jus=()=>M("2PGUeA"),Cus=class{async hTj(a,b){this.Se.QK({});const {ZKk:c,hXq:d}=__c.$me(a.map(g=>({size:g})),this.Zn,this.Xk,this.fj);a=await this.A9a(c,{Xc:"quick_actions"});this.Se.close({trigger:"insert"});if(a){b=b.ew(a);var e=a.cells.get(d);if(e){var f=__c.Vra(b,d,e);window.requestAnimationFrame(()=>this.vg.qv(f,e.text,Gw.start()))}}}constructor(a,b,c,d,e,f){this.Se=a;this.Zn=b;this.A9a=c;this.Xk=d;this.fj=e;this.vg=f}},WSs={eventType:"editor_media_flipped",
Oa(a){return jf({direction:a.direction,design_id:a.designId,doctype_id:a.Ea,category_id:a.eb,media_id:a.mediaId,media_ids:a.dL,media_version:a.YE,media_versions:a.qMf,page_width:a.Bq,page_height:a.ss,num_pages_in_document:a.rz,num_elements_in_page:a.eF,editing_context:a.Ca==null?void 0:mf(a.Ca)})}},XSs=class{QRd(a,b){b()}KGb(){}At(a,b,c){c()}hpe(a,b){b()}z2a(a,b,c){c()}Z8a(a,b){b()}$8a(a,b){b()}lpe(a,b){b()}y2a(a,b){b()}jpe(a,b){b()}oNa(){}mpe(){}kpe(){}},$qs=class{xyh(a){this.cra(a.body)}cra(a){for(const b of a.childNodes)this.QRd(b)}QRd(a){this.acc.QRd(a,
()=>{a.nodeType===a.TEXT_NODE?this.KGb(a):a.nodeType===a.ELEMENT_NODE&&this.kef(a)})}KGb(a){this.acc.KGb(a)}kef(a){switch(a.tagName){case "DIV":this.At(a,"block");break;case "UL":this.z2a(a,!1);break;case "OL":this.z2a(a,!0);break;case "LI":this.Z8a(a);break;case "SPAN":case "B":case "STRONG":case "I":case "EM":case "U":case "S":case "DEL":case "FONT":case "SUP":case "SUB":this.At(a,"inline");break;case "A":this.hpe(a);break;case "P":this.$8a(a);break;case "PRE":this.lpe(a);break;case "H1":case "H2":case "H3":case "H4":case "H5":case "H6":this.y2a(a);
break;case "BLOCKQUOTE":this.jpe(a);break;case "TABLE":this.oNa(a);break;case "BR":this.mpe(a);break;case "IMG":this.kpe(a);break;case "STYLE":break;default:this.cra(a)}}At(a,b){this.acc.At(a,b,()=>this.cra(a))}hpe(a){this.acc.hpe(a,()=>this.cra(a))}z2a(a,b){this.acc.z2a(a,b,()=>this.cra(a))}Z8a(a){this.acc.Z8a(a,()=>this.cra(a))}$8a(a){this.acc.$8a(a,()=>this.cra(a))}lpe(a){this.acc.lpe(a,()=>this.cra(a))}y2a(a){this.acc.y2a(a,()=>this.cra(a))}jpe(a){this.acc.jpe(a,()=>this.cra(a))}oNa(a){this.acc.oNa(a,
b=>this.QRd(b))}mpe(a){this.acc.mpe(a)}kpe(a){this.acc.kpe(a)}constructor(a){this.acc=a}},YSs=a=>({H1:a*2,H2:a*1.5,H3:a*1.17,H4:a*1,H5:a*.83,H6:a*.67}),ZSs=class extends XSs{async KU(a){const b=[...this.urls],c=(await Promise.all(b.map(drs))).filter(sb).map((f,g)=>new File([f],`${g}.${__c.uz(f.type)}`));a=await a(c,"canvas",{Q8a:"background",mb:"clipboard"}).images;a=new Map(a.flatMap(f=>f.QC?[[f.QC,f]]:[]));const d=new Map;for(let f=0;f<c.length;f++){var e=a.get(c[f].name);e&&(e=this.xLr(e),d.set(b[f],
e))}return d}oNa(a,b){for(const c of a.rows)for(const d of c.cells)b(d)}kpe(a){this.urls.add(a.src)}constructor(){super();this.xLr=__c.Yef;this.urls=new Set}},$Ss=(a,b,...c)=>{for(const d of c)if(c=d(a))return c;return b(a)},kys=a=>{switch(a){case 4:return M("eY1d0Q");case 1:return M("WL2xxQ");case 3:return M("nAKgzA");case 2:return M("SJUMrg");default:throw new u(a);}},Nvs=class{static G(a){O(a,{Dig:__c.NF,Dkh:__c.NF.struct})}get Dig(){var a=this.selection.Kb;if(a&&!(this.Pa.mode<=20)&&(a=a.type===
1?a.only:void 0)&&a.display!==2)switch(a.type){case "controlled":case "chart":case "rect":case "embed":case "design":case "layout":case "shape":return a;case "break":case "separator":case "pill":case "table":case "sheet":break;default:throw new u(a);}}get Dkh(){const a=this.Dig;if(a&&a.width!=="100%"&&a.width!=="100cqw"&&(!a.width.endsWith("px")||a.maxWidth!=="100cqw"))switch(a.alignment||"50%"){case "0%":return"left";case "50%":return"center";case "100%":return"right"}}constructor(a,b){this.Pa=a;
this.selection=b;Nvs.G(this)}},aTs={eventType:"editor_elements_aligned",Oa(a){return jf({anchor:a.anchor,control_context:a.mb,num_elements_selected:a.Zcd,element_types:a.mE,design_id:a.designId,doctype_id:a.Ea,category_id:a.eb,page_width:a.Bq,page_height:a.ss,num_pages_in_document:a.rz,num_elements_in_page:a.eF,editing_context:a.Ca==null?void 0:mf(a.Ca)})}},bTs={eventType:"editor_element_z_index_changed",Oa(a){return jf({direction:a.direction,control_context:a.mb,num_elements_selected:a.Zcd,element_types:a.mE,
design_id:a.designId,doctype_id:a.Ea,category_id:a.eb,page_width:a.Bq,page_height:a.ss,num_pages_in_document:a.rz,num_elements_in_page:a.eF,editing_context:a.Ca==null?void 0:mf(a.Ca),performance_context:a.Tb==null?void 0:pf(a.Tb)})}},cTs={eventType:"editor_toolbar_position_menu_opened",Oa(a){return jf({design_id:a.designId,doctype_id:a.Ea,category_id:a.eb,page_width:a.Bq,page_height:a.ss,num_elements_selected:a.Zcd,element_types:a.mE,num_pages_in_document:a.rz,num_elements_in_page:a.eF,editing_context:a.Ca==
null?void 0:mf(a.Ca),tab:a.Fe})}},dTs={eventType:"editor_element_aspect_lock_clicked",Oa(a){return jf({action:a.action,editing_context:a.Ca==null?void 0:mf(a.Ca)})}},Gys={eventType:"editor_element_rotated",Oa(a){return jf({element_types:a.mE,original_rotation:a.h$k,rotation:a.rotation,x:a.x,y:a.y,width:a.width,height:a.height,control_context:a.mb,editing_context:a.Ca==null?void 0:mf(a.Ca)})}},eTs={eventType:"editor_elements_swapped",Oa(a){return jf({primary_element_type:a.Cws,secondary_element_type:a.uOs,
swap_type:a.QRb,total_elements_moved:a.yft,editing_context:a.Ca==null?void 0:mf(a.Ca),performance_context:a.Tb==null?void 0:pf(a.Tb)})}},fTs={eventType:"presentation_navigator_initial_rendered",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),performance_context:a.Tb==null?void 0:pf(a.Tb),num_pages:a.SC,num_elements:a.MDa,num_embeds:a.rJu,num_static_thumbnails:a.mBi})}},WQs=["#7900ff","#548cff","#93ffd8","#cfffdc"],hrs=a=>{const b=a.layout,c=a.xy,d=a.OR,e=a.vz,f=a.cYf,g=a.Zwa;(0,__c.Rer)(()=>
()=>{(g?null:f)?.()},[f,g]);return Ker(__c.hfr,{layout:b,className:"jWnHiw",children:__c.ifr.map((h,k)=>Ker(__c.kfr,{s5s:k,xy:c,OR:d,r5s:h,vz:e,$te:a.$te,y6f:a.y6f,oa:a.oa,Zwa:a.Zwa},h))})},grs=class{static G(a){O(a,{y6f:Yer.bound,hkh:Yer.bound,cYf:Yer.bound,$te:Yer.bound,Y3f:__c.Uer,OR:Yer})}y6f(a){this.store.vz===a?this.cYf():this.hkh(a)}hkh(a){this.store.vz=a}cYf(){this.store.vz=void 0}$te(a,b){const {dimensions:c}=this.Y3f||{},{top:d,left:e}=b||{};b=c&&d&&e?Oj({top:d,left:e,width:c.width,height:c.height}):
void 0;a=__c.Jer(a);this.qc.Baa(a,"sticky_note",{Xc:"tools_tab_click"},{box:b,rNa:{type:"absolute",value:"top"}});this.bBa()}get Y3f(){if(this.store.gE&&this.store.vz){var a=__c.Jer(this.store.vz);a=__c.bpe(this.qc,this.store.gE,a);return{dimensions:{width:a.width,height:a.height},paths:a.paths,viewBox:a.viewBox}}}bBa(){this.P.track(vrg,{elementType:"shape",mb:"click",Lua:"add",sPc:!1})}constructor(a,b,c,d){this.store=a;this.mc=b;this.qc=c;this.P=d;this.Mlr=(grs.G(this),(e,f)=>{const g=e.Hg?.type===
"shape"?e.Hg:void 0;if(g){if(f){f=g.slice;const h=g.ed;g.viewBox&&f&&h&&this.mc.SWa("font-size",Math.round(.08*Math.max(g.width,g.height)*.75)*Wt)}this.mc.fBa(e,"all")}});this.QFn=e=>{this.OR((this.store.xy+(e==="prev"?-1:1)+__c.jfr)%__c.jfr)};this.OR=e=>{this.store.xy=e}}},frs=class{static G(a){O(a,{isActive:__c.Xer.ref,MEb:Yer,vz:__c.Xer.ref,gE:__c.Uer,xy:__c.Xer.ref})}MEb(a){this.isActive=a??!1}get Zwa(){return this.C4a&&Ic.Oib&&!xc.vI}get gE(){const a=this.viewport.Vg.ia;return a.type==="fixed"?
a:void 0}constructor(a,b){this.viewport=a;this.C4a=b;this.isActive=(frs.G(this),!1);this.xy=0}},RCs=class{data(){if(this.raw.length<2)return[];const a=krs(this);return this.raw.slice(1).map(b=>{const c=new Map;b.forEach((d,e)=>c.set(a[e],d));return c})}constructor(a){this.raw=a}},gTs=class extends __c.ONr{static G(a){O(a,{onChange:__c.cU.bound,options:__c.bU})}onChange(a){const b=this.props.zD,c=this.props.i1b,d=this.props.j6r,e=this.props.oa,f=this.props.C5r;if(this.props.current!==a)switch(f(),
e(),a){case "iframe":d();break;case "pill":c();break;case "link":b();break;default:throw new u(a);}}get options(){const a=this.props.kG,b=this.props.FLi;return[lrs("iframe",this.props.r6h,M("R/eZ7Q")),lrs("pill",b,M("rrRYsA")),lrs("link",a,M("O2cT4A"))].filter(sb)}render(){const a=this.props.current,b=this.props.disabled;return(0,__c.dU)(wA,{label:M("IQVG9w"),Vv:"small",control:()=>(0,__c.dU)(__c.lz,{value:a,stretch:!0,onChange:this.onChange,disabled:b,options:this.options,className:"_6fXk2A"})})}constructor(...a){super(...a);
gTs.G(this)}},hTs=(a,b)=>{a=new URL(a);const c=new URLSearchParams(a.search);c.delete("include_page_indexes");c.set("include_page_ids",b.join(","));return`${a.origin}${a.pathname}?${c}`},iTs=class{encode(a){a=this.serializer.serialize(a);return{...a,html:this.Clh(a)}}Clh(a){var b=a.PQa;a=a.html;const c=eV.element("div"),d=c.appendChild(eV.element("span"));b=nrs(b);d.setAttribute("data-canva-clipboard",b);a.forEach(e=>c.appendChild(e));return c.toString()}async parse({text:a,html:b,PQa:c},d){if(c)return this.serializer.j_d(c);
b=b?b.replace(/\r\n|\r/g,"\n"):void 0;if(c=ors(this,{html:b},d))return c;a=a?a.replace(/\r\n|\r/g,"\n"):void 0;return(b=await this.serializer.b2h({html:b,text:a}))?b:this.ssf({text:a})}ssf({text:a}){if(a)return this.serializer.j_d(a)??this.serializer.ssf(a)}constructor(a,b){var c=prs;this.E9=a;this.Tee=c;this.serializer=b}},jTs=__webpack_require__(31968),uV=jTs.Fragment,fV=jTs.jsx,mV=jTs.jsxs;var kTs,lTs,oV,Sus,RKs,mTs,nV,IDs,zV,HDs,nTs,gss;kTs=__webpack_require__(186901);lTs=kTs.Es;oV=kTs.EW;Sus=kTs.fm;RKs=kTs.Gn;rV=__c.rV=kTs.h5;mTs=kTs.lB;nV=kTs.m3;gV=__c.gV=kTs.mJ;IDs=kTs.q$;zV=kTs.sH;HDs=kTs.tC;iV=__c.iV=kTs.XI;nTs=kTs.yy;gss=kTs.z7;var oTs=__webpack_require__(647370),pTs=oTs.iz,hV=oTs.PA;var HV=__webpack_require__(845212),IV=HV.Component,qTs=HV.createElement,pV=HV.createRef,rTs=HV.forwardRef,EMs=HV.Fragment,qIs=HV.lazy,GV=HV.memo,sTs=HV.PureComponent,sIs=HV.Suspense,jV=HV.useCallback,tTs=HV.useDeferredValue,kV=HV.useEffect,uTs=HV.useId,vTs=HV.useImperativeHandle,wTs=HV.useLayoutEffect,AV=HV.useMemo,lV=HV.useRef,qV=HV.useState;var xTs=__webpack_require__(532588).A;var yTs=__webpack_require__,zTs=yTs(208463),DV=yTs.n_x(zTs)();var JV=__webpack_require__(277049)._;var KV=__webpack_require__(269018)._;var ATs=__webpack_require__(536618),FV=ATs.Aj,LV=ATs.iB,XKs=ATs.Sx,KDs=ATs.tB,cHs=ATs.uP;var BTs=__webpack_require__(628181).Y;var CTs=__webpack_require__(13851);var DTs=__webpack_require__(640598).createPortal;var ETs=__webpack_require__(671142).A;var FTs=__webpack_require__(294462);var GTs=__webpack_require__(388909).t;var HTs=class{constructor(a){this.FLa=a}};var Brs=["color","typography","alt_text","links"],ITs={typography:{label:M("A9rBrQ"),icon:fV(__c.xug,{size:"medium",tone:"primary"}),DYa:"typography"},color:{label:M("/hr0NQ"),icon:fV(__c.Ukr,{size:"medium",tone:"primary"}),DYa:"color"},alt_text:{label:M("RsRlBQ"),icon:fV(__c.Ku,{size:"medium",tone:"primary"}),DYa:"alt_text"},links:{label:M("+jE5WA"),icon:fV(to,{size:"medium",tone:"primary"}),DYa:"links"}},oss=class{static G(a){O(a,{Dy:zV.deep,view:zV.ref,EXd:zV.ref,A9d:zV.ref,nWi:zV.ref,BNb:oV,osi:oV,
qW:oV,bVh:oV,qGc:oV,yme:oV,Ezi:oV,FNh:oV})}get CKj(){return Brs.filter(a=>!(a==="links"&&!this.y6c))}get rGc(){const a={};this.qgn>=100&&(a.color="page_limit");return a}get BNb(){return Brs.includes(this.view)?this.Dy.filter(a=>a.category===this.view):this.view==="issue"?this.qW?[this.qW]:[]:this.Dy}get osi(){return this.BNb.reduce((a,b)=>{var c;a[c=b.Yb]??(a[c]=[]);a[b.Yb].push(b);return a},[])}get qW(){return this.Dy.find(a=>a.selected)}get bVh(){return this.Dy.filter(a=>a.checked)}get qGc(){const a=
{};this.CKj.forEach(b=>{a[b]=0});this.Dy.forEach(b=>{a[b.category]++});return a}get yme(){switch(this.view){case "home":return M("DJFkPQ");case "alt_text":return M("RsRlBQ");case "color":return M("/hr0NQ");case "typography":return M("A9rBrQ");case "links":return M("+jE5WA");case "issue":return this.qW?.rule==="alt_text"?M("eNTSgg"):M("DJFkPQ");default:throw new u(this.view);}}get Ezi(){switch(this.view){case "alt_text":return M("7juaHg");case "typography":return M("aKY15g")}}get FNh(){switch(this.view){case "home":return M("BmFrqA");
case "alt_text":return M("8+4O5g");case "color":return M("ZERETA");case "typography":return M("YN9VAw");case "links":return M("GMn6WA");case "issue":return"";default:throw new u(this.view);}}constructor(a=!1){this.y6c=a;this.qgn=(oss.G(this),1);this.Dy=zV.array();this.view="home";this.EXd="loading";this.A9d=void 0}},rss=class extends oss{get rGc(){return{}}constructor(a=!1){super(a)}};var JTs=parseInt("200ms",10),KTs=hV(({icon:a,title:b,description:c,jzf:d,CXq:e,selected:f,checked:g,kj:h,rTb:k,O0b:l,u2r:n,xEi:p,locked:q})=>{const r=lV(null),t=lV(null),v=!(!p||!d||q),w=!!n&&v&&!h;kV(()=>{const x=setTimeout(()=>{f&&r.current&&r.current.scrollIntoView?.({block:"nearest",behavior:"smooth"})},300);return()=>clearTimeout(x)},[f]);return mV("div",{className:"SM3Rnw",ref:r,children:[fV(Ko,{onClick:l,OF:"primary",selected:f,MD:J("MnQJ8A",[b.toLowerCase()]),Rr:w&&fV(__c.TWg,{location:"top-start",
visibility:g?"always":"on-hover",label:g?J("dYbh9Q",[b.toLowerCase()]):J("eUkheA",[b.toLowerCase()]),selected:g,onSelect:n}),thumbnail:fV(__c.Vu,{children:fV(R,{padding:"2u",width:"full",height:"unset",children:mV(Tc,{spacing:"1u",children:[mV($q,{Fa:"center",align:"spaceBetween",spacing:"1u",children:[fV(Yq,{children:mV(br,{spacing:"1u",children:[a,fV(Q,{className:"P84zWw",weight:"bold",size:"medium",children:b})]})}),q?fV(Yq,{width:"content",children:fV(Nu,{text:M("KAcVpg"),tone:"neutralLow",icon:fV(Ux,
{size:"small"})})}):void 0]}),fV(k,{}),(f||v)&&mV(Tc,{spacing:"2u",children:[f&&(typeof c==="string"?fV(Q,{className:"B7DQ5Q",size:"medium",children:c}):fV("div",{className:"B7DQ5Q",children:c})),v&&fV(Wi,{className:"nCQDgg",disabled:e,variant:f?"primary":"secondary",stretch:!0,onClick:()=>{p()},children:d})]})]})})}),layout:"vertical",dpb:"thumbnail"}),fV(xTs,{in:h,mountOnEnter:!0,timeout:JTs,nodeRef:t,classNames:{enter:"xkwLeQ",enterActive:"zo9sdQ"},children:fV("div",{className:"eBJmtA",ref:t,children:fV(Tx,
{className:"_2Rxe4Q",size:"medium"})})})]})});var LTs=hV(({description:a,yXk:b,Tmq:c,s1p:d,rTb:e,O0b:f,locked:g,xEi:h,...k})=>{const l=!(!h||g);return fV(KTs,{description:fV(()=>mV(Tc,{spacing:"2u",children:[fV(Q,{size:"medium",children:a}),mV($q,{Fa:"start",spacing:"1u",align:"start",children:[fV(Yq,{width:"content",children:mV(R,{className:"rmlZHQ",display:"flex",padding:"0",alignItems:"center",justifyContent:"center",children:[fV(__c.wGh,{size:"medium"}),fV("div",{className:"ZFGjHg","aria-hidden":!0,children:fV(__c.zA,{fill:c,stretch:!0,aspectRatio:4.5})})]})}),
mV(Yq,{children:[fV(Q,{size:"medium",weight:"bold",children:M("7G74Yw")}),fV(Q,{size:"small",tone:"tertiary",children:c.length>1?M("5ctgQg"):c[0]})]})]}),d.length>0&&l?mV(uV,{children:[fV(Q,{size:"medium",tone:"tertiary",children:M("VtIjMg")}),fV("div",{className:"gYMxhQ",children:fV(br,{spacing:"1u",children:d.map((n,p)=>fV(__c.zA,{fill:[n],size:"small",onClick:()=>h(n)},p))})})]}):l&&fV(Ck,{tone:"info",size:"small",children:b})]}),{}),rTb:e,O0b:f,locked:g,...k})});var Mrs=hV(function({FNh:a,osi:b,qW:c,iFl:d,rTb:e,l6k:f,Y2k:g,p2k:h,dhs:k,u9g:l,Z0d:n}){return b.flat().length===0?fV(R,{height:"full",width:"full",display:"flex",Lb:"2u",alignItems:"center",children:mV(Tc,{spacing:"1u",align:"center",children:[fV(dr,{tagName:"h3",size:"medium",alignment:"center",children:M("lBTWrQ")}),mV(Tc,{spacing:"2u",align:"center",children:[fV(Q,{size:"medium",alignment:"center",children:a}),fV(Wi,{variant:"primary",onClick:k,children:M("L6tUpw")})]})]})}):fV(Tc,{spacing:"2u",
children:b.map((p,q)=>p.length>0&&mV(Tc,{spacing:"1u",children:[fV(dr,{tagName:"h3",size:"xxsmall",children:J("7l3o/A",[q+1])}),p.map((r,t)=>mV("div",{children:[d&&fV(Xi,{shape:"rectangle"}),fV("div",{className:DV({qyPrNw:d}),children:fV(MTs,{FF:r,selected:r===c,iFl:d,rTb:e,l6k:f,Y2k:g,p2k:h,u9g:l,Z0d:n})})]},`${r.id}:${t}`))]},q))})}),MTs=hV(({FF:a,selected:b,iFl:c,rTb:d,l6k:e,Y2k:f,p2k:g,u9g:h,Z0d:k})=>{var l=a.category;const n=a.messages,p=a.state,q=a.rDf;b={icon:n.icon??ITs[l].icon,title:n.title,
description:n.description,jzf:n.jzf,CXq:p!=="ready"||c,selected:b,checked:a.checked,u2r:k&&q?()=>f(a):void 0,kj:p==="resolved",O0b:()=>e(a),locked:a.locked};c=()=>fV(d,{o8:a.o8});if(a.rule==="insufficient_text_contrast"){const r=a.$Qd;k=a.czd;l=r?t=>{r(t);g(a)}:void 0;return fV(LTs,{...b,yXk:a.messages.yXk,Tmq:a.zud,s1p:k(),rTb:c,xEi:l})}return a.rule==="alt_text"?fV(KTs,{...b,rTb:c,xEi:()=>h?.(a)}):fV(KTs,{...b,rTb:c,xEi:a.Tan?()=>g(a):void 0})});var urs=({page:a,element:b,Wl:c,Df:d,vd:e})=>fV(R,{padding:"1u",borderRadius:"baseUnit",background:"canvas",display:"flex",justifyContent:"center",children:fV(R,{className:"MNaxkA",children:fV(c,{page:a,element:b,Df:d,vd:e})})});var xrs=({item:a,context:b,Df:c,vd:d,Hod:e})=>fV(R,{padding:"1u",borderRadius:"baseUnit",background:"canvas",display:"flex",justifyContent:"center",children:fV(R,{className:"MNaxkA",children:fV(e,{item:a,context:b,vd:d,Df:c,kms:"1u"})})});var wrs=({page:a,iY:b,Df:c,vd:d})=>fV(R,{padding:"1u",borderRadius:"baseUnit",background:"canvas",display:"flex",justifyContent:"center",children:fV(R,{className:"MNaxkA",children:fV(b,{page:a,fit:"contain",Df:c,vd:d})})});var NTs=({type:a})=>"page element grid_element shape_element table_element item".split(" ").includes(a),vrs={Df:parseInt("48px",10),vd:parseInt("264px",10)};var Rrs=({Ezi:a,ZSi:b,tft:c,layout:d})=>{const e=mV(R,{className:"_3fBluA",background:"surface",padding:"2u",display:"flex",width:"full",flexDirection:"row",borderRadius:d===1?"container":void 0,justifyContent:"spaceBetween",alignItems:"center",children:[fV(Q,{children:J("TOnKVA",[c])}),fV(Wi,{variant:"primary",onClick:()=>{b()},children:a})]}),f=fV(R,{className:"ImFKRg",padding:"2u",display:"flex",children:e});return a&&c>0?d===1?f:e:null};var OTs={page_limit:{title:J("WNW1KQ",[100]),description:M("YvwwWA")}},PTs=hV(function({icon:a,kUh:b,c3p:c,DYa:d,m_b:e,lcb:f}){const g=jV(()=>f(d),[d,f]),h=e>0,k=c!==void 0;return fV(__c.Pt,{className:"DqxJtA",display:"block",width:"full",padding:"2u",border:"standard",borderRadius:"element",color:{disabled:"var(--3YOFOw)"},backgroundColor:{disabled:"var(--oqurdw)"},disabled:!h||k,onClick:g,children:fV(R,{width:"full",Pc:"0.5u",children:mV($q,{Fa:"center",align:"spaceBetween",spacing:"1u",children:[fV(Yq,
{children:mV($q,{Fa:"start",spacing:"1u",children:[fV(Yq,{width:"content",children:a}),mV(Yq,{children:[fV(Q,{size:"medium",tone:cr,children:b}),k&&mV(uV,{children:[fV(jd,{direction:"vertical",size:"1u"}),fV(Ck,{tone:"info",title:OTs[c].title,children:OTs[c].description})]})]})]})}),fV(Yq,{width:"content",children:mV($q,{Fa:"center",spacing:"1u",children:[fV(Yq,{width:"content",children:!k&&fV(Nu,{text:h?J("fEtOCg",[e]):void 0,tone:h?"contrast":"positive",icon:h?void 0:fV(__c.sr,{size:"tiny"})})}),
h&&!k&&fV(Yq,{width:"content",children:fV(mr,{size:"medium"})})]})})]})})})}),QTs=({qGc:a,rGc:b,lcb:c})=>fV(R,{className:"Nx5i0Q",children:fV(Tc,{spacing:"1u",children:Object.values(ITs).filter(({DYa:d})=>a.hasOwnProperty(d)).map(({label:d,icon:e,DYa:f},g)=>fV(PTs,{icon:e,kUh:d,DYa:f,c3p:b[f],m_b:a[f],lcb:c},g))})});var RTs=Object.values(ITs).length,Srs=hV(({title:a,wlb:b,$o:c,FX:d})=>fV(__c.id,{title:fV(dr,{className:"g6xQ3A",size:"xsmall",tagName:"h2",ariaLabel:a,children:a}),padding:"1.5u",start:b?fV(__c.pr,{className:"TTJO9w",onClick:c}):fV(Tzj,{size:"medium",tone:"primary"}),end:fV(__c.hd,{onClick:d})})),Trs=hV(({xa:a,view:b,qGc:c,rGc:d,lcb:e,CGh:f,unj:g,qW:h,$Vh:k,KZc:l,rTb:n,rC:p,Z0d:q,y8h:r})=>{const t=jV(()=>{switch(b){case "home":return fV(Nrs,{xa:a,qGc:c,rGc:d,lcb:e,R1l:fV(Ors,{y8h:r})});case "issue":return h?
fV(Qrs,{FF:h,KZc:l,rTb:n,$Vh:k,rC:p,Z0d:q}):null;default:return mV(uV,{children:[fV(R,{className:"dEAxJA",children:fV(Prs,{CGh:f})}),fV(g,{})]})}},[a,b,c,d,e,f,g,h,l,n,k,p,q,r]);return fV(Vn,{children:t()})}),Nrs=hV(({xa:a,qGc:b,rGc:c,lcb:d,R1l:e})=>fV(R,{padding:"2u",children:a?fV(Tc,{spacing:"1u",children:Array.from({length:RTs}).map((f,g)=>fV("div",{className:"_8cGwhw",children:fV(Xi,{shape:"rectangle",index:g})},g))}):mV(uV,{children:[e,fV(QTs,{qGc:b,rGc:c,lcb:d})]})})),Prs=({CGh:a})=>fV(R,{className:"nx_GSQ",
padding:"2u",height:"full",children:fV(a,{})}),Qrs=hV(({FF:{rule:a,locked:b,o8:c},KZc:d,rTb:e,$Vh:f,rC:g,Z0d:h})=>{const k=AV(()=>h&&NTs(c),[c,h]);return a==="alt_text"?(b&&f("alt_text"),mV(Tc,{spacing:"0",children:[k&&fV(R,{paddingTop:"2u",Lb:"2u",children:fV(e,{o8:c})}),fV(d,{We:"fill",Wh:()=>{f("alt_text")},oa:()=>{f("alt_text")},mb:"accessibility_checker",rC:g})]})):null});var STs={eventType:"editor_a11y_checker_opened",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),impression_id:a.rC,issue_counts:a.dJk?.map(b=>zrs(b)),control_context:a.mb})}},TTs={eventType:"editor_a11y_checker_closed",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),impression_id:a.rC,interaction_trigger:a.Iib,issue_counts:a.dJk?.map(b=>zrs(b))})}},UTs={eventType:"editor_a11y_checker_navigated",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),impression_id:a.rC,
view_type:a.XT,view_name:a.$9f,interaction_trigger:a.Iib,initial_issue_selected:a.jFf==null?void 0:Ars(a.jFf)})}},Grs={eventType:"editor_a11y_checker_issue_interacted",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),impression_id:a.rC,issue_info:a.VIf==null?void 0:Ars(a.VIf),interaction_type:a.hw,interaction_trigger:a.Iib})}},Irs={eventType:"editor_a11y_checker_multiple_issues_interacted",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),impression_id:a.rC,issues_info:a.Yqn?.map(b=>
Ars(b)),interaction_type:a.hw,interaction_trigger:a.Iib,bulk_edit_impression_id:a.lnm})}};var Lrs=class{static G(a){O(a,{oG:iV.bound,hE:iV.bound,views:oV,N3d:oV,$og:oV})}oG(){this.store.rC=Qb();this.store.layout===2&&this.navigation.$g({hf:this.views.$Sd,options:this.kAi});this.store.layout===1&&(this.skeleton.Ux=this.views.gmj);this.store.isAlive=!0}u9g(){this.store.layout===2&&this.navigation.$g({hf:this.views.BGh,options:this.kAi})}hE(){this.store.isAlive=!1;const a=this.views.$Sd,b=this.views.Category,c=this.views.BGh,d=this.views.gmj;this.navigation.screen&&[a,b,c].includes(this.navigation.screen.hf)&&
this.navigation.clear();this.skeleton.Ux===d&&(this.skeleton.Ux=void 0)}get views(){return m(this.store.views)}get N3d(){return m(this.store.N3d)}get $og(){return this.store.isAlive}Yrc(){const a=this.XRe.qGc;return[{IQ:"all",m_b:this.XRe.Dy.length},{IQ:"alt_text",m_b:a.alt_text},{IQ:"color_contrast",m_b:a.color,$1s:this.XRe.rGc.color?"page_count_over_100":void 0},{IQ:"typography",m_b:a.typography}]}pYc(a){const b={rC:this.store.rC,mb:a};this.Jwq=gss(()=>this.XRe.EXd!=="loading"&&!this.store.xa,()=>
{setTimeout(()=>{b.dJk=this.Yrc();this.P.track(STs,b)},3E3)})}Ibf(a){a={rC:this.store.rC,Iib:a,dJk:this.Yrc()};this.P.track(TTs,a);this.store.rC=void 0}nne(a){this.P.track(UTs,{rC:this.store.rC,...a})}constructor(a,b,c,d,e,f,g,h){this.store=a;this.XRe=b;this.navigation=c;this.skeleton=d;this.apg=e;this.ICe=f;this.P=h;this.ZIm=(Lrs.G(this),void 0);this.b_n=-1;this.met=()=>{this.$og?this.rsh():this.KHl()};this.rsh=()=>{this.$og&&(this.ICe.R9e(),Vrs(this.apg),this.hE(),this.ZIm?.(),this.Twq?.(),this.Mwq?.(),
this.Jwq?.(),rV(()=>this.store.xa=!0),clearTimeout(this.b_n))};this.KHl=()=>{this.apg.USk(this.ICe);this.ICe.Krh();this.oG();Ers(this);Drs(this);Frs(this);this.b_n=setTimeout(()=>{Wrs(this.apg);rV(()=>this.store.xa=!1)},2E3)};this.kAi={Hzc:!1,bcl:"collapsed",sg:g}}};var Krs=class{static G(a){O(a,{isAlive:zV.ref,xa:zV.ref,Yam:zV.ref,fam:zV.ref,views:oV,Muo:iV.bound,N3d:oV,Ioo:iV.bound,layout:oV})}get views(){return m(this.Yam)}Muo(a,b,c,d){this.Yam={gmj:a,$Sd:b,Category:c,BGh:d}}get N3d(){return m(this.fam)}Ioo(a){this.fam={unj:a}}get layout(){return this.la.layout}constructor(a){this.la=a;this.isAlive=(Krs.G(this),!1);this.xa=!0;this.rC=void 0}};var Ors=hV(({y8h:a})=>a.get()?fV(R,{paddingBottom:"2u",children:fV(Ck,{tone:"warn",title:M("i46F7A"),children:M("2lJl1Q")})}):null);var VTs=Symbol("a11y_witch"),qss=class{static G(a){O(a,{blb:iV.bound,DVi:iV.bound,r8f:iV.bound,Amo:iV.bound,hMd:iV.bound,jco:iV.bound,ZSi:iV.bound,spg:iV.bound,xtm:iV.bound})}USk(a){this.Icf||Xrs(this,a)}blb(a,b=!1){const c=this.store.qW;c!==a&&(c&&(c.selected=!1),a&&(a.selected=!0,$rs(this,a,b)))}DVi(a){var b=this.store.Dy;const c=this.store.view,d=this.store.qW;if(d?.o8.target!==a||d?.category!==c)b=a?b.find(e=>e.target===a&&(e.category===c||!Brs.includes(c))):void 0,d&&(d.selected=!1),b?(b.selected=
!0,this.store.A9d||(this.store.A9d="selected_on_canvas"),this.store.view!==b.category?(this.hMd(b.category),this.onNavigate&&this.onNavigate()):this.WEi&&this.WEi(),this.store.A9d=void 0):this.store.view==="issue"&&(this.hMd("home"),this.onNavigate&&this.onNavigate())}t9m(a,b){this.X1d||(a.state="resolved",b.push(a),ass(this,a))}r8f(a,b){const c=[];let d=0,e=!1;this.store.Dy.forEach(f=>{var g=a.findIndex(h=>h.equals(f));g<0?(this.t9m(f,c),e=!0):g<d?(g=c.findIndex(h=>h.equals(f)),f.update(c[g]),c.splice(g,
1,f)):(g>d&&(c.push(...a.slice(d,g)),d=g),d++,f.update(a[g]),c.push(f))});d<a.length&&c.push(...a.slice(d));this.store.Dy.replace(c);this.Amo(b,e)}Amo(a,b){a?b?(this.store.EXd="resolving",setTimeout(()=>{this.store.EXd==="resolving"&&rV(()=>{this.store.EXd="ready"})},this.store.view==="home"?0:1E3)):this.store.EXd="ready":this.store.EXd="loading"}hMd(a){if(a!=="issue"||this.store.qW)this.store.view=a,bss(this)}jco(a,b){this.blb(a);a.resolve();this.ma.Ib({Db:J("YwO4QQ",[a.messages.title]),media:{content:fV(Tx,
{size:"medium"})},group:VTs,Jq:{buttonText:M("sdrEcg"),onClick:iV(()=>{b(a);this.ea.undo.undo()})}})}ZSi(a,b){const c=this.store.bVh,d=new Map,e=this.ea.undo.startBuffering();try{c.forEach(f=>{if(!f.locked&&f.resolve){const g=this.store.BNb.findIndex(h=>h===f);d.set(g,f);f.resolve()}})}finally{e.stop()}d.size&&(a(Array.from(d.values())),this.ma.Ib({Db:J("GdVpIQ",[d.size]),media:{content:fV(Tx,{size:"medium"})},group:VTs,Jq:{buttonText:M("sdrEcg"),onClick:iV(()=>{b(d);this.ea.undo.undo()})}}))}spg(){this.store.view=
"home";this.blb(void 0);bss(this)}xtm(){this.store.view=this.store.qW?.category??"home";this.blb(void 0);bss(this)}async zSk(a,b){return a.type==="item"||a.type==="table_item"||a.type==="computed_range"||a.type==="body"||a.type==="responsive_page"?ess(this,a,b):fss(this,a,b)}Pma(a){var b=a.type;const c=a.context,d=a.item,e=a.inner;a=a.iE;switch(b){case "body":case "responsive_page":break;case "computed_range":return this.pd.XCa(c.text,a.range);case "item":return this.pd.DF(d);case "table_item":if(!e)return this.pd.DF(d);
if(e.item)return this.pd.vUa(e.item);b=this.pd.DF(d);if(b==null)break;return this.pd.psc(d,e.tb)?.transform(Tj(b));default:throw new u(b);}}ZHl(){this.aOe=this.lLa.NEd({OAd:(a,b)=>hss(this,b),rEf:(a,b,c)=>hss(this,c),$Ne:a=>hss(this,a.ia),SRc:iV((a,b)=>{switch(b.type){case "grid":case "shape":case "table":css(this,b)||(a=this.store.BNb.find(({o8:c})=>c.element===b))&&$rs(this,a);break;case "rect":case "line":case "chart":case "embed":case "sheet":case "text":case "group":case "controlled":case "layout":break;
default:throw new u(b);}this.store.A9d="dot_clicked"}),T9c:(a,b)=>{const c=this.store.qW;return this.store.BNb.find(d=>d.o8.item===b)?{mpd:c?.o8.item===b,type:"warning",container:a}:void 0},Nce:iV((a,b)=>{b.type!=="table"||css(this,b)||(a=this.store.BNb.find(({o8:c})=>c.item===b))&&$rs(this,a);this.store.A9d="dot_clicked"}),U9c:()=>{},xde:()=>{},rsc:()=>this.rsc(),zde:()=>{}})}rsc(){const a=this.store.qW;var b=this.store.BNb;const c=[];for(const d of b){b=d.o8;const e=d.target;b.type!=="computed_range"||
this.viewport.ya&&b.page?.ia!==this.viewport.ya||c.push({range:b.iE.range,LNc:{mpd:a?.target===e,type:"warning",container:b.context}})}return c}DDo(){iss(this);jss(this)}zEo(){this.Ogk?.();this.Ogk=void 0;this.bih?.();this.bih=void 0}constructor(a,b,c,d,e,f,g,h,k,l,n,p){this.store=a;this.lLa=b;this.ea=c;this.selection=d;this.viewport=e;this.ma=f;this.Za=g;this.pd=h;this.errorService=k;this.X1d=l;this.onNavigate=n;this.WEi=p;this.aOe=(qss.G(this),void 0)}},tss=class extends qss{t9m(){}DDo(){jss(this)}zEo(){this.bih?.();
this.bih=void 0}};var WTs=class{static G(a){O(a,{state:zV.ref,Fnb:zV.ref,selected:zV.ref,checked:zV.ref,locked:zV.ref,Yb:oV,Tan:oV})}get o8(){return this.Q$l}get target(){return this.Kxa}get Yb(){return this.Fnb}lu(){switch(this.o8.type){case "fixed_page":case "element":case "grid_element":case "shape_element":case "table_element":return!(!this.o8?.page?.ia?.locked&&!this.o8?.element?.locked);case "body":case "responsive_page":case "item":case "table_item":case "computed_range":return!1;default:throw new u(this.o8);
}}get Tan(){return this._resolve!==void 0}resolve(){if(this.state!=="resolved"){this.state="fixing";try{this._resolve?.(),this.checked=!1}catch(a){this.state="ready"}}}equals(a){var b=this.target===a.target;if(this.o8.type==="computed_range"&&a.o8.type==="computed_range"){b=this.o8.context;const c=this.o8.iE;({equals:b}=m(this.Za).$oa(b.text,c?.range,a.o8.iE.range));b=b&&this.Yb===a.Yb}return this.state!=="resolved"&&a.state!=="resolved"&&b&&this.rule===a.rule}update(a){this.state="ready";this.Fnb=
a.Fnb;this._resolve=a._resolve;if(this.locked=a.locked)this.checked=!1;this.o8.type==="computed_range"&&(this.Q$l=a.o8,this.Kxa=a.target)}constructor({uT:a,gH:b,Yb:c,o8:d,Za:e}){this.Za=(WTs.G(this),void 0);this.rDf=!1;this.state="ready";this.locked=this.checked=this.selected=this.E6n=!1;const f=b.id;b=b.xR;this.id=a;this.O_j=f;this.Fnb=c;this._resolve=b;this.Q$l=d;this.Kxa=d.target;this.locked=this.lu();this.Za=e}};var XTs=class extends WTs{constructor(a){super(a);this.category=this.rule="alt_text";this.messages={title:M("p3y+ug"),description:M("5JvrxA"),jzf:M("f4PKHg")};this.rDf=!0;this._resolve=()=>a.gH.eAj.HXi(!0)}};var YTs=class extends WTs{constructor(...a){super(...a);this.rule="template_font_size_readable";this.category="typography";this.messages={title:M("+UXqTw"),description:M("lRq0hg"),jzf:M("f7d/qQ")};this.rDf=!0}};var ZTs=class extends WTs{constructor(...a){super(...a);this.rule="insufficient_link_visibility";this.category="links";this.messages={title:M("GQC92Q"),description:M("udZgEQ"),jzf:M("k3YJlQ")};this.rDf=!1}};var $Ts=class extends WTs{get czd(){return this.iam}get $Qd(){return this.Wam}get zud(){return this.V$l}update(a){super.update(a);this.o8.type==="computed_range"&&a.rule==="insufficient_text_contrast"&&(this.iam=a.czd,this.Wam=a.$Qd,this.V$l=a.zud)}constructor(a){super(a);this.rule="insufficient_text_contrast";this.category="color";this.rDf=!1;const b=a.gH.czd,c=a.gH.$Qd,d=a.gH.zud;this.messages={title:M("Dc660A"),description:M("ULNaRw"),yXk:a.IP?M("wNS5yQ"):M("BB0E1Q")};this.iam=()=>b().slice(0,
3);this.Wam=c;this.V$l=d}};var aUs=class extends WTs{equals(a){return super.equals(a)&&a.rule==="no_justified_or_center_aligned_text_block"&&this.variant===a.variant}constructor(a){super(a);this.rule="no_justified_or_center_aligned_text_block";this.category="typography";this.rDf=!1;var b=a.gH;a=b.variant;b=b.direction==="ltr"?M("veOtUA"):M("8ZGe+g");const c=a==="center"?M("VRXCAg"):M("CuImzg"),d=a==="center"?M("BXqtxg"):M("z+DlIA");this.variant=a;this.messages={title:c,description:d,jzf:b,icon:fV(__c.Ntg,{size:"medium",tone:"primary"})}}};var bUs=["insufficient_text_contrast","alt_text","template_font_size_readable","insufficient_link_visibility","no_justified_or_center_aligned_text_block"];var pss=class{static G(a){O(a,{Rca:zV.ref,AEk:zV.ref,Dy:oV.struct})}get rules(){sa(this.document.Ka==="fixed");const a=[];this.document.pages.count()<100&&a.push({rule:"insufficient_text_contrast"});a.push({rule:"template_font_size_readable",config:{lJ:12}});a.push({rule:"alt_text"});this.y6c&&a.push({rule:"insufficient_link_visibility"});this.tAg&&a.push({rule:"no_justified_or_center_aligned_text_block"});return a}async Krh(){if(!this.Rca){const a=await __c.iZe(this.Sca);rV(()=>{this.Rca=a})}this.Rca?.wRb(this.rules);
this.AEk=!0}R9e(){this.Rca?.Mic()}get Dy(){return this.Rca?.DL?this.RZg(this.Rca.DL):[]}RZg(a){return a.flatMap((b,c)=>b.filter(d=>d.rule==="no_justified_or_center_aligned_text_block"&&d.variant==="center"||!this.X1d&&(d.nf.type==="responsive_page"||(d.nf.type==="computed_range"||d.nf.type==="item"||d.nf.type==="table_cell")&&d.nf.context.type==="responsive-page")?!1:bUs.includes(d.rule)).map(d=>{const e=d.rule,f=mss(d.nf),g=(this.fJk++).toString(),h=f.type==="computed_range"?this.Za:void 0;switch(e){case "alt_text":return new XTs({uT:g,
gH:d,o8:f,Yb:c,Za:h});case "template_font_size_readable":return new YTs({uT:g,gH:d,o8:f,Yb:c,Za:h});case "insufficient_link_visibility":return new ZTs({uT:g,gH:d,o8:f,Yb:c,Za:h});case "insufficient_text_contrast":return new $Ts({uT:g,gH:d,o8:f,Yb:c,IP:this.Bc.IP,Za:h});case "no_justified_or_center_aligned_text_block":return new aUs({uT:g,gH:d,o8:f,Yb:c,Za:h});default:throw new u(e);}}))}constructor(a,b,c,d,e,f,g){this.Sca=b;this.y6c=c;this.tAg=d;this.X1d=e;this.document=f;this.Za=g;this.fJk=(pss.G(this),
0);this.AEk=!1;this.Bc=a("none").Bc}},sss=class extends pss{get rules(){const a=[];a.push({rule:"template_font_size_readable",config:{lJ:12}});a.push({rule:"insufficient_text_contrast"});a.push({rule:"alt_text"});this.y6c&&a.push({rule:"insufficient_link_visibility"});return a}};var nss={get X1d(){return Pb("1aee4160",!1)}};var Ess=GV(a=>{const b=a.tF,c=a.onClick,d=a.oa,e=a.RPf;a=a.isOpen;const f=jV(()=>{c?.();d?.();e()},[c,d,e]);return fV(b,{onClick:f,CB:a,children:M("WpXa3A")})});var cUs={eventType:"editor_a11y_markup_panel_opened",Oa(a){return jf({impression_id:a.rC,editing_context:a.Ca==null?void 0:mf(a.Ca),control_context:a.mb})}},vss={eventType:"editor_a11y_markup_semantics_applied",Oa(a){return jf({impression_id:a.rC,editing_context:a.Ca==null?void 0:mf(a.Ca),target_type:a.xk,semantic_type:a.MQs})}};var Dss=class{static G(a){O(a,{RPf:iV.bound,uQn:iV.bound,U1k:iV.bound,OPf:iV.bound,Zce:iV.bound,Cub:iV.bound})}RPf(){if(this.store.isOpen)return this.eo.close(this.cGl);this.la.layout;2;this.la.layout===1&&(this.eo.open(this.cGl),this.pYc("file_menu"))}uQn(){this.eo.close(this.cGl)}U1k(a,b,c=!1){const d=this.store.dh;d&&(this.R9.G9a(J("KvYOMw",[b,c])),this.selection.Jl(d,a.ia))}OPf(a,b){wss(this,"element",b);this.Haf.TXi(a.ia,a.container,b)}Zce(a,b){wss(this,"paragraph",b);this.Haf.Rnh(a.text,a.range,
b)}Cub(a){this.store.isOpen=a}pYc(a){this.store.rC=Qb();this.P.track(cUs,{rC:this.store.rC,mb:a})}constructor(a,b,c,d,e,f,g,h){this.store=a;this.selection=b;this.R9=c;this.la=d;this.eo=e;this.cGl=f;this.Haf=g;this.P=h;Dss.G(this)}};var dUs=class extends __c.ds{YJ(a){a.J9(this.Kd,b=>{const c=b.Ya;var d=0,e=0;for(let f=0;f<c.length;f++)e++,c[f]==="\n"&&(e>1&&(d={index:d,length:e},e=b.Czd(d,"semantics","list-level","list-marker"),this.Ffc.push({text:a,Ya:c.slice(d.index,d.index+d.length),range:d,attributes:{semantics:e.semantics.values().next().value,"list-level":e["list-level"].values().next().value,"list-marker":e["list-marker"].values().next().value}})),d=f+1,e=0)})}L5b(a){__c.T_a(a).forEach(b=>b.forEach(c=>{(c=c&&a.cells.get(c.BG))&&
this.okc(c)}))}nNa(a,b){if(Wj(a)){const c=b==null?b:b.Me(a);a.paths.forEach(d=>this.K5b(d,c));this.YJ(m(a.ed.first()).text)}else super.nNa(a,b)}U7(a){this.gRa.push(a)}Emd(){}o$f(){}tCh(){}tef(){}j6(){}constructor(a){super();this.Kd=a;this.Ffc=[];this.gRa=[]}};var Css=class{static G(a){O(a,{rC:zV.ref,dh:oV,page:oV,Nad:oV,o9d:oV,Kad:oV,T5h:oV,Lm:oV,isOpen:zV.ref})}get dh(){var a=this.viewport.ya;if(a.type==="fixed")return a=this.viewport.Vg.container.xb(a),a.type==="fixed-page"?a:void 0}get page(){return this.dh?.ia}get Nad(){return!!this.dh&&__c.rf(this.dh)}get o9d(){return!!this.dh&&!this.Nad}get Kad(){const a=this.viewport;return a.uh&&!a.nO}get T5h(){const a=this.dh,b=this.page;if(b?.type!=="fixed"||!a)return[];const c=[];b.elements.toArray().forEach(d=>
{const e=new dUs(this.Kd);e.At(d,a);const f=a.Me(d);e.Ffc.length&&c.push({element:f,lu:b.locked||d.locked,Ffc:e.Ffc,altText:this.zZ.Q5h.ALe(f.ia,a,b)})});return c}get Lm(){return this.selection.Ma?.type==="elements"?[...this.selection.Ma.elements]:[]}constructor(a,b,c,d){this.viewport=a;this.zZ=b;this.selection=c;this.Kd=d;this.rC=(Css.G(this),void 0);this.isOpen=!1}};var eUs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M11.16 10.326V4.75h2.236v14.277H11.16V12.24H4.246v6.787H2V4.75h2.246v5.576h6.914Zm7.842 8.889c-1.91 0-3.17-1.026-3.287-2.537l-.006-.076h1.693l.006.064c.076.656.68 1.125 1.594 1.125.902 0 1.494-.504 1.494-1.219v-.011c0-.809-.603-1.254-1.629-1.254H17.9v-1.26h.944c.89 0 1.465-.469 1.465-1.154v-.012c0-.703-.487-1.137-1.319-1.137s-1.388.451-1.459 1.154l-.006.053h-1.628l.005-.07c.123-1.512 1.313-2.496 3.088-2.496 1.817 0 2.989.914 2.989 2.261v.012c0 1.055-.774 1.74-1.764 1.946v.035c1.26.117 2.08.843 2.08 1.992v.012c0 1.535-1.318 2.572-3.293 2.572Z"/></svg>';var fUs=Uq({medium:eUs});var gUs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M11.16 10.326V4.75h2.236v14.277H11.16V12.24H4.246v6.787H2V4.75h2.246v5.576h6.914Zm8.604 8.701v-1.552H15.62v-1.39a103.982 103.982 0 0 1 3.346-5.513h2.484v5.485h1.102v1.418H21.45v1.552h-1.687Zm-2.55-2.924H19.8v-4.189h-.094a73.06 73.06 0 0 0-2.49 4.096v.093Z"/></svg>';var hUs=Uq({medium:gUs});var iUs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M11.16 10.326V4.75h2.236v14.277H11.16V12.24H4.246v6.787H2V4.75h2.246v5.576h6.914Zm7.889 8.918c-1.81 0-3.006-1.078-3.106-2.49l-.005-.082h1.605l.012.04c.123.622.703 1.12 1.5 1.12.908 0 1.54-.639 1.54-1.547v-.012c0-.902-.638-1.529-1.534-1.529-.428 0-.791.123-1.073.363a1.512 1.512 0 0 0-.392.47h-1.518l.393-5.005h5.285v1.407h-3.908l-.211 2.408h.105c.34-.569.996-.92 1.805-.92 1.576 0 2.713 1.16 2.713 2.771v.012c0 1.781-1.313 2.994-3.211 2.994Z"/></svg>';var jUs=Uq({medium:iUs});var kUs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M11.16 10.326V4.75h2.236v14.277H11.16V12.24H4.246v6.787H2V4.75h2.246v5.576h6.914Zm8.053 8.918c-1.963 0-3.492-1.389-3.492-4.365v-.012c0-2.83 1.336-4.512 3.498-4.512 1.634 0 2.853.967 3.111 2.291l.012.06h-1.729l-.023-.054c-.2-.527-.68-.884-1.365-.884-1.225 0-1.758 1.2-1.823 2.736-.006.064-.006.129-.006.193h.118c.304-.656 1.013-1.236 2.18-1.236 1.646 0 2.76 1.172 2.76 2.771v.012c0 1.729-1.337 3-3.241 3Zm-1.553-2.976c0 .89.68 1.576 1.541 1.576.856 0 1.541-.674 1.541-1.541v-.012c0-.885-.644-1.53-1.53-1.53-.872 0-1.552.628-1.552 1.5v.007Z"/></svg>';var lUs=Uq({medium:kUs});var mUs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.331 6.851a6.036 6.036 0 0 0-1.364.563c-.398.27-.736.605-1.006.981a1.34 1.34 0 0 0-.286.853c0 .742.562 1.305 1.302 1.358 2.25.16 4.024 1.975 4.024 4.191 0 2.321-1.946 4.203-4.347 4.203-2.312 0-3.821-1.678-4.406-3.928-.96-3.696 1.001-7.541 3.792-9.264.74-.456 1.218-.585 1.822-.761.604-.176.98.162 1.11.66a.937.937 0 0 1-.64 1.144ZM8.33 6.851a6.036 6.036 0 0 0-1.365.563c-.398.27-.736.605-1.006.981a1.34 1.34 0 0 0-.286.853c0 .742.562 1.305 1.302 1.358 2.25.16 4.024 1.975 4.024 4.191 0 2.321-1.946 4.203-4.347 4.203-2.312 0-3.821-1.678-4.406-3.928-.96-3.696 1.001-7.541 3.792-9.264.74-.456 1.218-.585 1.822-.761.604-.176.98.162 1.11.66a.937.937 0 0 1-.64 1.144Z" fill="currentColor"/></svg>';var Aus=Uq({medium:mUs});var nUs={p:{Icon:__c.Ktg,label:M("ngh+zA")},h1:{Icon:__c.fpf,label:M("Zlbecw")},h2:{Icon:__c.hpf,label:M("2hxuYg")},h3:{Icon:fUs,label:M("q9XNpA")},h4:{Icon:hUs,label:M("e/pNFw")},h5:{Icon:jUs,label:M("Ak3EXw")},h6:{Icon:lUs,label:M("DlxQWg")},blockquote:{Icon:Aus,label:M("e+rlNA")}};var oUs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="m12.74 8.22-2.507-4.318a1.202 1.202 0 0 0-2.079 0l-5.85 10.075a1.202 1.202 0 0 0 1.039 1.805H9.96l-.69 3.484c-.198.996.859 1.769 1.749 1.279l3.334-1.836 3.334 1.836c.89.49 1.946-.283 1.749-1.28l-.73-3.686 2.768-2.546c.751-.69.346-1.945-.667-2.066l-3.764-.452-1.608-3.427c-.43-.916-1.734-.916-2.164 0l-.53 1.131ZM9.194 5.1 3.86 14.281h4.73l-1.358-1.249c-.751-.69-.347-1.945.667-2.066l3.764-.452.302-.644L9.194 5.1Zm5.159 3.213 1.686 3.593 3.932.471-2.9 2.668.767 3.87-3.485-1.918-3.485 1.919.767-3.87-2.9-2.669 3.932-.471 1.686-3.593Z" fill="currentColor"/></svg>';var PJs=Uq({medium:oUs});var qUs=({SEe:a,lNb:b})=>{if(!b&&a.Ffc[0])return fV(pUs,{Mee:a.Ffc[0]});switch(a.element.type){case "table-element":a=__c.e8g;break;case "text-element":a=__c.Sz;break;case "group-element":a=__c.JIn;break;case "shape-element":a=Wj(a.element.ia)?__c.Sz:PJs;break;case "line-element":a=__c.btf;break;default:a=__c.Ku}return fV(a,{size:"medium"})},pUs=({Mee:a})=>{a=a.attributes.semantics;return fV(a?nUs[a]?.Icon:__c.Sz,{size:"medium"})};var rUs=({selected:a})=>fV("div",{"aria-hidden":"true",className:DV("Eo4riA",{XFp1Xw:a})});var sUs=parseInt("34px",10),tUs=parseInt("184px",10),wUs=GV(a=>{const {wpf:b,selected:c,role:d,ariaLabel:e,onClick:f,onContextMenu:g,end:h,...k}=a;return fV(uUs,{wpf:b,role:d,selected:c,onClick:f,onContextMenu:g,ariaLabel:e,end:h,children:fV(vUs,{...k})})}),vUs=GV(a=>{const b=a.nd,c=a.icon;return mV("div",{className:"lBJuRw",children:[fV("div",{className:DV(a.ivs,"BziGlA"),"aria-hidden":"true",children:b}),fV("div",{className:"JgQKxA",children:c})]})}),uUs=hV(a=>{const {wpf:b,selected:c,role:d,ariaLabel:e,
children:f,end:g,onContextMenu:h,...k}=a;a=!Ic.wba&&Wb();return mV("div",{role:d,className:DV("e6Tqqw",{IYbWNQ:a,XFp1Xw:c}),onContextMenu:h,children:[fV(hr,{className:DV(b,"zCfkxw"),ariaLabel:e,ek:"right",...k,children:f}),fV("div",{className:"E1ca_Q",children:g})]})});var xUs=a=>{const b=a.lu,c=a.Kjo,d=a.B7f,e=a.ESn;a=AV(()=>fV(uV,{children:__c.TOc.map(g=>{const {Icon:h,label:k}=nUs[g];return fV(__c.lv,{start:fV(h,{}),end:c.has(g)?fV(__c.sr,{}):null,onClick:()=>e(g),children:k},g)})}),[e,c]);const f=jV(({SP:g,...h})=>fV(Wi,{ref:g,...h,ariaLabel:d,variant:"tertiary",size:"small"}),[d]);return b?fV(R,{padding:"0.5u",children:fV(Ux,{})}):fV(__c.kv,{icon:__c.Zu,trigger:f,children:a})};var zUs=a=>{const {Mee:b,Zce:c,icon:d,lu:e,B7f:f,...g}=a;return fV(wUs,{...g,nd:fV(Q,{size:"small",lineClamp:1,children:b.Ya}),icon:d,end:fV(yUs,{lu:e,Mee:b,B7f:f,Zce:c})})},yUs=GV(a=>{const b=a.lu,c=a.Mee,d=a.B7f,e=a.Zce;a=new Set;c.attributes.semantics&&a.add(c.attributes.semantics);return fV(xUs,{lu:b,Kjo:a,B7f:d,ESn:f=>{e(c,f)}})});var AUs=({selected:a,V9p:b})=>fV("div",{"aria-hidden":"true",className:DV("Q6TvXg",{QTwIyQ:b,alt0MA:a})});var BUs=(a,b)=>{const c=a.altText,d=a.element,e=a.Ffc;return AV(()=>{if(b){var f=e.length===1&&c?.text||void 0;var g=b.attributes["list-level"];const h=b.attributes["list-marker"];g=J("KhqLGQ",[!!g&&g>0&&!!h&&h!=="none",nUs[b.attributes.semantics??"p"].label]);f=f??b.Ya.trim();return J("4HgTVQ",[g,f])}return d.type==="group-element"?J("SQOYYA",[e[0].Ya.trim()]):d.type==="table-element"?J("bFPPmg",[c?.text??"empty"]):J("RgoY6Q",[c?.text??e[0].Ya.trim()])},[c?.text,d.type,e,b])};var xss=hV(a=>{const b=a.page,c=a.SEe,d=a.selected,e=a.d3r,f=a.k3r,g=a.OPf,h=a.Zce;a=a.Wl;const k=uTs(),[l,n]=qV(!1),p=c.Ffc.length>1;!p&&l&&n(!1);const q=BUs(c,p?void 0:c.Ffc[0]),r=jV(()=>{e(c.element,q)},[e,c.element,q]),t=({Mee:v,index:w})=>{const x=BUs(c,v);return mV("li",{className:"JTzkBw",children:[fV(AUs,{selected:d,V9p:w===0}),fV(zUs,{wpf:"Ryv6KQ",ivs:"CWppGQ",selected:!1,lu:c.lu,ariaLabel:J("zh+3Pw",[x,!0]),B7f:J("vSOd7A",[x]),onClick:()=>f(c.element,x,!0),Mee:v,Zce:h,icon:fV(pUs,{Mee:v})})]})};
return mV(uV,{children:[mV("li",{children:[fV(wUs,{wpf:p?"V9ODmA":"Ryv6KQ",selected:d,ariaLabel:J("zh+3Pw",[q,!p]),onClick:r,icon:fV(qUs,{SEe:c,lNb:p}),nd:fV(a,{element:c.element.ia,page:b,vd:tUs,Df:sUs}),end:c.Ffc.length>0?fV(CUs,{RQq:k,SEk:l,SEe:c,Fct:q,g6r:n,OPf:g}):null}),p&&!l&&fV(rUs,{selected:d})]}),fV("div",{id:k,className:"jShvtg",children:l&&fV(Tc,{spacing:"1u",children:c.Ffc.map((v,w)=>fV(t,{Mee:v,index:w},w))})})]})}),CUs=({RQq:a,SEk:b,SEe:c,Fct:d,g6r:e,OPf:f})=>{const g=new Set;c.Ffc.forEach(k=>
{k.attributes.semantics&&g.add(k.attributes.semantics)});const h=()=>{e(!b)};return mV(uV,{children:[c.Ffc.length>1&&fV(Wi,{variant:"tertiary",size:"small",tk:!0,pressed:b,ariaLabel:J("nUE94w",[d,b]),Zg:a,icon:b?__c.Rt:mr,onClick:h}),fV(xUs,{lu:c.lu,Kjo:g,B7f:J("vSOd7A",[d]),ESn:k=>{f(c.element,k)}})]})};var zss=a=>{const b=a.Lm,c=a.acp;return fV(R,{height:"full",padding:"2u",flexDirection:"column",paddingTop:"0",children:fV(Vn,{children:fV(R,{minHeight:"minTouchableArea",children:fV(Tc,{spacing:"1u",tagName:"ul",children:a.T5h.map((d,e)=>fV(c,{SEe:d,oc:b.includes(d.element.ia)},e))})})})})},yss=({title:a,content:b})=>mV(R,{paddingTop:"12u",className:"KTaopA",children:[fV(jd,{size:"8u",direction:"vertical"}),mV(Tc,{spacing:"1u",children:[fV(dr,{alignment:"center",tone:"secondary",size:"small",children:a}),
fV(Q,{alignment:"center",tone:"tertiary",children:b})]})]});var Bss=rTs(({LS:a,title:b,oa:c},d)=>{a=fV(dr,{size:"xsmall",lineClamp:1,alignment:"start",id:a,tagName:"h2",children:b});return fV(R,{ref:d,tabIndex:-1,children:fV(__c.id,{alignment:"start",Wu:!1,title:a,end:fV(__c.hd,{onClick:c})})})});var Wss=GV(({onClick:a,oa:b,rl:c})=>fV(c,{Icon:Tzj,label:M("2kDi/A"),onClick:a,oa:b})),Xss=GV(({yi:a,...b})=>fV(a,{...b,zh:"icon-and-label",icon:Tzj,children:M("2kDi/A")}));var DUs={eventType:"editor_alt_text_panel_opened",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),initial_char_count:a.iAk,marked_decorative:a.sQk,impression_id:a.rC,element_type:a.elementType,resource_id:a.resourceId,user_uploaded_media:a.VVo,control_context:a.mb,media_type:a.mediaType,is_multiple_fill:a.fRe,control_context_impression_id:a.Vze})}},EUs={eventType:"editor_alt_text_panel_closed",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),end_char_count:a.LOq,marked_decorative:a.sQk,
impression_id:a.rC,element_type:a.elementType,resource_id:a.resourceId,user_uploaded_media:a.VVo,interaction_trigger:a.Iib,media_type:a.mediaType,is_multiple_fill:a.fRe,text_is_exactly_generated:a.tbt,control_context_impression_id:a.Vze})}},FUs={eventType:"editor_alt_text_panel_char_limit_reached",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),impression_id:a.rC,element_type:a.elementType,resource_id:a.resourceId,user_uploaded_media:a.VVo,max_char_count:a.NNr,media_type:a.mediaType,is_multiple_fill:a.fRe,
control_context_impression_id:a.Vze})}},Gss={eventType:"editor_alt_text_panel_generated",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),impression_id:a.rC,initial_char_count:a.iAk,element_type:a.elementType,resource_id:a.resourceId,media_type:a.mediaType,is_multiple_fill:a.fRe,control_context_impression_id:a.Vze})}};var Tss=class{static G(a){O(a,{BIb:zV.ref,mb:zV.ref,b5e:oV,Ihd:oV,qjo:oV,hjo:oV,jug:oV,placeholder:oV,hng:oV,tya:oV,sud:oV,kug:oV,gul:oV,cJj:oV})}get b5e(){var a=this.sud;if(a)return this.zZ.dXg.ALe(a,this.Ihd);if(this.selection.Ma){a=this.selection.Ma.container;var b=this.selection.Ma.Hg,c=this.selection.Ma.inner,d=this.selection.Ma.Fp,e=this.selection.Ma.type,f=["group","layout","layout-cell","sheet-cell-media"];if(b&&d&&e==="elements"&&!f.includes(c?.type))switch(b.type){case "rect":case "shape":case "grid":case "line":case "chart":case "table":case "sheet":case "text":case "embed":return this.zZ.Q5h.ALe(b,
a,d,this.gul);case "group":case "controlled":case "layout":break;default:throw new u(b);}}}get Ihd(){if(this.selection.Ma!=null)return this.hjo;if(this.selection.Kb!=null)return this.qjo}get qjo(){var a=this.sud;if(a)switch(a.type){case "rect":return GUs(a.fill)?a.fill:void 0;case "shape":a=a.paths.filter(b=>b.fill.dropTarget===!0);if(a.length!==1)break;a=m(a[0]).fill;return GUs(a)?a:void 0;case "controlled":case "chart":case "design":case "embed":case "pill":case "layout":case "break":case "separator":case "table":case "sheet":break;
default:throw new u(a);}}get hjo(){const a=this.gul;return a&&GUs(a)?a:void 0}pji(a){return a.filter(b=>b.fill.dropTarget===!0).length>1}get jug(){const a=this.tya,b=this.sud;if(!a&&!b)return!1;if(b?.type==="shape")return this.pji(b.paths);if(!a)return!1;switch(a.type){case "shape":return this.pji(a.paths);case "grid":return a.cells.size>1;case "rect":case "line":case "chart":case "embed":case "group":case "controlled":case "table":case "sheet":case "text":case "layout":return!1;default:throw new u(a);
}}get placeholder(){var a=this.b5e;if(a?.fill!=null){var b=a.fill.image.ref?.media;return(a=a.fill.video.ref)&&this.dc.DVc(a)?.altText||b&&__c.MCa(this.Qa.gp(b))?.text}}get hng(){return this.b5e?.editable??!1}get tya(){return this.selection.Ma?.Hg}get sud(){const a=this.selection.Kb;if(a?.only&&a.type===1)return a.only.type==="break"&&a.only.marker.Pg.ref?a.only.marker.Pg.ref:a.only}get kug(){return this.tya?.type??this.sud?.type}get gul(){let a;var b=this.selection.Ma?.inner;if(b==null){b=this.tya;
if(!b)return;switch(b.type){case "rect":a=b.fill;break;case "shape":b=b.paths.filter(c=>c.fill.dropTarget===!0);b.length===1&&(a=b[0].fill);break;case "grid":b.cells.size===1&&(a=b.cells.values().next().value.fill);break;case "line":case "chart":case "embed":case "group":case "controlled":case "table":case "sheet":case "text":case "layout":break;default:throw new u(b);}a&&!GUs(a)&&(a=void 0)}else switch(b.type){case "grid":a=b.cells[0].fill;break;case "shape":a=b.paths[0].fill;break;case "table":case "sheet":case "sheet-cell-media":case "group":case "background":case "layout":case "layout-cell":case "pages":break;
default:throw new u(b);}return a}get cJj(){var a=this.sud;if(this.selection.Kb!=null&&a!=null)return a?.type==="shape"?a.paths.filter(b=>b.fill.dropTarget===!0).length===1:!0;if(this.selection.Ma==null)return!1;a=this.selection.Ma.Hg;return this.selection.Ma.inner==null?!0:a?.type==="grid"?a.cells.size===1:a?.type==="shape"?a.paths.filter(b=>b.fill.dropTarget===!0).length===1:!1}constructor(a,b,c,d){this.selection=a;this.zZ=b;this.Qa=c;this.dc=d;this.BIb=(Tss.G(this),void 0);this.mb=void 0;this.Zih=
!1;this.hBe=this.A4c=void 0}},GUs=a=>{const b=a.video;return a.image.ref!=null||b.ref!=null};var HUs={get hHq(){return Pb("c13bdd7e",!1)}};var IUs=class{static G(a){O(a,{vtk:iV,S8m:iV,huk:iV,modified:oV})}vtk(a,b){a.type==="SUCCESS"?(Pss(this.TP,a.altText),b.end()):(Qss(this.TP),b.end("error"))}S8m(a,b){a.type==="SUCCESS"?(Pss(this.TP,a.description),b.end()):(Qss(this.TP),b.end("error"))}Ib(){this.ma.Ib({Db:this.nF.b5e?M("6iK/DQ"):M("pfadYQ"),media:{content:fV(Tx,{size:"medium"})},Jq:{buttonText:M("/rk4jg"),onClick:iV(()=>this.undo.undo())}})}huk(a,b){this.TP.state="magic_error";this.errorService.ra(a,{La:"generateMagicAltText: "+b})}cLd(a){var b=
this.nF.b5e,c=this.TP,d=this.nF.Ihd,e=this.Awr();c.cLd(b);d?.image.ref&&e?(b=c.kvj.get(d))?(Rr.domain.wm(Rr.snapshot(d.image.ref),b.mXm)||(b.M0j=!1,b.mXm=Rr.snapshot(d.image.ref)),c.PDc=b):(b={mXm:Rr.snapshot(d.image.ref),M0j:!1},c.PDc=b,c.kvj.set(d,c.PDc)):c.PDc=void 0;this.nF.Zih=!1;this.nF.A4c=Qb();this.nF.hBe=a}wbf(a){const b=this.nF.Ihd;this.P.track(FUs,{rC:this.nF.A4c,Vze:this.nF.hBe,elementType:this.nF.kug,resourceId:Iss(b),NNr:a,fRe:this.nF.jug,mediaType:Hss(b)})}get fill(){return m(this.nF.Ihd)}get modified(){const a=
this.nF.b5e,b=this.TP.text,c=this.TP.gA;return a?b!==a.text||c!==a.gA:b!==""||c!==!1}constructor(){this.zgg=(IUs.G(this),void 0);this.setText=a=>{a.length>=250&&this.wbf(250);this.TP.text=a;this.TP.state="user_modified"};this.HXi=a=>{this.TP.gA=a;this.TP.state="user_modified"};this.T1q=async()=>{const a=this.V.hLh.wb("suggest_alt_text",{Hb:{name:"editor.editing.alt_text.suggest_alt_text"}});this.TP.state="generating_magic";Jss(this);let b;try{b=await this.M1q()}catch(c){this.huk(c,"fillRasterizer fail");
a.end("error");return}if(b)if(b===this.TP.Qvi&&this.TP.Pha!=null)setTimeout(()=>{this.vtk({altText:m(this.TP.Pha),type:"SUCCESS"},a)},500);else try{this.TP.Qvi=b;const c=await this.Yha();if(HUs.hHq){const d=new __c.s$r({Udn:b}),e=await c.c1m(d);this.vtk(e,a)}else{const d=new __c.Qps({h$c:b}),e=await c.Tfi(d);this.S8m(e,a)}}catch(c){this.huk(c,"getMagicDescription fail"),a.end("error")}};this.oZ=()=>{this.nF.Zih=!0;const a=this.nF.b5e;this.modified&&a&&__c.gie(a,this.TP.altText)!==!1&&this.Ib()};this.onFormOpen=
a=>{this.cLd(a);a=this.nF.Ihd;this.P.track(DUs,{rC:this.nF.A4c,elementType:this.nF.kug,iAk:this.TP.text.length,sQk:this.TP.gA,resourceId:a?Iss(a):void 0,mb:this.nF.mb,Vze:this.nF.hBe,fRe:this.nF.jug,mediaType:a?Hss(a):void 0})};this.onFormClose=a=>{this.nF.hBe=a;a=this.nF.Ihd;const b=this.TP.text;this.P.track(EUs,{rC:this.nF.A4c,Vze:this.nF.hBe,elementType:this.nF.kug,LOq:b.length,sQk:this.TP.gA,resourceId:Iss(a),Iib:this.nF.Zih?"save_button_clicked":void 0,fRe:this.nF.jug,mediaType:Hss(a),tbt:b===
this.TP.Pha});this.nF.A4c=void 0;this.nF.hBe=void 0;this.nF.Zih=!1}}},Uss=class extends IUs{get cDn(){return{type:"image",fill:m(this.nF.Ihd?.image.ref)}}constructor(a,b,c,d,e,f,g,h,k,l){super();this.nF=a;this.TP=b;this.Yha=c;this.ma=d;this.undo=e;this.P=f;this.V=g;this.errorService=h;this.MLb=k;this.gg=l;this.Awr=()=>{var n=this.nF.tya;const p=this.nF.Ihd;if(!p)return!1;if(this.nF.sud!=null)return n=p?.image.ref?.yb,!!n&&n.height>1&&n.width>1;if(!n)return!1;switch(n.type){case "grid":n=Array.from(__c.Zm(n).entries());
var q=m(n.find(([t])=>t.fill===p)?.[1]);break;case "rect":q=n;break;case "shape":q=m(n.paths.filter(t=>t.fill===p).at(0));const r=__c.rn(n.viewBox,n.slice)/n.width;n=__c.vn(q.d,n.slice);n=__c.lCb(n,q.qb*r);n=__c.le(n);q=m(__c.an(n)?.Nb());break;case "group":case "controlled":case "chart":case "layout":case "table":case "sheet":case "line":case "text":case "embed":break;default:throw new u(n);}return!!q&&q.height>1&&q.width>1};this.bNp=n=>{n.resetTransform();n.globalCompositeOperation="destination-over";
n.fillStyle="#ffffff";n.fillRect(0,0,Math.round(n.canvas.width),Math.round(n.canvas.height));return n};this.M1q=async()=>{var n=this.nF.tya;const p=this.nF.sud;if(n&&this.gg!=null)return sa(n.type==="grid"||n.type==="rect"||n.type==="shape"),await this.zgg,n=__c.oJg(this.gg,n,this.fill,262144),sa(n.canvas.width>1&&n.canvas.height>1,`rasterized canvas height (${n.canvas.height}) or width (${n.canvas.width}) were too small`),this.bNp(n).canvas.toDataURL();if(p!=null)return await this.zgg,n=this.MLb.$Ad(this.cDn),
sa(!!n&&"toDataURL"in n,"fillRasterizer.imageFor returned non canvas image source"),sa(n.width>1&&n.height>1,`rasterized canvas height (${n.height}) or width (${n.width}) were too small`),n.toDataURL()}}},Iss=a=>{if(a){if(a.image.ref)return a.image.ref.media.id;if(a.video.ref)return a.video.ref.video}},Hss=a=>{if(a){if(a.video.ref)return"video";if(a.image.ref)return"image"}};var JUs,KUs,LUs,Vss;new (JUs=class extends JV{constructor(){super(Vss);KUs()}},(()=>{class a extends(LUs=IV){static G(b){O(b,{thm:oV})}get thm(){return this.props.We==="fill"?{}:{role:"dialog","aria-label":M("2kDi/A")}}render(){return fV("div",{tabIndex:-1,...this.thm,children:fV(__c.kr,{preventScroll:"always",children:this.props.children})})}constructor(...b){super(...b);a.G(this)}}({c:[Vss,KUs]}=KV(a,[],[Lb],LUs))})(),JUs);var MUs,NUs,OUs,Mss;
new (MUs=class extends JV{constructor(){super(Mss);NUs()}},(()=>{class a extends(OUs=IV){static G(b){O(b,{fqa:iV.bound,TDi:iV.bound,onSubmit:iV.bound,componentDidMount:iV.bound,componentWillUnmount:iV.bound})}fqa(b){this.props.fqa(b)}TDi(b,c){this.props.TDi(c)}onSubmit(){this.props.onSubmit();this.props.oa?.()}componentDidMount(){this.QXc.current?.setSelectionRange(this.QXc.current.value.length,this.QXc.current.value.length);this.QXc.current?.focus();this.props.Uc?.()}componentWillUnmount(){this.props.Wh?.()}render(){const b=this.props.Ouh,
c=this.props.i1h,d=this.props.Ayc,e=this.props.We;return fV(__c.Yo,{onSubmit:this.onSubmit,children:fV(R,{padding:"2u",className:DV("TeFiIw",{_3HJrgw:e==="fixed"}),children:mV(Tc,{spacing:"2u",children:[fV(wA,{...b,label:M("ZWXgnQ"),control:this.mEp,children:e==="fill"?this.Rdp:void 0}),fV(__c.ur,{...c,label:M("23N7Lw"),description:M("33lzww"),onChange:this.TDi,className:"_6i0ZkQ"}),fV(Wi,{...d,type:"submit",variant:"primary",alignment:"center",stretch:!0,className:"_8cqUoQ",children:M("vuvBJw")})]})})})}constructor(...b){super(...b);
this.QXc=(Mss.G(this),pV());this.mEp=c=>{const {Ouh:{error:d,...e},Yrp:f,placeholder:g}=this.props;return fV(__c.TC,{...c,...e,maxLength:250,Ln:3,maxRows:8,onChange:this.fqa,placeholder:f?void 0:g,className:"_3J08Bg",ref:this.QXc,footer:fV(R,{padding:"1.5u",children:mV($q,{spacing:"0",Fa:"end",align:"end",children:[f&&fV(Yq,{children:fV(f,{})}),fV(Yq,{width:"content",children:fV(__c.ov,{count:e.value.length||0,max:250,margins:"none"})})]})})})};this.Rdp=({label:c,description:d,error:e,control:f})=>
mV(uV,{children:[fV(__c.Oc,{children:c}),mV(Tc,{spacing:"0.5u",children:[f,d,e]})]})}}({c:[Mss,NUs]}=KV(a,[],[Lb],OUs))})(),MUs);var Lss=({magic:a,onClick:b})=>fV(__c.quh,{size:"small",icon:__c.pD,...a,onClick:iV(b)}),PUs=({n5k:a})=>fV(__c.ak,{message:M("S0T8aQ"),uf:a}),QUs=({K4k:a})=>fV(__c.ak,{message:M("N7FjZA"),uf:a});var Sss=class{static G(a){O(a,{text:zV.ref,gA:zV.ref,kvj:zV.shallow,PDc:zV.shallow,_state:zV.ref,Pha:oV,Qvi:oV,altText:oV,Ouh:oV,Pvi:oV,i1h:oV,Ayc:oV,mKh:oV})}set state(a){this._state=a}cLd(a){this.state="initial";this.text=a?.text??"";this.gA=a?.gA??!1}get Pha(){return this.PDc?.Pha}set Pha(a){m(this.PDc).Pha=a}get Qvi(){return this.PDc?.Hir}set Qvi(a){m(this.PDc).Hir=a}get altText(){return this.text||this.gA?{text:this.text,gA:this.gA}:void 0}get Ouh(){return{value:this.text,disabled:this.gA||this._state===
"generating_magic",description:this.text!==this.Pha||this.gA?M("h8UR7Q"):fV(PUs,{n5k:this.n5k}),error:this.WKp}}get Pvi(){if(this.G6c&&this.PDc){var a=this.wKp;return{children:this.text===this.Pha?M("Ff5I3g"):M("SEajlQ"),disabled:a,loading:this._state==="generating_magic",ib:this._state!=="magic_error"&&this.mKh?M("PG8Mog"):void 0}}}get i1h(){return{checked:this.gA,disabled:this._state==="generating_magic"}}get Ayc(){return{disabled:this._state==="generating_magic"}}get mKh(){return this.PDc?.M0j??
!1}get WKp(){if(this._state==="magic_error")return this.mKh?fV(QUs,{K4k:this.K4k}):M("eK5DjQ")}get wKp(){return this.mKh||this.gA||this.text===this.Pha}constructor(a,b,c){this.n5k=a;this.K4k=b;this.G6c=c;this.text=(Sss.G(this),"");this.gA=!1;this.kvj=new Map;this._state="initial"}};var Rss=class{get V(){return this.hLh}get ijs(){return this.svj}constructor(a){this.hLh=a.Vd("editor.editing.alt_text")}};var bts=class{get Lul(){return this.store.Lul}get eTh(){return this.store.eTh}Rnh(a,b,c){this.L.j1f(a,b,c)}TXi(a,b,c){this.L.TXi(a,b,c)}vzl(a){this.L.vzl(a)}constructor(a,b){this.store=a;this.L=b}};var RUs=class extends __c.ds{j1f(a,b){a.J9(this.Kd,c=>{c.SWa("semantics",this.FEa,b)})}YJ(a){this.j1f(a,{index:0,length:a.charLength})}nNa(a,b){if(Wj(a)){const c=b==null?b:b.Me(a);a.paths.forEach(d=>this.K5b(d,c));this.YJ(m(a.ed.first()).text)}else super.nNa(a,b)}Emd(){Zss()}o$f(){Zss()}tCh(){Zss()}tef(){Zss()}constructor(a,b){super();this.FEa=a;this.Kd=b}};var ats=class{static G(a){O(a,{j1f:iV,TXi:iV,vzl:iV})}j1f(a,b,c){(new RUs(c,this.Kd)).j1f(a,b)}TXi(a,b,c){(new RUs(c,this.Kd)).At(a,b)}vzl(a){if(this.store.eTh){var b=this.store.$l;ra(b!=null);var c=new RUs(a,this.Kd);b.type==="focused"&&c.j1f(b.Sc,b.range);b.type==="multi-config"&&[...(ZA(b,0)?.rG??[]),...(ZA(b,1)?.rG??[]),...(ZA(b,4)?.rG??[]),...(ZA(b,3)?.rG??[]),...(ZA(b,2)?.rG??[])].forEach(d=>{c.YJ(d)})}}constructor(a,b){this.store=a;this.Kd=b;ats.G(this)}};var $ss=class{static G(a){O(a,{$l:oV,eTh:oV,Lul:oV})}get $l(){return this.XKh?.state}get eTh(){return this.$l!=null&&this.XKh?.Ri()===!0}get Lul(){return this.XKh==null?new Set:this.XKh.attributes.semantics}constructor(a){this.XKh=a;$ss.G(this)}};var SUs,TUs,UUs,VUs;
new (SUs=class extends JV{constructor(){super(VUs);TUs()}},(()=>{class a extends(UUs=IV){static G(b){O(b,{B1:zV.ref,q0e:zV.ref,Apd:zV.ref,YSg:zV.ref,tzg:zV.ref,pe:zV.ref,onDragEnd:zV.ref,ux:zV.ref,onPointerMove:iV.bound,onPointerDown:iV.bound,onPointerUp:iV.bound,onPointerLeave:iV.bound,onPointerCancel:iV.bound,onTouchStart:iV.bound,reset:iV.bound,jRe:oV,Lxo:oV,dva:oV,E2n:oV,l7f:oV,gE:oV,zLa:oV})}componentDidMount(){this.props.selection.deselectAll();this.addEventListeners();Gb(this,[gV(()=>this.zLa,
b=>{b?this.removeEventListeners():this.addEventListeners()}),Sus(()=>{this.ref.current!=null&&this.jRe&&this.Aol()})])}componentWillUnmount(){this.reset();this.removeEventListeners()}render(){const b=this.props.pq;return fV("div",{ref:this.ref,className:DV("bIzkSw",this.dva),children:this.Lxo&&b&&fV("div",{className:"_3CeqYg",style:this.E2n,children:fV(b,{})})})}onPointerMove(b){this.Apd===b.pointerId&&b.currentTarget instanceof HTMLElement&&!b.currentTarget.hasPointerCapture(b.pointerId)&&this.setPointerCapture(b);
this.B1=new pj(b.clientX,b.clientY);if(b.pointerId===this.Apd&&this.q0e&&!this.YSg)if(this.tzg)this.pe?.(b);else if(b.pointerType==="mouse"&&(b.buttons&1)===0)this.reset(),this.oa();else{var c=this.l7f.transformPoint(this.q0e),d=this.l7f.transformPoint(this.B1),{top:e,left:f,width:g,height:h}=__c.Mj(c,d).Nb();this.zon(g,h)&&(this.o4=this.props.undo.startBuffering(),this.YSg=!0,Promise.resolve(this.props.due({top:e,left:f,wXl:!0})).then(k=>{if(k&&this.props.Y4h!=="none"){this.tzg=k;var {onDragStart:l,
pe:n,onDragEnd:p,ux:q}=this.U4q(k)||{};l?.(b);this.pe=n;this.onDragEnd=p;q&&(this.ux=q,document.addEventListener("keydown",this.ux))}else this.reset(),this.oa()}).catch(()=>{}).finally(()=>{this.YSg=!1}))}}U4q(b){const c=this.props.nq,d=this.props.tSj,e=this.props.selection.Ma;if(e?.type==="elements"&&e?.Pd===b){var f=this.T4q(b),g=c.controls.h7e?.(f);if(g){var h=d?.(e);return{onDragStart:k=>{g.onDragStart(k);h?.onDragStart(f,k)},pe:k=>{g.pe(k);h?.pe()},onDragEnd:()=>{try{h?.onDragEnd()}finally{g.onDragEnd()}},
ux:h?.ux}}}}T4q(b){switch(b.type){case "shape":return"bottom-right";case "line":return"right";case "text":return"right";default:throw new u(b);}}onPointerDown(b){b.preventDefault();if(b.pointerType!=="mouse"||b.button===0){if(b.pointerType==="pen"||b.pointerType==="touch")if(this.tkb++,this.tkb>1){this.Apd&&(this.releasePointerCapture(b),this.Apd=void 0);return}this.Apd=b.pointerId;this.setPointerCapture(b);this.B1=new pj(b.clientX,b.clientY);this.q0e=new pj(b.clientX,b.clientY)}}onPointerUp(b){if(b.pointerType===
"pen"||b.pointerType==="touch")this.tkb=Math.max(0,this.tkb-1);if(b.pointerId===this.Apd){if(this.q0e&&this.B1){const c=this.l7f.transformPoint(this.q0e),d=this.l7f.transformPoint(this.B1),{top:e,left:f,width:g,height:h}=__c.Mj(c,d).Nb();this.zon(g,h)||(this.o4=this.props.undo.startBuffering(),Promise.resolve(this.props.due({top:e,left:f})).then(k=>{k&&this.props.selection.Ma?.Pd===k&&this.props.A$c&&this.props.A$c(this.props.selection.Ma)}).catch(()=>{}),this.o4?.stop());this.oa()}this.releasePointerCapture(b);
this.reset()}}onPointerLeave(){this.reset()}onPointerCancel(b){this.tkb=Math.max(0,this.tkb-1);b.pointerId===this.Apd&&this.reset()}onTouchStart(b){b.preventDefault();Array.from(b.touches??[]).forEach(c=>{c.identifier!=null&&this.z7b.add(c.identifier)});this.z7b.size<2&&(b.stopPropagation(),setTimeout(()=>{this.z7b.size>1&&this.ref.current?.parentElement?.dispatchEvent(b)},120))}oa(){setTimeout(()=>{this.props.oa()},0)}setPointerCapture(b){if(b.currentTarget instanceof HTMLElement)try{b.currentTarget.setPointerCapture(b.pointerId)}catch(c){}}releasePointerCapture(b){if(b.currentTarget instanceof
HTMLElement&&b.currentTarget.hasPointerCapture(b.pointerId))try{b.currentTarget.releasePointerCapture(b.pointerId)}catch(c){}}get jRe(){return this.props.viewport.uh&&!this.props.viewport.DU}Aol(){if(this.ref?.current!=null&&this.jRe){var b=this.props.viewport.ey(),{width:c,height:d}=b.Nb(),{top:e,left:f}=b.transform(this.l7f).Nb();Object.assign(this.ref.current.style,{width:`${c}px`,height:`${d}px`,top:`${e*this.props.Tc.scale}px`,left:`${f*this.props.Tc.scale}px`})}}get Lxo(){return!this.zLa&&this.B1!=
null&&!this.q0e}zon(b,c){return b>5||c>5}get dva(){return this.zLa?"tAyUIw":this.props.Y4h==="none"?"XVr5aA":"uGIU_Q"}get E2n(){if(this.B1){var b=this.Bne(this.B1);return{transform:`translate(${b.x}px, ${b.y}px) scale(${this.props.Tc.scale})`}}}Bne(b){return this.props.viewport.DU?this.props.viewport.hm(this.props.page).then(Fj(this.props.Tc.scale)).transformPoint(b):this.props.viewport.jda().transformPoint(b)}get l7f(){return this.props.viewport.hm(this.props.page)}get gE(){return this.props.page.ia}get zLa(){return this.gE.locked===
!0}constructor(...b){super(...b);this.ref=(VUs.G(this),pV());this.YSg=!1;this.tkb=0;this.z7b=new Set;this.addEventListeners=()=>{this.ref.current==null||this.zLa||(this.ref.current.addEventListener("pointermove",this.onPointerMove),this.ref.current.addEventListener("pointerdown",this.onPointerDown),this.ref.current.addEventListener("pointerup",this.onPointerUp),this.ref.current.addEventListener("pointerleave",this.onPointerLeave),this.ref.current.addEventListener("pointercancel",this.onPointerCancel),
this.ref.current.addEventListener("touchstart",this.onTouchStart),this.ref.current.addEventListener("touchend",this.onTouchEnd),this.ref.current.addEventListener("touchcancel",this.onTouchCancel),this.ref.current.addEventListener("lostpointercapture",this.onLostPointerCapture))};this.removeEventListeners=()=>{this.ref.current!=null&&(this.ref.current.removeEventListener("pointermove",this.onPointerMove),this.ref.current.removeEventListener("pointerdown",this.onPointerDown),this.ref.current.removeEventListener("pointerup",
this.onPointerUp),this.ref.current.removeEventListener("pointerleave",this.onPointerLeave),this.ref.current.removeEventListener("pointercancel",this.onPointerCancel),this.ref.current.removeEventListener("touchstart",this.onTouchStart),this.ref.current.removeEventListener("touchend",this.onTouchEnd),this.ref.current.removeEventListener("touchcancel",this.onTouchCancel),this.ref.current.removeEventListener("lostpointercapture",this.onLostPointerCapture))};this.onTouchEnd=c=>{Array.from(c.changedTouches??
[]).forEach(d=>{d.identifier!=null&&this.z7b.delete(d.identifier)})};this.onTouchCancel=c=>{c.touches&&c.touches.length!==0||this.z7b.clear()};this.reset=()=>{this.ux&&(document.removeEventListener("keydown",this.ux),this.ux=void 0);this.onDragEnd?.();this.tzg&&(this.props.selection.Ma?.Pd===this.tzg&&this.props.A$c&&(this.props.A$c(this.props.selection.Ma,!0),this.o4?.stop()),this.oa());this.q0e=this.B1=void 0;this.tkb=0;this.Apd=void 0;this.z7b.clear();this.YSg=!1;this.onDragEnd=this.pe=this.tzg=
void 0;this.o4?.stop();this.o4=void 0};this.onLostPointerCapture=c=>{if(c.pointerId===this.Apd)this.onPointerUp(c)}}}({c:[VUs,TUs]}=KV(a,[],[Lb],UUs))})(),SUs);var WUs=class{static G(a){O(a,{Kuf:zV.ref})}constructor(){this.Kuf=(WUs.G(this),void 0)}};var XUs=({canvas:a,viewport:b,selection:c,nq:d,undo:e})=>{const f=new WUs,g=hV(h=>{if(!h.page.Rcc(b.Vg.ia))return null;const {pq:k,due:l,A$c:n,tSj:p,oa:q,Y4h:r}=f.Kuf??{};return l&&q?fV(VUs,{...h,viewport:b,selection:c,nq:d,undo:e,pq:k,due:l,A$c:n,tSj:p,oa:q,Y4h:r}):null});a.jc(h=>h===40,(h,k)=>{h.Bg.egf=k?g:void 0});return{Rpd:f}};var dts=({rqe:a,UL:b,Pt:c=2,spacing:d,dxa:e,bJa:f})=>fV(ar,{columns:b,spacing:d,dxa:e,bJa:f,children:Array(c*Number(b)).fill(0).map((g,h)=>fV("div",{children:fV(a,{})},h))});var gts=class{static G(a){O(a,{activeIndex:zV.ref,options:oV,Hfb:oV})}get options(){return this._options.get()}get Hfb(){if(!(this.activeIndex<0||this.activeIndex>=this.options.length))return this.options[this.activeIndex]}constructor(a,b){this.UL=a;this._options=b;this.activeIndex=(gts.G(this),-1)}},hts=class{onKeyDown(a){switch(a){case "ArrowDown":this.store.activeIndex<0?fts(this,0):fts(this,this.store.activeIndex+this.store.UL);break;case "ArrowLeft":tb.direction===2?fts(this,this.store.activeIndex+
1):fts(this,this.store.activeIndex-1);break;case "ArrowRight":tb.direction===2?fts(this,this.store.activeIndex-1):fts(this,this.store.activeIndex+1);break;case "ArrowUp":fts(this,this.store.activeIndex-this.store.UL);break;case "Enter":if(this.store.Hfb)this.onSelect?.(this.store.Hfb)}}constructor(a,b){this.store=a;this.onSelect=b}};var jts=()=>fV("div",{}),kts=()=>fV("div",{});var nts=()=>fV("div",{className:"M4UWZw",role:"alert",children:fV(Q,{alignment:"center",tone:"tertiary",children:M("ua8pKA")})});var mts=class{static G(a){O(a,{status:zV.ref})}constructor(){this.status=(mts.G(this),"none")}};var YUs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5Zm9.75-.5H19a.5.5 0 0 1 .5.5v14a.5.5 0 0 1-.5.5h-6.25v-15Zm-1.5 0H5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h6.25v-15Z" fill="currentColor"/></svg>';var Ius=Uq({medium:YUs});var [Qts,Rts]=[-.2,.8],[Mts,Nts]=[.5,2.5],Wts=class{constructor(a){this.styles=a;if(a){var b=new Map;for(const c of a){a=document.implementation.createHTMLDocument("");const d=document.createElement("style");d.textContent=c.textContent;a.body.appendChild(d);a=d.sheet?.cssRules;if(!a)break;for(const e of a)e instanceof CSSStyleRule&&b.set(e.selectorText.toLowerCase(),e.style)}}else b=new Map;this.Hsh=b}},Vts=/var\(--[^,]+,\s*([^)]+)\)/;var bus=new Map([["B",{fontWeight:"bold"}],["STRONG",{fontWeight:"bold"}],["I",{fontStyle:"italic"}],["EM",{fontStyle:"italic"}],["U",{decoration:"underline"}],["S",{rv:"strikethrough"}],["DEL",{rv:"strikethrough"}]]),Xts=class{finish(){Zts(this);this.builder.Xb("\n");return{backgroundColor:this.backgroundColor,Y5:this.builder.build()}}QRd(a,b){b()}KGb(a){a.textContent&&aus(this,a.textContent)}At(a,b,c){switch(b){case "inline":dus(this,a,c);break;case "block":this.backgroundColor==null&&(this.backgroundColor=
rts(this.qha,a));dus(this,a,c);this.FTf.endsWith("\u2028")||aus(this,"\u2028");break;default:throw new u(b);}}hpe(a,b){this.At(a,"inline",b)}z2a(a,b,c){this.At(a,"block",c)}Z8a(a,b){this.At(a,"block",b)}$8a(a,b){this.At(a,"block",b)}lpe(a,b){this.At(a,"block",b)}y2a(a,b){this.At(a,"block",b)}jpe(a,b){this.At(a,"block",b)}oNa(){}mpe(){aus(this,"\u2028")}kpe(){}constructor(a,b){this.qha=a;this.builder=b;this.ACm={};this.FTf=""}};var eus=10*Wt,mus=class{static G(a){O(a,{jTh:oV,FQj:oV,Xom:oV})}get jTh(){return this.FQj!=null}get FQj(){const a=this.selection.Kb;return a?.type===0&&RVc(a.container)?a.container:null}get Xom(){const a=this.selection.Kb;return a?.type===0&&(RVc(a.container)||a.container.type==="layout-item-cell")}showNotification(a){this.ma.Ib({Db:a})}constructor(a,b,c,d,e,f,g=kus,h=Yts){this.selection=a;this.Za=b;this.A9a=c;this.RBb=d;this.ma=e;this.wq=f;this.W5q=g;this.Zps=h;mus.G(this)}};var Gus=({active:a,option:b})=>mV(uV,{children:[fV("div",{className:"T6TgDw",children:fV(Ko,{OF:"primary",selected:a,un:"scaleThumbnail",thumbnail:mV("div",{className:"_37wJ8w",children:[fV(Yu,{src:b.Ilf,height:"8u"}),fV("div",{className:"LRwe4g VnXh5Q",children:fV(Q,{size:"large",weight:"bold",children:fV("span",{className:"hS4paQ",children:b.oOf})})})]}),layout:"vertical",Xm:"thumbnail"})}),fV(Q,{size:"small",alignment:"center",children:b.label})]});var ZUs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 7.5h16a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H4a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5ZM2 8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8Zm4.5 4a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0ZM8 9a3 3 0 1 0 0 6 3 3 0 0 0 0-6Zm4.75.75a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5h-5.5Zm0 3a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5h-5.5Z" fill="currentColor"/></svg>';var yus=Uq({medium:ZUs});var $Us=__c.Dxc("8u"),wus=({active:a,option:b})=>fV(uV,{children:fV(Ko,{OF:"secondary",selected:a,title:b.label&&fV(uV,{children:fV(Q,{alignment:"center",size:"small",children:b.label})}),thumbnail:fV(Yu,{alt:b.ufl,borderRadius:"element",src:b.Nn,height:$Us}),un:"scaleThumbnail",layout:"vertical",Xm:"thumbnail"})}),aVs=()=>fV("div",{className:"I1C5KQ",children:fV(R,{border:"low",borderRadius:"baseUnit",display:"flex",flexDirection:"column",height:"full",justifyContent:"center",paddingBottom:"1.5u",
tp:"1.5u",paddingTop:"1.5u",children:mV($q,{Fa:"center",spacing:"1u",children:[fV(Yq,{width:"content",children:fV("div",{className:"K2IwOQ",children:fV(Xi,{shape:"circle"})})}),fV(Yq,{width:"fluid",children:mV(__c.Xq,{end:"1u",children:[fV(__c.Ut,{size:"xsmall"}),fV(__c.Ut,{size:"xsmall"})]})})]})})}),xus=()=>mV(uV,{children:[fV(aVs,{}),fV(jd,{size:"1u"}),fV("div",{className:"TQZXfg",children:fV(__c.Ut,{size:"small"})})]}),zus=()=>fV(aVs,{});var vus=class{constructor(a,b,c,d,e,f,g){this.store=a;this.$f=b;this.vg=c;this.Zn=d;this.ka=e;this.Xk=f;this.A9a=g}};var uus=class{static G(a){O(a,{Pki:zV.ref,XUg:zV.ref,aVg:zV.ref,qEf:zV.ref,WVf:zV.ref,pPi:zV.ref})}constructor(){this.Pki=(uus.G(this),!1);this.aVg=this.XUg=!1;this.qEf=[];this.WVf=[];this.pPi=!1}};var bVs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5Zm12.75-.5H19a.5.5 0 0 1 .5.5v14a.5.5 0 0 1-.5.5h-3.25v-15Zm-1.5 0h-4.5v15h4.5v-15Zm-6 15v-15H5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h3.25Z" fill="currentColor"/></svg>';var cVs=Uq({medium:bVs});var dVs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5Zm14.25-.5H19a.5.5 0 0 1 .5.5v14a.5.5 0 0 1-.5.5h-1.75v-15Zm-1.5 0h-3v15h3v-15Zm-4.5 15v-15h-3v15h3Zm-4.5 0v-15H5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h1.75Z" fill="currentColor"/></svg>';var eVs=Uq({medium:dVs});var fVs=__webpack_require__.p+"images/1c94ede555e1ed73446b74f58315ea42.png";var gVs=__webpack_require__.p+"images/769a83ee7f42d86165825e026d9b790d.png";var hVs=__webpack_require__.p+"images/53b4489844d165e5a4227068d658cd58.png";var iVs=__webpack_require__.p+"images/07f9c993ae9ff47b1fdcd5705c8d82a2.png";var jVs=__webpack_require__.p+"images/9c140b37bedca0b2a2ec5d4b189c82d7.png";var kVs=__webpack_require__.p+"images/5c14b727e99b3aa0d9b90ada6623ad7e.png";var Dus={keyName:"two-col",ZJe:["1fr","1fr"],label:J("OqFv8A",[2]),oOf:J("6Iw8IQ",[2]),Ilf:fVs,icon:Ius},Eus={keyName:"three-col",ZJe:["1fr","1fr","1fr"],label:J("OqFv8A",[3]),oOf:J("6Iw8IQ",[3]),Ilf:gVs,icon:cVs},Fus={keyName:"four-col",ZJe:["1fr","1fr","1fr","1fr"],label:J("OqFv8A",[4]),oOf:J("6Iw8IQ",[4]),Ilf:iVs,icon:eVs},Hus=[Dus,Eus,Fus,{keyName:"submenu-right-sidebar",ZJe:["2fr","1fr"],label:M("k9WJeg"),oOf:J("6Iw8IQ",[2]),Ilf:kVs},{keyName:"submenu-left-sidebar",ZJe:["1fr","2fr"],label:M("CphetQ"),
oOf:J("6Iw8IQ",[2]),Ilf:jVs},{keyName:"submenu-left-right-sidebar",ZJe:["1fr","2fr","1fr"],label:J("q7aD9g",[3]),oOf:J("6Iw8IQ",[3]),Ilf:hVs}];var lVs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.76 20.363a.661.661 0 0 1-.466-1.13L18.808 4.72a.661.661 0 0 1 .936.935L5.228 20.169a.661.661 0 0 1-.467.194Z" fill="#138EFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M20.56 3.94a1.5 1.5 0 0 1 0 2.12l-15 15a1.5 1.5 0 0 1-2.12-2.12l15-15a1.5 1.5 0 0 1 2.12 0Z" fill="#138EFF"/></svg>';var Ous=Uq({medium:lVs});var Nus=hV(a=>{const b=a.$yc,c=a.layout,d=a.xy,e=a.OR,f=a.z6f,g=a.dYf,h=a.LSa,k=a.oa,l=a.Zwa;kV(()=>()=>{(l?null:g)?.()},[g,l]);return fV(__c.hfr,{layout:c,className:"_3hJ2ww",children:mVs.map(({value:n,Icon:p},q)=>fV(nVs,{pFr:q,xy:d,OR:e,$yc:b,z6f:f,LSa:h,oa:k,PSe:n,Icon:p,Zwa:l},n))})}),nVs=hV(a=>{const b=a.$yc,c=a.z6f,d=a.LSa,e=a.oa,f=a.PSe,g=a.Icon,h=a.pFr,k=a.xy,l=a.OR,n=a.Zwa,p=lV(null);kV(()=>{k===h&&p.current?.focus()},[k,h,p]);a=jV(()=>{xc.vI&&l(h)},[l,h]);const q=jV(()=>{c(f);n||(d(f),e())},
[d,c,f,e,n]);return fV(Wi,{ref:p,variant:"tertiary",size:"medium",icon:g,onFocus:a,active:f===b,onClick:q})}),mVs=[{Icon:__c.btf,value:1},{Icon:__c.ctf,value:2},{Icon:__c.dtf,value:3}],oVs=mVs.length;var Mus=class{static G(a){O(a,{z6f:iV.bound,dYf:iV.bound,LSa:iV.bound,OR:iV})}z6f(a){this.store.$yc===a?this.dYf():this.store.$yc=a}dYf(){this.store.$yc=void 0}bBa(){this.P.track(vrg,{elementType:"line",mb:"click",Lua:"add",sPc:!1})}constructor(a,b,c){this.store=a;this.qc=b;this.P=c;this.LSa=(Mus.G(this),(d,e)=>{if(this.store.gE){const {width:n,height:p}=__c.Yoe(this.qc,this.store.gE,{PSe:d},{Xc:"tools_tab_click"});var f={dimensions:{width:n,height:p}}}else f=void 0;({dimensions:f}=f||{});let g;const {top:h,
left:k,wXl:l}=e||{};f&&h&&k&&(g=l?Oj({top:h,left:k,width:5,height:f.height/f.width*5}):Oj({top:h,left:k,width:f.width,height:f.height}));d=this.qc.LSa({PSe:d},{Xc:"tools_tab_click"},{box:g,rNa:{type:"absolute",value:"top"}});this.P.track(vrg,{elementType:"line",mb:"click",Lua:"add",sPc:!1});return d});this.OFn=d=>{this.OR((this.store.xy+(d==="prev"?-1:1)+oVs)%oVs)};this.OR=d=>{this.store.xy=d}}};var Lus=class{static G(a){O(a,{isActive:zV.ref,MEb:iV,$yc:zV.ref,gE:oV,xy:zV.ref})}MEb(a){this.isActive=a??!1}get Zwa(){return this.C4a&&Ic.Oib&&!xc.vI}get gE(){const a=this.viewport.Vg.ia;return a.type==="fixed"?a:void 0}constructor(a,b){this.viewport=a;this.C4a=b;this.isActive=(Lus.G(this),!1);this.xy=0}};var pVs=class{static G(a){O(a,{Dg:oV,fdc:oV})}get Dg(){return this.vg.Ma?.pages||[]}get fdc(){return this.document.pages.last(a=>this.Dg.includes(a))}HQ(){return this.qc.fOa(1)}Gde(){var a=this.fdc||m(this.document.pages.first());sa(this.qc.$M!=null);const {page:b,container:c}=this.qc.$M(a,{Xc:"toolbar",location:"toolbar",q9:"none"},{H7d:this.fdc==null,template:void 0});this.Wk?.tO?.(new ap);(a=c?.type==="concatenated-fixed-page"?c.Rja(this.document.pages):b)&&this.vg.pW(c,a)}constructor(a,b,c,d){this.qc=
a;this.vg=b;this.document=c;this.Wk=d;pVs.G(this)}};var qVs=hV(a=>{const b=a.disabled;return fV(a.yi,{onClick:a.onClick,disabled:b(),icon:__c.vwf,zh:"icon",tooltip:M("Ae7Bjg"),children:M("Ae7Bjg")})});var rVs=(a,b,c,d)=>{d=d.document;if(d.Ka==="fixed"){var e=new pVs(c,b,d),f={Sd:()=>Qus(e),Button:hV(g=>fV(qVs,{...g,onClick:()=>e.Gde(),disabled:()=>!e.HQ()})),vv:{sg:()=>"Add Page"}};a.plugins.zua=()=>f}};var Vus=class{static G(a){O(a,{I_k:iV.bound})}I_k(a){if(this.selection.Ma&&a?.currentTarget)return this.Se.ewh(a.currentTarget,{type:"fixed",direction:"right",anchor:"top"});this.selection.Kb&&(this.Se.pBc({type:"responsive",box:oV(()=>{const b=this.viewport.iN,c=this.Za.NR;if(this.viewport.MF&&b&&c)return c.transform(b.invert())})}),this.Se.open({trigger:"add_button"}))}constructor(a,b,c,d,e){this.store=a;this.Za=b;this.viewport=c;this.selection=d;this.Se=e;Vus.G(this)}},Xus=class{static G(a){O(a,
{onMouseUp:iV.bound,k6e:iV.bound,m6e:iV.bound,Bwl:iV.bound,iKn:iV.bound,onFocus:iV.bound,onBlur:iV.bound,onMouseDown:iV.bound})}onMouseUp(){this.Bwl(!1);document.removeEventListener("mouseup",this.onMouseUp,{capture:!0})}k6e(a){this.store.vrd=a}m6e(a){this.store.fxe=a}Bwl(a){this.store.tnm=a}cAl(a){this.store.Do=a}iKn(){clearTimeout(this.store.Do);if(!(this.Pa.mode<=20))if(this.Za.focused)this.k6e(!0);else{var a=setTimeout(iV(()=>this.k6e(!1)),250);this.cAl(a)}}onFocus(){this.m6e(!0)}onBlur(){this.m6e(!1)}onMouseDown(){this.Bwl(!0);
document.addEventListener("mouseup",this.onMouseUp,{capture:!0})}constructor(a,b,c){this.store=a;this.Za=b;this.Pa=c;Xus.G(this)}};var Uus=class{static G(a){O(a,{pwh:oV,BPc:oV})}get pwh(){return this.Pa.mode<30?!1:this.selection.Kb&&this.la.layout===2?!0:this.JPl}get JPl(){return this.BPc}get KEl(){return this.BPc&&!this.selection.Kb}get BPc(){var a=this.selection.Kb;const b=this.selection.Ma;let c=!1;switch(a?.type){case void 0:case 2:case 3:case 5:break;case 0:c=a.container.type==="sheet-item-cell-richtext";break;case 1:c=a.only?.type==="sheet";break;case 4:c=!0;break;default:throw new u(a);}a=!1;switch(b?.type){case void 0:case "audio":break;
case "pages":a=b.inner?.type==="sheet";break;case "elements":a=b.inner?.type==="sheet"||b.Pd?.type==="sheet";break;default:throw new u(b);}return c||a}constructor(a,b,c){this.selection=a;this.Pa=b;this.la=c;Uus.G(this)}},Wus=class{static G(a){O(a,{vrd:zV.ref,fxe:zV.ref,tnm:zV.ref,Do:zV.ref,PR:oV,iqm:oV})}get PR(){return this.fxe||this.vrd}get iqm(){const a=this.selection;return this.Pa.mode<30||this.la.layout!==1?!1:a.Kb?.type===0&&__c.Nra(a.Kb.container)}constructor(a,b,c,d){this.Pa=a;this.selection=
b;this.la=c;this.Za=d;this.vrd=(Wus.G(this),void 0);this.tnm=this.fxe=!1;this.Do=void 0;this.vrd=this.Za.focused}};var sVs={enter:"q29WYw",enterActive:"JqJVCA",exit:"crpmLQ",exitActive:"HIuJnA"},tVs=parseInt("250ms",10),Zus=({onClick:a,top:b,show:c,Wre:d,onFocus:e,onBlur:f,onMouseDown:g,onMouseUp:h})=>{const k=lV(null);a=fV(ir,{variant:"tertiary",PWb:!0,onClick:a,onFocus:e,onBlur:f,onMouseDown:g,onMouseUp:h,size:"tiny",icon:Gu,Qc:"small",ib:M("yFLjFw"),LI:"/",className:"vgc1dg"});return fV(xTs,{in:c,timeout:tVs,unmountOnExit:!0,mountOnEnter:!0,classNames:sVs,nodeRef:k,children:fV("div",{className:"lQmhtA",style:{top:b},
ref:k,children:d?fV(d,{children:a}):a})})};var avs=Pb("8862db4f",!1),Yus=GV(a=>{const b=a.yi,c=a.onClick,d=a.Icon,e=a.Lj,f=a.VJk==="gradient"?fV("span",{className:"V4Xpkw",children:M("M0/rWw")}):M("M0/rWw");return mV("div",{children:[fV(b,{tooltip:M("yFLjFw"),onClick:c,icon:d,zh:"icon-and-label",className:"vgc1dg",...a,children:f}),e&&fV(e,{})]})});var uVs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.367 8.609A2.08 2.08 0 0 0 17.9 8H7.006v.5h-.002V18.9c0 1.143.935 2.078 2.078 2.078H17.9a2.084 2.084 0 0 0 2.078-2.078v-8.825a2.08 2.08 0 0 0-.61-1.466Z" fill="#11171D"/><path d="M8.478 16H8.5A6.5 6.5 0 0 0 15 9.5L15 9.479a6.504 6.504 0 0 0-.186-1.5A6.496 6.496 0 0 0 2.21 7.856a6.497 6.497 0 0 0 4.767 7.958c.482.116.983.184 1.5.186Z" fill="#6B6F73"/></svg>';var vVs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 17 8.473 17a7.396 7.396 0 0 1-1.465-.155l.004 2.07a2.084 2.084 0 0 0 2.082 2.073l8.818-.018a2.083 2.083 0 0 0 2.074-2.082l-.018-8.825a2.08 2.08 0 0 0-2.082-2.07l-2.045.004c.101.486.154.981.157 1.478l.002.027A7.5 7.5 0 0 1 8.5 17Z" fill="#fff" fill-opacity=".9"/><path opacity=".5" d="M8.478 16H8.5A6.5 6.5 0 0 0 15 9.5L15 9.479a6.504 6.504 0 0 0-.186-1.5A6.496 6.496 0 0 0 2.21 7.856a6.497 6.497 0 0 0 4.767 7.958c.482.116.983.184 1.5.186Z" fill="#fff" fill-opacity=".9"/></svg>';var hvs=__c.cyc({medium:uVs},{medium:{light:uVs,dark:vVs}});var fvs=hV(a=>{const b=a.layout,c=a.fea,d=a.xy,e=a.OR,f=a.eYf,g=a.Zwa;kV(()=>()=>{(g?null:f)?.()},[f,g]);return fV(__c.hfr,{layout:b,className:"j2S_rw",children:c.map((h,k)=>fV(wVs,{AUs:k,xy:d,OR:e,oa:a.oa,shape:h,WVc:a.WVc,Baa:a.Baa,IPd:a.IPd,Zwa:a.Zwa},h.key))})}),wVs=hV(a=>{const b=a.shape,c=a.AUs,d=a.xy,e=a.OR,f=a.WVc,g=a.Baa,h=a.oa,k=a.IPd,l=a.Zwa,n=lV(null);kV(()=>{d===c&&n.current?.focus()},[d,c,n]);a=jV(()=>{xc.vI&&e(c)},[e,c]);const p=Uq({medium:()=>fV(__c.meg,{shape:b})}),q=jV(()=>{k(b.key);
l||(g(b),h())},[g,k,b,h,l]);return fV(Wi,{ref:n,variant:"tertiary",size:"medium",icon:p,onFocus:a,active:b.key===f,onClick:q})}),gvs=hV(({shape:a,uUs:b})=>{const c=b.color;return fV("div",{className:"CFGd6w",style:{...b.dimensions},children:fV("svg",{className:"bnNaZg",viewBox:`0 0 ${a.viewBox.width} ${a.viewBox.height}`,stroke:c,fill:c,children:fV("path",{d:a.nd??a.path})})})});var evs=class{static G(a){O(a,{IPd:iV.bound,kkh:iV.bound,eYf:iV.bound,Baa:iV.bound,NIa:oV,OR:iV})}IPd(a){this.store.WVc===a?this.eYf():this.kkh(a)}kkh(a){this.store.WVc=a}eYf(){this.store.WVc=void 0}Baa(a,b){const c=this.store.gE?this.z5m(a,this.store.gE):void 0,{dimensions:d,color:e}=c||{};let f;const {top:g,left:h,wXl:k}=b||{};d&&g&&h&&(f=k?Oj({top:g,left:h,width:5,height:d.height/d.width*5}):Oj({top:g,left:h,width:d.width,height:d.height}));b=this.LAe(a,e);a=this.qc.Baa(b,a.Fk||"shape",{Xc:"tools_tab_click"},
{box:f,rNa:{type:"absolute",value:"top"}},{RUf:this.store.Zwa?!0:void 0,avs:!!k});this.bBa();return a}get NIa(){if(this.store.EEb&&this.store.gE)return this.z5m(this.store.EEb,this.store.gE)}bBa(){this.P.track(vrg,{elementType:"shape",mb:"click",Lua:"add",sPc:!1})}LAe(a,b="#000000"){const c=a.slice,d=a.textBox;return new __c.fv({viewBox:a.viewBox,paths:[new __c.ev({d:a.path,fill:{...ks,color:b},qb:a.qb??0})],slice:{source:c,eq:c.width,Qp:c.height,horizontal:1,vertical:1},ed:[{box:d,RK:4,Ki:2}],Lq:{dT:!1,
j$:!1}})}constructor(a,b,c,d){this.store=a;this.mc=b;this.qc=c;this.P=d;this.z5m=(evs.G(this),(e,f)=>{e=this.LAe(e);f=__c.bpe(this.qc,f,e);return{dimensions:{width:f.width,height:f.height},color:f.paths[0].fill.color||"#000000"}});this.Llr=(e,f)=>{const g=e.Hg?.type==="shape"?e.Hg:void 0;if(g){if(f){f=g.slice;const h=g.ed;g.viewBox&&f&&h&&this.mc.SWa("font-size",Math.round(.08*Math.max(g.width,g.height)*.75)*Wt)}this.mc.fBa(e,"all")}};this.PFn=e=>{const f=this.store.sUs;this.OR((this.store.xy+(e===
"prev"?-1:1)+f)%f)};this.OR=e=>{this.store.xy=e}}};var dvs=class{static G(a){O(a,{isActive:zV.ref,MEb:iV,WVc:zV.ref,EEb:oV,gE:oV,xy:zV.ref})}MEb(a){this.isActive=a??!1}get EEb(){if(this.WVc)return this.fea.find(a=>a.key===this.WVc)}get Zwa(){return this.C4a&&Ic.Oib&&!xc.vI}get gE(){const a=this.viewport.Vg.ia;return a.type==="fixed"?a:void 0}get sUs(){return this.fea.length}constructor(a,b,c){this.fea=a;this.viewport=b;this.C4a=c;this.isActive=(dvs.G(this),!1);this.xy=0}};var lvs=class{addRow(a){const b=this.store.sheet;var c=this.store.vG;if(b&&!(c.length<=0)){var d=a==="after"?c[c.length-1]:c[0];c=c.length;var e=this.V.wb("sheets_insert_row_menu_used",{Hb:{name:"editor.editing.sheet.adding",type:"row"}});this.hj.addRows(b,d,a,c,e,"contextual_menu");e?.qe()}}addColumn(a){const b=this.store.sheet;var c=this.store.k3b;if(b&&!(c.length<=0)){var d=a==="after"?c[c.length-1]:c[0];c=c.length;var e=this.V.wb("sheets_insert_column_menu_used",{Hb:{name:"editor.editing.sheet.adding",
type:"column"}});this.hj.bUb(b,d,a,c,e,"contextual_menu");e?.qe()}}constructor(a,b,c){this.store=a;this.hj=b;this.V=c}};var xVs=class{static G(a){O(a,{sheet:oV,ETg:oV,vG:oV,k3b:oV,M1f:oV,XKj:oV,WKj:oV,spn:oV,Zln:oV})}get sheet(){return this.hM?.sheet}get ETg(){const a=this.hM;if(!(a&&a.cells.size>0&&a.rows.length===0&&a.cols.length===0))return!1;var b=this.XKj;for(var c=1;c<b.length;c++)if(a.sheet.rows.previous(b[c])!==b[c-1])return!1;b=this.WKj;for(c=1;c<b.length;c++)if(a.sheet.cols.previous(b[c])!==b[c-1])return!1;return!0}get vG(){const a=this.hM;return a&&(this.ETg||this.spn)?this.ETg?this.XKj:a.rows:[]}get k3b(){const a=
this.hM;return a&&(this.ETg||this.Zln)?this.ETg?this.WKj:a.cols:[]}get M1f(){if(this.hM){var a=this.vG.length>0,b=this.k3b.length>0;return{syj:a,tyj:a,Lxj:b,Mxj:b}}}get XKj(){const a=this.hM;return a?md(a.cells.map(b=>b.row)):[]}get WKj(){const a=this.hM;return a?md(a.cells.map(b=>b.column)):[]}get spn(){const a=this.hM;if(!a)return!1;const b=a.rows;for(let c=1;c<b.length;c++)if(a.sheet.rows.previous(b[c])!==b[c-1])return!1;return!0}get Zln(){const a=this.hM;if(!a)return!1;const b=a.cols;for(let c=
1;c<b.length;c++)if(a.sheet.cols.previous(b[c])!==b[c-1])return!1;return!0}constructor(){xVs.G(this)}},kvs=class extends xVs{static G(a){O(a,{hM:oV})}get hM(){const a=this.selection.Ma;var b=this.selection.Kb;if(!(this.Pa.mode<=30)){if(b&&b.type===4)return{sheet:b.container.sheet.config,rows:b.rows.map(c=>c),cols:b.columns.map(c=>c),cells:b.cells};if(a&&a.Ri(Ol.Sw)&&a.inner&&a.inner.type==="sheet"&&(a.type==="elements"||a.type==="pages")){switch(a.type){case "pages":b=a.inner.page.sheet;break;case "elements":b=
a.inner.sheet.config;break;default:throw new u(a);}return{sheet:b,rows:a.inner.rows.map(c=>c),cols:a.inner.columns.map(c=>c),cells:a.inner.cells}}}}constructor(a,b){super();this.selection=a;this.Pa=b;kvs.G(this)}};var nvs=class{static G(a){O(a,{activeCell:zV.ref,aea:oV})}get aea(){return this.cells.filter(a=>a.row<=this.activeCell.row&&a.col<=this.activeCell.col)}constructor(a=8,b=8){this.columns=a;this.rows=b;this.cells=(nvs.G(this),Array.from(Array(this.rows)).flatMap((c,d)=>Array.from(Array(this.columns)).map((e,f)=>({row:d,col:f}))));this.activeCell=this.cells[0]}},yVs={ArrowUp:-1,ArrowDown:1},zVs={ArrowRight:1,ArrowLeft:-1},ovs=class{static G(a){O(a,{select:iV,enter:iV,b2g:iV,reset:iV})}select(a,b){this.Se.QK({});
this.JIb(a.col+1,a.row+1);this.Se.F8a({wgc:`${a.col+1}x${a.row+1}`,rze:!0,A3c:!0,mb:b});this.Se.close({trigger:"insert"})}enter(a,b){a.activeCell=b}b2g(a,b){if(b==="ArrowUp"||b==="ArrowDown"){var c=a.cells.find(d=>d.col===a.activeCell.col&&d.row===Math.max(0,Math.min(a.activeCell.row+yVs[b],a.rows)));c&&(a.activeCell=c)}else if(b==="ArrowLeft"||b==="ArrowRight"){const d=(this.fj?-1:1)*zVs[b];(c=a.cells.find(e=>e.row===a.activeCell.row&&e.col===Math.max(0,Math.min(a.activeCell.col+d,a.columns))))&&
(a.activeCell=c)}}reset(a){a.activeCell=a.cells[0]}EHk(a,b){return!!a.aea.find(c=>b.row===c.row&&b.col===c.col)}constructor(a,b,c){this.Se=a;this.JIb=b;this.fj=c;ovs.G(this)}};var AVs=({id:a,ariaLabel:b,active:c,tb:d,onMouseEnter:e,onSelect:f})=>{const g=jV(()=>e(d),[d,e]),h=jV(()=>f(d),[d,f]);return fV("button",{tabIndex:-1,"aria-label":b,id:a,className:DV("q8e2xQ",{hd2lkg:c}),onMouseEnter:g,onClick:h})},pvs=hV(({controller:a,CDb:b,pVs:c,L:d})=>{const e=c.activeCell,f=jV(h=>d.enter(c,h),[d,c]),g=jV(h=>d.select(h,"click"),[d]);return fV("div",{className:"KHPSjw",children:fV("div",{role:"grid",id:b,className:"hM8_pw",style:{gridTemplateRows:`repeat(${c.rows}, 1fr)`,gridTemplateColumns:`repeat(${c.columns}, 1fr)`},
children:c.cells.map(h=>{const k=`${h.col}:${h.row}`,l=h===e;return fV(AVs,{id:l?a.u6:void 0,ariaLabel:l?J("Yc0w1g",[h.col+1,h.row+1]):void 0,tb:h,active:d.EHk(c,h),onMouseEnter:f,onSelect:g},k)})})})});var BVs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm-.5 10.75V9.5h4v4.25h-4Zm5.5 0V9.5h4v4.25h-4Zm-5.5 1.5h4v4.25H5a.5.5 0 0 1-.5-.5v-3.75Zm5.5 0v4.25h4v-4.25h-4Zm5.5 4.25v-4.25h4V19a.5.5 0 0 1-.5.5h-3.5Zm0-5.75V9.5h4v4.25h-4Z" fill="currentColor"/></svg>';var CVs=BVs.replace(/currentColor/g,"hsla(221,  62%, 30%, 1)"),DVs=BVs.replace(/currentColor/g,"rgba(255, 255, 255, 0.9)"),tvs=__c.cyc({medium:CVs},{medium:{light:CVs,dark:DVs}});var EVs=({id:a,ariaLabel:b,active:c,tb:d,onMouseEnter:e,onSelect:f})=>{const g=jV(()=>e(d),[d,e]),h=jV(()=>f(d),[d,f]);return fV("button",{tabIndex:-1,"aria-label":b,id:a,className:DV("HcyofA",{_5ejCMw:c}),onMouseEnter:g,onClick:h})},uvs=hV(({controller:a,CDb:b,s9s:c,L:d})=>{const e=c.activeCell,f=jV(h=>d.enter(c,h),[d,c]),g=jV(h=>d.select(h,"click"),[d]);return fV("div",{className:"dEypTw",children:fV("div",{role:"grid",id:b,className:"_TF0Tw",style:{gridTemplateRows:`repeat(${c.rows}, 1fr)`,gridTemplateColumns:`repeat(${c.columns}, 1fr)`},
children:c.cells.map(h=>{const k=`${h.col}:${h.row}`,l=h===e;return fV(EVs,{id:l?a.u6:void 0,ariaLabel:l?J("LmyhDA",[h.col+1,h.row+1]):void 0,tb:h,active:d.EHk(c,h),onMouseEnter:f,onSelect:g},k)})})})});var rvs=class{static G(a){O(a,{activeCell:zV.ref,aea:oV})}get aea(){return this.cells.filter(a=>a.row<=this.activeCell.row&&a.col<=this.activeCell.col)}constructor(a=8,b=8){this.columns=a;this.rows=b;this.cells=(rvs.G(this),Array.from(Array(this.rows)).flatMap((c,d)=>Array.from(Array(this.columns)).map((e,f)=>({row:d,col:f}))));this.activeCell=this.cells[0]}},FVs={ArrowUp:-1,ArrowDown:1},GVs={ArrowRight:1,ArrowLeft:-1},svs=class{static G(a){O(a,{select:iV,enter:iV,b2g:iV,reset:iV})}select(a,b){this.Se?.QK({});
this.addTable(a.col+1,a.row+1);this.Se?.F8a({wgc:`${a.col+1}x${a.row+1}`,rze:!0,A3c:!0,mb:b});this.Se?.close({trigger:"insert"})}enter(a,b){a.activeCell=b}b2g(a,b){if(b==="ArrowUp"||b==="ArrowDown"){var c=a.cells.find(d=>d.col===a.activeCell.col&&d.row===Math.max(0,Math.min(a.activeCell.row+FVs[b],a.rows)));c&&(a.activeCell=c)}else if(b==="ArrowLeft"||b==="ArrowRight"){const d=(this.fj?-1:1)*GVs[b];(c=a.cells.find(e=>e.row===a.activeCell.row&&e.col===Math.max(0,Math.min(a.activeCell.col+d,a.columns))))&&
(a.activeCell=c)}}reset(a){a.activeCell=a.cells[0]}EHk(a,b){return!!a.aea.find(c=>b.row===c.row&&b.col===c.col)}bBa(){this.P.track(vrg,{elementType:"table",mb:"click",Lua:"add",sPc:!1})}constructor(a,b,c,d){this.Se=a;this.P=b;this.addTable=c;this.fj=d;svs.G(this)}};var HVs='<svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.022 6.518a.502.502 0 0 0-.502.501v.789a1.254 1.254 0 0 1-2.508 0V6.016c0-1.108.898-2.006 2.007-2.006h12.037c1.108 0 2.006.898 2.006 2.006v1.765a1.254 1.254 0 1 1-2.507 0v-.762a.502.502 0 0 0-.502-.501h-3.762V16.8c0 .415.337.752.753.752h.752a1.254 1.254 0 0 1 0 2.508H9.279a1.254 1.254 0 0 1 0-2.508h.752a.752.752 0 0 0 .752-.752V6.518H7.022Z" fill="#992BFF"/></svg>';var yvs=Uq({medium:HVs});var xvs=class{static G(a){O(a,{addText:iV.bound})}bBa(){this.P.track(vrg,{elementType:"line",mb:"click",Lua:"add",sPc:!1})}constructor(a,b,c,d,e){this.store=a;this.mc=b;this.kd=c;this.qc=d;this.P=e;this.addText=(xvs.G(this),f=>{const g=this.store.gE?this.P5m(this.store.gE):void 0,{dimensions:h,attributes:k,U0:l,text:n=""}=g||{};let p;const {top:q,left:r,wXl:t}=f||{};h&&q&&r&&(p=t?{box:Oj({top:q,left:r,width:5,height:h.height/h.width*5})}:{box:Oj({top:q,left:r,width:h.width,height:h.height})});f=this.store.Zwa?
t?"":n:M("7D/4Bg");return this.qc.addText(f,{Xc:"tools_tab_click",U0:l||"default"},l?{type:"v2",attrs:{...k,"text-align":"start"}}:void 0,{RUf:this.store.Zwa},{...p}).then(v=>{this.P.track(vrg,{elementType:"text_box",mb:"click",Lua:"add",sPc:!1});return v})});this.A$c=f=>{if(this.store.Xe){var g=f.Hg?.type==="text"?f.Hg:void 0;g&&(g.text.Ya.trim().length===0&&(g.text.Ywa(`${M("WPMnRQ")}\n`),this.kd.K0(this.store.Xe,g)),this.mc.fBa(f,"all"))}};this.P5m=f=>{const g=M("WPMnRQ"),{attributes:h,U0:k,dimensions:l}=
__c.Goe(this.qc,f,g);return{attributes:h,U0:k,dimensions:l,text:g}}}};var wvs=class{static G(a){O(a,{isActive:zV.ref,MEb:iV,Xe:oV,gE:oV})}MEb(a){this.isActive=a??!1}get Zwa(){return this.C4a&&Ic.Oib&&!xc.vI}get Xe(){const a=this.viewport.Vg;return a.type==="fixed-page"?a:void 0}get gE(){if(this.Xe)return this.Xe.ia}constructor(a,b){this.viewport=a;this.C4a=b;this.isActive=(wvs.G(this),!1)}};var Cvs=new __c.fv({viewBox:{top:0,left:0,height:64,width:64},paths:[new __c.ev({d:"M32 0A32 32 0 1 0 32 64A32 32 0 1 0 32 0Z",fill:{...ks,color:"#777777"}})],slice:{source:{top:0,left:0,height:64,width:64},eq:64,Qp:64,horizontal:1,vertical:1},ed:[{box:{top:6,left:6,width:52,height:52},RK:4,Ki:2}],Lq:{dT:!1,j$:!1}}),Bvs=new __c.fv({viewBox:{top:0,left:0,height:64,width:64},paths:[new __c.ev({d:"M0 0H64V64H0z",fill:{...ks,color:"#777777"}})],slice:{source:{top:0,left:0,height:64,width:64},eq:64,Qp:64,
horizontal:1,vertical:1},ed:[{box:{top:0,left:0,width:64,height:64},RK:4,Ki:2}],Lq:{dT:!1,j$:!1}});var Svs=GV(a=>fV(a.rl,{Icon:__c.M5g,label:a.jYa==="page"?M("Jtb4MA"):M("WikA8g")})),Tvs=GV(a=>{const {rl:b,...c}=a;return fV(b,{...c,Icon:__c.M5g,label:M("l7115Q")})}),Uvs=GV(a=>{const {rl:b,...c}=a;return fV(b,{...c,Icon:__c.K5g,label:M("PatQHw")})}),Vvs=GV(a=>{const {rl:b,...c}=a;return fV(b,{...c,Icon:__c.Q5g,label:M("etlgHg")})}),Wvs=GV(a=>{const {rl:b,...c}=a;return fV(b,{...c,Icon:__c.S5g,label:M("Iwm8FQ")})}),Xvs=GV(a=>{const {rl:b,...c}=a;return fV(b,{...c,Icon:__c.O5g,label:M("m9R5rA")})}),
Yvs=GV(a=>{const {rl:b,...c}=a;return fV(b,{...c,Icon:__c.I5g,label:M("b6YrlQ")})});var Rvs=class{static G(a){O(a,{NLa:iV.bound,iPn:iV.bound})}NLa(a,b){const c=this.selection.Ma;c&&c.type==="elements"&&c.Ri()&&(Kvs(this,a),this.NI(a,b))}iPn(){const a=this.selection.Ma;if(a?.elements&&a.box&&a.Ri()){var b=a.elements;if(!(b.some(k=>k.type==="group")&&b.length>1)){var c=b[0].type==="group"?b[0]:void 0;b=c?c.pb.toArray():b;var d=c?Lj(0,0,c.gb,c.Wb):a.box;b=b.filter(k=>k.type==="text").filter(k=>k.rotation===d.rotation);var e=Mvs(new Set(b.map(k=>k.writingMode||1)));if(e!=null){e=__c.Mn(e);
var f=Tj(d),g=d.Fn();for(const k of b){var h=Oj(k).transform(g).Nb();e?(h.left=0,h.width=d.width):(h.top=0,h.height=d.height);const l=k.gb&&k.gb/k.width,n=k.Wb&&k.Wb/k.height;h=Oj(h).transform(f).Nb();k.top=h.top;k.left=h.left;k.width=h.width;k.height=h.height;k.gb=l&&h.width*l;k.Wb=n&&h.height*n}if(c)this.kd.I5(a.container,c,b);else for(const k of b)this.kd.K0(a.container,k)}}}}NI(a,b){const c=this.selection.Ma,d=this.store.smc;d&&c&&c.type==="elements"&&this.N?.track(aTs,{eF:c.container.page.elements.count(),
Zcd:d.length,mE:d.map(e=>e.type).join(", "),Bq:0,ss:0,anchor:a,mb:b})}constructor(a,b,c,d,e){this.store=a;this.Wr=b;this.kd=c;this.selection=d;this.N=e;Rvs.G(this)}},Ovs=class{static G(a){O(a,{sDl:oV})}get sDl(){return this.store.Dig!=null}constructor(a,b){this.store=a;this.Za=b;this.NLa=(Ovs.G(this),c=>{this.Za.IW(()=>{const d=this.store.Dig;d&&Lvs(d,c)})});this.wnq=()=>{this.Za.IW(()=>{const c=this.store.Dkh,d=this.store.Dig;if(d&&c)switch(c){case "center":Lvs(d,"left");break;case "left":Lvs(d,
"right");break;case "right":Lvs(d,"center");break;default:throw new u(c);}})}}};var IVs=GV(a=>{const b=a.disabled,c=a.label,d=a.Dm,e=a.Icon;a=a.onClick;const f=d&&!__c.$b();return fV(Wi,{alignment:"start",variant:"secondary",disabled:b,onClick:a,icon:e,stretch:!0,children:mV($q,{Fa:"start",tagName:"span",spacing:"1u",children:[fV(Yq,{children:fV(Q,{tone:cr,lineClamp:1,children:c})}),f&&fV(Yq,{width:"content",children:fV(__c.Pc,{Xoa:d,compact:!0})})]})})});var JVs=GV(a=>fV(R,{className:"_6NSm3Q RX4d5g SX2FBg",children:fV(dr,{size:"xsmall",tone:"primary",id:a.id,children:a.text})}));var KVs=GV(a=>{var b=a.display;const c=a.title,d=a.$Wc,e=a.children;a=(0,__c.tc)();b=fV(ar,{columns:2,dxa:b==="compact"?"0":"1u",bJa:"1u",role:"group",tagName:"section",Rf:a,children:e});return c&&d?mV(Tc,{spacing:"1u",children:[fV(JVs,{text:c,id:a}),b]}):b});var Zvs=GV(a=>{const b=a.display;var c=a.jYa;const d=a.$Wc,e=a.NLa,f=a.K_d,g=a.E_d,h=a.F_d,k=a.z_d,l=a.y_d;a=a.I_d;const n=jV(()=>e("top","toolbar"),[e]),p=jV(()=>e("left","toolbar"),[e]),q=jV(()=>e("middle","toolbar"),[e]),r=jV(()=>e("center","toolbar"),[e]),t=jV(()=>e("bottom","toolbar"),[e]),v=jV(()=>e("right","toolbar"),[e]);c=c?c==="page"?M("Jtb4MA"):M("WikA8g"):M("s8R+mQ");return mV(KVs,{display:b,title:c,$Wc:d,children:[fV(IVs,{onClick:n,disabled:f,Icon:__c.S5g,label:M("Iwm8FQ")}),fV(IVs,{onClick:p,
disabled:g,Icon:__c.M5g,label:M("l7115Q")}),fV(IVs,{onClick:q,disabled:h,Icon:__c.O5g,label:M("m9R5rA")}),fV(IVs,{onClick:r,disabled:k,Icon:__c.K5g,label:M("PatQHw")}),fV(IVs,{onClick:t,disabled:l,Icon:__c.I5g,label:M("b6YrlQ")}),fV(IVs,{onClick:v,disabled:a,Icon:__c.Q5g,label:M("etlgHg")})]})});var LVs,MVs,NVs,OVs,PVs,QVs,Pvs;
new (LVs=class extends JV{constructor(){super(Pvs);NVs()}},(()=>{class a extends(OVs=IV){static G(b){O(b,{onClick:iV.bound})}onClick(){this.props.onClick?.()}getIcon(b){switch(b){case "left":return __c.ldr;case "center":return __c.jdr;case "right":return __c.ndr;default:throw new u(b);}}render(){const {yi:b,alignment:c,children:d,...e}=this.props,f=this.getIcon(c||"center");return fV(b,{...e,disabled:c==null,onClick:this.onClick,icon:f,zh:"icon",tooltip:M("V/DN5w"),children:M("V/DN5w")})}constructor(...b){super(...b);
a.G(this)}}({c:[Pvs,NVs]}=KV(a,[],[Lb],OVs))})(),LVs);var Qvs;
new (MVs=class extends JV{constructor(){super(Qvs);PVs()}},(()=>{class a extends(QVs=IV){static G(b){O(b,{onChange:iV.bound})}onChange(b){this.props.NLa(b)}render(){return fV(R,{padding:"3u",paddingTop:"0",children:fV(__c.xx,{value:this.props.alignment,onChange:this.onChange,options:[{label:fV(__c.ldr,{size:"medium"}),value:"left",ariaLabel:M("l7115Q")},{label:fV(__c.jdr,{size:"medium"}),value:"center",ariaLabel:M("PatQHw")},{label:fV(__c.ndr,{size:"medium"}),value:"right",ariaLabel:M("etlgHg")}]})})}constructor(...b){super(...b);
a.G(this)}}({c:[Qvs,PVs]}=KV(a,[],[Lb],QVs))})(),MVs);var RVs=class{static G(a){O(a,{lxa:zV.ref,ED:zV.ref,Rrd:oV,IV:oV,DIk:oV,Exo:oV})}get Rrd(){if(this.Pa.mode<40)return!1;const a=this.selection.Ma;switch(a?.type){case "elements":const b=a?.inner?.type;return b==="sheet"||b==="sheet-cell-media"?!1:this.la.layout===1?!0:a.Ri();case "pages":return this.la.layout===2||a.Pd&&hf(a.Pd)?!1:a.pages.length===1&&a.pages.every(c=>c.type!=="responsive");case "audio":return!1;case void 0:return this.DIk;default:throw new u(a);}}get IV(){const a=this.selection.Ma;
return a?.type==="elements"&&a.elements.every(b=>b.type==="line")?"start-and-end-points":"size-and-position"}get DIk(){const a=this.lxa,b=this.toolbar;return a!=null&&b.sX(a)}get Exo(){const a=this.Rrd,b=this.ED,c=this.DIk;return this.la.layout===1&&a&&!(b==="layers"&&c)}constructor(a,b,c,d){this.selection=a;this.la=b;this.toolbar=c;this.Pa=d;this.lxa=(RVs.G(this),void 0);this.ED="arrange"}};var SVs=class{static G(a){O(a,{Y4e:iV.bound,wVi:iV.bound,Scc:oV,oYc:iV.bound})}Y4e(){this.store.ED="layers"}wVi(){this.store.ED="arrange"}get Scc(){return this.store.lxa==null?!1:this.toolbar.sX(this.store.lxa)}oG(){if(this.store.lxa!=null)return this.toolbar.dC(this.store.lxa)}hE(){if(this.store.lxa!=null)return this.toolbar.BV(this.store.lxa)}oYc(){const a=this.selection.Ma;this.N.track(cTs,{eF:a?.type==="elements"?a.container.page.elements.count():0,Zcd:a?.elements?a.elements.length:0,mE:a?.elements?
a.elements.map(b=>b.type).join(", "):"",Bq:0,ss:0,Fe:this.store.ED})}constructor(a,b,c,d){this.store=a;this.selection=b;this.toolbar=c;this.N=d;SVs.G(this)}};var TVs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.035 8.341c-.857-.257-1.356-.67-1.528-1.527a.187.187 0 1 0-.373 0c-.258.857-.67 1.356-1.528 1.527a.187.187 0 0 0 0 .374c.857.257 1.356.67 1.528 1.528a.187.187 0 0 0 .373 0c.258-.857.67-1.356 1.528-1.528a.187.187 0 1 0 0-.374ZM22.983 4.16c-2.034-.406-2.911-1.386-3.318-3.369a.25.25 0 0 0-.24-.188.25.25 0 0 0-.242.19c.004-.007-.005.004 0 0-.407 2.034-1.334 2.961-3.317 3.368a.254.254 0 1 0 0 .508c2.033.407 2.907 1.366 3.313 3.349a.25.25 0 0 0 .245.21.25.25 0 0 0 .243-.197c.003-.004-.003.005 0 0 .406-2.034 1.333-2.955 3.316-3.362a.254.254 0 1 0 0-.508Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M14.063 3H7a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h6.116a4 4 0 0 0 2.838-1.182l3.885-3.912A4 4 0 0 0 21 13.088V9.563h-1.5v2.224a1.25 1.25 0 0 1-1.25 1.23h-1.5a3.75 3.75 0 0 0-3.75 3.75v1.483c0 .69-.56 1.25-1.25 1.25H7A2.5 2.5 0 0 1 4.5 17V7A2.5 2.5 0 0 1 7 4.5h7.063V3Zm.827 15.761a2.5 2.5 0 0 1-.551.42c.104-.291.161-.604.161-.931v-1.483a2.25 2.25 0 0 1 2.25-2.25h1.5c.314 0 .616-.053.898-.15a2.493 2.493 0 0 1-.374.482l-3.884 3.912Z" fill="currentColor"/></svg>';var UVs=Uq({medium:TVs});var Sws=a=>{const {rl:b,jg:c,...d}=a;return fV(b,{...d,Icon:c?UVs:__c.hdk,label:M("j0l+TQ")})},Rws=class extends IV{static G(a){O(a,{twc:iV.bound,Tvc:iV.bound,AE:iV.bound,l1b:iV.bound})}twc(){this.props.twc();this.props.oa()}Tvc(){this.props.Tvc();this.props.oa()}AE(){this.props.AE();this.props.oa()}l1b(){this.props.l1b();this.props.oa()}render(){return mV(Qo,{role:"menu",className:"kiVd2Q",children:[this.props.qNd?fV(St,{onClick:this.twc,start:fV(__c.HEi,{size:"medium"}),children:M("OIpCMA")}):null,
fV(St,{onClick:this.Tvc,start:fV(__c.Zwh,{size:"medium"}),children:M("fiROpg")}),fV(St,{onClick:this.AE,start:fV(__c.hfg,{size:"medium"}),children:M("RLWDLA")}),fV(St,{onClick:this.l1b,start:fV(__c.kOr,{size:"medium"}),children:M("v++iLQ")})]})}constructor(...a){super(...a);Rws.G(this)}};var Pws=a=>fV(a.yi,{pressed:a.open,icon:a.jg?UVs:void 0,zh:a.jg?"icon-and-label":"label",onClick:a.onClick,children:M("j0l+TQ")}),Qws=class extends IV{static G(a){O(a,{Tvc:iV.bound,AE:iV.bound,twc:iV.bound,l1b:iV.bound})}Tvc(){this.props.Tvc();this.props.oa()}AE(){this.props.AE();this.props.oa()}twc(){this.props.twc();this.props.oa()}l1b(){this.props.l1b();this.props.oa()}render(){return mV(Qo,{role:"menu",className:this.props.la.layout===1?"_3gcOhg":void 0,children:[this.props.qNd?fV(this.u9l,{children:fV(St,
{onClick:this.twc,start:fV(__c.HEi,{size:"medium"}),children:M("OIpCMA")})}):null,fV(this.$4o,{children:fV(St,{onClick:this.Tvc,start:fV(__c.Zwh,{size:"medium"}),children:M("fiROpg")})}),fV(St,{onClick:this.AE,start:fV(__c.hfg,{size:"medium"}),children:M("RLWDLA")}),fV(St,{onClick:this.l1b,start:fV(__c.kOr,{size:"medium"}),children:M("v++iLQ")})]})}constructor(a){super(a);this.u9l=(Qws.G(this),void 0);const b=this.props.hY;this.u9l=(a=this.props.qNd)&&b?c=>fV(b,{children:c.children}):c=>c.children;
this.$4o=!a&&b?c=>fV(b,{children:c.children}):c=>c.children}};var VVs={eventType:"magic_sort_interacted",Oa(a){return jf({control_context:a.mb,sort_type:a.p4b,status:a.status,failure_code:a.ELb,failure_reason:a.Vn,num_elements_selected:a.Zcd,element_types:a.mE,editing_context:a.Ca==null?void 0:mf(a.Ca),performance_context:a.Tb==null?void 0:pf(a.Tb)})}};var WVs,XVs,YVs,Kws=({title:a,message:b})=>{a=a??M("TSfhVA");return fV(__c.ld,{title:a,explanation:fV(()=>fV(Q,{tone:"secondary",children:fV(__c.Zj,{message:b})}),{}),button:{children:M("21qtHA")}})},Fws;
new (WVs=class extends JV{constructor(){super(Fws);XVs()}},(()=>{class a extends(YVs=IV){static G(b){O(b,{sie:zV.ref})}componentDidMount(){this.handle=window.setInterval(iV(()=>this.sie++),1E3)}componentWillUnmount(){window.clearInterval(this.handle)}render(){const {edb:b=this.edb,I1r:c}=this.props,d=1-Math.pow(1.5,-this.sie);return fV(__c.rr,{open:!0,children:fV(R,{padding:"2u",children:mV(Tc,{spacing:"2u",align:"center",children:[fV(dr,{alignment:"center",children:M("dT7lrw")}),mV(Tc,{spacing:"1u",
children:[fV(__c.xC,{value:d*100}),fV(Q,{alignment:"center",tone:"secondary",margins:"legacy",children:fV(__c.Uvm,{edb:b})})]}),fV(Wi,{variant:"secondary",onClick:c,children:M("iIww4Q")})]})})})}constructor(...b){super(...b);this.edb=(Fws.G(this),Math.floor(Math.random()*23));this.sie=0}}({c:[Fws,XVs]}=KV(a,[],[Lb],YVs))})(),WVs);var ZVs=class{get(a,b){if(b.length&&!b.some(e=>!this.Azg.has(e))){var c=b.map(e=>this.Azg.get(e)).filter(sb),d=c.map(e=>new Set(e));c=new Set(c.flatMap(e=>e));for(const e of c)if(e.TBq===b.length&&d.every(f=>f.has(e)))if(ows(e,a))lws(this,b,e);else return e}}constructor(){this.Azg=new WeakMap}},mws=class{get fXn(){return this.HIo}get wPd(){return this.DJo.map(a=>a.deref()).filter(sb)}set wPd(a){this.DJo=a.map(pws)}update(a,b){this.HIo=a;this.wPd=b;this.Gvh=new WeakMap;b.forEach(c=>this.Gvh.set(c,
c.text.Ya))}constructor(a,b,c,d){this.page=a;this.TBq=b;this.Gvh=new WeakMap;this.DJo=[];this.HIo=d;this.wPd=c;c.forEach(e=>this.Gvh.set(e,e.text.Ya))}};var Mws=class{static G(a){O(a,{state:zV.ref,tNj:zV.ref,$l:oV,Lm:oV,Okh:oV,kph:oV,qNd:oV,Uie:oV,jWh:oV})}get Vg(){const a=this.ya.Rw.Vg;sa(a.type!=="responsive-page");return a}get $l(){const a=this.selection.Ma;if(a&&a.type==="elements"&&a.Ri())return a}get Lm(){return this.$l&&this.$l.elements?this.$l.elements:[]}get Okh(){const a=[],b=c=>{Wj(c)?a.push(c):c.type==="group"&&c.pb.forEach(b)};this.Lm.forEach(b);return a}get kph(){return this.Okh.length>=1}get qNd(){return this.X!=null}get Uie(){return this.selection.Ma?.box}get jWh(){if(this.Okh.length===
0)return{x:0,y:0};const a=this.Okh.flatMap(b=>Oj(b).Ah());return __c.Mj(...a).tl}constructor(a,b,c){this.selection=a;this.ya=b;this.X=c;this.state=(Mws.G(this),0)}};var vws=18*Wt,tws=vws+16;var Gws={Js:3E4},Aws=["#252627","#f6f7f8"],Jws=["#ffffff","#0e1318"],Ows=class{static G(a){O(a,{RXg:iV})}wQa(){this.store.tNj&&this.toolbar.dC(this.store.tNj)}async RXg(a,b,c){var d=this.selection.Ma?.container;if(d?.type==="fixed-page"){d=d.page;c=c.map(g=>g.Ojd);var e=this.Fum.get(d,c);if(e&&this.document.pages.has(e.page)){var f=e.page.elements.filter(h=>e.wPd.some(k=>k===h));const g=zf(this.document).xb(e.page);f.length>0&&this.Ap.Zra?.(f,g)}f=e?.fXn?sj(this.store.jWh,e.fXn):this.store.jWh;zws(b,
f);a=await Cws(this,a,b,f);nws(this.Fum,c,a,sj(this.store.jWh,f),d)}}get fAc(){const a=[],b=c=>{if(Wj(c))c.rotation=0,a.push({Ojd:c,Oeo:[]});else if(c.type==="group"&&c.pb.filter(Wj).length>0){const h=this.store.Vg;var d=c.rotation;c=h.Me(c);if(c=__c.oqf(this.c_a,[c])){({elements:c}=c.FQd());var e=[],f=[];c.forEach(k=>{Wj(k)?e.push(k):f.push(k)});if(f.length){c=f.map(k=>h.Me(k));c=__c.nqf(this.c_a,c,d);if(!c)return;c=c.group();if(!c?.ia)return;e.push(c?.ia)}this.store.selection.Dhd(h,...e);e.forEach(b)}}else{var g=
0;for(const h of a){const k=Oj(h.Ojd),l=Oj(c),n=gws(k,l);cws(k,l,n)&&g<=n&&(d=h,g=n)}d!=null&&d.Oeo.push(c)}};this.store.Lm.forEach(b);return a}Gph(){this.ma.Ib({Db:M("Of29Hg"),NX:!1})}AOa(a){return this.V.wb("cluster_elements",{Hb:{name:"editor.editing.arrangement.clustering",type:a}})}NI(a,b){const c=this.store.$l,d=this.N;if(c!=null&&d!=null){var e={};c.elements.map(f=>{f=f.type;e[f]=(e[f]||0)+1});Uo({ob:a.ob(),P:d,event:VVs,props:{...b,Zcd:c.elements.length,mE:e.toString()}});a.qe()}}constructor(a,
b,c,d,e,f,g,h,k,l,n,p,q,r,t,v,w,x,y,z,B){this.document=a;this.store=b;this.toolbar=c;this.selection=d;this.qc=e;this.Ap=f;this.c_a=g;this.K1e=h;this.hb=k;this.undo=l;this.zf=n;this.gg=p;this.errorService=q;this.ma=r;this.N=t;this.V=v;this.s0g=w;this.Ga=x;this.alert=y;this.K7d=z;this.qHi=B;this.jWj=(Ows.G(this),new Map);this.Fum=new ZVs;this.Tvc=iV(async C=>{if(this.store.state!==1){var G=this.AOa("color"),H=this.undo.startBuffering(),K=this.fAc,L=await Ews(this,"color",K);L=sws("color",this.zf,L,
this.store.Uie?.width);try{this.RXg("color",L,K),this.NI(G,{mb:C,p4b:"color",status:"succeeded"})}catch(N){this.NI(G,{mb:C,p4b:"color",status:"failed"}),this.errorService.ra(N,"Error sorting elements by color")}finally{rV(()=>H.stop())}}});this.AE=iV(async C=>{if(this.store.state!==1){var G=this.AOa("author"),H=this.undo.startBuffering(),K=this.fAc,L=await Ews(this,"author",K);L=sws("author",this.zf,L,this.store.Uie?.width);try{await this.RXg("author",L,K),this.NI(G,{mb:C,p4b:"author",status:"succeeded"})}catch(N){this.NI(G,
{mb:C,p4b:"author",status:"failed"}),this.errorService.ra(N,"Error sorting elements by author")}finally{rV(()=>H.stop())}}});this.twc=iV(async C=>{if(this.store.state!==1){var G=this.AOa("topic"),H=this.undo.startBuffering();try{const K=await Hws(this);await rV(async()=>{if(K)switch(K.type){case "SUCCESS":var L=K.Eum,N=K.vHn;const T=K.xVm;var P=K.wHn;const V=[];for(const W of L)L=Iws(this,W.XXr),V.push({key:W.y6p,fAc:L});N=Iws(this,[...N,...(T||[])]);N.length!==0&&V.push({key:P,fAc:N});P=sws("topic",
this.zf,V,this.store.Uie?.width);await this.RXg("topic",P,this.fAc);this.NI(G,{mb:C,p4b:"topic",status:"succeeded"});this.qHi?.();await this.s0g();break;case "FAILURE":Lws(this,K);this.NI(G,{mb:C,p4b:"topic",status:"failed",ELb:K.error,Vn:K.message});break;default:throw new u(K);}})}catch(K){this.NI(G,{mb:C,p4b:"topic",status:"failed"}),this.Gph(),this.errorService.ra(K,"Error sorting elements by topic")}finally{rV(()=>{H.stop();this.store.state=0}),this.jWj.clear()}}});this.l1b=iV(async C=>{if(this.store.state!==
1){var G=this.AOa("reaction"),H=this.undo.startBuffering(),K=this.fAc,L=await Ews(this,"reaction",K);L=sws("reaction",this.zf,L,this.store.Uie?.width);try{await this.RXg("reaction",L,K),this.NI(G,{mb:C,p4b:"reaction",status:"succeeded"})}catch(N){this.NI(G,{mb:C,p4b:"reaction",status:"failed"}),this.errorService.ra(N,"Error sorting elements by reaction")}finally{rV(()=>H.stop())}}})}};var $Vs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="m19.48 10.82 1.7.83a1 1 0 0 1 0 1.8L15 16.49V14.8l4.6-2.26-1.82-.9 1.7-.83zm-14.96 0-1.7.83a1 1 0 0 0 0 1.8L9 16.49V14.8l-4.6-2.26 1.82-.9-1.7-.83zm8.23 9.5L15 18.07a.75.75 0 0 1 1.06 1.06l-2.83 2.83c-.68.68-1.79.68-2.47 0l-2.83-2.83a.75.75 0 0 1 1.06-1.06l2.26 2.26V6.9a.75.75 0 1 1 1.5 0v13.43zM15 11.35V9.68l4.6-2.27L12.66 4c-.42-.2-.9-.2-1.32 0L4.4 7.4 9 9.68v1.67L2.82 8.3a1 1 0 0 1 0-1.8l7.86-3.86a3 3 0 0 1 2.64 0l7.86 3.87a1 1 0 0 1 0 1.79L15 11.35z"/></svg>';var Cxs=Uq({medium:$Vs});var aWs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12.75 3.82v9.43a.75.75 0 1 1-1.5 0V3.81L8.99 6.07A.75.75 0 1 1 7.93 5l2.83-2.83a1.75 1.75 0 0 1 2.47 0L16.06 5A.75.75 0 0 1 15 6.07l-2.25-2.25zM15 8.48l6.18 3.04a1 1 0 0 1 0 1.79l-7.86 3.86a3 3 0 0 1-2.64 0l-7.86-3.86a1 1 0 0 1 0-1.8L9 8.49v1.67L4.4 12.4l6.94 3.42c.42.2.9.2 1.32 0l6.94-3.42-4.6-2.26V8.48zm4.48 7.34 1.7.83a1 1 0 0 1 0 1.8l-7.86 3.86a3 3 0 0 1-2.64 0l-7.86-3.86a1 1 0 0 1 0-1.8l1.7-.83 1.7.83-1.82.9 6.94 3.41c.42.2.9.2 1.32 0l6.94-3.41-1.82-.9 1.7-.83z"/></svg>';var Exs=Uq({medium:aWs});var bWs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12.75 5.82v8.43a.75.75 0 1 1-1.5 0V5.81L8.99 8.07A.75.75 0 1 1 7.93 7l2.83-2.83a1.75 1.75 0 0 1 2.47 0L16.06 7A.75.75 0 0 1 15 8.07l-2.25-2.25zM15 10.48l6.18 3.04a1 1 0 0 1 0 1.79l-7.86 3.86a3 3 0 0 1-2.64 0l-7.86-3.86a1 1 0 0 1 0-1.8L9 10.49v1.67L4.4 14.4l6.94 3.42c.42.2.9.2 1.32 0l6.94-3.42-4.6-2.26v-1.67z"/></svg>';var Dxs=Uq({medium:bWs});var cWs=Po("1"),xxs=GV(a=>fV(a.rl,{Icon:__c.xdr,label:M("T1qMzw")})),yxs=GV(a=>{const {rl:b,...c}=a;return fV(b,{...c,Icon:Dxs,label:M("Pxfk5A")})}),zxs=GV(a=>{const {rl:b,...c}=a;return fV(b,{...c,Icon:Exs,label:M("pbaLlQ")})}),Bxs=GV(a=>{const {rl:b,...c}=a;return fV(b,{...c,Icon:Cxs,label:M("t3ZWGw")})}),Axs=GV(a=>{const {rl:b,...c}=a;return fV(b,{...c,Icon:__c.Cdr,label:M("u+2kVg")})}),dWs=GV(a=>{const {rl:b,...c}=a;return fV(b,{...c,Icon:__c.xdr,label:M("1PXGVQ"),Dm:cWs})});var rxs=class{static G(a){O(a,{Lmc:iV.bound})}Lmc(a,b,c){if(this.store.SO){var d=this.selection.Ma;if(d&&d.type==="elements"){var e=this.V.wb("element_z_index_changed",{Hb:{name:"editor.element_z_index_changed"}});switch(a){case "forward":c?Uws(d,c):(c=d.elements,(c=this.store.Dzg?.next(c[c.length-1]))?Uws(d,c):Wws(this,d));break;case "backward":c?Vws(d,c):(c=d.elements,(c=this.store.Dzg?.previous(c[0]))?Vws(d,c):Xws(this,d));break;case "front":Wws(this,d);break;case "back":Xws(this,d);break;default:throw new u(a);
}this.NI(d,a,b,e)}}}NI(a,b,c,d){const e=a.elements,f={eF:a.container.page.elements.count(),Zcd:e.length,mE:e.map(g=>g.type).join(", "),Bq:0,ss:0,direction:b,mb:c};d.ob().wk(({Oi:g})=>{this.N.track(bTs,{...f,Tb:g()})});d.qe()}constructor(a,b,c,d){this.store=a;this.selection=b;this.N=c;this.V=d;rxs.G(this)}};var txs=Pk("]"),uxs=Pk("["),vxs=Pk(Po("]")),wxs=Pk(Po("[")),sxs=GV(a=>{const b=a.Rtq,c=a.Bvq,d=a.Avq,e=a.b$r;return mV(KVs,{display:a.display,children:[fV(IVs,{className:"CLbnnA",onClick:()=>e("forward"),disabled:a.tuq,Icon:Dxs,label:M("Y8Drbw")}),fV(IVs,{className:"_4CQkCw",onClick:()=>e("backward"),disabled:b,Icon:__c.Cdr,label:M("LypM5g")}),fV(IVs,{onClick:()=>e("front"),disabled:c,Icon:Exs,label:M("SOg37g")}),fV(IVs,{onClick:()=>e("back"),disabled:d,Icon:Cxs,label:M("r/JBnA")})]})});var qxs=class{static G(a){O(a,{SO:oV,Dzg:oV,J9h:oV,I9h:oV,kng:oV,Swg:oV,Fwg:oV,o2f:oV,ISf:oV})}get SO(){return this.selection.Ma?.type==="elements"&&this.selection.Ma.Ri()}get Dzg(){const a=this.selection.Ma;if(a&&a.type==="elements"){var b=a.box;return a.container.page.elements.jUa(c=>!!b&&b.intersects(Oj(c)))}}get J9h(){const a=this.ISf,b=this.selection.Ma;if(!b||b.type!=="elements")return!1;const c=b.elements.length;return a.indexOf(b.elements[0])===a.length-c}get I9h(){const a=this.selection.Ma;
if(!a||a.type!=="elements")return!1;const b=a.elements.length;return this.ISf.lastIndexOf(a.elements[b-1])===b-1}get kng(){const a=this.selection.Ma;return!!a&&a.type==="elements"&&a.Ri()}get Swg(){return!this.kng||this.J9h}get Fwg(){return!this.kng||this.I9h}get o2f(){const a=this.selection.Ma;if(this.Pa.mode!==40||this.la.layout!==2)return!1;switch(a?.type){case "pages":return a.pages.every(b=>b.type!=="responsive");case "elements":return!0;case "audio":case void 0:return!1;default:throw new u(a);
}}get ISf(){const a=this.selection.Ma;if(!a||a.type!=="elements")return[];const b=a.box;return b?a.container.page.elements.filter(c=>b.intersects(Oj(c))):[]}constructor(a,b,c){this.selection=a;this.Pa=b;this.la=c;qxs.G(this)}};var eWs=GV(a=>fV(a.yi,{zh:"icon-and-label",icon:a.icon,pressed:a.open,disabled:a.disabled,onClick:a.onClick,children:a.label})),Fxs=GV(a=>fV(eWs,{...a,icon:Dxs,label:M("Y8Drbw")})),Gxs=GV(a=>fV(eWs,{...a,icon:Exs,label:M("SOg37g")})),Hxs=GV(a=>fV(eWs,{...a,icon:__c.Cdr,label:M("LypM5g")})),Ixs=GV(a=>fV(eWs,{...a,icon:Cxs,label:M("r/JBnA")}));var mxs=GV(a=>fV(a.yi,{zh:"icon-and-label",icon:__c.xdr,pressed:a.open,onClick:a.onClick,children:M("rx7oXA")}));var fWs,gWs,hWs,iWs={type:"fixed",scale:1,gB:{$Qa:0}},fxs;
new (fWs=class extends JV{constructor(){super(fxs);gWs()}},(()=>{class a extends(hWs=IV){static G(b){O(b,{Ccc:oV,Kg:oV})}get Ccc(){const b=this.props.hb.kl(this.props.page);return!ug(b)}get Kg(){const b=this.props.hb.kl(this.props.page);sa(!ug(b));return sg(4,b)}render(){var b=this.props.page,c=this.props.vd;const d=this.props.Z7;var e=c;if(this.Ccc){e=this.Kg.width;c=this.Kg.height;const f=this.gd.get();e*=f;c*=f}b=b.Hc.first();return fV("div",{style:{width:e,height:c},className:"U4ZyRw",children:this.Ccc&&
b?fV(d,{fill:b,$q:void 0,Tc:iWs,vd:this.Kg.width,Df:this.Kg.height,gd:this.gd,g4b:!1}):fV(__c.NFb,{origin:this.origin,zoom:this.zoom})})}constructor(...b){super(...b);this.origin=(fxs.G(this),oV(()=>new pj(0,0)));this.zoom=oV(()=>1);this.gd=oV(()=>this.props.vd/this.Kg.width)}}({c:[fxs,gWs]}=KV(a,[],[Lb],hWs))})(),fWs);var jWs=hV(a=>{const {selected:b,ariaLabel:c,ib:d,children:e,badge:f,onContextMenu:g,...h}=a;a=!Ic.wba&&Wb();return fV("div",{className:DV("hiyW1Q","_7g14zg",{F00yww:a}),onContextMenu:g,children:mV(__c.Ou,{nDb:"compact",children:[fV(hr,{className:DV("TTS2mw",{F00yww:a,qJ7DdQ:b}),ariaLabel:c,ib:d,ek:"right",...h,children:e}),f]})})});var kWs,lWs,mWs,nWs,oWs,pWs,qWs,rWs=parseInt("36px",10)+2*parseInt("8px",10)+2*parseInt("2px",10),sWs=parseInt("8px",10)/2,tWs=parseInt("8px",10)*1.5,uWs=parseInt("8px",10)*2,lxs,vWs=class extends IV{componentDidMount(){Gb(this,[gV(()=>this.props.NZe.get(),a=>this.props.dzl(a),{fireImmediately:!0}),gV(()=>this.props.Lm.get(),()=>this.props.Dxi(),{fireImmediately:!0})])}render(){const a=this.props.layout;var b=this.props.o1o;const c=this.props.yup,d=this.props.egj,e=this.props.gAp,f=a===2?`${sWs}px ${tWs}px ${__c.$c().bottom+
tWs}px`:`${sWs}px ${uWs}px ${uWs}px`,g=this.wdq(f);b=this.props.ev?fV(d,{aeb:{Gbb:"1u"},xE:rWs,Jg:this.props.ev,cnb:g,children:b&&fV(b,{})}):fV(e,{aeb:{Gbb:"1u",hMk:f},xE:rWs,children:b&&fV(b,{})});return mV("div",{className:DV("spuUow",{_2rV2dQ:a===2}),children:[fV(R,{padding:a===2?"1.5u":"2u",paddingTop:a===2?"0":"2u",children:fV(c,{})}),fV("div",{className:"_0M3pDA",children:b})]})}constructor(...a){super(...a);this.wdq=b=>GV(({children:c})=>fV("div",{style:{padding:b},children:fV(Tc,{spacing:"1u",
children:c})}))}};({c:[lxs,mWs]}=KV(vWs,[],[Lb],IV));mWs();var gxs;
new (kWs=class extends JV{constructor(){super(gxs);nWs()}},(()=>{class a extends(oWs=IV){static G(b){O(b,{onClick:iV.bound,onMouseEnter:iV.bound,t0a:iV.bound,ariaLabel:oV,ib:oV,Icon:oV,bVg:oV,KFk:oV})}onClick(b){this.props.onClick(b,this.props.element)}onMouseEnter(){this.props.onMouseEnter(this.props.element)}t0a(b){this.props.t0a(b,this.props.element)}get ariaLabel(){const b=this.props.element,c=this.props.lfi;return b.type==="text"&&b.text.Ya?b.text.Ya:c(b)}get ib(){const b=this.props.element;
if(this.bVg)return M("riMK7g");if(b.type==="group")return b.Gd?void 0:M("ZjDhTQ")}get Icon(){const b=this.props.element;if(this.bVg)return b.WM?.R3c?Adr:Ux;switch(b.type){case "group":return b.Gd||this.KFk?void 0:JIn}}get bVg(){const b=this.props.element;return this.props.page.ia.locked||b.locked}get KFk(){const b=this.props.element;return b.type==="group"&&b.pb.count()>10}render(){const b=this.Icon,c=this.KFk,d=this.props.page,e=this.props.element,f=this.props.Wl,g=this.props.Tkc;return fV(this.props.hmj,
{selected:this.props.selected,ariaLabel:this.ariaLabel,ib:this.ib,g3k:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onContextMenu:this.props.onContextMenu,icon:b&&fV(b,{size:"medium"}),Kjd:this.bVg?null:fV(__c.V1g,{size:"medium"}),nd:c?wWs:e.width>0?fV(f,{element:e,page:d}):void 0,badge:this.bVg||!g?null:fV(g,{ariaLabel:M("dfZFMw"),Nh:this.t0a})})}constructor(...b){super(...b);a.G(this)}}({c:[gxs,nWs]}=KV(a,[],[Lb],oWs))})(),kWs);
var wWs=fV("div",{className:"fCx1PA",children:fV("div",{className:"Kp8FKg VnXh5Q",children:fV(JIn,{size:"medium"})})}),jxs;
new (lWs=class extends JV{constructor(){super(jxs);pWs()}},(()=>{class a extends(qWs=IV){static G(b){O(b,{onMouseEnter:iV.bound,t0a:iV.bound})}onMouseEnter(){this.props.onMouseEnter()}t0a(b){this.props.t0a(b)}render(){const b=this.props.page,c=this.props.onClick,d=this.props.onMouseLeave,e=this.props.onContextMenu,f=this.props.q1o,g=this.props.Tkc;return fV(this.props.hmj,{selected:this.props.selected,ariaLabel:M("AThZtQ"),ib:M("AThZtQ"),g3k:c,onMouseEnter:this.onMouseEnter,onMouseLeave:d,onContextMenu:e,
nd:fV(f,{page:b}),icon:fV(__c.QA,{size:"medium"}),badge:b.locked||!g?null:fV(g,{ariaLabel:M("dfZFMw"),Nh:this.t0a})})}constructor(...b){super(...b);a.G(this)}}({c:[jxs,pWs]}=KV(a,[],[Lb],qWs))})(),lWs);
var kxs=class extends IV{static G(a){O(a,{onChange:iV.bound})}onChange(){return this.props.onChange()}get oYh(){return[{label:M("AlHQ5Q"),value:"all"},{label:M("kf4slw"),value:"overlapping"}]}render(){return fV(__c.xx,{options:this.oYh,onChange:this.onChange,value:this.props.Ds})}constructor(...a){super(...a);kxs.G(this)}},hxs=GV(a=>{const b=a.nd,c=a.icon,d=a.Kjd;return fV(jWs,{selected:a.selected,onClick:a.g3k,children:mV("div",{className:"_veUSQ",children:[fV("div",{className:DV("_8gxVPQ","kVC8Fw"),
children:d}),fV("div",{className:"tBy2_g",children:b}),c&&fV("div",{className:DV("_8gxVPQ","VYPvfg"),children:c})]})})}),ixs=GV(a=>{const b=a.nd,c=a.icon,d=a.Kjd;return fV(jWs,{selected:a.selected,onClick:a.g3k,onMouseEnter:a.onMouseEnter,onMouseLeave:a.onMouseLeave,badge:a.badge,onContextMenu:a.onContextMenu,ariaLabel:a.ariaLabel,ib:a.ib,children:mV("div",{className:DV("h79xOQ","aOe0NQ"),children:[fV("div",{className:DV("_8gxVPQ","kVC8Fw"),children:d}),fV("div",{className:"tBy2_g",children:b}),c&&
fV("div",{className:DV("_8gxVPQ","VYPvfg"),children:c})]})})});var nxs=GV(a=>fV(__c.i8d,{onClick:a.onClick,children:a.PG==="single"?M("aAUSrg"):M("fFnlJA")})),oxs=GV(a=>fV(uV,{children:a.PG==="single"?M("rx7oXA"):a.Lm.length>0?J("VHLDwQ",[a.Lm.length]):J("VHLDwQ",[1])}));var $ws={eventType:"editor_layers_panel_shown",Oa(a){return jf({action:a.action,control_context:a.mb,editing_context:a.Ca==null?void 0:mf(a.Ca)})}},Yws={eventType:"editor_layers_interacted",Oa(a){return jf({action:a.action,element_types:a.mE,num_layers_selected:a.gZr,selected_tab:a.ED,editing_context:a.Ca==null?void 0:mf(a.Ca)})}};var cxs=class extends __c.K1g{static G(a){O(a,{T1k:iV.bound,LKo:iV.bound,KPn:iV.bound,h3k:iV.bound,pCi:iV.bound})}T1k(a,b){const c=this.store.Xe,d=this.store.Lm,e=this.store.wVe;if(c.type!=="responsive-page"){if(this.la.layout===2&&e==="multi-select"&&d.length>0)return this.zMh(b);if(this.la.layout===2||d.length===0||!a.shiftKey&&!a.ctrlKey&&!a.metaKey)return this.selection.Jl(c,b),this.store.Eqn&&a.detail===2&&this.v1l(),Zws(this,"selected");if(a.shiftKey)return this.fyj(b);if(a.ctrlKey||a.metaKey)return this.zMh(b)}}e_f(a){const b=
this.store.Xe;b.type!=="responsive-page"&&this.selection.Jl(b,a)}LKo(){this.store.wVe=this.store.wVe==="single"?"multi-select":"single"}KPn(){axs(this,"shown")}h3k(a,b){a.preventDefault();b?this.store.Lm.includes(b)||this.e_f(b):this.pCi();requestAnimationFrame(()=>this.Kh.onContextMenu(a,"layers_panel","right_click"));Zws(this,"contextual_menu_opened")}fyj(a){const b=this.store.Xe,c=this.store.NZe;var d=this.store.Lm;if(b.type!=="responsive-page"){var e=c.indexOf(a),f=Math.max(...d.map(h=>c.indexOf(h))),
g=new Set(c.slice(Math.min(f,e),Math.max(f,e)+1));this.selection.oc(b.page,a)?(d=d.filter(h=>h===a||!g.has(h)),this.selection.Jl(b,...d)):this.selection.Dhd(b,...g);Zws(this,"selected")}}zMh(a){var b=this.store.Xe;b.type!=="responsive-page"&&(b=b.page,this.selection.oc(b,a)?this.selection.kcd(b,a):this.selection.IEd(b,a),Zws(this,"selected"))}pCi(){const a=this.store.Xe;a.type!=="responsive-page"&&(this.selection.YU(a.container,a.page),Zws(this,"selected"))}v1l(){const a=this.store.Xe;if(a.type!==
"responsive-page"){var b=this.store.Lm;if(b.length!==0){var c=this.viewport.ey();b=Sj(0,b.map(Oj));var d=this.viewport.zoom.scale/this.viewport.W7("fit");d*=this.viewport.W7("fit");this.viewport.HC(a.page,Math.min(c.width*.6/b.width,c.height*.6/b.height,d),{center:b.center(),animate:!0})}}}constructor(a,b,c,d,e,f,g,h){super(a);this.store=a;this.viewport=b;this.Hti=c;this.la=d;this.selection=e;this.pT=f;this.Kh=g;this.P=h;this.Het=(cxs.G(this),()=>{this.store.Ds=this.store.Ds==="overlapping"?"all":
"overlapping";this.Dxi();Zws(this,this.store.Ds==="overlapping"?"see_overlapping":"see_all")});this.dzl=k=>{this.store.Ivs=k};this.t0a=(k,l)=>{l&&k?this.store.Lm.includes(l)||this.T1k(k,l):this.pCi();Zws(this,"contextual_menu_opened")};this.vWb=k=>{var l=this.store.Xe;if(l.type==="responsive-page")return!0;l=l.page;return l.locked?!0:this.selection.oc(l,k)?!this.selection.Ma?.Ri():k.locked};this.L4=k=>{const l=this.store.Xe;l.type!=="responsive-page"&&(this.selection.oc(l.page,k)||this.selection.Jl(l,
k))};this.onDrop=({item:k,trailing:l})=>{l?this.Hti.Lmc("backward","drag",k):this.Hti.Lmc("forward","drag",k);Zws(this,"rearranged")};this.Yki=k=>{const l=this.store.Xe;l.type!=="responsive-page"&&this.pT.B1a({page:l.page,element:k})};this.E$i=()=>{this.pT.B1a({page:void 0,element:void 0})};this.Dxi=()=>{const k=this.store.zNi,l=this.store.Lm;var n=this.store.NZe;this.store.mQh?(n.length>0&&this.DSk(n[n.length-1]),this.store.zNi=l):k===l?this.DSk(l[l.length-1]):((n=[...l].reverse().find(p=>!k.includes(p)))&&
this.DSk(n),this.store.zNi=l)}}};var bxs=class extends __c.L1g{static G(a){O(a,{wVe:zV.ref,Ds:zV.ref,Xe:oV,Ibi:oV,Eqn:oV,Lm:oV,mQh:oV,NZe:oV,ISf:oV,items:oV,HN:oV.struct,yic:oV})}get Xe(){return this.ya.Rw.Vg}get Ibi(){return this.Xe.page.type==="responsive"?[]:this.Xe.page.elements.toArray()}get Eqn(){if(this.Xe.page.type==="responsive")return!1;const a=this.hb.kl(this.Xe.page);return ug(a)}get Lm(){return this.selection.Ma?.type==="elements"?this.selection.Ma.elements:[]}get zNi(){return this.Bam}set zNi(a){this.Bam=a}get mQh(){return this.selection.Ma?.type===
"pages"&&!!this.selection.Ma.inner}set Ivs(a){this.Aam=a}get NZe(){return this.isDragging||this.KEk()?this.Aam:[...(this.Ds==="overlapping"?this.ISf:this.Ibi)].reverse()}get ISf(){if(this.mQh)return this.Ibi;const a=this.selection.Ma;if(!a||a.type!=="elements")return[];const b=a.box;return this.Ibi.filter(c=>!!b&&b.intersects(Oj(c)))}get items(){return this.NZe}get HN(){return this.Lm}get yic(){return!this.isDragging&&!this.q6d}constructor(a,b,c,d){super("vertical");this.ya=a;this.selection=b;this.hb=
c;this.KEk=d;this.wVe=(bxs.G(this),"single");this.Ds="all";this.Aam=[];this.Bam=[]}};var exs=parseInt("36px",10),dxs=parseInt("196px",10);var xWs=GV(a=>{const b=a.onClick,c=a.open,d=a.oYc;a=a.yi;const e=jV(()=>{b&&(b(),!c&&d())},[b,c,d]);return fV(a,{pressed:c,onClick:e,icon:__c.Edr,zh:"label",children:M("AXgBkw")})}),yWs=GV(a=>{const b=a.pag,c=a.kse,d=a.mag;return fV(Vn,{children:fV(R,{padding:"2u",className:"lvD6KQ",children:mV(Tc,{spacing:"2u",children:[fV(a.Hcg,{}),b&&fV(b,{}),c&&fV(c,{}),fV(d,{})]})})})}),zWs=GV(a=>{const b=a.Vf;var c=a.Hcg;const d=a.pag,e=a.kse;a=a.mag;const f=(g,h)=>({No:()=>g,pa:()=>fV(R,{Lb:"2u",children:h})});
c=[f(M("6nsfUw"),fV(c,{})),d?f(M("V/DN5w"),fV(d,{})):null,e?f(M("2cZnyg"),fV(e,{})):null,f(M("Y2VUFg"),fV(a,{$Wc:!1}))].filter(sb);return fV(b.Aaa,{items:c})}),AWs=a=>{const {guj:b,llj:c,Gmj:d,nuj:e,ouj:f,trj:g,urj:h,Ujj:k,Vjj:l,Zpj:n,IV:p,$Wc:q=!0}=a;return mV(Tc,{spacing:"1u",children:[q&&fV(JVs,{text:M("Y2VUFg")}),mV(ar,{spacing:"1u",columns:3,Fa:"end",children:[p==="size-and-position"?fV(b,{}):fV(g,{}),p==="size-and-position"?fV(c,{}):fV(h,{}),fV(d,{}),p==="size-and-position"?fV(e,{}):fV(k,{}),
p==="size-and-position"?fV(f,{}):fV(l,{}),fV(n,{})]})]})},BWs=GV(({yi:a,...b})=>fV(a,{...b,zh:"icon-and-label",icon:__c.Edr,tooltip:M("Y2VUFg"),children:M("Y2VUFg")})),CWs=GV(({mag:a})=>fV(uV,{children:a&&fV(R,{padding:"2u",paddingTop:"0",children:fV(a,{$Wc:!1})})})),DWs=GV(a=>{const b=a.Y4e,c=a.ev,d=a.Vvp,e=a.Icg;return fV("div",{className:"GxR1sw",children:mV(__c.pA,{height:"fill",Y2a:a.ED,onSelect:a.oYc,children:[fV("div",{className:"rrwBLA",children:mV(__c.qA,{align:"stretch",children:[fV(__c.rA,
{id:"arrange",onClick:a.wVi,children:M("u+o8qg")}),fV(__c.rA,{id:"layers",onClick:b,children:M("upLrUg")})]})}),fV(__c.sA,{children:mV("div",{className:"LKB_7Q",children:[fV(__c.tA,{id:"arrange",children:fV(d,{})}),fV(__c.tA,{id:"layers",children:fV(e,{ev:c})})]})})]})})});var Mxs=class extends IV{static G(a){O(a,{vNn:iV.bound,onChange:iV.bound,onBlur:iV.bound,onKeyDown:iV.bound})}vNn(){const a=this.props.onFocus;a(this.props.nx?.toString()||"");this.ref.current?.select()}onChange(a){this.props.onChange(a)}onBlur(){this.props.onBlur()}onKeyDown(a){a.key==="Enter"&&(this.props.onBlur(),this.ref.current?.blur())}render(){const a=this.props.value,b=this.props.nx,c=this.props.focused,d=this.props.disabled,e=this.props.unit,f=typeof b!=="undefined"?`${b?.toString()}${e||
""}`:"--";return fV(wA,{label:this.props.label,Vv:"small",control:g=>fV(__c.Fu,{...g,type:"text",inputMode:"decimal",ref:this.ref,disabled:d,value:c?a:f,onChange:this.onChange,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onFocus:this.vNn})})}constructor(...a){super(...a);this.ref=(Mxs.G(this),pV())}};var Lxs=class{constructor(a,b,c){this.store=a;this.selection=b;this.update=c;this.onFocus=d=>{this.store.jtb=d;this.store.value=d;this.store.focused=!0;this.store.Lm=[];(d=this.selection.Ma)&&d.type==="elements"&&(this.store.Lm=d.elements)};this.onBlur=()=>{const d=this.store.value,e=this.store.Lm;this.nGk(d)&&e&&e.length>0&&this.store.jtb!==d&&(this.update(Number.parseFloat(d),e),this.store.jtb="");this.store.focused=!1;this.store.Lm=[]};this.onChange=d=>{d=d.trim();d!=="-"&&isNaN(Number(d))||(this.store.value=
d)};this.nGk=d=>!isNaN(Number(d))&&!isNaN(parseFloat(d))}};var Kxs=class{static G(a){O(a,{jtb:zV.ref,value:zV.ref,focused:zV.ref,Lm:zV.ref})}constructor(){this.jtb=(Kxs.G(this),"");this.value="";this.focused=!1;this.Lm=[]}};var EWs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M21 5v12.818l-1.5-1.5V13.75h-2.568l-1.5-1.5H19.5v-2.216l-2.448-2.811a.544.544 0 0 0-.684-.085.46.46 0 0 0-.101.087l-2.707 3.153-1.005-1.005 2.53-2.89c.115-.134.251-.252.406-.351.865-.552 2.09-.4 2.735.34L19.5 7.89V5a.5.5 0 0 0-.5-.5H7.682L6.182 3H19a2 2 0 0 1 2 2ZM9.068 12.25l1.5 1.5H4.5V19a.5.5 0 0 0 .5.5h11.318l1.5 1.5H5a2 2 0 0 1-2-2V6.182l1.5 1.5v4.568h.603l1.859-2.106.892.892-1.188 1.214h2.402Zm4.597 4.597-1.097-1.097H7a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 .665-.403ZM5.53 4.47a.75.75 0 0 0-1.06 1.06l15 15a.75.75 0 1 0 1.06-1.06l-15-15Z" fill="currentColor"/></svg>';var hys=Uq({medium:EWs});var Xxs={eventType:"editor_element_line_positioned",Oa(a){return jf({start_x:a.Pqa,start_y:a.hvb,end_x:a.$pb,end_y:a.aqb,original_start_x:a.yls,original_start_y:a.zls,original_end_x:a.Sks,original_end_y:a.Tks,units:a.units,editing_context:a.Ca==null?void 0:mf(a.Ca),performance_context:a.Tb==null?void 0:pf(a.Tb)})}};var iys=class{static G(a){O(a,{position:oV.struct,qTh:oV,ael:oV})}get position(){var a=this.selection.Ma;if(a&&a.type==="elements"){var b=a.elements;if(b.length!==0&&!b.some(c=>c.type==="line"))return a=this.hb.kl(a.container.page),Oxs(a,b,Pxs)}}get qTh(){const a=this.selection.Ma;return!!a&&a.type==="elements"&&a.Ri()}get ael(){return!this.qTh||!!this.selection.Ma?.elements?.some(a=>a.type==="line")}constructor(a,b){this.selection=a;this.hb=b;iys.G(this)}};var nys=class{static G(a){O(a,{v9:oV.struct,H4a:oV.struct,lIl:oV,vak:oV,vTh:oV})}get v9(){return Sxs(this,"start")}get H4a(){return Sxs(this,"end")}get lIl(){if(!this.vTh)return!0;const a=this.selection.Ma?.elements?.filter(Qxs);return a&&a.length!==0?a.some(b=>Txs(this,b,"start")):!0}get vak(){if(!this.vTh)return!0;const a=this.selection.Ma?.elements?.filter(Qxs);return a&&a.length!==0?a.some(b=>Txs(this,b,"end")):!0}get vTh(){const a=this.selection.Ma;return!!a&&a.type==="elements"&&a.Ri()}constructor(a,
b,c){this.selection=a;this.hb=b;this.ue=c;nys.G(this)}};var ays=class{static G(a){O(a,{YPn:iV.bound})}YPn(a,b,c){const d=this.selection.Ma;if(d&&d.type==="elements"&&d.box&&this.store.$Ij){var e=d.box.tl,f=d.box,g=d.elements,h=d.container,k=this.Wr.W3a(g);this.store.wVg=!0;var l=f.tl;this.store.Nqa?.close();var {delta:n,p2i:p}=Wxs(this.hb.kl(h.page).units,f.tl,a,b,this.Gj.cXc);p!=null&&this.iaa?(a=new __c.zog(f,l),this.store.Nqa=this.iaa.Qrh(a,h,g,()=>p)):this.store.Nqa=void 0;g={type:"translate",qj:Math.abs(n.x)>0,Jj:Math.abs(n.y)>0};h=wj(l,n);a=q=>{const {x:r,
y:t}=sj(q,l);k.translate(r,t);return f};a(h);this.store.Nqa?.dz(g,h,f,!1,a);this.x$r();this.P6g();Uxs(this,e,d,c)}}constructor(a,b,c,d,e,f,g,h=750){this.store=a;this.selection=b;this.Wr=c;this.hb=d;this.Gj=e;this.iaa=f;this.P=g;this.$Lf=h;this.x$r=(ays.G(this),Db(iV(()=>{this.store.Nqa?.close();this.store.Nqa=void 0}),this.$Lf));this.P6g=Db(iV(()=>{this.store.wVg=!1}),this.$Lf);this.Ruc=()=>{const k=this.selection.Ma;k&&k.type==="elements"&&this.P?.track(__c.qmh,{eF:k.container.page.elements.count(),
LIa:k.elements?.map(l=>l.type),menu:"nudge",Bq:0,ss:0,rz:0})}}},Vxs={[1]:{small:Bv(1,.1),large:Bv(1,1)},[2]:{small:Bv(2,.0625),large:Bv(2,1)},[3]:{small:Bv(3,1),large:Bv(3,10)},[4]:{small:1,large:10}};var oys=class{constructor(a,b,c,d,e,f){var g=Wxs;this.Gj=a;this.store=b;this.selection=c;this.hb=d;this.Wr=e;this.N=f;this.f7q=g;this.GGs=(h,k)=>{Zxs(this,h,k,"start","x")};this.HGs=(h,k)=>{Zxs(this,h,k,"start","y")};this.EGs=(h,k)=>{Zxs(this,h,k,"end","x")};this.FGs=(h,k)=>{Zxs(this,h,k,"end","y")};this.kYr=(h,k,l,n)=>{if(!Txs(this.store,k,"end")){var p=Rxs(this.store,k,"end");h=this.hb.kl(h).units;var {delta:q}=this.f7q(h,p,l,n,this.Gj.cXc);n=Rxs(this.store,k,"start");var r=wj(p,q);if(__c.uj(n,
r)>=25)l=r;else{var t=Ej(-n.x,-n.y);q=t.invert();r=t.transformPoint(r);l==="left"||l==="right"?(t=Math.sqrt(25-r.y*r.y),l=q.transformPoint(new pj(l==="left"?-t:t,r.y))):(t=Math.sqrt(25-r.x*r.x),l=q.transformPoint(new pj(r.x,l==="up"?-t:t)))}k=new __c.hZd(k,this.Wr.ue);k.setEndPoint(l);k.complete();Yxs(this,h,n,p,n,l)}}}};var bys=GV(a=>fV(a.yi,{pressed:a.open,onClick:()=>{const b=a.onClick,c=a.open,d=a.Ruc;b&&(b(),!c&&d())},icon:__c.Pps,zh:a.jg?"icon-and-label":"label",children:M("aYsObw")})),cys=GV(a=>{const b=a.IF;a=jV(()=>b("left"),[b]);const c=jV(()=>b("up"),[b]),d=jV(()=>b("down"),[b]),e=jV(()=>b("right"),[b]);return fV(R,{children:mV(ar,{spacing:"1u",columns:4,children:[fV(__c.Khe,{onClick:a,speed:"fast",children:f=>fV(Wi,{ariaLabel:M("qpV6YA"),icon:or,stretch:!0,variant:"secondary",...f})}),fV(__c.Khe,{onClick:c,
speed:"fast",children:f=>fV(Wi,{ariaLabel:M("B5NX3g"),icon:tC,stretch:!0,variant:"secondary",...f})}),fV(__c.Khe,{onClick:d,speed:"fast",children:f=>fV(Wi,{ariaLabel:M("SzdIhw"),icon:f3g,stretch:!0,variant:"secondary",...f})}),fV(__c.Khe,{onClick:e,speed:"fast",children:f=>fV(Wi,{ariaLabel:M("1v1q7g"),icon:Ot,stretch:!0,variant:"secondary",...f})})]})})});var $xs=class{static G(a){O(a,{wVg:zV.ref,$Ij:oV})}get $Ij(){const a=this.selection.Ma;return a==null||a.type!=="elements"?!1:!(!a.Ri()&&!a.elements.some(b=>__c.MCg(this.JZ,b)))}constructor(a,b){this.selection=a;this.JZ=b;this.wVg=($xs.G(this),!1);this.Nqa=void 0}};var jys=class{constructor(a,b,c,d){this.store=a;this.selection=b;this.hb=c;this.N=d;this.qj=(e,f)=>{if(this.store.qTh){var g=this.selection.Ma;if(g&&g.type==="elements"&&g.Ri()){var h=tb.direction===2,k=this.hb.kl(g.container.page);g=k.units;e=Bv(g,h?k.width-e:e);k=this.store.position;for(const l of f)f=Oj(l),f=f.translate(e-(h?f.tr.x:f.tl.x),0),l.left=f.Nb().left;eys(this,g,k)}}};this.Jj=(e,f)=>{if(this.store.qTh){var g=this.selection.Ma;if(g&&g.type==="elements"&&g.Ri()){g=this.hb.kl(g.container.page).units;
var h=Bv(g,e);e=this.store.position;f.forEach(k=>{var l=Oj(k);l=l.translate(0,h-l.tl.y);k.top=l.Nb().top});eys(this,g,e)}}}}},gys=class{static G(a){O(a,{r0k:iV.bound,u0k:iV.bound,Z4j:oV,Q_f:oV})}r0k(){const a=this.selection.Kb;if(a?.container.type==="body"||a?.container.type==="responsive-page"){var b=this.Z4j;if(b){var c=this.Za.oWd(a.container.text,b,{HGl:!0}),d=this.undo.startBuffering();try{const h=tef(this.Za);this.Za.vR();const k=()=>{h&&this.Za.y1a(h);this.Gg.iS()},l=a.container.type==="responsive-page"&&
a.container.marker.Pg.ref;if(c||l){var e=c?.type==="item"&&c.item.type==="break",f=e&&c.item.marker.Pg.ref;if(e&&!f){const n=this.pS.uzc(__c.bVc.snapshot(b),c.item.marker);this.N?.track(CYg,{FHc:"page_break",$Yd:"cover_set",elementType:n.type,Xc:"contextual_menu"});this.selection.Nw(a.container,c.item);k()}else{var g=this.qc.addPageBreak({Xc:"contextual_menu"});if(g){const n=this.pS.uzc(__c.bVc.snapshot(b),g.marker);this.N?.track(CYg,{FHc:"page_break",$Yd:"cover_set",elementType:n.type,Xc:"contextual_menu"});
this.selection.Nw(a.container,g);k()}}}else{const n=a.container.marker,p=this.pS.uzc(__c.bVc.snapshot(b),n);this.N?.track(CYg,{FHc:"document",$Yd:"cover_set",elementType:p.type,Xc:"contextual_menu"});this.selection.Nw(a.container.$Xb(n),p);k()}}finally{d.stop(),this.Jb.Td.NMr?.()}}}}u0k(){const a=this.selection.Kb;var b=fys(a);if(b){var c=b.FHc,d=b.bVa,e=b.ref;b=b.text;var f=this.undo.startBuffering();try{const g=tef(this.Za);__c.huf(e);switch(c){case "body":this.N?.track(CYg,{FHc:"document",$Yd:"cover_unset",
elementType:d.type,Xc:"contextual_menu"});this.Za.qv(b,Gw.start());break;case "break":if(a?.type===1&&a.only?.type==="break"){this.N?.track(CYg,{FHc:"page_break",$Yd:"cover_unset",elementType:d.type,Xc:"contextual_menu"});const h=__c.as.snapshot(a.only);this.Za.vR();this.Za.jOc(h)}break;default:throw new u(c);}this.Za.jOc({...d,width:d.type==="design"&&d.Nx?.type==="sticky-scroll"?"100cqw":"100%"});g&&this.Za.y1a(g)}finally{f.stop()}}}get Z4j(){const a=this.selection.Kb;if(a?.type===1){var b=a.only;
if(b)return __c.guf(this.pS,a.Rz,b)?b:void 0}}get Q_f(){if(!(this.Pa.mode<40)){var a=this.selection.Kb;if(a?.type===1){if(fys(a))return"unset";var b=this.Z4j;if(b&&a.container.text&&(b=this.Za.oWd(a.container.text,b,{HGl:!0}),a.container.type==="body"||a.container.type==="responsive-page")&&(Pb("38fa0627",!1)||!a.container.marker.Pg.ref&&!b||this.zKc&&b?.type==="item"&&b.item.type==="break"&&!b.item.marker.Pg.ref))return"set"}}}constructor(a,b,c,d,e,f,g,h,k,l){this.qc=a;this.selection=b;this.Za=c;
this.Gg=d;this.pS=e;this.Pa=f;this.undo=g;this.Jb=h;this.zKc=k;this.N=l;gys.G(this)}};var FWs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.318 7.758a.75.75 0 0 0-1.06 1.06l2.431 2.432H3a.75.75 0 0 0 0 1.5h5.69l-2.432 2.432a.75.75 0 0 0 1.06 1.06l3.359-3.358a1.25 1.25 0 0 0 0-1.768L7.318 7.758ZM17.742 7.758a.75.75 0 0 0-1.06 0l-3.359 3.358a1.25 1.25 0 0 0 0 1.768l3.359 3.358a.75.75 0 1 0 1.06-1.06l-2.433-2.434H21a.75.75 0 0 0 0-1.5h-5.688l2.43-2.43a.75.75 0 0 0 0-1.06Z" fill="currentColor"/></svg>';var Eys=Uq({medium:FWs});var GWs=(a,b)=>{try{b(a),a.complete()}catch{a.reset()}finally{a.destroy()}},Cys=class{static G(a){O(a,{kCi:iV.bound,oHi:iV.bound,mHi:iV.bound,pHi:iV.bound,nHi:iV.bound,Xvh:iV.bound})}kCi(){this.store.Mmc=!this.store.Mmc;this.store.Zkf||this.N.track(dTs,{action:this.store.Mmc?"lock":"unlock"})}oHi(){tys(this.store.L2b,this.QRa,this.hj)}mHi(){uys(this.store.L2b,this.QRa,this.hj)}pHi(){vys(this.store.L2b,this.QRa,this.hj)}nHi(){wys(this.store.L2b,this.QRa,this.hj)}Xvh(){this.selection.Kb&&this.d2.Xvh()}djh(a,
b,c){var {diagonal:d}=__c.Qde(this.Yba,[b]),e=this.selection.Ma;if(e&&e.type==="elements"){var f=e.container.page;if(d&&f){var g=Oj(b);d=pys(this,g);e=g.width;var h=g.height,k=g.c,l=g.tl;g=this.Wc.Igb([b]);k=__c.Sbg(b,this.qeb)==="center"?k:l;f=this.viewport.lT(f);const {width:n,height:p}=Oj(b);b=b.type!=="group"||__c.Dqa(b)?8:30;a=Math.max(Math.max(Math.min(1,b/(Math.min(n,p)*f)),1E-14),a/(c==="x"?e:h));try{g.scale(__c.Jj(d.transformPoint(k),a))}finally{g.destroy()}}}}Qgd(a,b,c){const d=c==="x",
e=c==="y";var f=Oj(b);const g=Tj(f),h=pys(this,f);c=__c.Sbg(b,this.qeb);const k=h.transformPoint(c==="center"?f.c:d?f.Ub:f.t),l=h.transformPoint(d?f.r:f.b),n=g.then(h).transformPoint({x:d?a:f.width,y:e?a:f.height});switch(b.type){case "text":f=this.Wc.i4c(b);const p=c==="center"?"center":sys(b.writingMode);GWs(f,q=>q.J3b(p,a,{ola:!1}));break;case "rect":b=this.Wc.h4c(b);GWs(b,q=>q.lw(k,l,n,d,e));break;case "grid":b=this.Wc.jqf(b);GWs(b,q=>q.lw(k,l,n,d,e));break;case "line":break;case "table":b=this.Wc.vqf(b);
GWs(b,q=>{q.lw(k,l,n,d,e)});break;case "shape":b=this.Wc.Eoc(b);GWs(b,q=>q.lw(k,l,n,d,e));break;case "chart":if(c=this.Wc.gsg(b))GWs(c,q=>q.lw(k,l,n,d,e));else{c=Oj(b).lw(k,l,n,d,e,5,5);const {top:q,left:r,width:t,height:v}=c.Nb();b.top=q;b.left=r;b.width=t;b.height=v}break;case "group":if(f=__c.Obe(b)){b=this.Wc.ktg(b);const q=c==="center"?"center":sys(f);GWs(b,r=>r.J3b(q,a,{ola:!1}))}else b=this.Wc.kqf(b),GWs(b,q=>q.lw(k,l,n,d,e));break;case "embed":b=this.Wc.wsg(b);GWs(b,q=>q.lw(k,l,n,d,e));break;
case "sheet":b=this.Wc.etg(b);GWs(b,q=>q.lw(k,l,n,d,e));break;case "layout":b=this.Wc.nqf(b);GWs(b,q=>q.lw(k,l,n,d,e));break;case "controlled":b=this.Wc.aqf(b);GWs(b,q=>q.lw(k,l,n,d,e));break;default:throw new u(b);}}constructor(a,b,c,d,e,f,g,h,k,l,n,p,q,r=750){this.store=a;this.d2=b;this.selection=c;this.Wc=d;this.Yba=e;this.QRa=f;this.hj=g;this.hb=h;this.qeb=k;this.N=l;this.Gj=n;this.viewport=p;this.uxd=q;this.$Lf=r;this.U8r=(Cys.G(this),(t,v)=>{var w=this.selection.Ma;if(w&&w.box&&w.Ri()&&w.type===
"elements"&&w.Pd){if(w.Pd.type==="line")this.store.Q8d=!0,this.uxd.kYr(w.container.page,w.Pd,t,v);else{var x=w.box,y=w.container.page,z=w.Pd;w=w.elements;var B=this.store.size,C=t==="down"||t==="up"?"y":"x",G=C==="x"?x.r:x.b;this.store.Q8d=!0;x=x.rotation===0?G:x.Fn().transformPoint(G);y=this.hb.kl(y).units;({delta:t}=Wxs(y,x,t,v,this.Gj.cXc));v=C==="x"?z.width:z.height;qys(this,z,C)&&(this.Qgd(v+t[C],z,C),rys(this,w,y,B?.width,B?.height))}this.P6g()}});this.resizeTo=(t,v,w)=>{var x=this.selection.Ma;
if(x&&x.Ri()&&x.type==="elements"){x=this.hb.kl(x.container.page).units;t=Bv(x,t);var y=this.store.size;if(this.store.KVd)for(const z of v)this.djh(t,z,w);else for(const z of v)qys(this,z,w)?this.Qgd(t,z,w):this.djh(t,z,w);rys(this,v,x,y?.width,y?.height)}};this.P6g=Db(iV(()=>{this.store.Q8d=!1}),this.$Lf)}},Ays=class{static G(a){O(a,{Xvh:iV.bound,oHi:iV.bound,mHi:iV.bound,pHi:iV.bound,nHi:iV.bound})}Xvh(){var a=this.store.L2b;if(a?.item){a=a.item;var b=__c.Pbe(a);if(b){var c={mE:[a.type],Xc:"contextual_menu",
tXn:a.width,sXn:a.maxWidth};if(a.width==="100cqw"){if(a.width="100%",a.minWidth=void 0,a.maxWidth=void 0,a.zDa=void 0,a.alignment="50%",a.type==="layout")switch(a.gb){case "100%":break;case "100cqw":a.gb="100%";break;default:a.w1!=="100%"&&(a.gb="100%",a.w1=void 0,a.Qea=void 0,a.zDa=void 0)}}else a.width="100cqw",a.minWidth=b==="inset"?"100%":void 0,a.maxWidth=b==="inset"?"100cqw":void 0,a.zDa=b==="inset"?"48px":void 0,a.alignment="50%";this.N.track(__c.mMh,{...c,YSm:a.width,XSm:a.maxWidth})}}}oHi(){tys(this.store.L2b,
void 0,this.hj)}mHi(){uys(this.store.L2b,void 0,this.hj)}pHi(){vys(this.store.L2b,void 0,this.hj)}nHi(){wys(this.store.L2b,void 0,this.hj)}constructor(a,b,c){this.store=a;this.N=b;this.hj=c;Ays.G(this)}};var Dys=a=>{const b=a.KVd,c=a.Zkf,d=a.kCi;return fV(Tc,{spacing:"0.5u",children:fV(wA,{label:a.label,Vv:"small",control:e=>fV(Wi,{...e,variant:"secondary",alignment:"center",stretch:!0,icon:b?Ux:BHh,active:b,disabled:c,onClick:d})})})};var Bys=class{static G(a){O(a,{Q8d:zV.ref,Mmc:zV.ref,size:oV.struct,aspectRatio:oV,Rtg:oV,gjh:oV,hjh:oV,ecn:oV,SYo:oV,KVd:oV,dnf:oV,Zkf:oV,TYo:oV,fcn:oV,L2b:oV,Yve:oV})}get size(){var a=this.selection.Ma;if(a&&a.type==="elements"&&a.elements.length!==0){var b=a.elements,c=b[0].height,d=b[0].width,e=b.every(f=>hRi(f.height,c));b=b.every(f=>hRi(f.width,d));a=this.hb.kl(a.container.page).units;return{height:e?jRi(rg(4,a,c),a):void 0,width:b?jRi(rg(4,a,d),a):void 0}}}get aspectRatio(){if(this.size){var a=
this.size.height,b=this.size.width;if(a&&b)return a/b}}get Rtg(){if(this.Qwk?.focused)return"height";if(this.w0l?.focused)return"width"}get gjh(){var a=this.selection.Ma;if(this.w0l&&a&&a.type==="elements"){a=this.hb.kl(a.container.page).units;var b=Number.parseFloat(this.w0l.value);if(this.Rtg==="width"&&this.aspectRatio!=null&&!isNaN(b))return jRi(b*this.aspectRatio,a)}}get hjh(){var a=this.selection.Ma;if(this.Qwk&&a&&a.type==="elements"){a=this.hb.kl(a.container.page).units;var b=Number.parseFloat(this.Qwk.value);
if(this.Rtg==="height"&&this.aspectRatio!=null&&!isNaN(b))return jRi(b/this.aspectRatio,a)}}get ecn(){return this.Mmc&&this.Rtg==="width"?this.gjh:this.size?.height}get SYo(){return this.Mmc&&this.Rtg==="height"?this.hjh:this.size?.width}get KVd(){return this.Yve.diagonal?this.Zkf||this.Mmc:!1}get dnf(){const a=this.selection.Ma;return!!a&&a.type==="elements"&&a.Ri()}get Zkf(){if(!this.dnf)return!0;const a=this.Yve.horizontal,b=this.Yve.diagonal;return!this.Yve.vertical&&!a||!b}get TYo(){if(!this.dnf)return!1;
const a=this.Yve.horizontal;return this.KVd||a}get fcn(){if(!this.dnf)return!1;const a=this.Yve.vertical;return this.KVd||a}get L2b(){if(this.selection.Kb)return this.e2.L2b;var a=this.selection.Ma;if(a&&(a.type==="elements"||a.type==="pages")&&a.inner)switch(a.inner.type){case "sheet":switch(a.type){case "elements":var b=a.inner.sheet.config;break;case "pages":b=a.inner.page.sheet;break;default:throw new u(a);}return yys(b,a.inner.rows,a.inner.columns);case "table":b=a.inner.cells;var c=a.inner.container.container.Me(a.inner.table);
const d=c.ia;a=new Set(MLe(d,b));b=new Set(NLe(d,b));c={type:"table",table:d,rows:a,columns:b,d6i:c};return{mhd:a.size>1?c:void 0,w3c:b.size>1?c:void 0,nhd:c,x3c:c};case "sheet-cell-media":case "grid":case "layout":case "layout-cell":case "shape":case "group":case "background":case "pages":break;default:throw new u(a.inner);}}get Yve(){var a=this.selection.Ma?.elements||[];if(a.length===0)return{vertical:!1,horizontal:!1,diagonal:!1};if(a.length>1)return a=a.map(e=>__c.Qde(this.Yba,[e])),{diagonal:a.some(e=>
e.diagonal!=null),vertical:a.some(e=>e.vertical!=null),horizontal:a.some(e=>e.horizontal!=null)};const {vertical:b,horizontal:c,diagonal:d}=__c.Qde(this.Yba,a);return{vertical:!!b,horizontal:!!c,diagonal:!!d}}constructor(a,b,c,d,e,f){this.e2=a;this.selection=b;this.hb=c;this.Yba=d;this.Qwk=e;this.w0l=f;this.Q8d=(Bys.G(this),!1);this.Mmc=!1}},zys=class{static G(a){O(a,{L2b:oV})}get L2b(){var a=this.selection.Kb;if(!(this.Pa.mode<=30)&&a)switch(a.type){case 1:if(!a.only||a.container.type==="marker"||
a.container.type==="section-marker")break;if(a=xys(a.only))return{item:a};break;case 4:return yys(a.container.sheet.config,a.rows,a.columns);case 2:if(a=xys(a.container.table))return{item:a};break;case 3:if(a=xys(a.container.layout))return{item:a};break;case 0:case 5:break;default:throw new u(a);}}constructor(a,b){this.Pa=a;this.selection=b;zys.G(this)}};var Jys=class{constructor(a,b,c,d){this.store=a;this.Swa=b;this.selection=c;this.N=d;this.$Lf=750;this.YKs=(e,f)=>{var g=this.selection.Ma;if(g&&g.Ri()){g=f.slice().sort(h=>h.type==="line"?-1:1);f=this.store.rotation;for(const h of g){const k=__c.lee(this.Swa,[h]),l=Oj(h),n=oj(e-l.rotation);try{k.rotate(Ij(l.c,n))}finally{k.destroy()}}e=g.map(h=>h.type);Hys(this,f,e,"position_panel")}};this.V8r=(e,f)=>{this.store.XVg=!0;this.WKs((f==="small"?1:15)*(e==="right"?1:-1));this.P6g()};this.WKs=e=>{var f=
this.selection.Ma;if(f&&f.box&&f.elements&&f.Ri()){var g=__c.lee(this.Swa,f.elements),h=oj(e);e=this.store.rotation;try{g.rotate(Ij(f.box.c,h))}finally{g.destroy()}f=f.elements.map(k=>k.type);Hys(this,e,f,"shortcut")}};this.P6g=Db(iV(()=>{this.store.XVg=!1}),this.$Lf)}};var Iys=class{static G(a){O(a,{XVg:zV.ref,rotation:oV,disabled:oV})}get rotation(){var a=this.selection.Ma?.elements||[];if(a.length!==0){var b=a[0].rotation;a=a.every(d=>hRi(d.rotation,b));var c=YVa(b);return a?__c.iRi(c,1):void 0}}get disabled(){const a=this.selection.Ma;return a!=null&&a.type==="elements"&&a.Ri()?a.elements.some(b=>b.type==="line"&&b.geometry.ref!=null||__c.MCg(this.JZ,b)):!0}constructor(a,b){this.selection=a;this.JZ=b;this.XVg=(Iys.G(this),!1)}};var HWs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3.75 5.25h16.5a.75.75 0 1 1 0 1.5H3.75a.75.75 0 0 1 0-1.5zm0 12h16.5a.75.75 0 1 1 0 1.5H3.75a.75.75 0 1 1 0-1.5zM9 9h6a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1zm.5 1.5v3h5v-3h-5z"/></svg>';var IWs=Uq({medium:HWs});var $ys=class extends sTs{get Icon(){var a=this.props.Cct;switch(a){case "horizontal":a=__c.e9q;break;case "vertical":a=__c.VAj;break;case "grid":case void 0:a=__c.JBr;break;default:throw new u(a);}return a}render(){return fV(this.props.rl,{Icon:this.Icon,label:M("8xqoHg")})}},azs=GV(a=>{const {rl:b,...c}=a;return fV(b,{...c,Icon:IWs,label:M("sQreSg")})}),bzs=GV(a=>{const {rl:b,...c}=a;return fV(b,{...c,Icon:__c.omr,label:M("uYksAA")})});var Zys=class{static G(a){O(a,{UYe:iV.bound})}UYe(a,b){var c=this.store.yrh;if(c&&!(c.length<3)){var {eJe:d,middle:e,spacing:f}=Rys(c,a);c=d;for(const {element:g,box:h}of e)switch(a){case "vertical":c=Tys(this,g,"top",c+f-(h.t.y-g.top));c=Nj(c).b.y;break;case "horizontal":c=Tys(this,g,"left",c+f-(h.Ub.x-g.left));c=Nj(c).r.x;break;default:throw new u(a);}}this.NI(a,b)}NI(a,b){var c=this.selection.Ma;if(c&&c.type==="elements"){var d=c.elements;c=c.container.page;this.N?.track(__c.LUi,{eF:c.elements.count(),
Zcd:d.length,mE:d.map(e=>e.type).join(", "),Bq:0,ss:0,axis:a,mb:b})}}constructor(a,b,c,d){this.store=a;this.Wr=b;this.selection=c;this.N=d;Zys.G(this)}};var czs=class extends sTs{static G(a){O(a,{HOn:iV.bound,RUn:iV.bound})}HOn(){return this.props.UYe("horizontal")}RUn(){return this.props.UYe("vertical")}render(){const a=this.props.$Wc,b=this.props.Fsj,c=this.props.svq,d=this.props.tvq;return mV(KVs,{display:this.props.display,title:M("8xqoHg"),$Wc:a,children:[fV(IVs,{onClick:this.RUn,disabled:d,Icon:IWs,label:M("sQreSg")}),fV(IVs,{onClick:this.HOn,disabled:c,Icon:__c.omr,label:M("uYksAA")}),fV(b,{})]})}constructor(...a){super(...a);czs.G(this)}};var Yys=class{static G(a){O(a,{yrh:oV({equals:nV.shallow}),Lki:oV,dlh:oV.struct})}get yrh(){const a=this.aqd.smc;if(a&&!(a.length<3))return a}get Lki(){return this.yrh==null}get dlh(){if(this.yrh){var a=this.yrh;if(a.length<3)var b={xFk:!0,XIk:!0};else{var {eJe:c,middle:d,Cti:e,spacing:f}=Rys(a,"vertical");b=d[d.length-1].box.b.y-e;b=Sys(c-d[0].box.t.y+f)&&Sys(b+f);for(var g=1;g<d.length&&b;g++)b=Sys(d[g-1].box.b.y-d[g].box.t.y+f);var {eJe:h,middle:k,Cti:l,spacing:n}=Rys(a,"horizontal");a=k[k.length-
1].box.r.x-l;a=Sys(h-k[0].box.Ub.x+n)&&Sys(a+n);for(g=1;g<k.length&&a;g++)a=Sys(k[g-1].box.r.x-k[g].box.Ub.x+n);b={XIk:b,xFk:a}}return b}}constructor(a){this.aqd=a;Yys.G(this)}};var dzs=GV(({yi:a,...b})=>fV(a,{...b,zh:"icon-and-label",icon:__c.VAj,tooltip:M("8xqoHg"),children:M("8xqoHg")})),ezs=GV(({kse:a})=>fV(uV,{children:a&&fV(R,{padding:"2u",paddingTop:"0",children:fV(a,{})})}));var Vys=Po(Oo("t")),Wys=class extends sTs{static G(a){O(a,{onClick:iV.bound})}onClick(){return this.props.onClick()}get IEp(){var a=this.props.type;switch(a){case "horizontal":a=__c.e9q;break;case "vertical":a=__c.VAj;break;case "grid":case void 0:a=__c.JBr;break;default:throw new u(a);}return a}render(){return fV(IVs,{onClick:this.onClick,disabled:this.props.disabled,Icon:this.IEp,label:M("WLw+ig")})}constructor(...a){super(...a);Wys.G(this)}};var Uys=class extends sTs{get Icon(){var a=this.props.type;switch(a){case "horizontal":a=__c.e9q;break;case "vertical":a=__c.VAj;break;case "grid":case void 0:a=__c.JBr;break;default:throw new u(a);}return a}render(){const {rl:a,...b}=this.props;return fV(a,{...b,Icon:this.Icon,label:M("WLw+ig")})}};var JWs='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.992 6.564 3.697 7.859a.2.2 0 0 0 0 .282l1.295 1.295a.2.2 0 0 0 .341-.141v-2.59a.2.2 0 0 0-.341-.141ZM9.436 4.992 8.141 3.697a.2.2 0 0 0-.282 0L6.564 4.992a.2.2 0 0 0 .141.341h2.59a.2.2 0 0 0 .141-.341ZM6.564 11.008l1.295 1.295a.2.2 0 0 0 .282 0l1.295-1.295a.2.2 0 0 0-.141-.341h-2.59a.2.2 0 0 0-.141.341ZM11.008 9.436l1.295-1.295a.2.2 0 0 0 0-.282l-1.295-1.295a.2.2 0 0 0-.341.141v2.59a.2.2 0 0 0 .341.141Z" fill="currentColor"/></svg>';var KWs=parseInt("24px",10)/2,LWs=oV(()=>"_3EfNLg"),MWs=GV(({BJc:a,isVisible:b,yt:c,IF:d,tx:e})=>{var f=a.left+a.width/2;a=a.top+a.height/2;const g=AV(()=>{let h;return{onDragStart:k=>{h={x:k.clientX,y:k.clientY};c()},pe:k=>{d(sj({x:k.clientX,y:k.clientY},h))},onDragEnd:()=>{h=void 0;e()},focusable:!0}},[c,d,e]);return fV("div",{className:DV("_8QFrRw",{rYmI2Q:b===!1}),style:{top:a-KWs,left:f-KWs},children:fV(__c.ash,{onDragStart:g.onDragStart,pe:g.pe,onDragEnd:g.onDragEnd,Sqb:"floating",ek:"top",
$zd:JWs,mKa:LWs,size:"small"})})}),OWs=GV(({BJc:a,isVisible:b})=>fV(NWs,{BJc:a,className:b?"NGbfTA":"MiQ9kA"})),PWs=GV(({BJc:a,isVisible:b})=>fV(NWs,{BJc:a,className:b?"_2lVj2Q":"MiQ9kA"})),NWs=GV(({BJc:a,className:b})=>{const c=AV(()=>a.Nb(),[a]);return fV("div",{className:b,style:{...c,transformOrigin:"center",transform:`rotate(${c.rotation}deg)`}})}),QWs=GV(a=>{const b=a.z8s,c=a.QRb,d=a.nDp,e=a.scale,f=a.container;a=AV(()=>f?.Nb(),[f]);return fV("div",{className:"jNA72g",style:{height:a?.height,
width:a?.width,transformOrigin:"center",transform:`rotate(${-1*(a?.rotation||0)}deg)`},children:b.map((g,h)=>fV(d,{el:g,QRb:c,scale:e,container:f},h))})});var RWs=class{static G(a){O(a,{eti:zV.ref,vUl:iV})}E5i(a){if(a.elements.length===0)this.vUl(void 0,"");else{var b=kzs(a);if(this.eti&&this.pam===b)return this.eti;var c=Sj(0,[Oj(a.elements[0])]),d=Ej(-c.tl.x,-c.tl.y);a=a.elements.map(e=>Sj(0,[Oj(e)]).transform(d));this.vUl(a,b);return a}}vUl(a,b){this.eti=a;this.pam=b}constructor(){this.eti=(RWs.G(this),void 0);this.pam=""}};var SWs=class{static G(a){O(a,{geb:zV.ref})}set ZHd(a){this.tls=a;a!=null?(this.f$k=nd(a,b=>b.container),this.mXn=[...this.f$k.values()]):this.mXn=this.f$k=void 0}get ZHd(){return this.tls}get cJi(){return this.mXn}get Rks(){return this.f$k}constructor(){this.geb=(SWs.G(this),void 0);this.Oqg=new Map}},TWs=class{static G(a){O(a,{Kle:oV,E5i:oV,QRb:oV,hqn:oV,zOn:iV.bound,onDragStart:iV,qet:iV.bound,pe:iV,onDragEnd:iV.bound})}setState(a){this.store.geb=a}get Kle(){const a=this.selection.Ma;this.span&&
(this.span.end(),this.span=void 0,this.qHe=0);if(a?.type==="elements"&&!(a.elements.length<=1||a.elements.find(b=>b.rotation%90!==0||this.Ac.Tr({element:b,container:a.container})||b.type==="line")))return a}get E5i(){const a=this.Kle;if(a!=null)return this.cts.E5i(a)}get QRb(){var a=this.E5i;const b=this.store.geb;if(a!=null){if(b?.QRb!==void 0)return b.QRb;this.span&&(this.span.end(),this.span=void 0,this.qHe=0);this.span=this.V.wb("swap_elements");a=this.dtq(a);this.span?.addEvent("compute-swap-type");
return a}}get hqn(){return this.store.geb!=null}Kia(){this.store.Kia?.();this.store.Kia=void 0}zOn(a){a===this.store.geb?.vxc&&this.Kia()}onDragStart(a,b){this.Ih.SL(c=>wzs(this,a,b,c))}qet({className:a,enabled:b}){b?this.canvas.dva=a:this.canvas.dva===a&&(this.canvas.dva=void 0)}coe(a){const b=this.store.geb;if(b!=null)try{for(const [c,d]of b.Z2g)if(c===b.vxc&&a!=null)xzs(this,c,a.y-c.height/2,a.x-c.width/2);else{const e=d.Nb();xzs(this,c,e.top,e.left)}}catch(c){this.MM()}}IDa(){const a=this.store.geb,
b=a?.dragOffset;if(a!=null&&b!=null)try{const c=[...a.Z2g.keys()];this.Wr.W3a(c).translate(b.x,b.y)}catch(c){this.MM()}}pe(a,b,c){const d=this.store.geb;var e=this.store.nXn,f=this.store.ZHd;if(d?.vxc==null)this.Kia(),this.MM();else if(d?.vxc===a){b=Fj(1/c).transformPoint(b);f=wj(f.get(a).zhg.c,b);var g=e.indexOf(a);if(g===-1)throw Error();c=this.Wok(this.store.cJi,f);var h=!this.store.Oqg.has(c);h&&this.span?.addEvent(`compute-swap-start-${this.qHe}`);e=this.store.Oqg.get(c)??vzs(this,g,c??g,e,d.QRb);
this.store.Oqg.set(c,e);this.setState({key:c,QRb:d.QRb,vxc:a,Z2g:e,dragOffset:b});this.coe(f);h&&(this.span?.addEvent(`update-elements-${this.qHe}`),this.qHe+=1)}}onDragEnd(){const a=this.store.geb;this.Kia();if(a!=null){this.coe();if(a.dragOffset&&this.store.ZHd&&this.store.cJi){var b=wj(m(this.store.ZHd.get(a.vxc)).zhg.c,a.dragOffset);b=this.Wok(this.store.cJi,b);b=b!=null?[...this.store.ZHd.keys()].at(b):void 0}a.key==null&&this.IDa();var c=this.selection.Ma?.container?.type==="fixed-page"?this.selection.Ma?.container.page:
void 0;if(c&&b){var d=c.elements.toArray(),e=d.indexOf(a.vxc);d=d.indexOf(b);const [g,h]=e<d?[a.vxc,b]:[b,a.vxc];c.elements.Gda(g,h);c.elements.count()>2&&(e=Math.max(e,d),(e=c.elements.toArray().at(e))&&c.elements.Dza(e,g))}var f=0;this.store.ZHd?.forEach((g,h)=>{g=g.zhg.Nb();h.top===g.top&&h.left===g.left||f++});this.N.track(eTs,{Cws:zzs(a.vxc),uOs:b&&zzs(b),QRb:a.QRb,yft:f,Tb:this.span?.end().Oi()});this.MM()}}MM(){this.setState(void 0);this.store.nXn=void 0;this.store.ZHd=void 0;this.store.Oqg=
new Map;this.o4?.stop();this.span=this.o4=void 0;this.qHe=0}constructor(a,b,c,d,e,f,g,h,k,l=rzs,n=jzs,p=nzs){this.store=a;this.undo=b;this.Wr=c;this.Ac=d;this.selection=e;this.canvas=f;this.N=g;this.V=h;this.Ih=k;this.Wok=l;this.J8p=n;this.dtq=p;this.o4=(TWs.G(this),void 0);this.cts=new RWs;this.pjk=LV(q=>Fj(q));this.jLl=LV(q=>this.store?.geb?.Z2g.get(this.store.geb.vxc)?.transform(this.pjk(q)));this.Dzq=LV(q=>{const r=this.jLl(q),t=this.store.geb;if(t!=null&&r!=null)return[...t.Z2g.values()].map(v=>
v.transform(this.pjk(q)))?.filter(v=>!v.equals(r))});this.qHe=0}},uzs=class{constructor(a){this.zhg=a;this.container=Sj(0,[a])}};var UWs=({canvas:a,undo:b,Wr:c,Ac:d,selection:e,nq:f,Ih:g,gkc:h,toolbar:k,tme:l,isDragging:n,P:p,Ha:q})=>{q=q.Vd("editor.editing.arrangement.swapping");const r=new SWs,t=new TWs(r,b,c,d,e,a,p,q,g);f.controls.FMb(()=>r.geb!=null);k.BF?.mS(()=>r.geb!=null);wqs(h,()=>!!t.Kle);const v=hV(({el:y,QRb:z,scale:B,container:C})=>{const G=jV(()=>t.onDragStart(y,z),[y,z]),H=jV(N=>t.pe(y,N,B),[y,B]);kV(()=>()=>t.zOn(y),[y]);const K=C?.Nb();C=AV(()=>Oj(y).transform(t.pjk(B)).transform(Ej(-1*(K?.left||0),0)).transform(Ej(0,
-1*(K?.top||0))),[y,B,K]);if(szs(t,y))return null;const L=t.jLl(B)==null||r.geb?.key!=null;return fV(MWs,{BJc:C.Nb(),yt:G,IF:H,tx:t.onDragEnd,isVisible:L})}),w=hV(({gd:y,box:z})=>{const B=t.Kle,C=t.QRb;return B==null||C==null?null:(z=z?.get())&&y*Math.max(z.width,z.height)>=32?fV(QWs,{QRb:C,z8s:B.elements,scale:y,nDp:v,container:z}):null}),x=hV(({page:y,Tc:z})=>{if(y.page!==t.Kle?.container.page)return null;y=z.scale;z=t.jLl(y);return mV(uV,{children:[z&&fV(OWs,{BJc:z,isVisible:r.geb?.key!=null}),
t.Dzq(y)?.map((B,C)=>fV(PWs,{BJc:B,isVisible:r.geb?.key!=null},C))]})});f.wv(()=>t.Kle,(y,z)=>{y.Keg=z?w:void 0});a.jc(()=>t.Kle,(y,z)=>{y.Bg.Bhf=z!=null?x:void 0});l?.jUo(()=>!n()&&!t?.hqn)};var VWs={eventType:"editor_bleed_view_toggled",Oa(a){return jf({previous:a.previous,value:a.value,control_context:a.mb,editing_context:a.Ca==null?void 0:mf(a.Ca)})}};var WWs,XWs,YWs,ZWs;
new (WWs=class extends JV{constructor(){super(ZWs);XWs()}},(()=>{class a extends(YWs=IV){static G(b){O(b,{onClick:iV.bound})}render(){return fV(this.props.tF,{onClick:this.onClick,CB:this.props.xD.eca,children:M("IbileA")})}onClick(){const b=this.props.P,c=this.props.VBa,d=this.props.xD,e=this.props.onClick,f=this.props.oa;c&&c();e&&e();d.eca=!d.eca;b.track(VWs,{previous:!d.eca,value:d.eca,mb:"file_menu"});f&&f()}constructor(...b){super(...b);a.G(this)}}({c:[ZWs,XWs]}=KV(a,[],[Lb],YWs))})(),WWs);var $Ws=class{constructor({hb:a,Uh:b,haa:c}){this.hb=a;this.Uh=b;this.haa=c}};hV(({page:a,Tc:b,Uh:c})=>{a=Math.ceil(b.scale*__c.fde(c,a.ia));return fV("div",{className:"kgpGWw QsnBig",style:{borderWidth:a},children:fV("div",{className:"CNmBww"})})});
var aXs=hV(({page:a,Tc:b,Uh:c})=>{a=Math.ceil(b.scale*__c.fde(c,a.ia));b=b.scale>=.5;return mV("div",{className:"vqDuyQ QsnBig",style:{borderWidth:a},children:[mV("div",{className:"_2DRrMg",children:[fV("div",{className:"zmdKmQ"}),fV("div",{className:"_4ltU8A"})]}),b&&mV("div",{children:[fV("div",{className:"_NzUGQ",style:{height:`${Uc}px`}}),fV("div",{className:"QeVAJw",style:{transform:`translate(-50%, calc(-100% - ${Uc}px))`},children:fV(er,{label:M("44kTxw"),placement:"top",children:fV(Nu,{text:M("YE759Q"),
icon:fV(__c.Yt,{size:"tiny"}),tone:"critical"})})}),fV("div",{className:"EI87tg"})]})]})});var bXs=/android/i.test(navigator.userAgent),cXs=new Set(["text/plain","text/html","application/x-canva"]),dXs=class{async copy(a,b,c){var d=this.parser.encode(a);({text:a}=d);const e=d.html;d=d.PQa;!a&&(e||d)&&bXs&&(a=" ");(c=c||b?.clipboardData)?(c.setData("text/plain",a),c.setData("text/html",e),c.setData("application/x-canva",d),b&&b?.preventDefault()):await this.clipboard.write(navigator.clipboard,{"text/plain":new Blob([a],{type:"text/plain"}),"text/html":new Blob([e],{type:"text/html"}),"application/x-canva":new Blob([d],
{type:"application/x-canva"})})}async paste(a,b,c){if(a=b||a?.clipboardData)return this.parser.parse(this.getData(a,c),a.items);a=new DataTransfer;b=await this.clipboard.read(navigator.clipboard);for(const [e,f]of Object.entries(b||{}))f&&(this.E9.images.includes(e)||this.E9.Dc.includes(e)?a.items.add(new File([f],"",{type:e})):a.setData(e,await __c.YUi(f)));c=await this.parser.parse(this.getData(a,c),a.items);b=c?.type===2;a=a.items.length>1;const d=b&&c.text.length<256&&/^[~\w -]+\.\w{3,4}$/.test(c.text);
if(!b||a||!d)return c;throw Error("Pasting plaintext via Clipboard API is disabled");}getData(a,b=cXs){const c=b.has("text/plain")?a.getData("text/plain"):void 0,d=b.has("text/html")?a.getData("text/html"):void 0;a=b.has("application/x-canva")?a.getData("application/x-canva"):void 0;return{text:c,html:d,PQa:a}}constructor(a,b){this.parser=a;this.clipboard=__c.$Or;this.E9=b}};var Uzs=a=>{var b=Ezs(a);if(b)return{...ws,...Kzs(b)};b=Gzs(a);if(b.length>0)return{...ws,...Jzs(b)};const c=Qk.qd();a.forEach({Ya:(d,e)=>{c.attrs(e).Xb(d)},item:(d,e)=>{switch(d.type){case "pill":c.attrs(e).Xb(d.Sh.text);break;case "rect":d.fill.image?c.attrs(e).Xb(`<${M("OOUSAw")}>`):d.fill.video?c.attrs(e).Xb(`<${M("+tg4/g")}>`):c.attrs(e).Xb(`<${M("Po4g+Q")}>`);break;case "controlled":case "table":case "shape":case "break":case "design":case "layout":case "sheet":case "embed":case "chart":case "separator":c.attrs(e).Xb(`<${Izs(d.type)}>`);
break;default:throw new u(d);}}});a=c.build();b=a.luc(a.length-1);a=typeof b==="string"&&b!=="\n"?Qk.qd().append(a).Xb("\n").build():a;return{...ws,content:{...__c.AYc,value:a}}};var fCs=class{static G(a){O(a,{hM:oV})}async yjf(a,b,c){var d=this.selection.Ma;if(d&&d.type==="elements"&&d.inner?.type==="table"&&this.QRa){const e=d.inner,f=e.anchor;d=e.container;a=this.QRa.oyi(e.table,d.container,e.cells,a,!c?.mmd,"clipboard");a.length&&(c=f&&a.includes(f)?f:a[0],this.selection.nRa(d,c,a))}else d=Wg.kzc(a),d=new __c.sv({lg:1,element:d}),await this.qc.addTable(d,void 0,{Xc:"paste",span:b});b.ob().addEvent("content_added")}async addImage(a,b){await this.qc.addImage(a,{Xc:"paste",
span:b}).loaded;b.ob().addEvent("content_added")}async vEc(a,b){if(a==="")return Promise.resolve(void 0);var c=this.selection.Ma;const d=this.selection.Kb;if(this.hM&&this.FK)return await this.FK.Hjg(this.hM.sheet,this.hM.cells,a,{HCq:!0}),b.ob().addEvent("content_added"),"link";if(this.mc?.state?.type==="focused"&&this.mc.state?.range.length>0&&this.mc.state?.Sc.charLength>1)return this.mc.setAttributes({decoration:bB.decoration,link:a}),this.selection.Ma?.inner?.type==="sheet"&&this.mc.setAttributes({color:bB.color}),
b.ob().setAttribute("content_type","text_link"),b.ob().addEvent("content_added"),Promise.resolve("link");if(c?.elements)return c.elements.forEach(e=>{e.link=a;this.mc?.setAttributes({decoration:bB.decoration,link:a})}),b.ob().setAttribute("content_type","element_link"),b.ob().addEvent("content_added"),Promise.resolve("link");if(d!=null)return c=await this.qc.vEc(a,{Xc:"paste_url",span:b},d?.type===0&&d.container.type==="sheet-item-cell-richtext"?"link":void 0),c!=null&&(b.ob().setAttribute("content_type",
`${c}_embed`),b.ob().addEvent("content_added")),c;try{const e=await this.qc.wL(a,{Xc:"paste_url",span:b});b.ob().setAttribute("content_type",`${e}_embed`);b.ob().addEvent("content_added");return e}catch{}finally{b.ob().addEvent("embed_resolved")}await this.qc.addText(a,{Xc:"paste_url",U0:"default",span:b},{type:"v2",attrs:{decoration:bB.decoration,link:a}});b.ob().setAttribute("content_type","text_element");b.ob().addEvent("content_added");return Promise.resolve("link")}get hM(){const a=this.selection.Ma,
b=this.selection.Kb;if(b?.type===4)return{sheet:b.container.sheet.config,cells:Array.from(b.cells)};if(a?.inner?.type==="sheet")return{sheet:a.type==="elements"?a.inner.sheet.config:a.inner.page.sheet,cells:Array.from(a.inner.cells)}}constructor(a,b,c,d,e,f,g,h,k,l,n,p,q,r,t,v,w,x,y,z){this.selection=a;this.mc=b;this.viewport=c;this.ma=d;this.kb=e;this.qc=f;this.Za=g;this.w8q=k;this.QRa=l;this.sE=n;this.Nma=p;this.hj=q;this.fd=r;this.FK=t;this.mZ=v;this.wq=w;this.Pub=x;this.Oub=y;this.Vje=z;fCs.G(this)}};var eXs=de(Be.Nf,()=>{}),Zzs=class extends __c.es{sEd(a){return{...a,image:a.image&&Wzs(this,a.image),video:a.video&&Xzs(this,a.video)}}Ddc(a){if(a.type==="embed"&&this.FPc&&this.FPc(a.url)){const {url:b,gb:c,Wb:d,...e}=a;return{...e,...Rn,fill:ks}}return a}nLf(a){const b=this.FPc;if(!b)return a;const c=Fg.qd();a.text.forEach({...ae,Ya:(d,e)=>{let f;var g=e["font-family"];(g=g&&__c.gsa(g))&&b(g)&&(f={"font-family":this.hqq});c.attrs({...e,...f}).Xb(d)}});return{...a,text:c.build()}}uEd(a){const b=
this.FPc,c={fontFamily:(d,e,f)=>{const g=e&&__c.gsa(e);return g&&b&&b(g)?this.r1h==null?void 0:[this.r1h,Ae.encode(d,this.r1h)]:[e,f]}};return a.QZg(d=>d in c,(d,e,f)=>c[d](d,e,f))}hLf(a){const b=this.FPc;var c=a.Ae.fontFamily;let d=c;b&&(c=c&&__c.gsa(c))&&b(c)&&(d=this.r1h);return{...a,Ae:{...a.Ae,fontFamily:d}}}$Zg(a){return a.type==="embed"&&this.FPc&&this.FPc(a.url)?{...__c.eZc,gb:void 0,Wb:void 0,fill:ks}:a}Qyn(a){super.Qyn?.(a);if(a.type==="media"){const b=Array.from(a.value).filter(sb).filter(c=>
{const d=c.fill.image&&Wzs(this,c.fill.image);c=c.fill.video&&Xzs(this,c.fill.video);return d||c});return{...a,value:b}}return a}constructor(a,b,c){super();this.hqq=a;this.r1h=b;this.FPc=c}},Yzs=class extends __c.es{nLf(a){const b=Fg.qd();a.text.forEach({...ae,Ya:(c,d,e)=>{d=this.gj.get(ge(Be,e,"style"))?.attributes??new Map;d=__c.Ce(d);b.attrs({...eXs,...d,...e}).Xb(c)}});return{...a,text:b.build()}}constructor(a){super();this.gj=a}};var fXs=class{pHf(a){return this.lq.pHf(a)}constructor(a,b,c){this.lq=a;this.x4q=b;this.y4q=c}};var gXs=F(()=>({V9:fp(1),Uja:fp(2)}));var HAs=F(()=>({brightness:fp(1),contrast:fp(2),highlights:fp(3),shadows:fp(4),d9a:fp(5),tYa:fp(6),saturation:fp(7),iR:fp(8),kV:fp(9),TF:fp(10),sharpness:fp(11),UW:fp(12),KK:fp(13)}));var fAs=F(()=>({selection:S(1),V_a:fp(2),HYa:fp(3),hue:fp(4)}));var jAs=F(()=>({top:fp(1),left:fp(2),width:fp(3),height:fp(4)}));var hXs=F(()=>({top:fp(1),left:fp(2),width:fp(3),height:fp(4),rotation:fp(5)}));var iAs=F(()=>({width:fp(1),height:fp(2)}));var hAs=F(()=>({jo:E(1,jAs),yb:E(2,hXs),aspectRatio:E(3,iAs)}));var iXs=F(()=>({vertical:fp(1),horizontal:fp(2)}));var jXs=F(()=>({id:S(1),Fd:fp(2)}));var kXs=F(()=>({Fd:fp(1),Kn:U(2)}));var lXs=F(()=>({Fd:fp(1),EN:S(2),oT:S(3),shadowColor:S(4)}));var mXs=F(()=>({opacity:fp(1),spread:fp(2),blur:fp(3),angle:fp(4),distance:fp(5),color:S(6),curve:fp(7),rotation:fp(8),bsa:fp(53)}));var nAs=F(()=>({top:fp(1),left:fp(2),width:fp(3),height:fp(4)}));var oAs=F(()=>({Fd:fp(1),bcd:fp(3),C7:__c.np(2)}));var mAs=F(()=>({boundingBox:D(1,nAs),hca:D(2,oAs)}));var lAs=F(()=>({osa:Sa(1,mAs)}));var wAs=F(()=>({type:A("A?",1,"MASK_SELECTION"),Kn:S(1)}));var nXs=F(()=>({xs:S(1),ys:S(2)}));var oXs=__c.I(()=>[1,2]);var JAs=F(()=>({type:A("A?",2,"SEGMENTATION_MASK"),points:E(1,nXs),zxd:U(2),IMa:__c.Wa(3,oXs),wWa:X(5)}));var pXs=__c.I(()=>[1,2]);var LAs=F(()=>({type:A("A?",4,"FGBG_MASK"),region:__c.Wa(5,pXs)}));var KAs=F(()=>({type:A("A?",6,"ADAPTIVE_BRUSH_MASK"),Kn:S(7)}));var qXs=__c.$a(()=>({type:[1,wAs,2,JAs,4,LAs,6,KAs]}),()=>({}));var qAs=F(()=>({type:A("A?",1,"INPAINTING"),mask:D(1,qXs)}));var rXs=F(()=>({text:S(1),locale:S(2)}));var sXs=__c.I(()=>[1,2,3]);var sAs=F(()=>({type:A("A?",2,"PROMPT_INPAINTING"),mask:D(1,qXs),prompt:D(2,rXs),seed:gp(3),Akb:__c.Wa(4,sXs)}));var tAs=F(()=>({type:A("A?",6,"TEXT_BREAKOUT_INPAINTING"),Kn:S(1)}));var uAs=F(()=>({type:A("A?",4,"BG_REMOVER"),Kn:U(1)}));var vAs=F(()=>({type:A("A?",12,"ERASE_RESTORE"),mask:D(1,wAs)}));var xAs=F(()=>({type:A("A?",5,"PROMPT_EDITING"),mask:E(1,qXs),prompt:D(2,rXs),seed:gp(3),xVf:__c.ip(4),OEf:__c.ip(5),BVf:__c.ip(6)}));var yAs=F(()=>({type:A("A?",7,"OUTPAINTING"),oJi:fp(1),nJi:fp(2),D8i:fp(3),E8i:fp(4),seed:gp(5)}));var zAs=F(()=>({type:A("A?",8,"SEGMENTATION_BG_REMOVER"),mask:D(2,qXs)}));var CAs=F(()=>({Li:fp(1),zj:fp(2),kKb:fp(3),Goc:fp(4),rotation:fp(5),flipX:X(6),flipY:X(7)}));var BAs=F(()=>({wn:D(1,__c.vq),nC:E(2,CAs),Li:fp(3),zj:fp(4),rotation:fp(5),scale:fp(6)}));var AAs=F(()=>({type:A("A?",9,"IMAGE_MERGE"),w6a:D(1,BAs),xcc:fp(2),seed:gp(3),BBi:(0,__c.sp)(4),wKd:X(5)}));var DAs=F(()=>({type:A("A?",10,"BG_GENERATION"),prompt:D(1,rXs),seed:gp(2),xcc:fp(3),wKd:X(4)}));var EAs=F(()=>({type:A("A?",11,"STYLE_TRANSFER"),X$e:D(1,__c.vq),seed:gp(2),Y$e:(0,__c.sp)(3)}));var tXs=__c.$a(()=>({type:[1,qAs,2,sAs,6,tAs,4,uAs,12,vAs,5,xAs,7,yAs,8,zAs,9,AAs,10,DAs,11,EAs]}),()=>({}));var GAs=F(()=>({mask:D(1,qXs),Qi:E(2,HAs),OL:Sa(3,fAs)}));var uXs=F(()=>({autoFocus:D(11,gXs),Qi:D(4,HAs),OL:Sa(20,fAs),W$c:X(18),nC:D(5,hAs),qTc:D(19,iXs),filter:D(6,jXs),blur:D(7,kXs),Fja:D(8,lXs),shadows:D(10,mXs),Eab:D(16,lAs),ej:Sa(14,tXs),wN:Sa(21,GAs)}));var aBs=F(()=>({value:E(1,uXs)}));var vXs=F(()=>({$2b:gp(1),uVb:gp(2),WJe:(0,__c.sp)(3)}));var wXs=()=>({yZf:gp(27,5),domain:U(34),ka:S(29),Of:U(35),session:gp(28),gj:(0,__c.up)(31,__c.kua),ofe:Sa(36,aBs),Gzc:(0,__c.up)(37,vXs)});var TAs=F(()=>({...wXs(),type:A("A?",1,"PAGE_BACKGROUND"),fill:D(1,__c.Ll),fh:Sa(6,__c.Ll),width:gp(2),height:gp(3)}));var eCs=F(()=>({...wXs(),type:A("A?",2,"ELEMENTS"),elements:Sa(1,__c.oac),width:gp(2),height:gp(3)}));var xXs=F(()=>({...wXs(),type:A("A?",3,"PAGES"),pages:Sa(1,__c.ybc),width:gp(2),height:gp(3)}));var yXs=F(()=>({...wXs(),type:A("A?",4,"AUDIOTRACKS"),tracks:Sa(1,__c.n$b)}));var uBs=F(()=>({...wXs(),type:A("A?",5,"RICHTEXT3"),Sc:D(1,__c.rbc)}));var zXs=__c.$a(()=>({type:[1,TAs,2,eCs,3,xXs,4,yXs,5,uBs]}),wXs);var JBs=class{transform(){const a=new Map([]),b=new Map;this.sheet.layout.cells.forEach((e,f)=>{const g=`${__c.wta(this.sheet.zL(f.ec))}${this.sheet.kL(f.$b)+1}`;e=this.tVs(e.content.ref,f);a.set(g,e);for(e=this.sheet.kL(f.$b);e<=this.sheet.kL(f.df);e++)for(let h=this.sheet.zL(f.ec);h<=this.sheet.zL(f.jf);h++){const k=`${__c.wta(h)}${e+1}`;b.set(k,g)}});const c=Array.from({length:this.sheet.layout.cols.count()},(e,f)=>({id:__c.wta(f),width:1})),d=Array.from({length:this.sheet.layout.rows.count()},
(e,f)=>({Lp:new Map(c.map(g=>{const h=`${g.id}${f+1}`;return[g.id,b.get(h)??h]})),height:1,minHeight:1}));return{cells:a,layout:{...__c.jYc,columns:c,rows:d}}}constructor(a,b){this.tVs=a;this.sheet=b}};var zBs=class{transform(){const a=[],b=[],c=new Map([]),d=new Map([]),e=new Map([]),f=new Map([]),g=new Map;this.table.layout.columns.forEach(k=>{const l=this.kb.Lqa.generate();b.push({id:l,width:k.width});this.table.layout.rows.forEach((n,p)=>{if(!c.has(p)){var q=this.kb.Lqa.generate();c.set(p,q);a.push({id:q,height:n.height,minHeight:n.minHeight})}p=m(c.get(p));p=`${l}:${p}`;q=m(n.Lp.get(k.id));if(g.has(q))n=m(g.get(q)),f.set(p,n);else{n=this.kb.Lqa.generate();g.set(q,n);f.set(p,n);var r=m(this.table.cells.get(q));
const w=this.f9s(r);q={bma:`${r.Hk.ld??this.table.layout.borderStyle.weight}px`,ama:`${r.Hk.je??this.table.layout.borderStyle.weight}px`,dma:`${r.Hk.yd??this.table.layout.borderStyle.weight}px`,cma:`${r.Hk.sf??this.table.layout.borderStyle.weight}px`,Ira:r.borderColor.ld?.color??this.table.layout.borderStyle.color,Hra:r.borderColor.je?.color??this.table.layout.borderStyle.color,Kra:r.borderColor.yd?.color??this.table.layout.borderStyle.color,Jra:r.borderColor.sf?.color??this.table.layout.borderStyle.color};
var t=r.fill.color;a:switch(r=r.Ki,r){case 1:r="start";break a;case 2:r="middle";break a;case 3:r="end";break a;default:throw new u(r);}a:{switch(this.table.layout.direction){case 1:var v="ltr";break a;case 2:v="rtl";break a;case void 0:break;default:throw new u(this.table.layout.direction);}v=void 0}e.set(p,{...q,n1:t,Ki:r,direction:v});d.set(n,w)}})});const h={...__c.OYc,St:{...__c.Dje(this.EVs.domain.cells,{rra:d,UDc:f,cols:b,rows:a,_attributes:e})},direction:"ltr",GV:__c.jId};return this.imi(h)}constructor(a,
b,c,d,e){this.kb=a;this.f9s=b;this.EVs=c;this.imi=d;this.table=e}};var AXs=class{serialize({Qi:a,OL:b,W$c:c,autoFocus:d,blur:e,nC:f,qTc:g,Fja:h,filter:k,shadows:l,Eab:n,ej:p,wN:q}){return new uXs({Qi:new HAs(a),OL:gAs(b),W$c:c,blur:new kXs(e),nC:kAs(this,f),qTc:new iXs(g),Fja:new lXs(h),filter:new jXs(k),autoFocus:new gXs(d),shadows:new mXs(l),Eab:pAs(n),ej:FAs(p),wN:IAs(q)})}i0f(a){return new hXs(a)}deserialize({Qi:a,OL:b,W$c:c,autoFocus:d,blur:e,nC:f,qTc:g,Fja:h,filter:k,shadows:l,Eab:n,ej:p,wN:q}){return{Qi:{...a},blur:{...e},nC:MAs(this,f),qTc:{...g},Fja:{...h},
filter:{...k},autoFocus:{...d},OL:NAs(b),W$c:c,shadows:{...l},Eab:OAs(n),ej:QAs(p),wN:RAs(q)}}rsf(a){return{...a}}},bBs=new AXs;var iCs=class{static G(a){O(a,{copy:iV,cut:iV,vR:iV,paste:iV,O_n:iV,T_n:iV,R_n:iV,Q_n:iV,S_n:iV,NKi:iV,U_n:iV,P_n:iV})}async copy(a,b){var c=this.domain,d=this.vGa;const e=d.id,f=d.extension;d=d.document;const g=this.session,h=this.selection.Ma;var k;if(k=h)(k=h.type==="pages")||(h.Hg&&gf(h.Hg)?k=!0:h.inner?.type==="group"||h.inner?.type==="layout"||h.inner?.type==="layout-cell"?({element:k}=__c.Ok(h.inner.container),k=gf(k)):k=!1),k=k||h.Ri();if(k&&(k=this.kl(h),c=this.b8a(h,{domain:c,ka:e,Of:f,
session:g,...sg(4,k||d.dimensions)})))return await this.hHj.copy(c,a,b),c}kl(a){if(a.type==="elements")return a.container.ia.dimensions;if(a.type==="pages"&&(a=this.selection.state?.Rz))switch(a.type){case "body":case "concatenated-fixed-page":case "responsive-page":break;case "fixed-page":return a.page.dimensions;default:throw new u(a);}}b8a(a,b){switch(a.type){case "audio":return this.uYh(a,b);case "pages":switch(a.inner?.type){case void 0:return this.Qrg(a,b);case "background":return UAs(this,
a.inner.Hc,b);case "sheet":a=a.inner;const {sheet:d,metadata:e}=VAs(this,a.cells,a.page.sheet,new pj(0,0),m(a.page.id));return this.zHc([],[d],{...b,Gzc:new Map([[d.id,e]]),JGc:{sheets:{[d.id]:{sheet:a.page.sheet,cells:a.cells}}}});case "sheet-cell-media":return this.Lpf(a.inner,b);case "pages":return a.inner.inner?UAs(this,a.inner.inner.Hc,b):this.Qrg(a.inner,b);default:throw new u(a.inner);}case "elements":switch(a.inner?.type){case void 0:case "grid":case "group":case "shape":case "layout":case "layout-cell":const d=
[],e={sheets:{}},f=new Map;a.elements.forEach(k=>{d.push(aAs(k));if(k.type==="sheet"&&!f.has(k.id)){const l=this.fd?bAs(k.config,k.config.layout.cells.map((n,p)=>({row:p.$b,column:p.ec})),this.fd):new Map;f.set(k.id,{$2b:0,uVb:0,WJe:l})}k.type==="sheet"&&(e.sheets[k.id]={sheet:k.config})});return this.zHc(a.elements,d,{...b,Gzc:f,JGc:e});case "table":var c=[this.SRa.irh(a.inner.table,a.inner.cells)];return this.zHc(a.elements,c,b);case "sheet":c=a.inner;const {sheet:g,metadata:h}=VAs(this,c.cells,
c.sheet.config,new pj(c.sheet.left,c.sheet.top),c.sheet.id);return this.zHc(a.elements,[g],{...b,Gzc:new Map([[g.id,h]]),JGc:{sheets:{[g.id]:{sheet:c.sheet.config,cells:c.cells}}}});case "sheet-cell-media":return this.Lpf(a.inner,b);default:throw new u(a.inner);}default:throw new u(a);}}uYh(a,b){a=a.tracks.map(c=>Wg.LWi(__c.KEc.snapshot(c)));return{qVb:new yXs({...b,tracks:a}),Nye:{contentType:"audio_tracks",C0b:1}}}Lpf(a,b){const c={contentType:"elements",C0b:a.media.size},d=a.media.map(e=>{const {width:f,
height:g}=m(e.Cw||e.fill.image.ref?.yb||e.fill.video.ref?.yb);e=Wg.N5(Pn.snapshot(e.fill));return new __c.bq({...Rn,id:this.kb.Af.generate(),top:0,left:0,width:f,height:g,rotation:0,fill:e})});a=a.media.map(e=>this.DN?.XHe(e.fill.image.ref));a=SAs(a);return{qVb:new eCs({...b,elements:d,ofe:a}),Nye:c}}Qrg(a,b){const c={contentType:"pages",C0b:a.pages.length};var d=a.pages.map(f=>{a:{var g=An.snapshot(f);switch(f.type){case "fixed":const h=this.hb.kl(f);f=ug(h)?f.re:this.hb.ILg(f);g={...g,dimensions:h,
re:f};break a;case "concatenated-fixed":case "responsive":g={...g,re:this.hb.ILg(f)};break a;default:throw new u(f);}}return g});const e=this.DN;a=e?SAs(a.pages.flatMap(f=>Gqs(e,f))):[];d=d.map(f=>Wg.hWc(f));return{qVb:new xXs({...b,pages:d,ofe:a}),Nye:c}}zHc(a,b,c){b=b.map(f=>Wg.RWa(f));a=SAs(this.DN?.B$h(a)||[]);const d=__c.bua(__c.rtb.snapshot(this.vGa.document.gj)),e={contentType:"elements",C0b:b.length,mE:b.map(f=>f.type.toLowerCase()).join(", "),GE:__c.Rff(this.selection.Ma?.elements||[])};
return{qVb:new eCs({...c,elements:b,gj:d,ofe:a}),Nye:e,JGc:c.JGc}}async cut(a,b,c,d){a=await this.copy(a,d);d=this.selection.Ma;if(a&&d&&d.Ri())return this.vR(d,b,c),a}vR(a,b,c){c=this.V.startSpan("delete_element_cut",c);a:switch(b){case "menu":b="cut_contextual_menu";break a;case "shortcut":b="cut_keyboard_shortcut";break a;default:throw new u(b);}c.setAttribute("controlContext",b);switch(a.type){case "audio":this.sq.d_d(a.tracks,b);this.selection.deselectAll();break;case "pages":switch(a.inner?.type){case void 0:a=
a.pages;this.MX.WUb(a)&&this.MX.X2e(a,{mb:"shortcut",location:"clipboard"});this.selection.deselectAll();break;case "sheet":a=a.inner;b=a.page.sheet;this.hj?.z1h(b,a.cells.map(d=>d));break;case "sheet-cell-media":b=a.inner.media;a=a.inner.container;this.Ap.c_d?.(a.sheet,a.row,a.column,b);break;case "pages":sa(a.inner.inner?.type==="background");this.Ap.Zrf?.(a.inner.inner.page,a.inner.inner.Hc);break;case "background":if(a.inner.page.type==="responsive")return;this.Ap.Zrf?.(a.inner.page,a.inner.Hc);
break;default:throw c.end("error"),new u(a.inner);}break;case "elements":switch(a.inner?.type){case void 0:case "grid":case "group":case "shape":case "layout":case "layout-cell":this.Ap.Zra?.(a.elements,a.container);break;case "table":this.mC.Snl(a.inner.cells);this.Ap.MYj?.(a.inner.cells);break;case "sheet":a=a.inner;b=a.sheet;this.hj?.z1h(b.config,a.cells.map(d=>d));break;case "sheet-cell-media":b=a.inner.media;a=a.inner.container;this.Ap.c_d?.(a.sheet,a.row,a.column,b);break;default:throw c.end("error"),
new u(a.inner);}break;default:throw c.end("error"),new u(a);}c.qe()}oBc(a,b){a.ob().addEvent("pasted");a.ob().wk(({Oi:c})=>{this.N.track(Wff,{...b,action:"paste",Tb:c()})});a.qe()}Trd(){var a=this.selection.Ma;if(this.selection.Kb)return this.mTi.Trd();if(!a?.Ri())return!1;switch(a?.type){case "pages":if(a.inner!=null)a:switch(a.inner?.type){case "sheet":case "sheet-cell-media":a=!0;break a;case "pages":case "background":case void 0:a=!ug(a.Fp?.dimensions||this.vGa.document.dimensions);break a;default:throw new u(a.inner);
}else a=!0;return a;case "audio":case "elements":case void 0:return!!a;default:throw new u(a);}}rng(){const a=this.selection.Ma;if(this.selection.Kb)return this.mTi.rng();if(!a?.Ri())return!1;if(a?.type==="pages")switch(a.inner?.type){case "sheet":case "sheet-cell-media":return!0;case "pages":case "background":case void 0:return this.viewport.uh&&(!this.viewport.DU||!ug(a.Fp?.dimensions||this.vGa.document.dimensions))||this.viewport.ya.type==="responsive";default:throw new u(a.inner);}return!!a}tnc(){const a=
this.selection.Ma;return a?a.Ri()&&a.inner?.type==="sheet":!1}async paste(a,b,c,d,e){if((a.type!==1||a.PQa.type!=="PAGES"&&a.PQa.type!=="AUDIOTRACKS")&&this.viewport.Vg.ia.locked)throw new __c.noe;switch(a.type){case 0:return this.Bbl(a.file,b,c,d);case 1:return this.MKi(a.PQa,b,c,e);case 2:return this.yTf(a.text,b,c,e);case 3:return this.KKi(a.content,b,c,e);default:throw new u(a);}}async Bbl(a,b,c,d){d==null?b.end("error"):(a=await d([a],"canvas",{Q8a:"background",mb:"clipboard"}).images,b.ob().addEvent("image_uploaded"),
[a]=a,b.ob().setAttribute("uploaded",!!a),a?(await this.JYa.addImage(Yef(a),b),this.oBc(b,{mb:c,contentType:"image",GE:[a.id]})):b.end("error"))}async yTf(a,b,c,d){a=await Szs(this.JYa,a,b,c,d);this.oBc(b,{mb:c,contentType:"text",eRj:a})}async MKi(a,b,c,d){if(a.yZf!==this.XMj||a.domain!=null&&a.domain!==this.domain)b.abort();else{b.ob().setAttribute("content_type",a.type.toLowerCase());var e=!1;switch(a.type){case "PAGE_BACKGROUND":e=await WAs(this,a,b);a={mb:c,contentType:"page_backgrounds",C0b:a.fh.length,
lIg:a.ka===this.vGa.id,mIg:a.session===this.session};break;case "ELEMENTS":e=this.viewport.Vg;if(e.type==="responsive-page")return;const f=__c.Wce(this.vpb,a.elements.map(g=>Wg.jWb(g)),{bwd:this.Luf.next(),Myg:a.ka===this.vGa.id?void 0:a.ka});b.ob().addEvent("proto_deserialized");e=await this.O_n(e,a,f,b,c,d);d=__c.Rff(this.selection.Ma?.elements||[]);a={mb:c,contentType:"elements",C0b:f.length,mE:f.map(g=>g.type).join(", ").toLowerCase(),lIg:a.ka===this.vGa.id,mIg:a.session===this.session,GE:d};
break;case "PAGES":e=await this.LKi(a,c,b);a={mb:c,contentType:"pages",C0b:a.pages.length,lIg:a.ka===this.vGa.id,mIg:a.session===this.session};this.Jb.eHd?.();break;case "AUDIOTRACKS":e=await XAs(this,a,b);a={mb:c,contentType:"audio_tracks",C0b:a.tracks.length,lIg:a.ka===this.vGa.id,mIg:a.session===this.session};break;case "RICHTEXT3":await this.mTi.MKi(a,b,c,d);return;default:throw new u(a);}b.ob().setAttribute("resources_loaded",e);this.oBc(b,a);e||this.GFl()}}async KKi(a,b,c,d){switch(a.type){case "richtext3":await this.mTi.KKi(a,
b,c,d);break;case "elements":if(a.elements.length!==1)break;a=a.elements[0];a.type!=="table"||hf(this.viewport.ya)||(await this.JYa.yjf(a,b,{mmd:!0}),this.oBc(b,{mb:c,contentType:"elements"}));a.type==="sheet"&&(Ozs(this.JYa,a,void 0,b,c,{...d,NWc:"wrap"}),this.oBc(b,{mb:c,contentType:"elements"}));a.type==="text"&&(d?.mmd?await Szs(this.JYa,a.text.cells.Ya(),b,c,d):d?.THg||await Tzs(this.JYa,a.text,b),this.oBc(b,{mb:c,contentType:"elements"}));break;case "media":d=await this.sc.Fqb(new __c.bz({id:a.media.id,
version:a.media.version}));d={...Yef(d),pending:!1,dw:!0,b6:d.b6,RA:d.Qb.RA};await this.JYa.addImage(d,b);this.oBc(b,{mb:c,contentType:"elements",mE:"rect",C0b:1,GE:[a.media.id],correlationId:a.Bf});break;default:throw new u(a);}}async O_n(a,b,c,d,e,f){if(this.selection.Ma?.inner?.type==="table"&&c.length===1){if(c[0].type==="table")return this.T_n(b,c[0],d);if(c[0].type==="sheet")return this.R_n(b,c[0],d)}else if(this.selection.Ma?.inner?.type==="sheet"){if(c.length===1){var g=c[0];switch(g.type){case "sheet":return this.Q_n(b,
g,d,e,f);case "table":return this.S_n(b,g,d,e,f);case "text":return this.U_n(b,g,d);case "embed":return this.P_n(b,g,d)}}if(c.every(n=>n.type==="rect"))return this.NKi(b,c,d)}const h=b.ofe.map(({value:n})=>n&&bBs.deserialize(n));d.ob().addEvent("proto_deserialized");g=!0;b.session!==this.session&&({L7b:g,elements:c}=await $zs(this.hEb,b,{elements:c},d));d.ob().addEvent("content_normalized");hf(a.ia)&&(c=c.filter(n=>n.type!=="table"&&n.type!=="sheet"));const k=a.ia;if(!Wqs(k,this.hb)||a.container.type===
"concatenated-fixed-page"||k.draft||__c.phe(k)!=null)c=c.filter(n=>!__c.nhe(n));if(c.length===0)return g;let l=$As(this,c,a,b.width,b.height);d.ob().addEvent("content_scaled_to_page");l=await Promise.all(l.map(this.y0g));l=l.map(n=>n.type==="controlled"?{...n,id:this.kb.Af.generate()}:n);rV(()=>{let n=[];var p=l.length===1?l[0]:void 0;if(p?.type==="sheet"){const q=b.elements[0];sa(q.type==="SHEET");(p=Ozs(this.JYa,p,b.Gzc.get(q.id),d,e,{...f,NWc:"wrap"}))&&n.push(p)}else n=k.elements.vfa(void 0,l);
for(const q of n)q.type==="chart"&&this.VF(q);this.DN?.$mi(n,h);d.ob().addEvent("content_added");this.selection.Jl(a,...n);d.ob().addEvent("content_selected");this.Gg.iS()});return g}async T_n(a,b,c){let d=!0;a.session!==this.session&&({L7b:d,elements:[b]}=await $zs(this.hEb,a,{elements:[b]},c));c.ob().addEvent("content_normalized");await rV(async()=>{await this.JYa.yjf(b,c)});return d}async R_n(a,b,c){ra(a.elements.length===1);ra(a.elements[0].type==="SHEET");let d=!0;a.session!==this.session&&({L7b:d,
elements:[b]}=await $zs(this.hEb,a,{elements:[b]},c));c.ob().addEvent("content_normalized");a=a.Gzc.get(a.elements[0].id);b=xMb.create(b);b=(new JBs(dAs(b,a,this.fd),b.config)).transform();const e={...__c.iYc,...b,id:this.kb.Af.generate(),top:0,left:0,width:1,height:1,gb:1,Wb:1};await rV(async()=>{await this.JYa.yjf(e,c)});return d}async Q_n(a,b,c,d,e){ra(a.elements.length===1);ra(a.elements[0].type==="SHEET");let f=!0;a.session!==this.session&&({L7b:f,elements:[b]}=await $zs(this.hEb,a,{elements:[b]},
c));c.ob().addEvent("content_normalized");const g=a.Gzc.get(a.elements[0].id);rV(()=>{Ozs(this.JYa,b,g,c,d,e)});return f}async S_n(a,b,c,d,e){let f=!0;a.session!==this.session&&({L7b:f,elements:[b]}=await $zs(this.hEb,a,{elements:[b]},c));c.ob().addEvent("content_normalized");a=(new zBs(this.kb,h=>({...ws,content:{...__c.zYc,value:this.JS.config.sLg(h)}}),__c.mBa,h=>{if(!this.fd)return h;const k=__c.GSc.create(h);this.fd.Ew(l=>{k.layout.cells.forEach((n,p)=>{n?.content.ref&&n.content.ref.type==="text2"&&
l.KEb(k,{column:p.ec,row:p.$b},n.content.ref.value)})});return __c.GSc.snapshot(k)},b)).transform();const g={...PYc,id:this.kb.Af.generate(),top:0,left:0,width:0,height:0,config:a};rV(()=>{Ozs(this.JYa,g,void 0,c,d,e)});return f}async NKi(a,b,c){let d=!0;a.session!==this.session&&({L7b:d,elements:b}=await $zs(this.hEb,a,{elements:b},c));c.ob().addEvent("content_normalized");a=this.selection.Ma;if(a?.inner?.type==="sheet"){const e=a.inner.cells,f=a.type==="elements"?a.inner.sheet.config:a.inner.page.sheet,
g=b.map(h=>({fill:h.fill,Cw:{width:h.width,height:h.height}}));rV(()=>{this.fd?.Ew(h=>{e.forEach(k=>{var l=f.layout.cells.get(k.row,k.column);l=l?.ref.content.ref?.type==="media"?l.ref.content.ref.value.map(n=>__c.nNc.snapshot(n)):[];h.faa(f,k,{type:6,value:[...l,...g]})})})})}return d}async U_n(a,b,c){let d=!0;a.session!==this.session&&({L7b:d,elements:[b]}=await $zs(this.hEb,a,{elements:[b]},c));c.ob().addEvent("content_normalized");await rV(async()=>{await Tzs(this.JYa,b.text,c)});return d}async P_n(a,
b,c){let d=!0;a.session!==this.session&&({L7b:d,elements:[b]}=await $zs(this.hEb,a,{elements:[b]},c));c.ob().addEvent("content_normalized");await rV(async()=>{await this.JYa.vEc(b.url,c)});return d}async fyc(a,b,c){switch(a.type){case "fixed":return this.IH?(b=a.dimensions??{height:c,width:b,units:4},c=a.re,ug(b)&&!a.re&&(c=a.sheet?void 0:await __c.Mvf(this.MX)),ug(b)||c||(c={type:"inline",hH:void 0}),a={...a,dimensions:b,re:c}):a=this.eyc({...a,re:void 0},b,c),b=(await Promise.all(a.elements.map(this.y0g))).filter(sb),
this.IH||this.vGa.doctype?.eQ[0].type!=="CONCATENATED_FIXED"?{...a,elements:b}:{...__c.$Yc,id:this.kb.nh.generate(),re:{...__c.aZc,Ea:this.vGa.doctype?.id,kE:this.vGa.doctype?.version,hH:void 0},pages:[{...a,re:void 0,id:this.kb.nh.generate(),elements:b}]};case "concatenated-fixed":if(!(a.re?.type==="reference"&&a.re.Ea===this.vGa.doctype?.id||this.IH))break;b=await Promise.all(a.pages.map(async d=>{const e=await Promise.all(d.elements.map(this.y0g));return{...d,elements:e.filter(sb)}}));return{...a,
pages:b.filter(sb)};case "responsive":return{...a};default:throw new u(a);}}eyc(a,b,c){b={width:b,height:c,units:4};b=a.dimensions||b;var d=this.vGa.document.dimensions;c=this.Wc.vyb(this.kb);if(this.vGa.doctype?.Oc?.MGa||this.vGa.doctype?.Oc?.vhb){const e=d.width/b.width;d=ug(b)?d:{width:b.width*e,height:b.height*e,units:4};return __c.NOb(c,b,d,d,a)}return this.g1d&&ug(b)||a.sheet!=null?{...a,dimensions:b}:c.eyc(b,d,a)}async LKi(a,b,c){if(a.pages.length===0)return c.abort(),!1;let d=a.pages.map(k=>
this.vpb.HR(Wg.O9b(k)));const e=a.ofe.map(({value:k})=>k&&bBs.deserialize(k));c.ob().addEvent("proto_deserialized");let f=!0;a.session!==this.session&&({L7b:f,pages:d}=await $zs(this.hEb,a,{pages:d},c));c.ob().addEvent("content_normalized");d=(await Promise.all(d.map(async k=>this.fyc(k,a.width,a.height)))).filter(sb);c.ob().addEvent("content_scaled_to_page");const g=this.selection.Ma?.type==="pages"?this.selection.Ma.pages[this.selection.Ma.pages.length-1]:this.viewport.ya,h=this.qc.fOa(d);switch(h.type){case 4:return c.abort(),
!1;case 2:return c.abort(),this.N.track(__c.Zff,{designId:this.vGa.id,mb:b}),this.ma.Ib({Db:J("ejP+Tw",[a.pages.length,h.Jh])}),!1;case 3:return c.abort(),this.ma.Ib({Db:J("0RVqFA",[h.Yxg])}),!1;case 1:break;default:throw new u(h);}b=rV(()=>this.qc.gUb(g,d,{span:c,Xc:"paste",location:"clipboard",q9:"none"}));this.DN?.thn(b.map(k=>k.page),e);c.ob().addEvent("content_added");await ka(0);this.viewport.uE(b[0]);this.selection.deselectAll();this.selection.pW(b[0].container,...b.map(k=>k.page));c.ob().addEvent("content_selected");
return f}H4f(){return{items:new Set}}constructor(a,b,c,d,e,f,g,h,k,l,n,p,q,r,t,v,w,x,y,z,B,C,G,H,K,L,N,P,T,V,W,aa,ba,da,la,ja,oa,ma,na,qa,ua,za,va){this.mTi=a;this.hEb=b;this.JYa=c;this.qc=d;this.hHj=e;this.GFl=f;this.XMj=g;this.Luf=h;this.domain=k;this.vGa=l;this.session=n;this.Pa=p;this.Za=q;this.Jb=r;this.N=t;this.V=v;this.selection=w;this.Gg=x;this.DN=y;this.viewport=z;this.BYa=B;this.hb=C;this.MX=G;this.sq=H;this.JS=K;this.mC=L;this.SRa=N;this.Lk=P;this.timing=T;this.od=V;this.sE=W;this.hj=aa;
this.fd=ba;this.kb=da;this.vpb=la;this.cja=ja;this.sc=oa;this.Wc=ma;this.Ap=na;this.ma=qa;this.VF=ua;this.g1d=za;this.IH=va;this.y0g=(iCs.G(this),async xa=>{if(__c.Cqa(xa)&&this.cja)try{const Ba=await this.cja?.yRg(xa.Gd.app.id,xa.Xl,{i2f:!1});return{...xa,Xl:Ba}}catch{}return xa})}};var BXs=class{transform(){let a=0,b=0,c=1;const d=[],e=this.table.getElementsByTagName("col");for(const x of this.table.rows){const y=x.rowIndex;let z=0;for(const B of x.cells){for(var f=B.cellIndex,g=B.rowSpan,h=B.colSpan;d[y]?.[f+z];)z++;var k=g+y-this.sheet.rows.length;if(k>0)for(var l=0;l<k;l++){var n={},p=vts(x.style.height);p!=null&&(n.height=Math.max(1,p));if(p=rts(this.qha,x))n.backgroundColor=p;this.feo.set(a,n);this.sheet.rows.push({id:this.kb.Lqa.generate(),height:Math.max(n.height??cu.height,
cu.height),minHeight:Math.max(n.height??cu.minHeight,cu.height)});a++}k=h+f+z-this.sheet.cols.length;if(k>0)for(l=0;l<k;l++){if(p=e.item(b)){var q=p.style;n={};q=Lts(p.width)||vts(q.width);q!=null&&(n.width=Math.max(1,q));if(p=rts(this.qha,p))n.backgroundColor=p}else n={};this.Pvm.set(b,n);this.sheet.cols.push({id:this.kb.Lqa.generate(),width:Math.max(n.width??__c.hId.width,__c.hId.width)});b++}(k=this.config.JJo(B))&&this.sheet.rra.set(`${c}`,k);for(k=0;k<h;k++)for(l=f+z+k,n=m(this.sheet.cols[l]).id,
p=0;p<g;p++){var r,t;q=y+p;var v=m(this.sheet.rows[q]).id;this.sheet.UDc.set(`${n}:${v}`,`${c}`);(r=d)[t=q]??(r[t]=[]);d[q][l]=!0}c++;n=f+z;l=y;f=this.sheet._attributes;g=f.set;h=`${m(this.sheet.cols[n]).id}:${m(this.sheet.rows[l]).id}`;k=B;p=l;l={};if(n=rts(this.qha,k)||this.feo.get(p)?.backgroundColor||this.Pvm.get(n)?.backgroundColor)l.n1=n;n=this.direction==="rtl";p=this.qha;q=k;p=(p=q.style.borderTopWidth||sV(p,q)?.borderTopWidth||q.style.borderBlockStartWidth||sV(p,q)?.borderBlockStartWidth)?
vts(tV(p)):void 0;q=this.qha;v=k;q=(q=v.style.borderBottomWidth||sV(q,v)?.borderBottomWidth||v.style.borderBlockEndWidth||sV(q,v)?.borderBlockEndWidth)?vts(tV(q)):void 0;v=n?xts(this.qha,k):wts(this.qha,k);var w=n?wts(this.qha,k):xts(this.qha,k);p!=null&&(l.bma=`${p}px`);q!=null&&(l.ama=`${q}px`);v!=null&&(l.dma=`${v}px`);w!=null&&(l.cma=`${w}px`);p=this.qha;q=k;p=(p=q.style.borderTopColor||sV(p,q)?.borderTopColor||q.style.borderBlockStartColor||sV(p,q)?.borderBlockStartColor)?qts(p):void 0;q=this.qha;
v=k;q=(q=v.style.borderBottomColor||sV(q,v)?.borderBottomColor||v.style.borderBlockEndColor||sV(q,v)?.borderBlockEndColor)?qts(q):void 0;v=n?tts(this.qha,k):sts(this.qha,k);w=n?sts(this.qha,k):tts(this.qha,k);p&&(l.Ira=p);q&&(l.Hra=q);v&&(l.Kra=v);w&&(l.Jra=w);p=this.qha;q=k;p=(p=q.style.borderTopStyle||sV(p,q)?.borderTopStyle||q.style.borderBlockStartStyle||sV(p,q)?.borderBlockStartStyle)?yts(p):void 0;q=this.qha;v=k;q=(q=v.style.borderBottomStyle||sV(q,v)?.borderBottomStyle||v.style.borderBlockEndStyle||
sV(q,v)?.borderBlockEndStyle)?yts(q):void 0;v=n?Ats(this.qha,k):zts(this.qha,k);k=n?zts(this.qha,k):Ats(this.qha,k);p!=null&&(l.YSa=cBs(p));q!=null&&(l.XSa=cBs(q));v!=null&&(l.$Sa=cBs(v));k!=null&&(l.ZSa=cBs(k));g.call(f,h,l)}}return this.config.imi({St:__c.Dje(this.descriptor.domain.cells,this.sheet),Or:new Map,z8:[],direction:this.direction,GV:__c.jId,Isa:!1,view:__c.NYc})}constructor(a,b,c,d,e){this.descriptor=a;this.table=b;this.qha=c;this.config=d;this.kb=e;this.sheet={rra:new Map,UDc:new Map,
_attributes:new Map,cols:[],rows:[]};this.direction="ltr";this.Pvm=new Map;this.feo=new Map}},CXs=class{imi(a){if(!this.fd)return a;const b=__c.GSc.create(a);this.fd.Ew(c=>{b.layout.cells.forEach((d,e)=>{d?.content.ref&&d.content.ref.type==="text2"&&c.KEb(b,{column:e.ec,row:e.$b},d.content.ref.value)})});return __c.GSc.snapshot(b)}JJo(a){a=this.Rdt(a);if(a.length===1&&a[0].type==="text")return{...ws,content:{...__c.zYc,value:a[0].text}};if(a.length&&a.every(b=>b.type==="rect"))return{...ws,content:{...__c.wYc,
value:a.map(b=>({fill:b.fill,Cw:void 0}))}}}constructor(a,b){this.fd=a;this.Rdt=b}},DXs=class{imi(a){if(!this.fd)return a;const b=__c.$Uc.create(a);this.fd.Ew(c=>{b.layout.cells.forEach((d,e)=>{d.content.ref&&d.content.ref.type==="text3"&&c.Khc(b,{column:e.ec,row:e.$b},d.content.ref.value)})});return __c.$Uc.snapshot(b)}JJo(a){a=this.Zdt(a);const b=dBs(a);return b.length>0&&b.every(c=>c.type==="rect")?{...ws,content:{...__c.wYc,value:b.map(c=>({fill:c.fill,Cw:void 0}))}}:{...ws,content:{...__c.AYc,
value:a}}}constructor(a,b){this.fd=a;this.Zdt=b}};var MV={fontFamily:()=>{},fontSize:(a,b)=>{a.setStyle("font-size",`${b.toString()}px`)},fontWeight:(a,b)=>{b=__c.NLh.Vhi(b);b!=null&&a.setStyle("font-weight",b.toString())},fontStyle:(a,b)=>a.setStyle("font-style",b),fontKerning:()=>{},aMc:()=>{},$Lc:()=>{},ZLc:()=>{},VK:(a,b)=>{const c=parseFloat(a.getStyle("font-size")||"");b=parseFloat(b);Number.isNaN(c)||Number.isNaN(b)||b===1||a.setStyle("font-size",`${(c*b).toString()}px`)},verticalAlign:()=>{},color:(a,b)=>a.setStyle("color",b),Iab:()=>{},
backgroundColor:(a,b)=>{b!=="transparent"&&a.setStyle("background-color",b)},Dra:()=>{},Cra:()=>{},decoration:(a,b)=>{if(b!=="none"){var c=a.getStyle("text-decoration");a.setStyle("text-decoration",c?c+` ${b}`:b)}},rv:(a,b)=>{b!=="none"&&(b=a.getStyle("text-decoration"),a.setStyle("text-decoration",b?b+" line-through":"line-through"))},link:(a,b)=>{b.length>0&&a.setAttribute("href",b)},letterSpacing:(a,b)=>a.setStyle("letter-spacing",`${b}em`),lineHeight:(a,b)=>a.setStyle("line-height",b.toString()),
direction:(a,b)=>a.setStyle("direction",b),textAlign:(a,b,c)=>{switch(b){case "start":a.setStyle("text-align",c.direction==="rtl"?"right":"left");break;case "end":a.setStyle("text-align",c.direction==="rtl"?"left":"right");break;default:a.setStyle("text-align",b)}},Dk:(a,b)=>{["checked","unchecked"].includes(b)||a.setStyle("list-style",b)},Mk:()=>{},wDa:()=>{},marginInlineStart:(a,b,c)=>{c.direction==="rtl"?a.setStyle("margin-right",`${b}px`):a.setStyle("margin-left",`${b}px`)},textIndent:(a,b)=>
a.setStyle("text-indent",`${b}px`),textTransform:(a,b)=>a.setStyle("text-transform",b),FEa:()=>{}};var oBs=class{transform(){const a=eV.element("table"),b=a.appendChild(eV.element("colgroup"));this.sheet.layout.cols.forEach(c=>{b.appendChild(eV.element("col",{j3g:!0})).setStyle("width",`${c.width}px`)});this.sheet.layout.rows.forEach(c=>{const d=a.appendChild(eV.element("tr"));d.setStyle("height",`${c.height}px`);this.sheet.layout.cols.forEach(e=>{var f=this.sheet.layout.cells.get(c,e);if(f==null||f.span.$b===c&&f.span.ec===e){var g=f?.ref.content.ref?this.n3p(f?.ref.content.ref,{row:c,column:e}):
eV.element("td");d.appendChild(g);f&&f.span.$b!==f.span.df&&g.setAttribute("rowspan",[...xk(f.span.$b,f.span.df,this.sheet.layout.rows)].length.toString());f&&f.span.ec!==f.span.jf&&g.setAttribute("colspan",[...xk(f.span.ec,f.span.jf,this.sheet.layout.cols)].length.toString());var h=this.sheet.direction==="rtl",k=this.sheet.layout.attrs.get(Ee.ht,c,e)||{};g.setStyle("background-color",he(Ee,k).n1);we(__c.TNc,k,"all",(l,n)=>{if(l!=null)MV[n](g,l,{direction:h?"rtl":"ltr"})});e=this.Nvo.get(`${(f?.span.ec??
e).id}:${(f?.span.$b??c).id}`);!f||f.span.$b===f.span.df&&f.span.ec===f.span.jf||(f=this.Nvo.get(`${f.span.jf.id}:${f.span.df.id}`),e?(e.je=f?.je,e.sf=f?.sf):e=f);if(e?.ld!=null){const {color:l="transparent",weight:n,uD:p}=e.ld;g.setStyle("border-top",`${n}px ${eBs(p)} ${l}`)}if(e?.je!=null){const {color:l="transparent",weight:n,uD:p}=e.je;g.setStyle("border-bottom",`${n}px ${eBs(p)} ${l}`)}if(e?.yd!=null){const {color:l="transparent",weight:n,uD:p}=e.yd;f=`${n}px ${eBs(p)} ${l}`;h?g.setStyle("border-right",
f):g.setStyle("border-left",f)}if(e?.sf!=null){const {color:l="transparent",weight:n,uD:p}=e.sf;f=`${n}px ${eBs(p)} ${l}`;h?g.setStyle("border-left",f):g.setStyle("border-right",f)}}})});return a}constructor(a,b,c){this.sheet=a;this.n3p=b;this.Nvo=c}};var EXs=class{serialize(a,b){a=this.Tvo.serialize(a,b);return this.csv.encode(a,{field:"\t"})}deserialize(a){var b=__c.ang(a);let c=this.csv.parse(a,b);const d=c.length,e=c[0]?.length||0,f=e>0&&c.every(h=>h.length===e);let g=!1;switch(b.field){case ",":g=d>=2&&e>=4;break;case ";":case "|":g=d>=2&&e>=2||e>=4;break;default:g=!0}f&&g||(c=a.split(b.row).map(h=>[h]));a=c.length;b=Math.max(0,...c.map(h=>h.length));if(!(a<=1||b<=1))return this.Tvo.deserialize(c)}constructor(a){var b=new __c.Fpg;this.Tvo=
a;this.csv=b}};var FXs=class{serialize(a,b){const c=__c.Sps(a.St),d=new Set;return __c.Lib.HZ(c.rows).map(e=>__c.Oib.HZ(c.cols).map(f=>{var g=c.UDc.get(`${f.id}:${e.id}`);g=g!=null?c.rra.get(g):void 0;if(!g||!g.content||d.has(g))return"";d.add(g);return b(h=>{const k=m(h.Z2b(e.id)),l=m(h.tVb(f.id));return this.fd?.getContent(h,k,l)})?.hU??""}))}deserialize(a){const b={rra:new Map,UDc:new Map,_attributes:new Map,cols:[],rows:[]};a=a.map(f=>f.map(g=>g.trim()));const c=a.length,d=Math.max(0,...a.map(f=>f.length));
for(var e=0;e<c;e++)b.rows.push({id:this.kb.Lqa.generate(),height:cu.height,minHeight:cu.height});for(e=0;e<d;e++)b.cols.push({id:this.kb.Lqa.generate(),width:__c.hId.width});e=1;for(let f=0;f<c;f++)for(let g=0;g<d;g++)a[f][g]!=null&&(b.rra.set(`${e}`,{...ws,content:{...__c.vYc,value:a[f][g]}}),b.UDc.set(`${b.cols[g].id}:${b.rows[f].id}`,`${e}`),e++);return{St:__c.Dje(__c.fOc.domain.cells,b),Or:new Map,z8:[],direction:"ltr",GV:__c.jId,Isa:!1,view:__c.NYc}}constructor(a,b){this.fd=a;this.kb=b}};var GXs=()=>({Bf:U(21)});var HXs=F(()=>({...GXs(),type:A("A?",1,"MEDIA"),id:S(1),version:gp(2)}));var IXs=__c.$a(()=>({type:[1,HXs]}),GXs);var JXs=class{get PNc(){return this.gif?this.gif:this.gif=this.Nfq()}transform(){iBs(this);return this.elements}QRd(a,b){this.PNc.QRd(a,b)}KGb(a){this.PNc.KGb(a)}At(a,b,c){this.PNc.At(a,b,c)}hpe(a,b){this.PNc.hpe(a,b)}z2a(a,b,c){this.PNc.z2a(a,b,c)}Z8a(a,b){this.PNc.Z8a(a,b)}$8a(a,b){this.PNc.$8a(a,b)}lpe(a,b){this.PNc.lpe(a,b)}y2a(a,b){this.PNc.y2a(a,b)}jpe(a,b){this.PNc.jpe(a,b)}oNa(a){iBs(this);this.gif=void 0;if(this.O5h.m_d&&!this.A2c())a={...this.O5h.m_d(a),top:this.Moc},this.elements.push(a),
this.Moc+=a.height;else if(this.O5h.l_d){var b=this.O5h.l_d(a);const c=b.St.cols.reduce((d,e)=>d+e.width,0);a=b.St.rows.reduce((d,e)=>d+e.height,0);b={...PYc,config:b,top:this.Moc,left:0,width:c,height:a,id:this.kb.Af.generate()};this.elements.push(b);this.Moc+=a}}mpe(a){this.PNc.mpe(a)}kpe(a){if(a=this.resources?.get(a.src)){var {width:b,height:c}=Di(a.files,e=>e.width);sa(b>0&&c>0);var d=Lj(0,0,b,c).Nb();a={...Rn,id:this.kb.Af.generate(),top:this.Moc,left:0,width:b,height:c,fill:{...ks,image:{...__c.js,
media:{id:a.id,version:a.version},yb:d}}};this.elements.push(a);this.Moc+=c}}constructor(a,b,c,d,e,f,g=()=>!1){this.container=a;this.O5h=b;this.Nfq=c;this.Vi=d;this.kb=e;this.resources=f;this.A2c=g;this.elements=[];this.Moc=0}};var KXs=YSs(Be.Nf["font-size"]),LXs={B:{"font-weight":"bold"},STRONG:{"font-weight":"bold"},I:{"font-style":"italic"},EM:{"font-style":"italic"},U:{decoration:"underline"},S:{strikethrough:"strikethrough"},DEL:{strikethrough:"strikethrough"}},MXs=/^(address|blockquote|body|center|dir|div|dl|fieldset|form|h[1-6]|hr|isindex|menu|noframes|noscript|ol|p|pre|table|ul|dd|dt|frameset|li|tbody|td|tfoot|th|thead|tr|html)$/i,NXs=class{transform(){this.I?.R6i&&!this.G9e&&this.dOa("\n");return this.builder.build()}dOa(a){const b=
{...this.szd(),...this.GP},c=de(this.GP,()=>{});this.Rga(b,c,()=>{this.builder.Xb(a)});this.zba=a}Rga(a,b,c){const d={...this.GP};this.GP={...this.GP,...a};this.builder.attrs(a);c();this.builder.attrs({...b,...d});this.GP={...this.GP,...b,...d}}QRd(a,b){if(a.nodeType!==a.ELEMENT_NODE)b();else{var c=this.FPb;switch(tV(a.style.whiteSpace)){case "pre":case "pre-wrap":case "break-spaces":this.FPb=!0}b();this.FPb=c}}KGb(a){if(a.textContent){let b=a.textContent;this.FPb||(this.gDl(a)&&(b=b.trimStart()),
this.fDl(a)&&(b=b.trimEnd()),b=b.replace(/\s+/g," "));b&&this.dOa(b)}}Bcc(a){return a!=null&&MXs.test(a.tagName)}gDl(a){return this.hzj||this.Bcc(a.previousElementSibling)||this.Bcc(a.nextElementSibling)||a.previousSibling==null&&this.Bcc(a.parentElement)}fDl(a){return this.Bcc(a.previousElementSibling)||this.Bcc(a.nextElementSibling)||a.nextSibling==null&&this.Bcc(a.parentElement)}hpe(a,b){const {QFb:c,rXa:d}=this.Tzb(a,"inline"),e={color:c.color,decoration:c.decoration};a=Be.pick(f=>__c.ze(Be,e,
f)!=null,e);Object.keys(a).length===0&&we(Be,bB,"all",(f,g)=>{c[g]=f;d[g]=void 0});this.Rga(c,d,b)}At(a,b,c){b==="block"&&vV(this);const {QFb:d,rXa:e}=this.Tzb(a,b);(a=LXs[a.tagName])&&we(Be,a,b,(f,g)=>{d[g]==null&&(d[g]=f,e[g]=void 0)});this.Rga(d,e,c);b==="block"&&vV(this)}z2a(a,b,c){vV(this);a=this.xda;this.xda=b?"ordered":"unordered";c();this.xda=a}Z8a(a,b){vV(this);const {QFb:c,rXa:d}=this.Tzb(a,"block");this.Rga(c,d,()=>{b();vV(this)})}$8a(a,b){vV(this);const {QFb:c,rXa:d}=this.Tzb(a,"block");
this.Rga(c,d,()=>{b();vV(this)})}lpe(a,b){vV(this);const {QFb:c,rXa:d}=this.Tzb(a,"block");this.Rga(c,d,()=>{const e=this.FPb;this.FPb=!0;b();this.FPb=e;vV(this)})}y2a(a,b){vV(this);const {QFb:c,rXa:d}=this.Tzb(a,"block");c["font-size"]==null&&(c["font-size"]=KXs[a.tagName],d["font-size"]=void 0);this.Rga(c,d,()=>{b();vV(this)})}jpe(a,b){vV(this);const {QFb:c,rXa:d}=this.Tzb(a,"block");this.Rga(c,d,()=>{b();vV(this)})}oNa(){}mpe(){this.dOa("\n")}kpe(){}Tzb(a,b){a=jBs(a,b,this.qha);return{QFb:a,rXa:de(a,
()=>{})}}get hzj(){return typeof this.zba==="string"&&this.zba.endsWith(" ")}Vri(a){return a.endsWith("\n")}Wnn(a){return a.endsWith("\n")||a.endsWith("\u2028")}get G9e(){return this.zba!=null&&this.Vri(this.zba)}constructor(a,b){this.szd=a;this.qha=b;this.I={R6i:!0};this.GP={};this.FPb=!1;this.builder=Fg.qd()}};var mBs=class{transform(){if(this.elements.length)return this.elements;this.Sc.forEach({...ae,Ya:(a,b)=>{this.Z8b(b);a=a.split("\n");for(const [c,d]of a.entries())d.length>0&&(this.Ncc&&this.Qgb==null?(this.Qgb=eV.element("a"),this.Vxa({link:this.NUa.link},this.Qgb)):!this.Ncc&&this.Qgb&&(this.$Ya.push(this.Qgb),this.Qgb=void 0),b=this.Vxa({...this.NUa,link:void 0},eV.element(this.kIk?"sup":this.gIk?"sub":"span")),b.setContent(d),this.Qgb?this.Qgb.appendChild(b):this.$Ya.push(b)),c<a.length-1&&(kBs(this),
this.QUd(),this.PUd())}});kBs(this);this.QUd();this.PUd();return this.elements}Z8b(a){const b=he(Be,a),c=(d,e,f)=>{a[e]!=null?d[e]=a[e]:a.hasOwnProperty(e)?d[e]=f:d[e]??(d[e]=f)};we(Be,b,"block",(d,e)=>c(this.nja,e,d));we(Be,b,"inline",(d,e)=>c(this.NUa,e,d))}get kIk(){const a=this.NUa["vertical-align"];return a!=null&&parseInt(a,10)>0}get gIk(){const a=this.NUa["vertical-align"];return a!=null&&parseInt(a,10)<0}get Ncc(){const a=this.NUa.link;return a!=null&&a.length>0}get K_b(){const a=this.nja["list-level"],
b=this.nja["list-marker"];return{UZb:a!=null&&a>0||b!=null&&b!=="none",pYg:lBs(b)}}Olk(){return this.K_b.UZb?"li":"p"}QUd(){if(this.$Ya.length!==0){var a=eV.element(this.Olk());this.$Ya.forEach(b=>a.appendChild(b));this.Uob.push(a);this.$Ya=[]}}PUd(){if(this.Uob.length!==0){var a={...this.nja},b=a["list-level"],c=a["list-marker"];delete a["list-level"];delete a["list-marker"];var d=eV.element(this.K_b.UZb?this.K_b.pYg:"div");this.Vxa(a,d);a=d;var e=b!=null&&b>0;if(e)for(let f=0;f<Math.abs(b)-1;f++){const g=
eV.element("li");g.setStyle("list-style","none");const h=eV.element(lBs(c));g.appendChild(h);d.appendChild(g);d=h}for(const f of this.Uob)this.K_b.UZb&&this.Vxa({"list-marker":c,"list-level":b},f),d.appendChild(f);if(e)if(c=this.elements[this.elements.length-1],!c||c.tagName!=="ul"&&c.tagName!=="ol")this.elements.push(a);else{c=Nqs(c);const {node:f,indent:g}=this.hGg(c,b);b=[Nqs(a)];for(a=0;a<g;a++)b=b.map(h=>[...h.childNodes]).flat();for(const h of b)f.appendChild(h);this.elements[this.elements.length-
1]=Mqs(c)}else this.elements.push(d);this.Uob=[]}}hGg(a,b){let c=1;for(;c<Math.abs(b)*2-1;){const d=a.lastElementChild;if(!d||!["OL","UL","LI"].includes(d.tagName))break;a=d;c++}return{node:a,indent:c}}Vxa(a,b){const c={direction:this.nja.direction??"ltr"};we(Be,a,"all",(d,e)=>{if(d!=null)OXs[e](b,d,c)});return b}constructor(a){this.Sc=a;this.elements=[];this.nja={};this.NUa={};this.$Ya=[];this.Uob=[]}},OXs={"font-family":MV.fontFamily,"font-size":MV.fontSize,"font-weight":MV.fontWeight,"font-style":MV.fontStyle,
"font-kerning":MV.fontKerning,"font-feature-liga":MV.aMc,"font-feature-clig":MV.$Lc,"font-feature-calt":MV.ZLc,"font-size-modifier":MV.VK,"vertical-align":MV.verticalAlign,color:MV.color,"fill-id":MV.Iab,decoration:MV.decoration,strikethrough:MV.rv,link:MV.link,"start-us":()=>{},tracking:(a,b,c)=>MV.letterSpacing(a,b/1E3,c),leading:(a,b,c)=>MV.lineHeight(a,b/1E3,c),direction:MV.direction,"text-align":MV.textAlign,"list-marker":MV.Dk,"text-transform":MV.textTransform,"list-level":MV.Mk,"list-number-set":MV.wDa,
semantics:MV.FEa,"head-indent":()=>{},spacing:()=>{},style:()=>{},kerning:()=>{}};var cCs=class{serialize(a){return{PQa:this.Dvl(a.qVb),html:this.Clh(a),text:this.Nvl(a)}}Dvl(a){return JSON.stringify(zXs.serialize(a))}Clh(a){const b=a.qVb;return b.type!=="ELEMENTS"?[]:nBs(this,b.elements,a.JGc)}Nvl(a){const b=a.qVb;return b.type!=="ELEMENTS"?"":pBs(this,b.elements,a.JGc)}j_d(a){return $Ss(a,b=>this.sZj(b),b=>this.qZj(b))}qZj(a){try{const b=zXs.deserialize(JSON.parse(a));switch(b.type){case "ELEMENTS":return{type:1,PQa:b};case "RICHTEXT3":const {Sc:c,...d}=b,e=Wg.AIc(c),f=this.$qk(),
g=new Map,h=(new __c.Lhi(e,f,k=>{const l=this.kb.Af.generate();(k=k!=null?d.Gzc.get(k):void 0)&&g.set(l,k);return l})).transform();return e.length>0&&h.length===0?void 0:{type:1,PQa:new eCs({...d,width:f.width,height:f.height,Gzc:g,elements:h.map(k=>Wg.RWa(k))})};case "PAGES":case "PAGE_BACKGROUND":case "AUDIOTRACKS":return{type:1,PQa:b};default:throw new u(b);}}catch(b){}}sZj(a){try{const b=IXs.deserialize(JSON.parse(a));if(b.type==="MEDIA")return{type:3,content:{type:"media",media:{id:b.id,version:b.version},
Bf:b.Bf}}}catch(b){}}async b2h({html:a}){if(a){a=this.Tee(a);var b=a.querySelector("[data-canva-clipboard]")?.getAttribute("data-canva-clipboard");if(b=(b=b?qrs(b):void 0)?this.j_d(b):void 0)return b;var c=new Wts(a.getElementsByTagName("style")),d=this.rca?await ars(a,new ZSs).KU(this.rca):void 0;b=new JXs(this.$qk(),{m_d:e=>this.m_d(e),l_d:e=>this.l_d(e,c,d)},()=>new NXs(()=>this.szd(),c),this.Vi,this.kb,d,this.Wa?.A2c);a=ars(a,b).transform();if(a.length===1)return{type:3,content:{type:"elements",
elements:a}}}}ssf(a){return $Ss(a,b=>({type:2,text:b}),b=>this.RZj(b),b=>this.zCe(b))}constructor(a,b,c,d,e,f,g,h){this.Tee=prs;this.szd=a;this.$qk=b;this.Vi=c;this.SRa=d;this.fd=e;this.kb=f;this.rca=g;this.Wa=h;this.Wuh=new EXs(new FXs(this.fd,this.kb));this.m_d=k=>Rqs(this.SRa,k,l=>Fg.qd().Xb(l.textContent+"\n").build());this.l_d=(k,l,n)=>(new BXs(__c.mBa,k,l,new CXs(this.fd,p=>{const q=this.Tee(p.innerHTML),r=jBs(p,"block",l);p=new JXs(this.$qk(),{},()=>new NXs(()=>({...this.szd(),...__c.EUf(kId),
...r}),l),this.Vi,this.kb,n,this.Wa?.A2c);return ars(q,p).transform()}),this.kb)).transform();this.zCe=k=>{k=this.SRa.zCe(k);if(!(k.layout.rows.length<=1||k.layout.columns.length<=1))return{type:3,content:{type:"elements",elements:[k]}}};this.RZj=k=>{if(this.Wa?.A2c()&&(k=this.Wuh.deserialize(k))){k={...PYc,config:k,id:this.kb.Af.generate(),top:0,left:0,width:k.St.cols.reduce((n,p)=>n+p.width,0),height:k.St.rows.reduce((n,p)=>n+p.height,0)};if(!this.fd)return{type:3,content:{type:"elements",elements:[k]}};
var l=xMb.create(k);this.fd?.Ew(n=>{l.config.layout.cells.forEach((p,q)=>{p.content.ref&&(sa(p.content.ref.type==="plaintext"),p=Fg.qd().Xb(p.content.ref.value).Xb("\n").build(),p=Fg.create(p),n.KEb(l.config,{row:q.$b,column:q.ec},p))})});return{type:3,content:{type:"elements",elements:[xMb.snapshot(l)]}}}}}};var PXs=class{irh(a,b){const c=__c.bXd(a),d=new Set(b);b=new Map;for(const [f,g]of a.cells)d.has(g)&&b.set(f,__c.OUc.snapshot(g));const e=[...b.keys()];a=__c.XTc.snapshot(a);return{...a,cells:b,behavior:{...a.behavior,rules:c.map(f=>sBs(f.Lmd,e))}}}},rBs=a=>md(a).sort((b,c)=>b-c);var gCs=class{static G(a){O(a,{cut:iV.bound,vR:iV,paste:iV.bound,Cbl:iV.bound})}async copy(a,b){var c=this.selection.Kb;if(c){var d=this.vGa;if(c=this.b8a(c,{domain:this.domain,ka:d.id,Of:d.extension,session:this.session}))return await this.hHj.copy(c,a,b),c}}b8a(a,b){const c=new Map,d={sheets:{}};switch(a.type){case 1:case 0:if(a.container.type==="section-marker"&&a.only)return a=__c.as.snapshot(a.only),this.$ze(a,c,d,b);a=m(this.Za.b8a(),"state snapshot does not exist");return vBs(this,a,c,d,b);
case 2:return a=this.SRa.irh(a.container.table,a.map(l=>l)),this.$ze(a,c,d,b);case 3:return a=this.MDr.irh(a.container.layout,a.map(l=>l)),this.$ze(a,c,d,b);case 4:const e=a.container.sheet.config,f=a.container.sheet.id,{sheet:g,metadata:h}=cAs(__c.pAa,this.sE,e,a.cells,l=>__c.WUc.snapshot(l)),k=this.fd?bAs(e,a.cells,this.fd):new Map;d.sheets[f]={sheet:e,cells:a.cells};c.set(f,{...h,WJe:k});return this.$ze({...hZc,id:f,config:g},c,d,b);case 5:return this.Lpf(a.media,c,d,b);default:throw new u(a);
}}$ze(a,b,c,d){a=Qk.qd().item(a).build();return vBs(this,a,b,c,d)}Lpf(a,b,c,d){const e=Qk.qd();a.forEach(f=>e.item(IBs(f)));a=e.build();return vBs(this,a,b,c,d)}async cut(a,b,c,d){if(c=this.selection.Kb)return a=await this.copy(a,d),this.vR(c,b),a}vR(a,b){const c=this.V.wb("delete_element_cut",{Hb:{name:"editor.delete_element"}});var d=c.setAttribute;a:switch(b){case "menu":b="cut_contextual_menu";break a;case "shortcut":b="cut_keyboard_shortcut";break a;default:throw new u(b);}d.call(c,"controlContext",
b);switch(a.type){case 0:case 1:case 5:this.Ap.rQb();break;case 2:a=a.map(e=>e);this.mC.Snl(a);this.Ap.rQb();break;case 4:this.hj?.z1h(a.container.sheet.config,a.cells.map(e=>e));break;case 3:throw c.end("error"),Error("Layout Items are currently not supported");default:throw c.end("error"),new u(a);}c.qe()}oBc(a,b){a.ob().addEvent("pasted");a.ob().wk(({Oi:c})=>{this.N.track(Wff,{...b,action:"paste",Tb:c()})});a.qe()}Trd(){return this.selection.Kb?this.Pa.mode>=20&&!((this.selection.Kb?.container.type!==
"marker"&&this.selection.Kb?.container.type!=="section-marker"||this.selection.Kb.type!==1)&&this.Za.state?.type==="RANGE"&&this.Za.state.isCollapsed):!1}rng(){return this.selection.Kb?this.Pa.mode>=30:!1}tnc(){const a=this.selection.Kb;return a?this.Pa.mode>=30&&a.type===4:!1}async paste(a,b,c,d,e){switch(a.type){case 0:return this.Bbl(a.file,b,c,d);case 1:return this.MKi(a.PQa,b,c,e);case 2:return this.yTf(a.text,b,c,e);case 3:return this.KKi(a.content,b,c,e);default:throw new u(a);}}async MKi(a,
b,c,d){let e=!0;if(a.yZf!==this.XMj||a.domain!=null&&a.domain!==this.domain)b.abort();else if(b.ob().setAttribute("content_type",a.type.toLowerCase()),a.type==="RICHTEXT3"&&a.Sc){var f=Wg.AIc(a.Sc),g=__c.Yce(Cs,f,{sIa:a.ka===this.vGa.id,Myg:a.ka===this.vGa.id?void 0:a.ka}),h=a.ofe.map(({value:l})=>l&&bBs.deserialize(l));b.ob().addEvent("proto_deserialized");a.session!==this.session&&({L7b:e,rG:[g]}=await $zs(this.hEb,a,{rG:[g]},b));var k=new QXs;await this.Cbl(this.lZf(g,{...d,HXr:a.ka!==this.vGa.id,
Zhk:k}),h,a.Gzc,b,c,{...a,oB:LBs(f)},d);e||this.GFl();this.RCn(k.fontFamilies)}}async KKi(a,b,c,d){switch(a.type){case "richtext3":const e=new QXs;await this.Cbl(this.lZf(a.gRa,{...d,Zhk:e}),[],void 0,b,c,void 0,{...d,NWc:"wrap"});this.RCn(e.fontFamilies);break;case "elements":b.abort();break;case "media":d=await this.sc.Fqb(new __c.bz({id:a.media.id,version:a.media.version}));d={...Yef(d),pending:!1,dw:!0,b6:d.b6,RA:d.Qb.RA};await this.qc.addImage(d,{Xc:"paste",span:b}).loaded;this.oBc(b,{mb:c,contentType:"elements",
mE:"rect",C0b:1,GE:[a.media.id],correlationId:a.Bf});break;default:throw new u(a);}}async Cbl(a,b,c,d,e,f,g){const h=this.selection.Kb,k=LBs(a);var l=f?.oB?.type==="sheet"?f.oB.id:void 0;let n;switch(k?.type){case "layout":case "table":case "sheet":if(!h)return;switch(h.type){case 0:case 1:switch(h.container.type){case "body":case "responsive-page":this.jOc(k,l,b,c,d,e,g);break;case "section-marker":this.Za.qv(h.container.container.text,Gw.start());break;case "marker":this.jOc(k,l,b,c,d,e,g);break;
case "table-item-cell":yBs(this,k,l,h.container.table,h.container.container.container,[h.container.tb],b,c,d);break;case "sheet-item-cell-richtext":ABs(this,k,l,b,c,d,e,g);break;case "layout-item-cell":xBs(this,k,b,d);break;default:throw new u(h.container);}break;case 2:yBs(this,k,l,h.container.table,h.container.container,h.map(t=>t),b,c,d);break;case 4:ABs(this,k,l,b,c,d,e,g);break;case 5:break;case 3:xBs(this,k,b,d);break;default:throw new u(h);}break;case void 0:case "controlled":case "rect":case "shape":case "break":case "separator":case "embed":case "pill":case "chart":case "design":c=
a.cells.Ya().trim();g=this.Za.state;l=MBs(a);if(h?.type===4&&l.length>0&&l.every(t=>t.type==="rect"))this.NKi(h.container.sheet.config,h.cells,l);else if(h?.container.type==="section-marker")k!=null&&__c.guf(this.pS,h.Rz,k)?this.uzc(k,h.container):(this.Za.qv(h.container.container.text,Gw.start()),CBs(this,a,b,d));else if(h!=null&&k!=null&&__c.guf(this.pS,h.Rz,k)&&(h.container.type==="body"||h.container.type==="responsive-page")&&EBs(this,k,h.container)){b=d.setAttribute;a:switch(e){case "drag":c=
"drag";break a;case "menu":c="contextual_menu";break a;case "shortcut":c="keyboard_shortcut";break a;default:throw new u(e);}b.call(d,"controlContext",c);this.Ap.rQb();this.uzc(k,h.container.$Xb(h.container.marker))}else h!=null&&Sl(c).ok&&a.cells.LA===0&&g?.type==="RANGE"&&g.DUa?n=await this.JYa.vEc(Kv(c),d):CBs(this,a,b,d);break;default:throw new u(k);}const p=[];a.forEach({item:t=>p.push(tBs(t))});const {media:q,Dc:r}=__c.Df({rG:[a]});this.oBc(d,{mb:e,contentType:"richtext3",eRj:n,C0b:p.length,
mE:p.join(", "),lIg:f?f.ka===this.vGa.id:void 0,mIg:f?f.session===this.session:void 0,GE:[...q.map(t=>t.id),...r]});d.ob().addEvent("content_added")}jOc(a,b,c,d,e,f,g){b=b!=null?d?.get(b):void 0;a.type==="sheet"?Qzs(this.JYa,a,b,e,f,{...g,NWc:"wrap"}):CBs(this,Qk.qd().item(a).build(),c,e)}uzc(a,b){a=this.pS.uzc(a,b.marker);this.N.track(CYg,{FHc:"document",$Yd:"cover_set",elementType:a.type,Xc:"paste"});this.selection.Nw(b,a);this.Gg.iS()}NKi(a,b,c){const d=c.map(e=>({fill:e.fill,Cw:e.gb!=null&&e.Wb!=
null?{width:e.gb,height:e.Wb}:void 0}));this.fd?.Ew(e=>{b.forEach(f=>{var g=a.layout.cells.get(f.row,f.column);g=g?.ref.content.ref?.type==="media"?g.ref.content.ref.value.map(h=>__c.nNc.snapshot(h)):[];e.faa(a,f,{type:6,value:[...g,...d]})})})}async yTf(a,b,c,d){a=await Szs(this.JYa,a,b,c,d);this.oBc(b,{mb:c,contentType:"text",eRj:a})}async Bbl(a,b,c,d){d?(a=await d([a],"canvas",{Q8a:"background",mb:"clipboard"}).images,b.ob().addEvent("image_uploaded"),[a]=a,b.ob().setAttribute("uploaded",!!a),
a?({loaded:d}=this.qc.addImage(Yef(a),{Xc:"paste"}),await d,b.ob().addEvent("content_added"),this.oBc(b,{mb:c,contentType:"image",GE:[a.id]})):b.end("error")):b.end("error")}lZf(a,b){const c=Qk.qd();a.forEach({Ya:(d,e)=>{e=Zqs(e);e.fontFamily&&b?.Zhk?.xob(e.fontFamily);c.attrs(e).Xb(d)},item:(d,e)=>{e=Zqs(e);e.fontFamily&&b?.Zhk?.xob(e.fontFamily);b?.HXr&&d.type==="pill"&&d.Sh.type==="mention"&&!this.wur(d.Sh.brand)?c.attrs(e).Xb(d.Sh.text):c.attrs(e).item(KBs(this,d,b))},Kl:(d,e)=>c.attrs(Zqs(e))});
return c.build()}H4f(a){return{items:new Set(a.type===1&&a.PQa.type==="RICHTEXT3"?a.PQa.Sc.chunks.map(b=>b.pb.type==="ITEM"?__c.cAa(Wg,b.pb.state).type:void 0).filter(sb):[])}}constructor(a,b,c,d,e,f,g,h,k,l,n,p,q,r,t,v,w,x,y,z,B,C,G,H,K,L,N,P){this.hEb=a;this.JYa=b;this.hHj=c;this.GFl=d;this.RCn=e;this.XMj=f;this.wur=g;this.domain=h;this.vGa=k;this.session=l;this.Pa=n;this.Za=p;this.selection=q;this.Gg=r;this.N=t;this.V=v;this.qc=w;this.sc=x;this.Ap=y;this.pS=z;this.DN=B;this.SRa=C;this.JS=G;this.mC=
H;this.sE=K;this.hj=L;this.fd=N;this.kb=P;this.MDr=(gCs.G(this),new PXs)}},QXs=class{xob(a){this.fontFamilies.add(a)}constructor(){this.fontFamilies=new Set}};var RXs=YSs(Ae.Nf.fontSize),SXs={B:{fontWeight:"bold"},STRONG:{fontWeight:"bold"},I:{fontStyle:"italic"},EM:{fontStyle:"italic"},U:{decoration:"underline"},S:{rv:"strikethrough"},DEL:{rv:"strikethrough"}},TXs=/^(address|blockquote|body|center|dir|div|dl|fieldset|form|h[1-6]|hr|isindex|menu|noframes|noscript|ol|p|pre|table|ul|dd|dt|frameset|li|tbody|td|tfoot|th|thead|tr|html)$/i,UXs=["table","sheet"],XBs=class{transform(){this.I?.R6i&&!this.G9e&&this.dOa("\n");return this.builder.build()}dOa(a){const b=
{...this.szd(),...this.GP},c=de(this.GP,()=>{});this.Rga(b,c,()=>{this.builder.Xb(a)});this.zba=a}WFc(a){this.Cda();this.builder.attrs(de(this.GP,()=>{}));this.builder.item(a);this.builder.attrs(this.GP);this.zba=a}Cda(){this.zba==null||this.Vri(this.zba)||this.dOa("\n")}Rga(a,b,c){const d={...this.GP};this.GP={...this.GP,...a};this.builder.attrs(a);c();this.builder.attrs({...b,...d});this.GP={...this.GP,...b,...d}}QRd(a,b){if(a.nodeType!==a.ELEMENT_NODE)b();else{var c=this.FPb;switch(tV(a.style.whiteSpace)){case "pre":case "pre-wrap":case "break-spaces":this.FPb=
!0}b();this.FPb=c}}KGb(a){if(a.textContent){let b=a.textContent;this.FPb||(this.gDl(a)&&(b=b.trimStart()),this.fDl(a)&&(b=b.trimEnd()),b=b.replace(/\s+/g," "));b&&this.dOa(b)}}Bcc(a){return a!=null&&TXs.test(a.tagName)}gDl(a){return this.hzj||this.Bcc(a.previousElementSibling)||this.Bcc(a.nextElementSibling)||a.previousSibling==null&&this.Bcc(a.parentElement)}fDl(a){return this.Bcc(a.previousElementSibling)||this.Bcc(a.nextElementSibling)||a.nextSibling==null&&this.Bcc(a.parentElement)}hpe(a,b){const {QFb:c,
rXa:d}=this.Tzb(a,"inline");if(this.$lk){const e={color:c.color,decoration:c.decoration};a=Ae.pick(f=>__c.ze(Ae,e,f)!=null,e);Object.keys(a).length===0&&we(Ae,this.$lk(),"all",(f,g)=>{c[g]=f;d[g]=void 0})}this.Rga(c,d,b)}At(a,b,c){b==="block"&&vV(this);const {QFb:d,rXa:e}=this.Tzb(a,b);(a=this.lXr[a.tagName])&&we(Ae,a,b,(f,g)=>{d[g]==null&&(d[g]=f,e[g]=void 0)});this.Rga(d,e,c);b==="block"&&vV(this)}z2a(a,b,c){vV(this);a=this.xda;this.xda=b?"ordered":"unordered";c();this.xda=a}Z8a(a,b){vV(this);const {QFb:c,
rXa:d}=this.Tzb(a,"block");this.Rga(c,d,()=>{b();vV(this)})}$8a(a,b){vV(this);const {QFb:c,rXa:d}=this.Tzb(a,"block");this.Rga(c,d,()=>{b();vV(this)})}lpe(a,b){vV(this);const {QFb:c,rXa:d}=this.Tzb(a,"block");this.Rga(c,d,()=>{const e=this.FPb;this.FPb=!0;b();this.FPb=e;vV(this)})}y2a(a,b){vV(this);const {QFb:c,rXa:d}=this.Tzb(a,"block");c.fontSize==null&&(c.fontSize=RXs[a.tagName],d.fontSize=void 0);this.Rga(c,d,()=>{b();vV(this)})}jpe(a,b){vV(this);const {QFb:c,rXa:d}=this.Tzb(a,"block");this.Rga(c,
d,()=>{b();vV(this)})}oNa(a){if(!UXs.some(d=>this.I?.XQo?.has(d))){var {QFb:b,rXa:c}=this.Tzb(a,"block");this.Rga(b,c,()=>{if(this.A2c()){var d=this.ern.l_d(a);d={...hZc,config:d,id:this.kb.Ci.generate()};this.WFc(d)}else d=this.ern.m_d(a),this.WFc(d)})}}mpe(){this.dOa("\u2028")}kpe(a){var b=(b=a.style.width||sV(this.qha,a)?.width)?vts(tV(b)):void 0;if(a=this.resources?.get(a.src))a=QBs(a,b&&b<this.LGl?`${b}px`:void 0),this.WFc(a)}Tzb(a,b){a=PBs(a,b,this.qha);return{QFb:a,rXa:de(a,()=>{})}}get hzj(){return typeof this.zba===
"string"&&this.zba.endsWith(" ")}Vri(a){return typeof a==="string"&&a.endsWith("\n")}Wnn(a){return typeof a==="string"&&(a.endsWith("\n")||a.endsWith("\u2028"))}get G9e(){return this.zba!=null&&this.Vri(this.zba)}constructor(a,b,c,d,e,f,g,h=()=>!1,k=0){this.szd=a;this.ern=b;this.qha=c;this.kb=d;this.resources=e;this.$lk=f;this.I=g;this.A2c=h;this.LGl=k;this.GP={};this.FPb=!1;this.builder=Qk.qd();this.lXr=Pb("cf27dcb6",!1)?{...SXs,SUP:{verticalAlign:__c.XA.verticalAlign,VK:__c.XA.VK},SUB:{verticalAlign:__c.Bvg.verticalAlign,
VK:__c.Bvg.VK}}:SXs}};var RBs=class{transform(){if(this.elements.length)return this.elements;this.Sc.forEach({Ya:(a,b)=>{this.Z8b(b);a=a.split("\n");for(const [c,d]of a.entries()){b=d.split("\u2028");for(const [e,f]of b.entries())e>0&&this.$Ya.push(eV.element("br",{j3g:!0})),f.length>0&&(this.Ncc&&this.Qgb==null?(this.Qgb=eV.element("a"),this.Vxa({link:this.NUa.link},this.Qgb)):!this.Ncc&&this.Qgb&&(this.$Ya.push(this.Qgb),this.Qgb=void 0),b=this.Vxa({...this.NUa,link:void 0},eV.element(this.kIk?"sup":this.gIk?"sub":"span")),
b.setContent(f),this.Qgb?this.Qgb.appendChild(b):this.$Ya.push(b));c<a.length-1&&(kBs(this),this.QUd(),this.PUd())}},item:(a,b)=>{this.Z8b(b);switch(a.display){case 2:(a=this.Ane(a))&&this.$Ya.push(a);break;case 1:case void 0:(a=this.k7f(a))&&this.Uob.push(a);break;default:throw new u(a.display);}},Kl:()=>{}});kBs(this);this.QUd();this.PUd();return this.elements}k7f(a){switch(a.type){case "table":return SBs(this,a);case "sheet":return TBs(this,a);case "layout":return VBs(this,a);case "break":case "separator":return eV.element("hr",
{j3g:!0});case "embed":const b=eV.element("a");b.setContent(a.altText?.text||a.url);return this.Vxa({link:a.url},b);case "pill":break;case "controlled":case "rect":case "chart":case "design":break;case "shape":throw new __c.vv;default:throw new u(a);}}Ane(a){switch(a.type){case "pill":switch(a.Sh.type){case "embed":var b=eV.element("a");b.setContent(a.Sh.text?a.Sh.text:"");return this.Vxa({...this.NUa,link:a.Sh.url},b);case "date":case "mention":case "select":return b=eV.element("span"),b.setContent(a.Sh.text?
a.Sh.text:""),this.Vxa(this.NUa,b);default:throw new u(a.Sh);}case "controlled":case "rect":case "table":case "break":case "separator":case "embed":case "chart":case "design":case "layout":case "sheet":break;case "shape":throw new __c.vv;default:throw new u(a);}}Z8b(a){const b=he(Ae,a),c=(d,e,f)=>{a[e]!=null?d[e]=a[e]:a.hasOwnProperty(e)?d[e]=f:d[e]??(d[e]=f)};we(Ae,b,"block",(d,e)=>c(this.nja,e,d));we(Ae,b,"inline",(d,e)=>c(this.NUa,e,d))}get Ncc(){const a=this.NUa.link;return a!=null&&a.length>
0}get kIk(){const a=this.NUa.verticalAlign;return a!=null&&parseInt(a,10)>0}get gIk(){const a=this.NUa.verticalAlign;return a!=null&&parseInt(a,10)<0}get K_b(){const a=this.nja.Mk,b=this.nja.Dk;return{UZb:a!=null&&a>0||b!=null&&b!=="none",pYg:WBs(b)}}Olk(){return this.nja.FEa??"p"}QUd(){if(this.$Ya.length!==0){var a=eV.element(this.Olk());this.$Ya.forEach(b=>a.appendChild(b));this.$Ya=[];if(this.K_b.UZb){const b=eV.element("li");b.appendChild(a);this.Uob.push(b)}else this.Uob.push(a)}}PUd(){if(this.Uob.length!==
0){var {Dk:a,Mk:b,...c}=this.nja,d=eV.element(this.K_b.UZb?this.K_b.pYg:"div"),e=d;this.Vxa(c,e);var f=b!=null&&b>0;if(f)for(let g=0;g<Math.abs(b)-1;g++){const h=eV.element("li");h.setStyle("list-style","none");const k=eV.element(WBs(a));h.appendChild(k);d.appendChild(h);d=k}for(const g of this.Uob)this.K_b.UZb&&this.Vxa({Dk:a,Mk:b},g),d.appendChild(g);if(f)if(d=this.elements[this.elements.length-1],!d||d.tagName!=="ul"&&d.tagName!=="ol")this.elements.push(e);else{d=Nqs(d);const {node:g,indent:h}=
this.hGg(d,b);e=[Nqs(e)];for(f=0;f<h;f++)e=e.map(k=>[...k.childNodes]).flat();for(const k of e)g.appendChild(k);this.elements[this.elements.length-1]=Mqs(d)}else this.elements.push(d);this.Uob=[]}}hGg(a,b){let c=1;for(;c<Math.abs(b)*2-1;){const d=a.lastElementChild;if(!d||!["OL","UL","LI"].includes(d.tagName))break;a=d;c++}return{node:a,indent:c}}Vxa(a,b){const c={direction:this.nja.direction??"ltr"};we(Ae,a,"all",(d,e)=>{if(d!=null)VXs[e](b,d,c)});return b}constructor(a,b,c,d){this.Sc=a;this.fd=
b;this.SRa=c;this.JGc=d;this.elements=[];this.nja={};this.NUa={};this.$Ya=[];this.Uob=[]}},VXs=new Proxy({...MV,zSb:()=>{},ASb:()=>{},o5b:()=>{}},{get:(a,b)=>a[b]??(()=>{})});var aCs=class{serialize(a){return{PQa:this.Dvl(a.qVb),html:this.Clh(a),text:this.Nvl(a)}}Dvl(a){return JSON.stringify(zXs.serialize(a))}Clh(a){var b=a.qVb;a=a.JGc;if(b.type!=="RICHTEXT3")return[];b=Wg.AIc(b.Sc);return(new RBs(b,this.fd,this.SRa,a)).transform()}Nvl(a){const b=a.qVb,c=a.JGc;if(b.type!=="RICHTEXT3")return"";const d=[];Wg.AIc(b.Sc).forEach({Ya:e=>{d.push(e)},item:e=>{switch(e.type){case "table":d.push(Pqs(this.SRa,e),"\n");break;case "sheet":const f=aVc.create(e),g=c?.sheets[e.id]?.sheet||
f.config;d.push(this.Wuh.serialize(e.config,h=>h(g)));break;case "layout":e.cells.forEach(h=>{h=h.text.cells.Ya();h.length>0&&d.push(h,"\n")});break;case "embed":d.push(e.url,"\n");break;case "pill":switch(e.Sh.type){case "embed":d.push(e.Sh.url);return;case "date":case "mention":case "select":d.push(e.Sh.text);return;default:throw new u(e.Sh);}case "controlled":case "rect":case "break":case "separator":case "chart":case "design":break;case "shape":throw new __c.vv;default:throw new u(e);}},Kl:()=>
{}});return __c.Ghi(d.join(""))}j_d(a){return $Ss(a,b=>this.sZj(b),b=>this.qZj(b))}qZj(a){try{const b=zXs.deserialize(JSON.parse(a));switch(b.type){case "RICHTEXT3":return{type:1,PQa:b};case "ELEMENTS":const {elements:c,...d}=b,e=c.map(h=>Wg.jWb(h)),f=new Map,g=(new __c.fhi(e,h=>{const k=this.kb.Ci.generate();(h=h!=null?d.Gzc.get(h):void 0)&&f.set(k,h);return k})).transform();return e.length>0&&g.length===0?void 0:{type:1,PQa:new uBs({...d,Gzc:f,Sc:Wg.S7a(g)})};case "PAGES":return{type:1,PQa:b};case "PAGE_BACKGROUND":case "AUDIOTRACKS":break;
default:throw new u(b);}}catch(b){}}sZj(a){try{const b=IXs.deserialize(JSON.parse(a));if(b.type==="MEDIA")return{type:3,content:{type:"media",media:{id:b.id,version:b.version},Bf:b.Bf}}}catch(b){}}async b2h({html:a}){if(a){a=this.Tee(a);var b=a.querySelector("[data-canva-clipboard]")?.getAttribute("data-canva-clipboard");if(b=(b=b?qrs(b):void 0)?this.j_d(b):void 0)return b;b=this.rca?await ars(a,new ZSs).KU(this.rca):void 0;return{type:3,content:{type:"richtext3",gRa:YBs(this,a,b)}}}}ssf(a){return $Ss(a,
b=>({type:2,text:b}),b=>this.RZj(b),b=>this.zCe(b))}constructor(a,b,c,d,e,f,g,h=0){this.Tee=prs;this.szd=a;this.SRa=b;this.fd=c;this.Zn=d;this.kb=e;this.rca=f;this.Wa=g;this.LGl=h;this.Wuh=new EXs(new FXs(this.fd,this.kb));this.m_d=(k,l)=>Rqs(this.SRa,k,n=>{n=this.Tee(n.innerHTML);return YBs(this,n,l,void 0,{XQo:new Set(["table","sheet"]),R6i:!0})});this.l_d=(k,l,n)=>(new BXs(__c.pAa,k,l,new DXs(this.fd,p=>{const q=this.Tee(p.innerHTML);p=PBs(p,"block",l);return YBs(this,q,n,{...__c.CA(kId),...p},
{XQo:new Set(["table","sheet"]),R6i:!0})}),this.kb)).transform();this.zCe=k=>{k=this.SRa.zCe(k);if(!(k.layout.rows.length<=1||k.layout.columns.length<=1))return k={...k,cells:nd(k.cells,l=>({...l,content:{...l.content,...__c.kYc,text:Qk.qd().attrs(this.Zn.a2||{}).Xb(l.content.text.cells.Ya()).build()}}))},{type:3,content:{type:"richtext3",gRa:Qk.qd().item(k).build()}}};this.RZj=k=>{if(this.Wa?.A2c()&&(k=this.Wuh.deserialize(k))){k={...hZc,config:k,id:this.kb.Ci.generate()};if(!this.fd)return{type:3,
content:{type:"richtext3",gRa:Qk.qd().item(k).build()}};var l=aVc.create(k);this.fd?.Ew(n=>{l.config.layout.cells.forEach((p,q)=>{p.content.ref&&(sa(p.content.ref.type==="plaintext"),p=Qk.qd().Xb(p.content.ref.value).Xb("\n").build(),p=Qk.create(p),n.Khc(l.config,{row:q.$b,column:q.ec},p))})});k=aVc.snapshot(l);return{type:3,content:{type:"richtext3",gRa:Qk.qd().item(k).build()}}}}}};var ZBs=a=>{const b=(0,__c.tc)(),c=(0,__c.tc)(),d=a.closeDialog;return fV(__c.rr,{mode:a.mode,open:!0,oa:d,Rf:b,wi:c,children:mV("div",{className:"dIfFsA",children:[fV(dr,{id:b,margins:"legacy",children:M("NSWGJA")}),fV(Q,{id:c,margins:"legacy",children:M("nfjy+g")}),fV("div",{className:"CKm0aQ",children:fV(Wi,{variant:"primary",onClick:d,children:M("MGKfPA")})})]})})};var bCs=.25*parseInt("var(--jBkZgw)",10),hCs=Symbol("Clipboard.NonEmailSafeFontWarning");var oCs=GV(({bounds:a})=>fV("div",{className:"PIS4dA",style:a.Nb(),children:fV("div",{className:"BO26GQ"})}));var nCs=class{static G(a){O(a,{bmh:iV.bound,sVh:iV.bound})}bmh(a){if(a.nee)this.store.nee=a.nee;else switch(a.type){case "column":this.QZ.jkd?.CPg();break;case "row":this.QZ.jkd?.DPg()}}sVh(){this.store.nee=void 0;this.QZ.jkd?.AVh()}constructor(a,b){this.store=a;this.QZ=b;nCs.G(this)}};var mCs=class{static G(a){O(a,{nee:zV.ref})}constructor(){this.nee=(mCs.G(this),void 0)}};var WXs=class{static G(a){O(a,{Pme:oV,Epf:oV,nYj:oV,YSh:oV,Fvg:oV,Syb:oV,K$a:oV,g9g:oV,vR:iV})}get Pme(){if(this.vg.Kb)return this.d2.Pme;if(!this.YSh)return[];const a=this.Syb.map(c=>c.type),b=this.Syb.find(c=>c.type==="image"||c.type==="video");return a.includes("background")?b||this.tH.layout===2?[{type:"background"}]:[]:a.includes("page")||a.includes("sheet-page-content")?[]:a.includes("grid")||a.includes("shape")?b?this.Syb:[]:this.Syb}get Epf(){if(this.vg.Kb)return this.d2.Epf;if(!this.YSh)return[];
if(this.Syb.map(b=>b.type).includes("background"))return[{type:"background"}];const a=this.Syb.find(b=>b.type==="shape");return a?[a]:this.Syb.filter(b=>b.type!=="sheet-page-content")}get kEl(){if(this.vg.Kb)return this.d2.kEl;var a=this.Epf;if(a.length!==1)return!1;a=a[0];return["page","background"].includes(a.type)&&this.tH.layout===1||a.type==="row"||a.type==="column"?!1:!0}get Ird(){return this.vg.Kb?this.d2.Ird:!this.vg.Ma?.Ri()}get nYj(){var a=this.vg.Ma;if(a!=null&&a.type==="pages"&&this.Fvg===
"background"){if(a.inner?.type==="pages")return a.inner.inner?.type!=="background"?void 0:this.Ap.XSh(a.inner.inner.container.container,a.inner.inner.container.ia)?"section":void 0;if(a.inner?.type==="background"&&(a=a.inner.page,a.type!=="responsive"))return this.Ap.WUb([a])?"page":void 0}}get YSh(){const a=this.vg.Ma;var b=this.mc.state?.type==="focused";if(!a||!a.Ri()||b||a.type!=="elements"&&a.type!=="pages")return!1;b=a.inner;switch(this.Fvg){case "background":if(b?.type==="background")return b.page.type===
"responsive"?!1:qCs(this,b.page)?this.Ap.eng(b.page):this.Ap.yng(b.page);if(b?.type==="pages"&&b.inner?.type==="background")return qCs(this,b.inner.page)?this.Ap.eng(b.inner.page):this.Ap.yng(b.inner.page);throw Error("An inner selection is required to delete a page background");case "page":return a.pages?this.Ap.WUb(a.pages):!1;case "table-element":case "table-item":return!!this.QZ.jkd?.jYj();case "shape":case "element":case "scrollable-design":case "grid":case "group":case "controlled":case "sheet-element":case "sheet-item":case "sheet-page-content":case "sheet-item-cell-media":case "sheet-element-cell-media":case "layout-element":case "layout-item":return!0;
case "image":case "video":case "column":case "row":case void 0:return!1;default:throw new u(this.Fvg);}}get Fvg(){const a=this.vg.Ma;if(a!=null&&(a.type==="elements"||a.type==="pages"))switch(a.type){case "pages":switch(a.inner?.type){case "pages":return a.inner.inner?.type==="background"?"background":"page";case "sheet":return"sheet-page-content";case "sheet-cell-media":return"sheet-element-cell-media";case "background":return a.inner.type;case void 0:return"page";default:throw new u(a.inner);}case "elements":if(this.g9g.length)return"shape";
switch(a.inner?.type){case "table":return"table-element";case "sheet":return"sheet-element";case "sheet-cell-media":return"sheet-element-cell-media";case "layout":case "layout-cell":return"layout-element";default:return a.inner?.type??"element"}default:throw new u(a);}}get Syb(){var a=this.vg.Ma;let b=!1;var c=!1,d=!1,e=!1;if(a?.inner&&a.inner.type)switch(a.inner.type){case "grid":c=a.inner.cells;b=rCs(c);c=sCs(c);break;case "table":e=this.QZ.jkd?.jYj();d=!!e?.deleteRow;e=!!e?.rIc;break;case "sheet":d=
a.type==="pages"?a.inner.page.sheet:a.inner.sheet.config;e=this.QZ.cic;const g=a.inner.cells.map(l=>l);var f=a.inner.rows.map(l=>l);a=a.inner.columns.map(l=>l);f=e?.EJg(d,f,g).length||0;e=e?.DJg(d,a,g).length||0;d=f>0;e=e>0;break;case "layout":case "layout-cell":a=a.inner.type==="layout"?a.inner.container.layout:a.inner.container.container.layout;if(a=this.QZ.ltn?.uvg(a))d=a.Lom,e=a.Kom;break;case "background":const {image:h,video:k}=a.inner.Hc[0];b=!!h.ref;c=!!k.ref;break;case "shape":a=a.inner.paths;
a.length&&(b=tCs(a),c=uCs(a));break;case "group":case "pages":case "sheet-cell-media":break;default:throw new u(a.inner);}else a?.type==="elements"&&(a=this.g9g,a.length&&(b=tCs(a),c=uCs(a)));return[e?"column":null,d?"row":null,b?"image":null,c?"video":null,this.Fvg].filter(sb).map(g=>xCs(g,this.K$a))}get K$a(){if(this.vg.Kb)return this.d2.K$a;var a=this.vg.Ma;if(a&&a.Ri()&&(a.type==="elements"||a.type==="pages")){if(this.g9g.length)return{type:"shape",paths:this.g9g};switch(a.inner?.type){case "sheet":var b=
a.type==="pages"?"sheet-page-content":"sheet-element",c=a.type==="pages"?a.inner.page.sheet:a.inner.sheet.config,d=this.QZ.cic,e=a.inner.cells.map(g=>g),f=a.inner.rows.map(g=>g);a=a.inner.columns.map(g=>g);f=d?.EJg(c,f,e)||[];a=d?.DJg(c,a,e)||[];return{type:b,sheet:c,cells:e,rows:f,columns:a};case "sheet-cell-media":return e=a.inner.container,b=e.row,c=e.column,e=e.sheet,a=a.inner.media.map(g=>g),{type:"sheet-element-cell-media",sheet:e,tb:{row:b,column:c},media:a};case "layout":return{type:"layout-element",
zuc:a.inner.container,cells:[...a.inner.cells]};case "table":return b=a.inner.container,c=b.ia,a=a.inner.cells,e=NLe(c,a),d=MLe(c,a),{type:"table-element",table:c,parent:b.container,cells:a,MR:[e[0],e[e.length-1]],vG:[d[0],d[d.length-1]]};case "background":case "grid":case "group":case "shape":case "layout-cell":case "pages":case void 0:break;default:throw new u(a.inner);}return a.type==="pages"?{type:"page",pages:a.pages}:a.Pd&&a.Pd.type==="table"?(b=a.Pd,c=NLe(b,[]),e=MLe(b,[]),{type:"table-element",
table:b,parent:a.container,cells:[],MR:[c[0],c[c.length-1]],vG:[e[0],e[e.length-1]]}):a}}get g9g(){var a=this.vg.Ma;if(!a||!a.Ri()||a.type!=="elements")return[];sa(a.Ri());return(a=(a=a.Pd)&&a.type==="shape"&&a.paths.filter(b=>!!b.fill.dropTarget))&&a.length===1&&(tCs(a)||uCs(a))?[a[0]]:[]}fng(){return this.vg.Kb?this.d2.fng():this.YSh}tYj(a,b){if(this.vg.Kb)return this.d2.tYj(a,b);if((b=this.vg.Ma)&&b.Ri())switch(b.type){case "audio":this.QZ.r1k?.(b,a);break;case "pages":if(b=b.inner)switch(b.type){case "background":if(b.page.type===
"responsive")return;a=!qCs(this,b.page);this.Ap.oYj?.(b.page,b.Hc,a,()=>this.vg.deselectAll());break;case "sheet":case "sheet-cell-media":b=this.V.wb("delete_element",{Hb:{name:"editor.delete_element"}});this.vR(a,b,"inner");break;case "pages":if(b.inner){this.Ap.oYj?.(b.inner.page,b.inner.Hc,!1,()=>this.vg.deselectAll());break}b=this.V.wb("delete_page",{Hb:{name:"editor.delete_page",type:a}});this.vR(a,b);break;default:throw new u(b);}else b=this.V.wb("delete_page",{Hb:{name:"editor.delete_page",
type:a}}),this.vR(a,b);break;case "elements":const c=this.V.wb("delete_element",{Hb:{name:"editor.delete_element"}}),d=b.Pd;if(!b.inner){d&&d.type==="shape"?this.vR(a,c):this.vR(a,c,"outer");break}this.vR(a,c,"inner");break;default:throw new u(b);}}vR(a,b,c){if(this.vg.Kb)this.d2.vR(a,b,c),b.abort();else{var d=this.vg.Ma;if(!d||!d.Ri()||d.type!=="elements"&&d.type!=="pages")b.abort();else{var e=this.K$a;if(d.type==="pages")switch(d.inner?.type){case "background":if(d.inner.page.type==="responsive")break;
e=!qCs(this,d.inner.page);this.kwa(a,b,1);this.Ap.Zrf?.(d.inner.page,d.inner.Hc,e,()=>this.vg.deselectAll());break;case "sheet":if(e?.type!=="sheet-page-content")break;d=e.sheet;var f=e.rows;const g=e.columns;e=e.cells;switch(c){case "row":this.kwa(a,b,1);this.QZ.cic?.deleteRows(d,f,b,a);break;case "column":this.kwa(a,b,1);this.QZ.cic?.deleteColumns(d,g,b,a);break;case "inner":this.kwa(a,b,1),this.QZ.cic?.Lnc(d,e),this.Gg.iS()}break;case "sheet-cell-media":if(e?.type!=="sheet-element-cell-media")break;
this.kwa(a,b,1);a=e.media;b=e.sheet;e=e.tb;this.Ap.c_d?.(b,e.row,e.column,a);this.Gg.iS();break;case void 0:case "pages":if(d.inner?.inner!=null){this.kwa(a,b,1);this.Ap.Zrf?.(d.inner.inner.page,d.inner.inner.Hc);break}const {pages:h,container:k}=d.inner||d;FCs(this.eal,k,h,a,b);break;default:throw new u(d.inner);}else{(f=d.Pd)&&f.type==="rect"&&f.fill.image.ref!=null&&this.Qa.nfa(f.fill.image.ref)!==2&&this.tZe.Z4k?.();switch(c){case "outer":if(d.inner&&vCs(this,d.inner,a,b))return;this.kwa(a,b,
d.elements.length);this.Ap.Zra?.(d.elements,d.container);return;case "column":switch(e?.type){case "sheet-page-content":case "sheet-element":this.kwa(a,b,1);d=e.sheet;e=e.columns;this.QZ.cic?.deleteColumns(d,e,b,a);break;case "table-element":this.kwa(a,b,1);this.QZ.jkd?.Nqq?.(e.table,e.parent,e.MR,a);break;case "layout-element":wCs(this,e.zuc,e.cells,d.container.page);break;default:b.abort()}return;case "row":switch(e?.type){case "sheet-page-content":case "sheet-element":this.kwa(a,b,1);d=e.sheet;
e=e.rows;this.QZ.cic?.deleteRows(d,e,b,a);break;case "table-element":this.kwa(a,b,1);this.QZ.jkd?.Oqq?.(e.table,e.parent,e.vG,a);break;case "layout-element":wCs(this,e.zuc,e.cells,d.container.page);break;default:b.abort()}return}if(d.inner)switch(d.inner.type){case "grid":if(this.Ap.ttm?.(d.inner.cells)){this.kwa(a,b,1);break}this.kwa(a,b,1,d.inner.container.container);this.Ap.Zra?.([d.inner.grid],d.inner.container.container);break;case "table":if(this.Ap.MYj?.(d.inner.cells)){this.kwa(a,b,1);break}this.kwa(a,
b,1,d.inner.container.container);this.Ap.Zra?.([d.inner.table],d.inner.container.container);break;case "sheet":this.kwa(a,b,1);a=d.inner.sheet;b=d.inner.cells.map(g=>g);this.QZ.cic?.Lnc(a.config,b);this.Gg.iS();break;case "sheet-cell-media":this.kwa(a,b,1);a=d.inner.media;b=d.inner.container;this.Ap.c_d?.(b.sheet,b.row,b.column,a);this.Gg.iS();break;case "shape":this.kwa(a,b,1);this.Ap.EYj?.(d.inner.paths);break;case "group":this.kwa(a,b,d.inner.pb.length,d.inner.container);a=d.inner.Pd;this.Ap.Zra?.(d.inner.pb,
d.inner.container);a&&a.type==="rect"&&a.fill.image.ref!=null&&this.tZe.Z4k?.();break;case "layout":this.kwa(a,b,1);wCs(this,d.inner.container,[...d.inner.cells],d.container.page);break;case "layout-cell":this.kwa(a,b,1);wCs(this,d.inner.container.container,[d.inner.container.tb],d.container.page);break;default:throw new u(d.inner);}else if(this.K$a)switch(e=this.K$a,e?.type){case "shape":this.kwa(a,b,1);this.Ap.EYj?.(e.paths);break;case "table-element":case "sheet-element":case "sheet-element-cell-media":case "layout-element":this.kwa(a,
b,d.elements.length);this.Ap.Zra?.(d.elements,d.container);break;case "elements":a!=="shape_detector"&&this.kwa(a,b,d.elements.length);this.Ap.Zra?.(d.elements,d.container);break;case "page":break;case "sheet-page-content":break;case "item":case "table-item":case "sheet-item":case "sheet-item-cell-media":case "layout-item":case "cover-item":case "page-break-item":break;default:throw new u(e);}}}}}uFm(a,b){const c=this.vg.Ma;if(c&&c.Ri())switch(c.type){case "pages":const {container:d,pages:e}=c.inner?.type===
"pages"?c.inner:c;FCs(this.eal,d,e,a,b);break;case "elements":FCs(this.eal,c.container.container,[c.container.ia],a,b);break;case "audio":throw Error("page deletion not supported from audio selection");default:throw new u(c);}else b.abort()}kwa(a,b,c,d){if(!this.vg.Kb){var e=this.vg.Ma;if(e?.Fp){if(d?.type==="group-element"){var f=c>1?"multiple_elements":"single_element_in_group";var g=d.group.zm}c=c>1?"multiple_elements":"single_element";d=e.Fp.elements.count();var h=e.elements?.map(l=>{if(l.type===
"shape"){if(__c.nfe(l))return"stroke";if(__c.uWa(__c.sWa(l)))return"recognized_stroke";if(Wj(l))return"sticky_note"}return l.type});b.ob().addEvent("deleted");var k={eF:d,LIa:h,mb:a,TYj:f||c,GE:__c.Rff(e.elements||[]),zm:g};b.ob().wk(({Oi:l})=>{this.N.track(__c.G7g,{...k,Tb:l(),Bq:0,ss:0,rz:0})});b.qe()}else b.abort()}}constructor(a,b,c,d,e,f,g,h,k,l,n,p,q){this.d2=a;this.Ap=b;this.QZ=c;this.eal=d;this.mc=e;this.vg=f;this.Gg=g;this.Qa=h;this.hb=k;this.tZe=l;this.V=n;this.N=p;this.tH=q;WXs.G(this);
this.Ap.FQi("deleting_ui",{bzj:r=>{switch(r.container.type){case "chart-element":break;case "layout-element-cell":case "fixed-page":case "group-element":case "controlled-element":this.vg.Jl(r.container,r.ia);break;default:throw new u(r.container);}}})}},XXs=class{static G(a){O(a,{Syb:oV,K$a:oV})}get Pme(){return this.Syb}get Epf(){return this.Syb}get kEl(){var a=this.Epf;if(a.length!==1)return!1;a=a[0];return a.type==="row"||a.type==="column"?!1:!0}get Ird(){return!1}get nYj(){}get Syb(){if(this.Pa.mode<=
20||this.vg.Kb?.type===0)return[];var a=this.K$a;switch(a?.type){case "item":return a.item.type==="design"&&a.item.Nx?.ref?.type==="sticky-scroll"?[{type:"scrollable-design"}]:[{type:"element"}];case "cover-item":if(this.Pa.mode<=30)break;return a.marker.Pg.ref?.type==="design"&&a.marker.Pg.ref?.Nx?.ref?.type==="sticky-scroll"?[{type:"scrollable-design"}]:[{type:"element"}];case "page-break-item":return[{type:"element"}];case "layout-item":const b=a.iYj;return b?[{type:"column",nee:Cqs(this.vza,a.container,
a.Kw,b)},{type:"layout-item"}]:[{type:"layout-item"}];case "table-item":a=this.QZ.jkd?.jYj();if(!a)break;return[a.rIc?"column":null,a.deleteRow?"row":null,"table-item"].filter(sb).map(c=>xCs(c,this.K$a));case "sheet-item":return[a.columns.length>0?"column":null,a.rows.length>0?"row":null,"sheet-item"].filter(sb).map(c=>xCs(c,this.K$a));case "sheet-item-cell-media":return[xCs("sheet-item-cell-media",this.K$a)];case void 0:break;default:throw new u(a);}return[]}get K$a(){const a=this.vg.Kb;var b=this.Za.state;
if(a?.container.type==="marker"||a?.container.type==="section-marker")return{type:"cover-item",marker:a.container.marker};switch(a?.type){case 0:case 1:if(a.only?.type==="break")return{type:"page-break-item",i_e:a.only};if(a.only?.type==="table"&&a.container){sa(__c.SVc(a.container));b=a.only;var c=[...a.only.cells.values()],d=NLe(b,c),e=MLe(b,c);return{type:"table-item",table:b,cells:c,parent:a.container,MR:[d[0],d[d.length-1]],vG:[e[0],e[e.length-1]]}}if(a.container.type==="layout-item-cell"&&b?.type===
"RANGE"&&b.isCollapsed)return{type:"layout-item",Kw:a.container.layout,iYj:this.Ap.Vmf?.(a.container.container.container,a.container.layout,a.container.tb)?a.container.tb:void 0,container:a.container.container.container};if(a.container.type==="table-item-cell")return b=a.container.table,c=[a.container.tb],d=NLe(b,c),e=MLe(b,c),{type:"table-item",table:b,cells:c,parent:a.container.container.container,MR:[d[0],d[d.length-1]],vG:[e[0],e[e.length-1]]};if(a.only!=null)return{type:"item",item:a.only};break;
case 2:return b=a.container.table,c=a.map(k=>k),d=NLe(b,c),e=MLe(b,c),{type:"table-item",parent:a.container.container,table:b,cells:c,MR:[d[0],d[d.length-1]],vG:[e[0],e[e.length-1]]};case 4:b=a.container.sheet;d=this.QZ.cic;c=a.cells.map(k=>k);var f=a.rows.map(k=>k);e=a.columns.map(k=>k);f=d?.EJg(b.config,f,c)||[];d=d?.DJg(b.config,e,c)||[];return{type:"sheet-item",parent:a.container.container.text,sheet:b,cells:c,rows:f,columns:d};case 5:return b=a.container,c={row:b.row,column:b.column},d=a.media.map(k=>
k),{type:"sheet-item-cell-media",parent:a.container.container.container.text,sheet:b.Kqa,tb:c,media:d};case 3:const [g,h]=a.map(k=>k);return g&&!h&&a?.type===3&&RVc(a.container.container)?{type:"layout-item",Kw:a.container.layout,iYj:this.Ap.Vmf?.(a.container.container,a.container.layout,g)?g:void 0,container:a.container.container}:void 0;case void 0:break;default:throw new u(a);}}fng(){return this.K$a!=null}tYj(a,b){if(!b)this.Ap.rQb();else if(!this.mWs){var c=this.K$a;c?.type==="cover-item"?(this.Ap.b_d?.(c.marker),
this.vg.deselectAll()):c?.type==="page-break-item"?this.vR(a,new __c.qf):c?.type==="sheet-item"?this.QZ.cic?.Lnc(c.sheet.config,c.cells):(a=this.Za.state?.type!=="TABLE_CELL"||this.Za.state.cells.length!==1||this.Za.state.cells[0].content.text.isEmpty?void 0:this.Za.state.cells[0],this.Ap.rQb(),a&&(this.Za.qv(a.content.text,Gw.end()),this.Za.focus()));b.preventDefault()}}vR(a,b,c){var d=this.K$a;switch(d?.type){case "layout-item":a=d.Kw;b=d.iYj;d=d.container;b!=null?c==="outer"?(this.Ap.csf?.(d,a),
this.vg.Nw(d,a)):(this.Ap.I1h?.(d,a,b),this.Za.deselectAll()):(this.vg.deselectAll(),this.Ap.csf?.(d,a));break;case "table-item":b=d.parent;var e=d.table,f=d.MR;d=d.vG;switch(c){case "column":this.QZ.jkd?.Pqq?.(e,b,f,a);break;case "row":this.QZ.jkd?.Qqq?.(e,b,d,a);break;case "outer":this.Za.Nw(b.text,e);this.Ap.rQb();break;case "inner":case void 0:this.Ap.rQb();break;default:throw new u(c);}break;case "sheet-item":e=d.sheet;f=d.parent;const g=d.columns,h=d.rows;d=d.cells;switch(c){case "column":this.QZ.cic?.deleteColumns(e.config,
g,b,a);break;case "row":this.QZ.cic?.deleteRows(e.config,h,b,a);break;case "outer":this.Za.Nw(f,e);this.Ap.rQb();break;case "inner":case void 0:this.QZ.cic?.Lnc(e.config,d);break;default:throw new u(c);}break;case "sheet-item-cell-media":c=d.sheet;a=d.tb;d=d.media;this.Ap.c_d?.(c.config,a.row,a.column,d);this.Za.deselectAll();break;case "cover-item":this.Ap.b_d?.(d.marker);break;case "page-break-item":if(d.i_e.marker.Pg.ref&&a!=="cut_contextual_menu"&&a!=="cut_keyboard_shortcut"){this.Ap.b_d?.(d.i_e.marker);
break}this.Ap.rQb?.();break;case "item":case void 0:this.Ap.rQb();break;default:throw new u(d);}}uFm(){}get mWs(){return this.Za.focused&&this.Za.state?.type==="RANGE"&&(this.Za.state.oB?.type!=="break"||!this.Za.state.oB?.marker.Pg.ref)}kwa(){throw Error("logDeletedAnalytics is not implemented");}constructor(a,b,c,d,e,f){this.Ap=a;this.QZ=b;this.vg=c;this.Za=d;this.vza=e;this.Pa=f;XXs.G(this)}};var YXs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 4.5h5.25v15H5a.5.5 0 0 1-.5-.5V5a.5.5 0 0 1 .5-.5Zm12 0h-5.25v15H17a.5.5 0 0 0 .5-.5v-1H19v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v1h-1.5V5a.5.5 0 0 0-.5-.5Zm-.97 4.47a.75.75 0 1 0-1.06 1.06L16.94 12l-1.97 1.97a.75.75 0 1 0 1.06 1.06L18 13.06l1.97 1.97a.75.75 0 1 0 1.06-1.06L19.06 12l1.97-1.97a.75.75 0 1 0-1.06-1.06L18 10.94l-1.97-1.97Z" fill="currentColor"/></svg>';var yCs=Uq({medium:YXs});var ZXs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M19.5 5v5.25h-15V5a.5.5 0 0 1 .5-.5h14a.5.5 0 0 1 .5.5Zm0 12v-5.25h-15V17a.5.5 0 0 0 .5.5h1V19H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-1v-1.5h1a.5.5 0 0 0 .5-.5Zm-9.47-2.03a.75.75 0 1 0-1.06 1.06L10.94 18l-1.97 1.97a.75.75 0 1 0 1.06 1.06L12 19.06l1.97 1.97a.75.75 0 1 0 1.06-1.06L13.06 18l1.97-1.97a.75.75 0 1 0-1.06-1.06L12 16.94l-1.97-1.97Z" fill="currentColor"/></svg>';var zCs=Uq({medium:ZXs});var $Xs=GV(a=>{const b=a.onClick,c=a.disabled;return fV(a.yi,{tooltip:M("eLUEGw"),zh:"icon",icon:Ix,className:"_6n_L7A",onClick:b,disabled:c,children:M("eLUEGw")})});GV(a=>{const b=a.onClick,c=a.oa,d=a.disabled;return fV(a.rl,{Icon:Ix,label:M("eLUEGw"),disabled:d,onClick:b,oa:c,Dm:"Delete"})});var aYs=GV(a=>fV(a.yi,{icon:Ix,className:"_6n_L7A",pressed:a.open,zh:"icon",onClick:a.onClick,tooltip:M("eLUEGw"),children:M("eLUEGw")}));
GV(a=>{const b=a.oa;return fV(__c.fD,{margins:"flow",children:a.items.map((c,d)=>fV(bYs,{item:c,oa:b},d))})});
var cYs=GV(a=>{const b=a.V,c=a.disabled,d=a.yXe,e=a.onMouseEnter,f=a.onMouseLeave,g=a.onFocus,h=a.onBlur,k=a.oa;a=a.Syb.map(l=>{const n=ACs(l);return{...n,disabled:c,onClick:iV(()=>d(b.wb("delete_element_dropdown",{Hb:{name:"editor.delete_element"}}),n.mode)),onMouseEnter:iV(()=>e(l)),onMouseLeave:iV(()=>f(l)),onFocus:iV(()=>g(l)),onBlur:iV(()=>h(l))}});return fV(__c.fD,{margins:"flow",children:a.map((l,n)=>fV(bYs,{item:l,oa:k},n))})}),bYs=GV(a=>{const b=a.oa,{message:c,Icon:d,onClick:e,onFocus:f,
onBlur:g,onMouseEnter:h,onMouseLeave:k,disabled:l=!1}=a.item;return mV(__c.Rz,{onClick:()=>{e?.();b?.()},onFocus:f,onBlur:g,onMouseEnter:h,onMouseLeave:k,disabled:l,children:[fV(__c.dD,{className:"Roid7g",children:fV(d,{size:"medium"})}),c]})}),dYs=hV(a=>{const b=a.disabled,c=a.Dg;return fV(a.yi,{onClick:a.onClick,icon:Ix,zh:"icon",disabled:b(),tooltip:J("JwjLTA",[c]),children:J("fk0LcQ",[c])})});var eYs=class{static G(a){O(a,{Dg:oV})}get Dg(){return this.vg.Ma?.pages||[]}constructor(a,b,c,d,e,f,g,h){this.document=a;this.vg=b;this.Ap=c;this.Hbi=d;this.Zo=e;this.N=f;this.MYn=g;this.i_s=h;eYs.G(this)}};var fYs,gYs,hYs,iYs;
new (fYs=class extends JV{constructor(){super(iYs);gYs()}},(()=>{class a extends(hYs=IV){static G(b){O(b,{open:zV.ref})}render(){const b=this.props.SC,c=this.props.U3g,d=this.props.onClose;return fV(__c.ld,{open:this.open,title:J("CMqjrQ",[b]),explanation:J("phFzTA",[c,b]),nH:"critical",buttons:this.buttons,iVb:M("lVGe+Q"),rj:d})}get buttons(){return[{children:M("JTju5w"),onClick:iV(b=>{this.props.$ne(b.X2c);this.props.Ip();this.open=!1})},{children:M("Xw0Txg"),onClick:iV(b=>{this.props.$ne(b.X2c);this.props.onCancel();
this.open=!1})}]}constructor(...b){super(...b);this.open=(iYs.G(this),!0)}}({c:[iYs,gYs]}=KV(a,[],[Lb],hYs))})(),fYs);var jYs=class{get qtq(){return this.storage?!!this.storage.getItem("E2DontShowPageDeleteWarningWithLink"):this.THm}constructor(){this.THm=!1;this.storage=__c.ec()}};var JCs=({Rc:a})=>fV(Ck,{tone:"info",dismissible:!0,Rc:a,children:M("F+UiAA")});var ICs=class{static G(a){O(a,{init:iV,Rc:iV.bound})}init(){this.store.mla=!this.Gdr(717,this.X?.Yh?.xm)}Rc(){this.store.mla=!1;this.X&&this.Ra.Wj(new __c.ht({user:this.X.user.id,types:[717]}))}get mla(){return this.store.mla}constructor(a,b,c,d=__c.OA){this.store=a;this.X=b;this.Ra=c;this.Gdr=d;ICs.G(this)}};var HCs=class{static G(a){O(a,{mla:zV.ref})}constructor(){this.mla=(HCs.G(this),!0)}};var kYs=({FWs:a=!1,onCancel:b})=>{const [c,d]=qV(0);kV(()=>{const e=Math.floor(Math.random()*501+500);setTimeout(()=>{c>=1E4||d(f=>f+e)},e)},[c]);a=a?1:1-Math.pow(1.3,-(c/1E3));return fV("div",{className:"wenq4Q",children:mV(Tc,{align:"center",spacing:"1.5u",children:[fV(Q,{children:M("VwPLIQ")}),fV(__c.xC,{ariaLabel:M("SzclBg"),stretch:!0,hpc:!0,value:a*100}),fV(Wi,{variant:"secondary",stretch:!0,onClick:b,children:M("JDk5tg")})]})})};var mYs=({input:a,gIc:b,oCk:c,$ik:d,igj:e,zgf:f,error:g,ZRg:h,oUc:k,VGd:l,Kce:n,Nph:p})=>mV(uV,{children:[e&&fV(R,{Lb:"2u",paddingBottom:"2u",children:fV(e,{})}),f&&fV(R,{Lb:"2u",children:fV(f,{})}),fV(R,{paddingBottom:"2u",Lb:"2u",height:"full",display:h?"flex":void 0,alignItems:h?"center":void 0,children:mV(Tc,{spacing:"2u",children:[a,fV(lYs,{ZRg:h,oUc:k,gIc:b,oCk:c,$ik:d,error:g,VGd:l,Kce:n,Nph:p})]})})]}),lYs=({ZRg:a,oUc:b,gIc:c,oCk:d,$ik:e,error:f,VGd:g,Kce:h,Nph:k})=>{const [l,n]=qV(!0),p=
()=>{n(!0);g()};kV(()=>{a&&n(!1)},[a]);return a?fV(kYs,{onCancel:p}):l?f?f:mV(uV,{children:[fV(nYs,{oUc:b}),c,e,d,k&&fV(oYs,{Kce:h})]}):(n(!0),fV(kYs,{FWs:!0,onCancel:p}))},nYs=GV(({oUc:a})=>a?mV(Q,{weight:"bold",children:[fV(__c.Hz,{}),fV(jd,{direction:"horizontal",size:"0.5u"}),J("pVv2cw",[a])]}):null),oYs=GV(({Kce:a})=>{const b=jV(()=>{a?.()},[a]);return fV(R,{background:"canvas",borderRadius:"baseUnit",Lb:"2u",Pc:"1.5u",border:"none",children:mV(Q,{children:[fV(__c.Isr,{}),fV(__c.ak,{message:M("9pud7Q"),
uf:b})]})})}),pYs=GV(({U8:a})=>a?mV(br,{spacing:"1u",Fa:"center",children:[fV(__c.Mzc,{children:M("J7PIrQ")}),fV(Nu,{tone:"neutralLow",text:M("Hv1Kng")})]}):fV(__c.Mzc,{children:M("J7PIrQ")}));var qYs=({input:a,igj:b,zgf:c,error:d,ZRg:e,VGd:f,M2e:g,oUc:h,Kce:k,Nph:l,icg:n,ydd:p,gPf:q})=>e?fV("div",{onClick:f,children:"Loading..."}):mV(uV,{children:[b&&fV(R,{Lb:"2u",paddingBottom:"2u",children:fV(b,{})}),c&&fV(R,{Lb:"2u",children:fV(c,{})}),fV(R,{paddingBottom:"2u",Lb:"2u",height:"full",children:mV(Tc,{spacing:"2u",children:[a,d?d:g&&mV(Tc,{spacing:"1u",children:[fV(nYs,{oUc:h}),g.map((r,t)=>{switch(r.type){case "text":return fV(r.lEp,{},t);case "chart":return fV(r.R3o,{gPf:q});case "formula":return fV(r.Ehp,
{ydd:p,icg:n});default:return null}}),l&&fV(oYs,{Kce:k})]})]})})]});var rYs=__c.po(({width:a})=>({URe:a>232}))(({Iyd:a,index:b,jre:c,y5g:d,URe:e})=>{const f=fV(__c.T6d,{variant:"contrast",size:"small",onClick:()=>d(a,b),ariaLabel:M("mMYI6A"),icon:tD});return e?fV(Ko,{content:fV(Vn,{direction:"horizontal",children:fV(R,{padding:"1u",width:"full",children:fV(c,{formula:a})})}),Rr:fV(__c.$u,{location:"center-end",visibility:"always",NY:!0,children:f}),padding:"0",layout:"horizontal",Xm:"card"}):fV(Ko,{content:mV(R,{display:"flex",alignItems:"center",padding:"1u",children:[fV(R,
{flex:"auto",children:fV(c,{formula:a})}),fV(R,{tp:"1u",children:f})]}),padding:"0",layout:"horizontal",Xm:"card"})});var tYs=(a,b)=>({Iyd:c,index:d})=>fV(sYs,{Iyd:c,index:d,jre:a,y5g:b}),sYs=({Iyd:a,index:b,jre:c,y5g:d})=>fV(__c.Sc,{light:"light",Qm:"light",dark:"light",SK:"light",children:e=>fV(R,{className:e.className,background:"page",borderRadius:"containerSoft",padding:"1u",children:fV(R,{background:"neutralLow",borderRadius:"baseUnit",children:fV(rYs,{Iyd:a,index:b,jre:c,y5g:d})})})});var uYs=({quota:a,yWl:b,TIk:c})=>{if(a.kind==="loading")return fV(__c.Ut,{size:"small"});const d=a.ugd?fV(Q,{size:"small",children:J("3ExZKg",[a.ugd])}):null;return mV(R,{display:"flex",justifyContent:"center",alignItems:"center",children:[c?fV(__c.Bx,{}):fV(__c.Ax,{}),"\u00a0",mV(Q,{alignment:"center",size:"small",children:[J("Tst+Tw",[a.Fze,a.qG]),"\u00a0"]}),c?d:fV(Q,{size:"small",children:fV(__c.ak,{message:M("I17TjQ"),uf:b,Kx:"subtle"})})]})};var vYs=__webpack_require__.p+"images/12cac2d71496e7941348c7ea6e2d56f1.png";var wYs=__webpack_require__.p+"images/43b2a0458b604ba992d1cf8d2374b9ef.png";var xYs=({Od:a,alt:b})=>a===1?fV(__c.Tu,{src:wYs,alt:b,border:"none"}):fV(__c.Tu,{src:vYs,alt:b,border:"none"});var yYs=({error:a})=>fV(R,{padding:"2u",children:mV(Tc,{spacing:"1.5u",children:[fV(xYs,{Od:a.Od,alt:a.cLf||""}),fV(dr,{alignment:"center",size:"xsmall",children:a?.cLf}),fV(Q,{alignment:"center",children:a?.Hyh})]})});var zYs={get zEq(){return Pb("1337609c",!1)},get qIq(){return Pb("67d49c82",!1)},get vtn(){return Pb("fb3552ee","")},get mLk(){return Pb("11da8253","")},get rIq(){return Pb("bc7d14a5",!1)},get XDq(){return Pb("8c7e6060",!1)},get oGq(){return Pb("42dc6e6c",!1)},get gFq(){return Pb("28ecb8e8",!1)}};var AYs=__webpack_require__.p+"images/cedd6f1881f2e6c967a69cc8e0678814.svg";var BYs=__webpack_require__.p+"images/6ba3afe7a63dc79585765f2493a7585c.svg";var CYs=__webpack_require__.p+"images/f166701c9801db56ad4508fb96c451d1.svg";var DYs=__webpack_require__.p+"images/6433e4a9a0eb074221d54830396fd558.svg";var FYs=({Vdd:a})=>mV(Tc,{spacing:"1.5u",children:[fV(dr,{size:"xsmall",children:M("13k7+g")}),fV(ar,{columns:2,spacing:"1.5u",V3e:"equal",children:EYs.map((b,c)=>fV(Ko,{onClick:()=>a(b.text,b.id,c),content:mV(R,{height:"full",display:"flex",flexDirection:"column",borderRadius:"containerLarge",className:"_0ybf2Q",border:"low",padding:"2u",children:[mV(Tc,{spacing:"0.5u",children:[fV(Q,{size:"small",weight:"bold",className:"_0LZC8Q",children:b.label}),fV(__c.Eo,{size:"small",lineClamp:3,children:b.text})]}),
fV(R,{paddingTop:"0.5u",height:"full",display:"flex",alignItems:"end",children:fV(Yu,{aspectRatio:1.25,src:b.image})})]})},b.id))})]}),EYs=[{id:"spot_trends",text:M("/15meQ"),label:M("l6sRWQ"),image:BYs},{id:"visualize",text:M("WdBwUg"),label:M("7fXBqw"),image:DYs},{id:"summarize",text:M("JLfw8A"),label:M("P6WuTA"),image:CYs},{id:"find_outliers",text:M("l8zS1w"),label:M("LOom5w"),image:AYs}];var GYs=({bei:a,DEa:b,Flq:c,E7r:d,k1e:e,Abs:f,Cvd:g,cEi:h,nXq:k,k1i:l,kWg:n,Vdd:p})=>mV(Tc,{spacing:"1u",children:[b,g&&fV(Ck,{tone:"critical",dismissible:!0,Rc:h,UH:!0,children:g}),fV(__c.TC,{placeholder:M("94xB5A"),value:e,onChange:f,Ln:k?5:2,maxRows:5,cOa:0,PK:!0,maxLength:280,ariaLabel:M("m5uzaQ"),footer:!k&&fV(R,{padding:"1u",children:fV(Tc,{spacing:"0",align:"end",children:fV(Wi,{variant:"primary",icon:l?__c.S0f:Ot,onClick:d,disabled:a})})})}),n&&zYs.oGq&&fV(Ck,{tone:"info",UH:!0,size:"small",
Tg:!0,children:fV(__c.Zj,{message:M("xxsYsQ")})}),k&&fV(Wi,{variant:"primary",icon:Ot,Np:"end",stretch:!0,onClick:d,disabled:a,ariaLabel:M("m5uzaQ"),children:M("m5uzaQ")}),c,k&&zYs.zEq&&fV(FYs,{Vdd:p})]});var HYs={eventType:"magic_insights_interacted",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),action:a.action,num_attempt:a.qwa,had_prompt:a.Qva,panel_session_id:a.q_,generation_id:a.$Z,range_selection:a.DE,time_since_requested_ms:a.S4b,results_id:a.oQb,error_type:a.Od,insight_type:a.itc,index_position:a.DM,entity_id:a.xva,chart_type:a.jd,chart_type_variant:a.Am,card_prompt_suggestion_type:a.iTa,card_prompt_suggestion_index:a.hTa})}},IYs={eventType:"magic_insights_results_generated",
Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),num_attempt:a.qwa,had_prompt:a.Qva,panel_session_id:a.q_,generation_id:a.$Z,range_selection:a.DE,time_since_requested_ms:a.S4b,results_id:a.oQb,summary_generated:a.m5i,num_formulas_generated:a.hBi,num_charts_generated:a.cBi,error_type:a.Od,summary_error_type:a.UFo})}},JYs={eventType:"magic_insights_results_viewed",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),num_attempt:a.qwa,had_prompt:a.Qva,panel_session_id:a.q_,generation_id:a.$Z,
range_selection:a.DE,time_since_requested_ms:a.S4b,results_id:a.oQb,summary_generated:a.m5i,num_formulas_generated:a.hBi,num_charts_generated:a.cBi,summary_viewed:a.Y7s,num_formulas_viewed:a.YYr,num_charts_viewed:a.AYr})}};var sDs=F(()=>({}));var UCs=(a,b,c)=>{const d=new Set(krs(c));if(!a.every(f=>d.has(f)))return Ma({lKe:"GROUPED_SERIES_FROM_ROWS",binding:"groupBy"});const e=[];c=MCs(c.data());for(const [f,g]of c){c={binding:"unused"};f===b?c={binding:"valueBy",id:Ay()}:a.includes(f)&&(c={binding:"groupBy",id:Ay()});const {values:h,Cb:k}=NCs([...g],c.binding);e.push({label:f,values:h,type:c,Cb:k})}return La(e)},TCs=(a,b,c,d,e,f)=>{const g=new Set(krs(f));if(!c.every(k=>g.has(k)))return Ma({lKe:"SCATTERPLOT_SERIES_FROM_ROWS",binding:"yAxisLabels"});
if(!g.has(b))return Ma({lKe:"SCATTERPLOT_SERIES_FROM_ROWS",binding:"xAxisLabel"});if(a&&!g.has(a))return Ma({lKe:"SCATTERPLOT_SERIES_FROM_ROWS",binding:"labelHeader"});const h=[];f=MCs(f.data());for(const [k,l]of f){f={binding:"unused"};k===b?f={binding:"xValueBy",id:Ay()}:a&&k===a?f={binding:"labelBy",id:Ay()}:c.includes(k)?f={binding:"yValueBy",id:Ay()}:d&&k===d?f={binding:"colorBy",id:Ay()}:e&&k===e&&(f={binding:"sizeBy",id:Ay()});const {values:n,Cb:p}=NCs([...l],f.binding);h.push({label:k,values:n,
type:f,Cb:p})}return La(h)};var KYs=a=>{let b=0;for(let c=0;c<a.length;c++)b=b*26+(a.charCodeAt(c)-65)+1;return b-1},LYs=a=>{if(a.length===0)return[];let b=0,c=0;a.forEach(({reference:e})=>{if(e=e.match(/^([A-Z]+)(\d+)$/)){const [,f,g]=e;e=KYs(f);b=Math.max(b,parseInt(g,10)-1);c=Math.max(c,e)}});const d=Array.from({length:b+1},()=>Array(c+1).fill(""));a.forEach(({reference:e,value:f})=>{if(e=e.match(/^([A-Z]+)(\d+)$/)){const [,g,h]=e;e=KYs(g);d[parseInt(h,10)-1][e]=f}});return d};var MYs=({Ybe:a})=>fV(R,{Pc:"1u",children:fV(Qo,{role:"menu",children:a&&fV(St,{onClick:a,children:mV(br,{spacing:"1u",Fa:"center",children:[fV(__c.vwf,{}),fV(Q,{children:M("jBio7A")})]})})})});var OYs=({N0h:a,GOf:b,Ybe:c,gIa:d,t3l:e})=>{const [f,g]=qV(!1),{leb:h}=ZCs({onChange:p=>p&&d()}),k=c&&(()=>{c();g(!1)}),l=()=>{g(p=>!p)},n=GV(p=>fV(__c.Io,{...p,width:"40u"}));return fV("div",{className:"is0Txw",children:fV(Ko,{Wi:h,onClick:b,ariaLabel:M("ou/phw"),thumbnail:fV(__c.Vu,{children:mV(R,{display:"flex",flexDirection:"column",justifyContent:"spaceBetween",flex:"auto",width:"full",children:[a&&fV(NYs,{N0h:a}),e]})}),Rr:a&&fV(__c.gC,{location:"top-end",children:fV(__c.U6d,{zFa:n,y3d:fV(MYs,
{Ybe:k}),isOpen:f,TT:l})}),layout:"vertical",dpb:"thumbnail"})})},NYs=({N0h:a})=>fV("div",{children:fV(R,{padding:"2u",display:"flex",alignItems:"center",height:"full",children:fV(Q,{weight:"regular",size:"medium",children:a})})});var cDs=/\{([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})\}/gi,iDs=/(\{[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}\})/g,jDs=/^\{([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})\}$/;var PYs=({formula:a,index:b,ydd:c,icg:d})=>{const [e,f]=qV(!1),g=lV(null),h=lV(null),k=jV(()=>{h.current&&(clearTimeout(h.current),h.current=null);c(b);f(!0)},[c,b]),l=jV(()=>{h.current=setTimeout(()=>{f(!1);h.current&&clearTimeout(h.current)},150)},[]);return mV(uV,{children:[fV("span",{ref:g,className:"Eu_wsQ",onMouseEnter:k,onMouseLeave:l,onTouchEnd:k,role:"button",children:fV("strong",{children:a.ddi.Tcn})}),fV(__c.Ho,{open:e,reference:g.current,placement:"bottom-start",oa:l,width:"32u",Omd:"maximum",
children:fV("div",{onMouseEnter:k,onMouseLeave:l,children:fV(d,{Iyd:a.formula,index:b})})})]})};var fDs=({section:a,gPf:b})=>{const c=a.Zb,d=a.index;return fV(R,{Pc:"1u",children:fV(OYs,{N0h:c.description,GOf:c.GOf,Ybe:c.Ybe,gIa:()=>b(d),t3l:fV(c.pq,{aspectRatio:{min:1,max:1,default:1}})})})},QYs=a=>{switch(a.type){case "text":return a.content;case "bold":return fV("strong",{children:a.children.map(QYs)});case "break":return fV("br",{});default:throw new u(a);}},eDs=({content:a})=>{a=BTs(a).children.flatMap(b=>mDs(b)).map(QYs);return fV(Q,{children:a})},RYs=(a,b,c)=>{switch(a.type){case "text":return a.content;
case "formula-placeholder":return fV(PYs,{formula:a.$_q,index:a.index,ydd:b,icg:c});case "bold":return fV("strong",{children:a.children.map(d=>RYs(d,b,c))});case "break":return fV("br",{});default:throw new u(a);}},gDs=({section:a,ydd:b,icg:c})=>{const d=BTs(a.content).children.flatMap(e=>lDs(e,a.cWa)).map(e=>RYs(e,b,c));return fV(Q,{children:d})};var SYs=class{static G(a){O(a,{history:zV.shallow,U_e:zV.ref,k1e:zV.ref,Cvd:zV.ref,error:zV.ref,quota:zV.ref,hM:zV.ref,pza:oV,KJd:oV,current:oV})}get TIk(){return this.Brf.status===Jx.ei}get pza(){return this.U_e!=null}get KJd(){return this.k1e?.trim()}get current(){if(!(this.history.length<1))return this.history[this.history.length-1]}get aMb(){return this.current?.aMb}get gIc(){return this.current?.gIc}get mye(){return this.current?.mye}get M2e(){return this.current?.M2e}get qSe(){return this.current?.n2q}get Lsn(){return this.current?.hM}constructor(a){this.Brf=
a;this.Tun=(SYs.G(this),void 0);this.history=[];this.error=this.Cvd=this.k1e=this.U_e=void 0;this.quota={kind:"loading"};this.session={id:Qb(),attempt:0}}};var TYs=14*Wt,UYs=class{static G(a){O(a,{bei:oV,um:iV,VGd:iV.bound,k1i:oV,kWg:oV})}get bei(){if(this.kWg)return!0;const a=this.store.quota;switch(a.kind){case "loading":return!0;case "loaded":return a.qG===0;default:throw new u(a);}}hwk(){var a=this.Rzd();const b=this.store.qSe?.qVs;if(!a.ok||!b)return!0;a=a.value.Soa;return a.length!==b.length?!0:a.every(c=>{b.find(d=>c.reference===d.reference&&c.value!==d.value)})}um(a){this.store.error=a}Rzd(){const a=this.aic.DEa;if(!a)return Ma({errorMessage:M("lGc67g"),
DEa:a,X0c:"no_selection"});const {data:b,cta:c}=pDs(this,a);if(b.length<=1)return Ma({errorMessage:M("Xi2QLg"),DEa:a,X0c:"too_few_cells"});var d=a.cells;if(d.length!==0&&d[0].row.id===d[d.length-1].row.id)return Ma({errorMessage:M("bWTxvA"),DEa:a,X0c:"too_few_rows"});d=qDs(this,a);d=m(d.at(0)).filter(e=>e.length);return(new Set(d)).size!==d.length?Ma({errorMessage:M("Z3LgIw"),DEa:a,X0c:"duplicate_headers"}):La({DEa:a,Soa:b,cta:c})}RRj(a){const b=a.mo,c=a.config,d=a.data;a=a.Pb;var e=new Map;e.set("font-size",
TYs.toString());e.set("color","#000000");sa(this.NE.Ka!=="responsive");e=__c.BOe(this.NE,e);return{...__c.QYc,id:this.kb.Af.generate(),top:0,left:0,width:810,height:810,gb:810,Wb:810,rn:{top:0,left:0,width:810,height:810},config:c,data:d,Pb:a,mo:b,Ae:e,pb:[],labels:[]}}OYh(a){const b=a.mo,c=a.config,d=a.data;a=a.Pb;sa(this.NE.Ka==="responsive");const e=__c.zOe(this.NE);return __c.FUc.create({...__c.pZc,id:void 0,config:c,data:d,Pb:a,mo:b,Ae:e})}get k1i(){return this.store.KJd!=null&&this.store.KJd.length>
0&&this.store.KJd===this.store.qSe?.prompt&&!this.hwk()}get kWg(){var a=this.QA.findSheet();if(!a)return!0;a=a.sheet;var b=a.layout.rows.toArray();const c=a.layout.cols.toArray();for(const d of b)for(const e of c)if((b=this.fd.getContent(a,d,e))&&b.Nr)return!1;return!0}constructor(a,b,c,d,e,f,g,h,k,l,n,p,q,r,t,v,w,x,y,z,B,C,G,H,K,L,N,P,T,V){this.store=a;this.navigation=b;this.kb=c;this.la=d;this.eo=e;this.Se=f;this.qc=g;this.TWj=h;this.NE=k;this.selection=l;this.QA=n;this.aic=p;this.fd=q;this.lU=
r;this.N=t;this.Brf=v;this.dF=w;this.kla=x;this.pAb=y;this.sE=z;this.errorService=B;this.ma=C;this.wD=G;this.OT=H;this.clipboard=K;this.viewport=L;this.$g=N;this.Gcm=P;this.Bc=T;this.dwq=V;this.JVn=(UYs.G(this),iV(async()=>{this.store.session={id:Qb(),attempt:0};this.store.Tun=this.NE.CLa();this.la.layout===1?this.eo.open(this.TWj,{Caa:"start"}):this.Se?.XRf(this.navigation,{height:"auto"});this.$g(M("J7PIrQ"));await tDs(this)}));this.a6p=()=>{this.eo.close(this.TWj)};this.jWm=async()=>{rV(()=>{this.store.error=
void 0;this.store.Cvd=void 0});this.dwq?.();const W=rDs(this);var aa=yDs(this.store.KJd);aa={qwa:this.store.session.attempt,Qva:this.store.KJd!=null&&this.store.KJd.length>0,q_:this.store.session.id,$Z:void 0,oQb:void 0,itc:void 0,DM:void 0,xva:void 0,jd:void 0,Am:void 0,S4b:void 0,iTa:aa?.type,hTa:aa?.index};this.store.session.attempt+=1;if(W.ok){var ba=W.value.DEa;await this.YTq(ba,W.value.Soa,W.value.cta,W.value.Mu,{qwa:aa.qwa,Qva:aa.Qva,q_:aa.q_,DE:ba.range,iTa:aa.iTa,hTa:aa.hTa})}else rV(()=>
{this.store.history.length>0?this.store.error=uDs(2):this.store.Cvd=W.error.errorMessage}),this.N.track(HYs,{...aa,action:"generate",DE:W.error.DEa?.range,Od:W.error.X0c})};this.YTq=async(W,aa,ba,da,{qwa:la,Qva:ja,q_:oa,DE:ma,iTa:na,hTa:qa})=>{const ua=this.QA.VMc(),za=this.store.KJd,va=Date.now(),xa={IBk:void 0,qwa:la,Qva:ja,$Z:void 0,DE:ma,a3e:va,iTa:na,hTa:qa};rV(()=>{this.store.U_e=xa;this.store.k1e=za;this.store.hM=ua});ba=await this.fUq(aa,ba,da,xa,oa);if(this.store.pza)if(da=Date.now()-va,
oa=this.eo.isOpen(this.TWj)?this.store.session.id:void 0,ba.resultType===1)this.um(ba.error),rV(()=>{this.store.U_e=void 0}),ba.Od==="generation"&&this.N.track(IYs,{qwa:la,Qva:ja,q_:oa,$Z:xa.$Z,DE:ma,S4b:da,oQb:void 0,m5i:!1,hBi:void 0,cBi:void 0,Od:ba.X0c,UFo:void 0});else{var Ba={aMb:ba.results.aMb,mye:ba.results.YR,gIc:ba.results.summary,M2e:ba.results.M2e,n2q:{prompt:za,oUc:`${W.sheetName}`,qVs:aa},hM:ua,qwa:la,Qva:ja,$Z:ba.$Z,DE:ma,a3e:va,cXj:!1,ALj:ba.results.YR.map(()=>!1),ajk:ba.results.aMb.map(()=>
!1),iTa:xa.iTa,hTa:xa.hTa};rV(()=>{this.store.history.push(Ba);this.store.U_e=void 0});this.N.track(IYs,{qwa:Ba.qwa,Qva:Ba.Qva,q_:oa,$Z:Ba.$Z,DE:Ba.DE,S4b:da,oQb:void 0,m5i:Ba.gIc!=null,hBi:Ba.aMb.length,cBi:Ba.mye.length,Od:void 0,UFo:void 0});this.wD.qCn?.()}};this.fUq=async(W,aa,ba,da,la)=>{let ja,oa;ba=new __c.v7c({content:ba});try{({id:ja}=await this.lU.eTj({data:W,prompt:this.store.KJd||void 0,Mu:ba}))}catch(ma){oa=ma instanceof __c.Sb&&ma.statusCode===403?"permissions_error":"internal_error",
this.errorService.ra(ma)}if(!ja)return this.N.track(HYs,{action:"generate",DE:da.DE,qwa:da.qwa,Qva:da.Qva,q_:la,$Z:void 0,oQb:void 0,itc:void 0,DM:void 0,xva:void 0,jd:void 0,Am:void 0,S4b:void 0,iTa:da.iTa,hTa:da.hTa,Od:oa??"sent_empty_data_set"}),{resultType:1,Od:"interaction",error:uDs(6)};da.$Z=ja;this.N.track(HYs,{action:"generate",DE:da.DE,qwa:da.qwa,Qva:da.Qva,q_:la,$Z:da.$Z,oQb:void 0,itc:void 0,DM:void 0,xva:void 0,jd:void 0,Am:void 0,S4b:void 0,iTa:da.iTa,hTa:da.hTa,Od:void 0});try{const ma=
__c.Qh(()=>this.Lss(ja),VYs,{Js:6E4});da.IBk=ma;const na=await ma.result;da.IBk=void 0;if(na.type==="FAILURE")return{resultType:1,Od:"generation",error:uDs(na.reason),X0c:vDs(na.reason)};rV(()=>{if(na.quota){const xa=Date.now();this.store.quota={kind:"loaded",Fze:na.quota.Fze,qG:na.quota.qG,ugd:na.quota.ugd?new Date(xa+na.quota.ugd):void 0}}else this.store.Cvd=M("ldPNNQ")});const qa=na.YR.map(xa=>{try{const Ba=this.lGs([...xa.dataset],aa.dateFormat),pa=new RCs(LYs(Ba)),ia=YCs(xa.yLj,pa);if(ia.ok)return{Zb:ia.value.Xcb,
message:xa.message,Xa:xa.id};this.errorService.ra(ia.error,"Error processing chart insight")}catch(Ba){this.errorService.ra(Ba,"Error processing chart insight")}}).filter(xa=>{if(!xa)return!1;switch(xa.Zb.config.type){case "GROUPED_COLUMN":case "STACKED_COLUMN":case "GROUPED_ROW":case "STACKED_ROW":case "PIE":case "DONUT":case "LINE":case "STACKED_AREA":case "SCATTERPLOT":case "BUBBLEPLOT":case "DOTPLOT":case "GROUPED_DOTPLOT":case "PACKED_CIRCLES":case "TREEMAP":case "BAR_RACE":case "HISTOGRAM":case "RADAR":case "FUNNEL":return!0;
case "DUMBBELL":case "LOLLIPOP":case "SUNBURST":case "TIME_SERIES":case "PROGRESS":case "PICTOGRAM":case "POPULATION_PYRAMID":return!1;default:throw new u(xa.Zb.config);}}).filter(sb);await this.store.Tun;const ua=qa.map(this.$Lr),za=this.C5q(na.aMb);let va;if(na.fpl){const xa=bDs(na.fpl,za,ua);if(xa.ok){const Ba=xa.value;try{va=Ba.map(pa=>hDs(pa))}catch(pa){return this.errorService.ra(pa,"Failed to render conversational sections"),{resultType:1,Od:"generation",error:uDs(6),X0c:vDs(6)}}}}return{resultType:0,
results:{YR:ua,aMb:za,summary:na.summary,M2e:va},$Z:ja}}catch(ma){return this.errorService.ra(ma),{resultType:1,Od:"generation",error:uDs(6),X0c:vDs(6)}}};this.Lss=async W=>{W=await this.lU.Jnk({id:W});switch(W.type){case "SUCCESS":case "FAILURE":return W}};this.C_s=W=>{const aa=this.selection.Ma,ba=this.selection.Kb;if(aa&&aa.Ri())switch(aa.type){case "audio":return!1;case "elements":switch(W){case "data-insights":return aa.inner?.type==="sheet"?this.PKj(aa.inner.sheet.config,aa.inner.cells):aa.Pd?.type===
"sheet"?!0:!1;case "data-insights-action":return aa.inner?.type==="sheet"||aa.Pd?.type==="sheet";default:throw new u(W);}case "pages":switch(W){case "data-insights":return aa.inner?.type==="sheet"&&this.PKj(aa.inner.page.sheet,aa.inner.cells);case "data-insights-action":return aa.inner?.type==="sheet";default:throw new u(W);}default:throw new u(aa);}if(ba)switch(ba.type){case 4:switch(W){case "data-insights":return this.PKj(ba.container.sheet.config,ba.cells);case "data-insights-action":return!0;
default:throw new u(W);}case 1:switch(W){case "data-insights":return ba.only?.type==="sheet";case "data-insights-action":return ba.only?.type==="sheet";default:throw new u(W);}case 3:case 5:case 2:case 0:break;default:throw new u(ba);}return!1};this.PKj=(W,aa)=>aa?Array.from(aa).some(ba=>(ba=this.fd.getContent(W,ba.row,ba.column))?ba.NC.type===4&&ba.Dya?.type!=="select"||ba.NC.type===1:!1):!1;this.d2a=W=>{this.N.track(__c.m$g,{xd:W,Ls:"charts",source:"other",location:"magic_insights",action:"design",
XIb:void 0,ZF:void 0,Ci:void 0,exa:void 0})};this.Pte=async(W,aa)=>{const ba=m(this.store.current,"Should be current results when adding chart to page"),da=Date.now()-ba.a3e;try{const {config:la,id:ja}=await this.qc.hja(W,{Xc:"data_insights"},void 0,{jW:!0});this.N.track(HYs,{action:"add_chart_to_page",qwa:ba.qwa,Qva:ba.Qva,q_:this.store.session.id,$Z:ba.$Z,DE:ba.DE,S4b:da,DM:aa,oQb:m(ba.mye.at(aa)).Xa,itc:"chart",jd:wDs(la.ref),Am:xDs(__c.Xv(la.ref)),xva:ja,Od:void 0,iTa:ba.iTa,hTa:ba.hTa});const oa=
this.Bc.Nc?.id;oa&&this.Bc.nNc&&this.d2a(oa)}catch(la){this.errorService.ra(la,{La:"Failed to add to chart to page"})}};this.nMh=async(W,aa)=>{sa(this.Gcm!=null);const ba=m(this.store.current,"Should be current results when adding chart to page"),da=this.Gcm(this.viewport.ya);if(da){this.selection.YU(da.container,da.ia);var la=Date.now()-ba.a3e;try{const {config:ja,id:oa}=await this.qc.hja(W,{Xc:"data_insights"},{Xe:da},{jW:!0});this.N.track(HYs,{action:"add_chart_to_new_page",qwa:ba.qwa,Qva:ba.Qva,
q_:this.store.session.id,$Z:ba.$Z,DE:ba.DE,S4b:la,DM:aa,oQb:m(ba.mye.at(aa)).Xa,itc:"chart",jd:wDs(ja.ref),Am:xDs(__c.Xv(ja.ref)),xva:oa,Od:void 0,iTa:ba.iTa,hTa:ba.hTa});const ma=this.Bc.Nc?.id;ma&&this.Bc.nNc&&this.d2a(ma)}catch(ja){this.errorService.ra(ja,{La:"Failed to add to chart to new page"})}}};this.lGs=(W,aa)=>aa?W.map(ba=>{if(ba.BK){const da=__c.wyb(Number.parseFloat(ba.BK));if(da)return{...ba,value:__c.Myb(this.OT,da,{format:aa,type:"date"})}}return ba}):W;this.Uaq=async W=>{await this.clipboard.writeText(W);
this.ma.Ib({Db:M("AxOOOg")});W=m(this.store.current,"Should be current results when adding chart to page");this.N.track(HYs,{action:"copy_summary",qwa:W.qwa,Qva:W.Qva,q_:this.store.session.id,$Z:W.$Z,DE:W.DE,S4b:Date.now()-W.a3e,oQb:void 0,itc:"summary",Od:void 0,DM:void 0,jd:void 0,Am:void 0,xva:void 0,iTa:W.iTa,hTa:W.hTa})};this.mzm=async(W,aa,ba)=>{await this.clipboard.writeText(W);switch(aa){case "formulaText":this.ma.Ib({Db:M("1DT6sg")});break;case "formula":this.ma.Ib({Db:M("nDCdqw")});break;
default:throw new u(aa);}W=m(this.store.current,"Should be current results when adding chart to page");switch(aa){case "formulaText":aa={action:"copy_formula_text",itc:"formula",Am:void 0,jd:void 0,xva:void 0,oQb:m(W.aMb.at(ba)).Xa};break;case "formula":aa={action:"copy_formula",itc:"formula",Am:void 0,jd:void 0,xva:void 0,oQb:m(W.aMb.at(ba)).Xa};break;default:throw new u(aa);}this.N.track(HYs,{...aa,qwa:W.qwa,Qva:W.Qva,q_:this.store.session.id,$Z:W.$Z,DE:W.DE,S4b:Date.now()-W.a3e,DM:ba,Od:void 0,
iTa:W.iTa,hTa:W.hTa})};this.C5q=W=>{const aa=this.aic.DEa;return aa?W.reduce((ba,da)=>{if(!da.AMf)return ba;let la;const ja=this.D5q(da);if(ja==null)return ba;try{var oa=__c.b9q(this.pAb,aa.sheet,ja);la=this.u9q(oa,da.cdi)}catch(na){return ba}if(!la)return ba;oa=da.AMf.split("%s");const ma=da.AMf.replace("%s",la);ba.push({formula:`=${ja.gna}`,ddi:{prefix:oa[0],suffix:oa[1],Tcn:la},f0m:ma,Xa:da.id});return ba},[]):[]};this.D5q=W=>{W=W.formula.startsWith("=")?W.formula.slice(1):W.formula;return __c.Gde(this.sE,
{type:0,Ora:W})};this.u9q=(W,aa)=>{switch(W.type){case 0:if(aa===3)return __c.Iyb(this.OT,W.value,{Dw:2,dr:!1});if(W.Cb==null)return W=W.value,Math.abs(W)<1?W=W.toPrecision(2):(W=(Math.round(W*100)/100).toString(),aa=parseFloat(W),W=!isNaN(aa)&&aa>9999?__c.LI(aa):W),W;switch(W.Cb.type){case "date":return(aa=__c.wyb(W.value))?__c.Myb(this.OT,aa,W.Cb.Fj):"";case "embed":case "mention":case "select":return W.value.toString();case "plain_number":case "percentage":case "currency":return __c.Lyb(this.OT,
W.value,W.Cb.Fj);case "checkbox":return W.value.toString();default:throw new u(W.Cb);}case 2:return W.value.toString();case 16:return W=W.value.fYd(),W.type===2?W.value:"";case 1:case 4:case 3:case 15:return"";default:throw new u(W);}};this.$Lr=(W,aa)=>{if(this.NE.Ka!=="responsive"){var ba=W.Zb.xsa(void 0);ba=__c.Bn.create({...__c.Qn,id:void 0,elements:[this.RRj(ba)]});const la=ba.elements.toArray()[0];sa(la.type==="chart");const ja=__c.Af({pages:[ba]}).xb(ba);ba=this.NE.aAm(()=>({Zb:la,dh:ja}));
this.NE.rFf({Zb:la,jW:!0});return{GOf:()=>this.Pte(W.Zb,aa),Ybe:()=>this.nMh(W.Zb,aa),pq:ba,type:"fixed",Zb:la,description:W.message,Xa:W.Xa}}ba=W.Zb.xsa(void 0);const da=this.OYh(ba);return{GOf:()=>this.Pte(W.Zb,aa),Ybe:()=>this.nMh(W.Zb,aa),pq:this.NE.SRj(()=>da),type:"responsive",Zb:da,description:W.message,Xa:W.Xa}};this.VGd=()=>{const W=this.store.U_e;W!=null&&(W.IBk?.cancel(),this.store.U_e=void 0,this.N.track(HYs,{action:"cancel",qwa:W.qwa,Qva:W.Qva,q_:this.store.session.id,$Z:W.$Z,DE:W.DE,
S4b:Date.now()-W.a3e,oQb:void 0,itc:void 0,xva:void 0,jd:void 0,Am:void 0,DM:void 0,Od:void 0,iTa:W.iTa,hTa:W.hTa}),this.store.hM=this.store.history.length===0?void 0:this.store.Lsn)};this.Kro=iV(W=>{this.store.k1e=W});this.uGa=iV(()=>{this.store.Cvd=void 0});this.yWl=()=>{this.Brf.Rd("magic_insights","paywall")};this.kWl=Db(()=>{const W=this.store.current;W&&this.N.track(JYs,{qwa:W.qwa,Qva:W.Qva,q_:this.store.session.id,$Z:W.$Z,DE:W.DE,S4b:Date.now()-W.a3e,oQb:void 0,m5i:W.gIc!=null,hBi:W.aMb.length,
cBi:W.mye.length,Y7s:W.cXj,YYr:W.ajk.filter(Boolean).length,AYr:W.ALj.filter(Boolean).length})},500,{leading:!1});this.a5r=()=>{const W=this.store.current;W&&!W.cXj&&(W.cXj=!0,this.kWl())};this.ydd=W=>{const aa=this.store.current;aa&&!aa.ajk[W]&&(aa.ajk[W]=!0,this.kWl())};this.gPf=W=>{const aa=this.store.current;aa&&!aa.ALj[W]&&(aa.ALj[W]=!0,this.kWl())};this.Vdd=(W,aa,ba,da)=>{this.Kro(aa);this.N.track(HYs,{action:"click_card_prompt_suggestion",iTa:ba,hTa:da,qwa:W.session.attempt,oQb:void 0,Qva:!0,
q_:this.store.session.id,DE:void 0,S4b:void 0,itc:void 0,xva:void 0,jd:void 0,Am:void 0,DM:void 0,Od:void 0,$Z:void 0});zYs.XDq&&this.jWm()}}},VYs=a=>{switch(a){case 0:return 3E3;case 1:return 2E3;default:return 1E3}};var WYs=class{constructor(a,b,c,d,e,f){this.selection=a;this.aic=b;this.Pa=c;this.viewport=d;this.pd=e;this.KWc=f;this.VMc=()=>{var g=this.selection.Ma,h=this.aic?.DEa;if(h){if(g)switch(g.type){case "elements":if(g.inner?.type!=="sheet")return;var k=h.cells;return k?{type:"element",sheet:h.sheet,aea:k.map(l=>l),element:g.inner.container,page:g.Rz,FE:new Wz(g.inner.container,this.viewport)}:void 0;case "pages":return g.inner&&g.inner?.type==="sheet"?(k=h.cells)&&g.pages.length===1?{type:"sheet",sheet:h.sheet,
aea:k.map(l=>l),page:g.inner.container,FE:new Xz(g.inner.container,this.viewport,this.Pa)}:void 0:void 0}if(g=this.selection.Kb)switch(g.type){case 4:k=this.aic?.DEa;const l=k?.cells;if(l&&k?.sheet)return h=g.container.container.ew(g.container.sheet),{type:"item",sheet:k.sheet,aea:l,item:h,page:g.Rz,FE:new Zz(h,this.pd,this.viewport)}}}};this.findSheet=()=>{var g=(g=this.viewport.ya)&&hf(g)?{sheet:g.sheet,sheetId:g.id}:void 0;if(!(g=g||zDs(this)))a:{if(g=this.selection.Kb)switch(g.type){case 4:g=
{sheet:g.container.sheet.config,sheetId:g.container.sheet.id};break a;case 1:if(g.only?.type==="sheet"){g={sheet:g.only.config,sheetId:g.only.id};break a}}g=void 0}if(g){var h="";g.sheetId&&(h=(h=this.KWc.zid().get(g.sheetId))?__c.Wps(h):"");return{sheet:g.sheet,sheetName:h}}}}},XYs=class{constructor(a,b,c,d,e){this.selection=a;this.aic=b;this.pd=c;this.viewport=d;this.KWc=e;this.VMc=()=>{const f=this.selection.Kb;if(f)switch(f.type){case 4:const h=this.aic?.DEa,k=h?.cells;if(k&&h?.sheet){var g=f.container.container.ew(f.container.sheet);
return{type:"item",sheet:h.sheet,aea:k,item:g,page:f.Rz,FE:new Zz(g,this.pd,this.viewport)}}}};this.findSheet=()=>{var f=this.selection.Kb;if(f)switch(f.type){case 4:var g=f.container.sheet.config;f=f.container.sheet.id;f=this.KWc.zid().get(f);return{sheet:g,sheetName:f?__c.Wps(f):void 0};case 1:if(f.only?.type==="sheet")return g=f.only.config,f=f.only.id,f=this.KWc.zid().get(f),{sheet:g,sheetName:f?__c.Wps(f):void 0}}}}};var ZYs=GV(({gIc:a,Aka:b,gIa:c})=>{const {leb:d}=ZCs({onChange:e=>e&&c()});return a?fV(YYs,{ref:d,content:fV(Q,{children:a}),B4r:()=>b(a)}):null}),YYs=rTs(function({content:a,B4r:b},c){return fV(Ko,{Wi:c,onClick:b,ariaLabel:M("ou/phw"),thumbnail:fV(__c.Vu,{children:fV(R,{padding:"2u",borderRadius:"element",children:a})}),Rr:fV(__c.gC,{location:"top-end",children:fV(__c.T6d,{onClick:b,icon:tD,ariaLabel:M("EnJA7g")})}),layout:"vertical",dpb:"thumbnail"})});var $Ys=({y5g:a,G4r:b})=>mV(Qo,{role:"menu",children:[fV(St,{onClick:a,children:mV(br,{spacing:"1u",Fa:"center",children:[fV(tD,{}),fV(Q,{children:M("mMYI6A")})]})}),fV(St,{onClick:b,children:mV(br,{spacing:"1u",Fa:"center",children:[fV(tD,{}),fV(Q,{children:M("P6Z+vg")})]})})]});var aZs=({X_q:a,Ir:b,index:c,Aka:d,gIa:e,Xxl:f,jre:g,ui:h})=>{const k=jV(()=>{d(a.formula,"formula",c);f(c,!1)},[a.formula,c,d,f]),l=jV(()=>{d(a.f0m,"formulaText",c);f(c,!1)},[a.f0m,c,d,f]),{leb:n}=ZCs({onChange:r=>r&&e()}),[p,q]=qV(!1);return fV("div",{onMouseEnter:()=>{q(!0)},onMouseLeave:()=>{q(!1)},ref:n,children:fV(R,{border:"standard",display:"flex",justifyContent:"spaceBetween",alignItems:"start",borderRadius:"element",className:h?null:"YzN_aA",children:fV(Ko,{Rr:fV(__c.gC,{location:"top-end",
children:fV(__c.U6d,{TT:r=>{r&&r.stopPropagation();f(c,!b)},zFa:__c.Io,y3d:fV($Ys,{y5g:k,G4r:l}),isOpen:b})}),content:fV(R,{border:"none",Lb:"2u",Pc:"2u",children:mV(Tc,{spacing:p||h?"1u":"0",children:[mV(Q,{children:[a.ddi.prefix,fV("span",{className:"ZzIDKA",children:a.ddi.Tcn}),a.ddi.suffix]}),fV(__c.Sc,{light:"light",Qm:"light",dark:"light",SK:"light",children:r=>fV(R,{className:DV(r.className,{T7k36g:!h}),background:"page",borderRadius:"baseUnit",children:fV(R,{background:"neutralLow",children:fV(Ko,
{content:fV(Vn,{direction:"horizontal",children:fV(R,{padding:"0.5u",children:fV("div",{className:"HDHnAg",onClick:k,children:fV(g,{formula:a.formula})})})})})})})})]})}),padding:"0",layout:"horizontal",Xm:"card"})})})};var bZs=({aMb:a,Aka:b,ydd:c,jre:d,ui:e})=>{const [f,g]=qV(null),h=jV((k,l)=>{g(l?k:null)},[]);return a&&a.length!==0?fV(Tc,{spacing:"2u",children:a.map((k,l)=>fV(aZs,{X_q:k,Ir:f===l,index:l,Aka:b,Xxl:h,jre:d,ui:e,gIa:()=>c(l)},l))}):null};var cZs={min:1,max:1.64,default:1.64},dZs=({f0p:a,R3p:b,gIa:c})=>b&&b.length!==0?fV("div",{className:"gLfxmA",children:fV(Tc,{spacing:"2u",align:"center",children:b.map((d,e)=>fV(OYs,{N0h:d.description,GOf:d.GOf,Ybe:a?d.Ybe:void 0,t3l:fV(d.pq,{aspectRatio:cZs}),gIa:()=>c(e)},e))})}):null;var eZs=__webpack_require__.p+"images/5d67cfff929a5b190f01798fcfd1dfde.svg";var CDs=({onClose:a,onClick:b})=>fV(R,{paddingBottom:"2u",children:fV(Ko,{layout:"horizontal",title:M("qnlK8Q"),description:M("7wkHMw"),thumbnail:fV(Yu,{borderRadius:"element",src:eZs,objectFit:"contain",height:"8u"}),Rr:fV(__c.gC,{location:"top-end",visibility:"always",children:fV(__c.T6d,{onClick:a,icon:__c.nr,ariaLabel:M("ymQmsA"),variant:"subtleLinkButton",size:"small"})}),padding:"1u",background:"neutralLow",dpb:"card",onClick:b})});var BDs=class{static G(a){O(a,{Rc:iV.bound})}constructor(a,b,c,d,e,f){this.store=a;this.X=b;this.Ra=c;this.Ob=d;this.Aa=e;this.l5d=f;this.$Tq=(BDs.G(this),async()=>{if(zYs.rIq)rV(()=>{this.store.mke=!0});else{var g=await this.Ra.Qja({brand:this.X.Ab.brand.id,user:this.X.user.id,components:[],types:[718],Kmb:[]});rV(()=>{this.store.mke=!__c.OA(718,g.actions)})}});this.Rc=()=>{this.store.mke=!1;this.Ra.Wj(new __c.ht({user:this.X.user.id,types:[718]}))};this.p$r=()=>{this.Rc();this.Aa.track(HYs,{action:"click_learn_and_play",
q_:this.l5d()});__c.pi(this.Ob,{id:zYs.vtn,title:M("qnlK8Q"),extensions:{view:void 0,default:zYs.mLk,Cya:void 0,$tb:zYs.mLk},to:void 0,eb:void 0,revision:void 0,Gc:void 0,oj:[],Bf:void 0})}}};var ADs=class{static G(a){O(a,{mke:zV.ref})}constructor(){this.mke=(ADs.G(this),!1)}};var fZs=class{static G(a){O(a,{QGm:iV})}QGm(a){sa(this.session.document.Ka==="fixed");var b=a.fill,c=a.$q;a=EDs(this,c);if(a!=null){var d=a.page,{za:e,flipY:f,flipX:g,image:h,video:k}=Pn.snapshot(b),l=b.image.ref;l=k?.yb||h?.yb||l&&this.Qa.gp(l.media)?.dimensions;var {width:n,height:p}=m(l);ug(d.dimensions||this.session.document.dimensions)?(l=this.viewport.ey().transform(this.viewport.hm(a)).center(),l=Pj({center:l,width:1080,height:1080})):(l=m(__c.Cbe(d,this.session.document)),l=__c.Bbe(l));var q=
l.center();l=__c.Eme(d,Pj({center:q,width:n,height:p}).c3b(q,l));q=$m(l,{width:n,height:p}).Nb();var r=k?.yb.rotation??h?.yb?.rotation??0;d=d.elements.append({...Rn,...l.Nb(),id:this.kb.Af.generate(),za:e,rotation:g!==f?-r:r,fill:{...ks,dropTarget:!0,flipX:g,flipY:f,image:h&&{...h,za:0,yb:q},video:k&&{...k,za:0,yb:q}}});c.type==="sheet-cell-media"?(b=c.ia,c=c.container,c=c.sheet.layout.cells.get(c.row,c.column)?.ref.content,c?.ref?.type==="media"&&c.ref.value.delete(b)):(b.image.set(void 0),b.video.set(void 0));
this.selection.Jl(a,d)}}constructor(a,b,c,d,e,f,g){this.kb=a;this.Mi=b;this.Ac=c;this.session=d;this.Qa=e;this.viewport=f;this.selection=g;fZs.G(this)}};var hZs=GV(a=>{const {Button:b,active:c,Xf:d,nXc:e,Ds:f,...g}=a,{Icon:h,ib:k,label:l,variant:n="tertiary"}=FDs(e,d,f);return b?fV("div",{className:"Bk3Nug",children:fV(b,{...g,active:c,icon:h,zh:h?"icon":"label",ib:k,variant:n,children:l})}):fV("div",{className:"Bk3Nug",children:fV(gZs,{Icon:h,ib:k,label:l})})}),iZs=GV(a=>{const b=a.Icon;var c=a.ib;a=a.label;const {mode:d}=(0,__c.eb)(__c.rga).data;c=a??c;return fV("div",{children:mV("div",{className:DV("_0Y_1Xw aWBg0w",{_MaqSA:d==="classic"}),"aria-label":c,
children:[b&&fV(b,{size:"medium"}),a&&fV("span",{className:"mfT2KA",children:a})]})})}),gZs=GV(a=>{const b=a.ib;return b?fV(er,{label:b,placement:"bottom",children:fV(iZs,{...a})}):fV(iZs,{...a})}),jZs=GV(()=>fV("div",{className:"iMjRPg aWBg0w",children:fV("span",{className:"oO9YHA",children:M("WfLTdw")})}));var kZs=()=>({Bse:oc()});var lZs=hV(({Bse:a,JKk:b,oa:c,We:d})=>mV("div",{className:DV({QAlW9Q:d==="fixed"}),children:[fV(__c.id,{title:M("foA7WA"),description:b?J("FUGhcw",[__c.yVi(new Date(b),new Date(KDs()))]):void 0,end:d==="fill"?fV(__c.hd,{onClick:c}):void 0}),fV(R,{padding:"2u",children:fV(a,{})})]}));var mZs=class{static G(a){O(a,{KLm:oV})}get nXc(){return this.yqq.get()}get KLm(){if(this.cfa.xP===5)return this.cfa.xP;if(!(this.Pa.mode<=20&&this.T7h)){if(this.Pa.mode===20)return"comment";if(this.Xf===2||this.Pa.mode===10)return"view";if(!this.t6c)return this.mGe?"playground":this.cfa.xP}}constructor(a,b,c,d,e,f){this.cfa=a;this.Xf=b;this.Pa=c;this.mGe=d;this.t6c=e;this.T7h=f;this.yqq=(mZs.G(this),JDs(()=>this.KLm))}};var nZs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v12.25a.75.75 0 0 1-1.5 0v-1.5H10v1.5a.75.75 0 0 1-1.5 0v-1.5h-4v1.5a.75.75 0 0 1-1.5 0V5zm2-.5h14a.5.5 0 0 1 .5.5v3.25h-15V5a.5.5 0 0 1 .5-.5zm-.5 9.75v-4.5h4v4.5h-4zm15 0v-4.5h-4v4.5h4zm-5.5 0h-4v-4.5h4v4.5z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15.427 16.97a.75.75 0 0 0 0 1.06l1.97 1.97-1.97 1.97a.75.75 0 1 0 1.06 1.06l2.146-2.145a1.253 1.253 0 0 0 0-1.77l-2.146-2.145a.75.75 0 0 0-1.06 0z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15.427 16.97a.75.75 0 0 0 0 1.06l1.97 1.97-1.97 1.97a.75.75 0 1 0 1.06 1.06l2.146-2.145a1.253 1.253 0 0 0 0-1.77l-2.146-2.145a.75.75 0 0 0-1.06 0z" fill="currentColor"/><path d="M5.207 19.25h12.5a.75.75 0 0 1 0 1.5h-12.5a.75.75 0 0 1 0-1.5z" fill="currentColor"/></svg>';var oZs=Uq({medium:nZs});var pZs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v12.25a.75.75 0 0 1-1.5 0v-1.5h-4v1.5a.75.75 0 0 1-1.5 0v-1.5H4.5v1.5a.75.75 0 0 1-1.5 0V5zm2-.5h14a.5.5 0 0 1 .5.5v3.25h-15V5a.5.5 0 0 1 .5-.5zm-.5 9.75v-4.5h4v4.5h-4zm15 0v-4.5h-4v4.5h4zm-5.5 0h-4v-4.5h4v4.5z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.03 16.97a.75.75 0 0 1 0 1.06L6.06 20l1.97 1.97a.75.75 0 1 1-1.06 1.06l-2.146-2.145a1.255 1.255 0 0 1-.272-1.364 1.25 1.25 0 0 1 .272-.406L6.97 16.97a.75.75 0 0 1 1.06 0zm-2.146 2.853z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.03 16.97a.75.75 0 0 1 0 1.06L6.06 20l1.97 1.97a.75.75 0 1 1-1.06 1.06l-2.146-2.145a1.255 1.255 0 0 1-.272-1.364 1.25 1.25 0 0 1 .272-.406L6.97 16.97a.75.75 0 0 1 1.06 0zm-2.146 2.853z" fill="currentColor"/><path d="M18.25 19.25H5.75a.75.75 0 0 0 0 1.5h12.5a.75.75 0 0 0 0-1.5z" fill="currentColor"/></svg>';var qZs=Uq({medium:pZs});var rZs=class{},sZs=class extends rZs{static G(a){O(a,{zce:iV.bound})}zce(){const a=this.store.KIc;if(a)switch(a.type){case "page":var b=NDs(a.page.sheet);this.Maj(a.page.sheet,b);break;case "element":switch(a.element.type){case "table":b=MDs(a.element);this.XVl(a.element,b);break;case "sheet":b=NDs(a.element.config);this.Maj(a.element.config,b);break;case "layout":b=ODs(a.element);this.iVl(a.element,b);break;default:throw new u(a.element);}break;default:throw new u(a);}}XVl(a,b){const c=b===2?"rtl":
void 0;a.cells.forEach(d=>{d=d.content;d.text.Ya.trim().length||d.text.SWa("direction",c)})}Maj(a,b){const c=b==="rtl"?"rtl":void 0;a.layout.rows.forEach(d=>{a.layout.cols.forEach(e=>{const f=a.layout.cells.get(d,e);f==null||f.span.$b!==d||f.span.ec!==e||f.ref.content.ref==null||f.ref.content.ref.type!=="text2"||f.ref.content.ref.value.Ya.trim().length||f.ref.content.ref.value.SWa("direction",c)})})}iVl(a,b){a.direction=b??1}constructor(a){super();this.store=a;sZs.G(this)}},tZs=class extends rZs{static G(a){O(a,
{zce:iV.bound})}zce(){const a=this.store.KIc;if(a)switch(a.item.type){case "table":var b=MDs(a.item);this.XVl(a.item,b);break;case "sheet":b=NDs(a.item.config);this.Maj(a.item.config,b);break;case "layout":b=ODs(a.item);this.iVl(a.item,b);break;default:throw new u(a.item);}}XVl(a,b){const c=b===2?"rtl":void 0;a.cells.forEach(d=>{d=d.content;d.text.isEmpty&&__c.zef(this.Za,[d.text],{direction:c})})}Maj(a,b){const c=b==="rtl"?"rtl":void 0;a.layout.rows.forEach(d=>{a.layout.cols.forEach(e=>{const f=
a.layout.cells.get(d,e);f==null||f.span.$b!==d||f.span.ec!==e||f.ref.content.ref==null||f.ref.content.ref.type!=="text3"||f.ref.content.ref.value.isEmpty||__c.zef(this.Za,[f.ref.content.ref.value],{direction:c})})})}iVl(a,b){const c=b===2?"rtl":void 0;a.cells.forEach(d=>{d.text.isEmpty&&__c.zef(this.Za,[d.text],{direction:c})})}constructor(a,b){super();this.store=a;this.Za=b;tZs.G(this)}},uZs=class extends rZs{static G(a){O(a,{zce:iV.bound})}zce(){this.selection.Ma?this.fixed.zce():this.selection.Kb&&
this.lk.zce()}constructor(a,b,c){super();this.selection=a;this.fixed=b;this.lk=c;uZs.G(this)}};var vZs=class{static G(a){O(a,{Vdb:oV})}get Vdb(){return!!this.direction}constructor(a){this.V1a=a;vZs.G(this)}},wZs=class extends vZs{static G(a){O(a,{KIc:oV,direction:oV})}get KIc(){const a=this.selection.Ma;if(a&&a.Ri())switch(a.type){case "pages":if(a.inner){var b=a.inner.type;switch(b){case "sheet":case "sheet-cell-media":return this.Nwf?{type:"page",page:a.inner.page}:void 0;case "background":case "pages":return;default:throw new u(b);}}break;case "elements":if(a.Pd)switch(b=a.Pd.type,b){case "table":case "layout":return{type:"element",
element:a.Pd};case "sheet":return this.Nwf?{type:"element",element:a.Pd}:void 0;case "group":case "controlled":case "chart":case "grid":case "line":case "rect":case "shape":case "text":case "embed":return;default:throw new u(b);}if(a.inner)switch(b=a.inner.type,b){case "table":return{type:"element",element:a.inner.table};case "sheet":case "sheet-cell-media":return this.Nwf?{type:"element",element:a.inner.sheet}:void 0;case "layout":case "layout-cell":return{type:"element",element:a.inner.container.layout};
case "group":case "grid":case "shape":return;default:throw new u(b);}break;case "audio":break;default:throw new u(a);}}get direction(){const a=this.KIc;if(a)switch(a.type){case "element":switch(a.element.type){case "table":return QDs(this,a.element.layout);case "sheet":return SDs(this,a.element.config);case "layout":return UDs(this,a.element);default:throw new u(a.element);}case "page":return SDs(this,a.page.sheet);default:throw new u(a);}}constructor(a,b,c){super(c);this.selection=a;this.Nwf=b;wZs.G(this)}},
xZs=class extends vZs{static G(a){O(a,{KIc:oV,direction:oV})}get KIc(){const a=this.selection.Kb;if(!(this.Pa.mode<40)&&a)switch(a.type){case 0:switch(a.container.type){case "table-item-cell":return{type:"item",item:a.container.table};case "sheet-item-cell-richtext":return{type:"item",item:a.container.container.Kqa};case "layout-item-cell":return{type:"item",item:a.container.layout};case "body":case "responsive-page":return;default:throw new u(a.container);}case 1:const b=a.only?.type;if(!b)break;
switch(b){case "table":case "layout":return{type:"item",item:a.only};case "sheet":return this.Nwf?{type:"item",item:a.only}:void 0;case "controlled":case "chart":case "pill":case "break":case "separator":case "design":case "embed":case "rect":case "shape":return;default:throw new u(b);}case 2:return{type:"item",item:a.container.table};case 4:case 5:return this.Nwf?{type:"item",item:a.type===4?a.container.sheet:a.container.Kqa}:void 0;case 3:return{type:"item",item:a.container.layout};default:throw new u(a);
}}get direction(){const a=this.KIc;if(a)switch(a.item.type){case "table":return QDs(this,a.item.layout);case "sheet":return SDs(this,a.item.config);case "layout":return UDs(this,a.item);default:throw new u(a.item);}}constructor(a,b,c,d){super(d);this.Pa=a;this.selection=b;this.Nwf=c;xZs.G(this)}},yZs=class extends vZs{static G(a){O(a,{KIc:oV,direction:oV})}get KIc(){if(this.selection.Ma)return this.fixed.KIc;if(this.selection.Kb)return this.lk.KIc}get direction(){if(this.selection.Ma)return this.fixed.direction;
if(this.selection.Kb)return this.lk.direction}constructor(a,b,c,d){super(d);this.selection=a;this.fixed=b;this.lk=c;yZs.G(this)}},PDs={[1]:"ltr",[2]:"rtl"},RDs={ltr:"ltr",rtl:"rtl"},TDs={[1]:"ltr",[2]:"rtl"};var zZs={table:M("dFZ7Mg"),sheet:M("QtNYag"),layout:M("TJwZxw")};var AZs,BZs,CZs,DZs;
new (AZs=class extends JV{constructor(){super(DZs);BZs()}},(()=>{class a extends(CZs=IV){static G(b){O(b,{hKo:oV})}render(){const b=this.props.page.page,c=this.props.Tc,d=this.props.hb,e=this.props.L;if(b!==e.ya||!e.lines.length)return null;const f=this.hKo,g=m(e.eHl).transform(f),h=m(e.X5).transform(f),k=d.kl(b).units;return mV("div",{className:"_70bAIQ",children:[fV("div",{className:"HOF9xQ",style:g.Nb()}),fV("div",{className:"HOF9xQ",style:h.Nb()}),e.lines.map((l,n)=>{let p;switch(k){case 4:p=
Math.round(l.length);break;case 2:p=parseFloat((l.length/Bv(k)).toFixed(3));break;default:p=parseFloat((l.length/Bv(k)).toFixed(1))}if(p===0)return null;var q=f.transformPoint(l.start);const r=l.length*c.scale,t=l.type==="primary"?"SaAMnQ":"FVN8Cg";q={top:q.y,left:q.x};let v;switch(l.dir){case "horizontal":v="gUGHVQ";q.width=r;break;case "vertical":v="_8cXdSA";q.height=r;break;default:throw new u(l.dir);}return fV("div",{className:DV("AwVwHw",t,v),style:q,children:l.type==="primary"&&fV("div",{className:"xPdc6w nbfwjw",
children:J("G2Se2A",[p])})},n)})]})}get hKo(){return Fj(this.props.Tc.scale)}constructor(...b){super(...b);a.G(this)}}({c:[DZs,BZs]}=KV(a,[],[Lb],CZs))})(),AZs);var EZs=class{static G(a){O(a,{lines:oV.struct,eHl:oV.struct,X5:oV.struct,tWi:oV})}get ya(){const a=this.tWi;return a&&a.page}get lines(){if(!this.GZs.get())return[];var a=this.eHl,b=this.X5;if(!a||!b||a.equals(b))return[];var c=Rj(a,b);if(c){var d=Sj(0,[a,b]);b=c.t;a=c.r;var e=c.b;c=c.Ub;var f=d.tl;d=d.br;const n=[],p=(q,r,t)=>{Math.round(t)!==0&&n.push(VDs(q,r,t,"primary"))};p("vertical",b,f.y-b.y);p("vertical",e,d.y-e.y);p("horizontal",c,f.x-c.x);p("horizontal",a,d.x-a.x);return n}e=[];c=a.t;f=
a.r;d=a.b;a=a.Ub;const [g,h,k,l]=b.Ah();l.y<c.y?(e.push(VDs("vertical",c,l.y-c.y,"primary")),k.x>c.x?e.push(VDs("horizontal",k,c.x-k.x,"secondary")):l.x<c.x&&e.push(VDs("horizontal",l,c.x-l.x,"secondary"))):g.y>d.y&&(e.push(VDs("vertical",d,g.y-d.y,"primary")),g.x>d.x?e.push(VDs("horizontal",g,d.x-g.x,"secondary")):h.x<d.x&&e.push(VDs("horizontal",h,d.x-h.x,"secondary")));l.x<a.x?(e.push(VDs("horizontal",a,l.x-a.x,"primary")),h.y>a.y?e.push(VDs("vertical",h,a.y-h.y,"secondary")):l.y<a.y&&e.push(VDs("vertical",
l,a.y-l.y,"secondary"))):g.x>f.x&&(e.push(VDs("horizontal",f,g.x-f.x,"primary")),g.y>f.y?e.push(VDs("vertical",g,f.y-g.y,"secondary")):k.y<f.y&&e.push(VDs("vertical",k,f.y-k.y,"secondary")));return e}get eHl(){var a=this.HH.Xxb;if(a)return Sj(0,a.from.map(Oj));if((a=this.tWi)&&a.selection.box){var b=Nj(a.selection.box);return a.$za?Rj(b,a.$za):b}}get X5(){var a=this.HH.Xxb;if(a)return Sj(0,a.to.map(Oj));var b=this.tWi;if(b){a=b.$za;var c=this.pT.kbb;if(c&&c.type!=="item"&&c.type!=="sheet-item-cell"){if(!c.page)return a;
if(c.page===b.page){if(!c.element)return a;b=Nj(Oj(c.element));return a?Rj(b,a):b}}}}get tWi(){const a=this.selection.Ma;if(a&&a.type==="elements"){var b=a.container;if(b){b=b.page;var c=this.hb.kl(b);if(!ug(c)){const {width:e,height:f}=sg(4,c);var d=Lj(0,0,e,f)}return{selection:a,page:b,$za:d}}}}constructor(a,b,c,d,e){this.hb=a;this.selection=b;this.HH=c;this.GZs=d;this.pT=e;EZs.G(this)}};var FZs=GV(a=>{const b=a.Lj;return mV("div",{children:[fV(a.yi,{className:"OF7TTQ",pressed:a.open,zh:"label",icon:__c.f6g,onClick:a.onClick,children:M("09kiuA")}),b&&fV(b,{})]})}),GZs=GV(({We:a,f1g:b,b7r:c,c7r:d})=>{a=DV("MK0pAg",{DyWS_g:a==="fixed",JPaDJw:b==="horizontal"});return mV(Qo,{role:"list",direction:b??"vertical",variant:b==="horizontal"?"rounded":"regular",className:a,children:[fV(St,{className:DV("kpJ30w",{tS8VHQ:b==="horizontal"}),onClick:c,start:fV(__c.d6g,{size:"medium"}),children:M("+k16yw")}),
fV(St,{className:DV("phOkGA",{tS8VHQ:b==="horizontal"}),onClick:d,start:fV(__c.f6g,{size:"medium"}),children:M("d1wsgA")})]})});var HZs=class{static G(a){O(a,{r8c:oV})}get r8c(){const a=this.w3m();return a?.every(b=>!!Aqs(this.tyd,b))?a:void 0}w3d(a){a.map(b=>Aqs(this.tyd,b)).filter(sb).forEach(b=>{b=b.ugr;b.set(!b.get())});this.Mgb.DYh();this.iOk("horizontal",a)}x3d(a){a.map(b=>Aqs(this.tyd,b)).filter(sb).forEach(b=>{b=b.Art;b.set(!b.get())});this.Mgb.DYh();this.iOk("vertical",a)}constructor(a,b,c){this.Mgb=a;this.tyd=b;this.Qa=c;HZs.G(this)}},IZs=class extends HZs{w3m(){const a=this.selection.Ma;if(a&&a.Ri(Ol.Sw))switch(a.type){case "audio":break;
case "pages":switch(a.inner?.type){case "background":return a.inner.container.type!=="fixed-page"?void 0:[a.inner.container.KL(a.inner.Hc[0])];case "sheet-cell-media":const d=a.inner.container;return a.inner.media.map(f=>d.Gva(f).KL(f.fill));case "sheet":var b=a.inner.page,c=a.inner.cells;const e=[];for(const f of c){c=b.sheet.layout.cells.get(f.row,f.column);if(c?.ref.content.ref?.type!=="media")return;c.ref.content.ref.value.forEach(g=>{ra(a.inner?.type==="sheet");g=a.inner.container.XZ(f.column,
f.row).Gva(g).KL(g.fill);e.push(g)})}return e.length?e:void 0;default:return}case "elements":if(a.elements.length===0)break;switch(a.inner?.type){case void 0:b=a.elements;break;case "group":b=a.inner.Pd?[a.inner.Pd]:a.inner.pb;break;case "table":return;case "grid":b=a.inner.Pd;if(!b)return;c=b.fill;return[a.inner.container.Hac(b).KL(c)];case "shape":b=a.inner.Pd;if(!b)return;c=b.fill;return[a.inner.container.Jac(b).KL(c)];case "sheet-cell-media":const d=a.inner.container;return a.inner.media.map(f=>
d.Gva(f).KL(f.fill));case "sheet":b=a.inner.sheet;c=a.inner.cells;const e=[];for(const f of c){c=b.config.layout.cells.get(f.row,f.column);if(c?.ref.content.ref?.type!=="media")return;c.ref.content.ref.value.forEach(g=>{ra(a.inner?.type==="sheet");g=a.inner.container.XZ(f.column,f.row).Gva(g).KL(g.fill);e.push(g)})}return e.length?e:void 0;case "layout":case "layout-cell":return __c.oo("FillPresenter");default:throw new u(a.inner);}b=b.flatMap(d=>{var {container:e}=m(a);d=e.Me(d);switch(d.type){case "rect-element":return d.KL(d.ia.fill);
case "shape-element":if(e=d.ia.paths.filter(f=>!!f.fill.dropTarget),e.length===1)return e=m(e[0]),d.Jac(e).KL(e.fill)}});return b.every(sb)?b:void 0;default:throw new u(a);}}iOk(a,b){var {Rz:c}=m(this.selection.Ma);this.N&&c&&(c.type==="fixed-page"?c=c.page.elements.count():(ra(c.type==="concatenated-fixed-page"),c=c.pages.reduce((d,e)=>e.elements.count()+d,0)),b=b.map(({ia:d})=>WDs(d)),this.N.track(WSs,{direction:a,mediaId:"",dL:b.map(d=>d.mediaId),YE:"",qMf:b.map(d=>d.YE),eF:c,Bq:0,ss:0,rz:0}))}Ruc(a,
b){var {Rz:c}=m(this.selection.Ma);this.N&&c&&(c.type==="fixed-page"?c=c.page.elements.count():(ra(c.type==="concatenated-fixed-page"),c=c.pages.reduce((d,e)=>e.elements.count()+d,0)),b=b.map(({ia:d})=>WDs(d)),this.N.track(__c.thf,{menu:a,mediaId:"",dL:b.map(d=>d.mediaId),YE:"",qMf:b.map(d=>d.YE),eF:c,Bq:0,ss:0,rz:0}))}constructor(a,b,c,d,e){super(a,b,c);this.N=d;this.selection=e}},JZs=class extends HZs{w3m(){if(!(this.Pa.mode<40)){var a=this.selection.Kb;if(a)switch(a.type){case 1:if(!a.only)break;
switch(a.only.type){case "rect":var b=a.only;if(a.container.type==="responsive-page"||a.container.type==="body")return[a.container.ew(b).KL(b.fill)];return;case "shape":return __c.Jfe("ResponsiveFillPresenter::getFlippableFills");case "break":switch(a.only.marker.Pg.ref?.type){case "rect":b=a.only;var c=a.only.marker.Pg.ref;if(a.container.type==="responsive-page"||a.container.type==="body")return[__c.Tra(a.container.ew(b),b.marker).ew(c).KL(c.fill)]}break;case "controlled":case "separator":case "embed":case "pill":case "chart":case "design":case "layout":case "table":case "sheet":break;
default:throw new u(a.only);}break;case 5:return b=a.media.map(f=>a.container.Gva(f).KL(f.fill)).filter(sb),b.length?b:void 0;case 4:b=a.container;var d=a.cells;const e=[];for(c of d){const f=b.XZ(c.column,c.row);d=f.content;if(d?.type!=="media")return;d.value.forEach(g=>{const h=f.Gva(g);e.push(h.KL(g.fill))})}return e.length?e:void 0;case 0:case 2:case 3:break;default:throw new u(a);}}}iOk(a,b){this.N&&(b=b.map(({ia:c})=>WDs(c)),this.N.track(WSs,{direction:a,mediaId:"",dL:b.map(c=>c.mediaId),YE:"",
qMf:b.map(c=>c.YE),rz:0,Bq:0,ss:0,eF:0}))}Ruc(a,b){this.N&&(b=b.map(({ia:c})=>WDs(c)),this.N.track(__c.thf,{menu:a,mediaId:"",dL:b.map(c=>c.mediaId),YE:"",qMf:b.map(c=>c.YE),rz:0,Bq:0,ss:0,eF:0}))}constructor(a,b,c,d,e,f){super(a,b,c);this.N=d;this.Pa=e;this.selection=f}},KZs=class{Su(){return this.selection.Ma!==void 0?this.fixed:this.lk}w3d(a){this.Su().w3d(a)}x3d(a){this.Su().x3d(a)}get r8c(){return this.Su().r8c}Ruc(a,b){return this.Su().Ruc(a,b)}constructor(a,b,c){this.selection=a;this.fixed=
b;this.lk=c}};var LZs=parseInt("32px",10)||32,MZs=LZs+(parseInt("8px",10)||8)*2-30,NZs=({z5o:a})=>mV(uV,{children:[fV("div",{className:"qfxQmA",children:fV(a,{direction:"top"})}),fV("div",{className:"UAATYw",children:fV(a,{direction:"bottom"})}),fV("div",{className:"PZ5MoA",children:fV(a,{direction:"left"})}),fV("div",{className:"hmZ7Ig",children:fV(a,{direction:"right"})})]});var OZs,PZs,RZs=class extends IV{componentDidMount(){Gb(this,this.props.$H.track(()=>[this.props.Yzd.ia,0]))}render(){return fV("div",{style:{opacity:.25},children:this.props.Yzd.ia.elements.map((a,b)=>fV(this.zup,{element:a},b))})}constructor(...a){super(...a);this.Eob=oV(()=>this.props.Tc.scale);this.zup=({element:b})=>{if(b.za===1)return null;const c=this.props.UB,d=this.props.Tc,e=this.props.ue,f=this.props.Yzd;switch(b.type){case "shape":return fV(__c.cn,{config:c,page:f,Tc:d,element:f.Me(b),
gd:this.Eob});case "line":return fV(QZs,{ue:e,Tc:d,element:f.Me(b)});default:return null}}}};({c:[PZs,OZs]}=KV(RZs,[],[Lb],IV));OZs();
var QZs=hV(a=>{const b=a.ue,c=a.Tc;a=a.element;const d=a.ia,{Lpc:e}=new __c.Jn(b,d);return fV("div",{className:"mnBDoQ",style:{width:e.width,height:e.height,transform:`scale(${c.scale}) translate(${d.geometry.ref?d.left:e.left}px, ${d.geometry.ref?d.top:e.top}px)`},children:fV("div",{style:{width:"100%",height:"100%",transform:`rotate(${e.rotation}deg)`},children:fV(__c.vYd,{element:a,ue:b})})})});var SZs={eventType:"editor_connect_clicked",Oa(a){return jf({resource_hash:a.uhe,side:a.side,control_context:a.mb,num_positions_checked:a.sOb,did_find_position:a.bpc,editing_context:a.Ca==null?void 0:mf(a.Ca),performance_context:a.Tb==null?void 0:pf(a.Tb)})}},TZs={eventType:"editor_connect_previewed",Oa(a){return jf({resource_hash:a.uhe,side:a.side,num_positions_checked:a.sOb,did_find_position:a.bpc,editing_context:a.Ca==null?void 0:mf(a.Ca),performance_context:a.Tb==null?void 0:pf(a.Tb)})}},UZs=
{eventType:"editor_connect_toggled",Oa(a){return jf({action:a.action,editing_context:a.Ca==null?void 0:mf(a.Ca),control_context:a.mb,performance_context:a.Tb==null?void 0:pf(a.Tb)})}};var fEs={start:{...__c.RYc},end:{...__c.RYc,marker:2},weight:4,color:"#acb8c0"};var VZs=class extends __c.Etf{zxm(a){const b=a.target,c=a.dragEnd,d=a.Zfa;a=a.anchorPoint;const e=m(this.store.Yzd),f=m(this.store.zMe),g=m(this.store.ECf),h=f.za;this.p8n=()=>{this.p8n=void 0;f.za=h};f.za=1;g.za=0;this.m6i=e.ia.elements.append({...$r.snapshot(b.element),za:1});this.connections.connect(c,this.m6i,{Zfa:d,anchorPoint:a});this.Wk?.tO?.(new __c.vsd({style:1}));this.store.connectTarget={target:b,Zfa:d,anchorPoint:a}}vxg(a){const b=m(this.store.Yzd),c=m(this.store.zMe),d=m(this.store.ECf);
this.p8n?.();Wj(c)&&(d.za=1);this.connections.connect(a,c,{Zfa:1,anchorPoint:bEs($Ds(this.mbr))});this.m6i&&b.ia.elements.delete(this.m6i);this.m6i=void 0;this.store.connectTarget=void 0}KIj(a,b,c){return super.KIj(a,b,c)&&c!==this.a3s}constructor(a,b,c,d,e,f,g){super(void 0,a,b,c);this.store=d;this.mbr=e;this.a3s=f;this.Wk=g}};var WZs=class{static G(a){O(a,{jMn:iV,nMn:iV,oMn:iV.bound,mMn:iV,lMn:iV,kMn:iV,bRn:iV.bound,dRn:iV.bound,cRn:iV.bound})}jMn(a,b,c){const d=b.page,e=this.V.wb("connect_new_shape",{Hb:{name:"editor.connect_new_shape"}});gEs(this);this.Wk?.tO?.(new ap);const {xWr:f,sOb:g,bpc:h}=mEs(this,a,d,c),k=d.elements.append(f);this.Jdb.b0g(k);eFd(a)&&cEs(d,a,k,c,this.JZ,this.ue,this.kb,1);b=this.selection.Jl(b,k);this.mc.fBa(b,"all");const l={uhe:__c.lfe(a.paths.map(n=>n.d),a.paths.some(n=>!!n.qb)),side:c,mb:"click",
sOb:g,bpc:h};e.ob().wk(({Oi:n})=>{this.P.track(SZs,{...l,Tb:n()})});e.qe()}nMn(a,b,c){const d=b.page;this.LSf&&clearTimeout(this.LSf);this.LSf=window.setTimeout(iV(()=>{this.LSf=void 0;if(!this.store.isDragging){this.store.bph=!0;var e=this.Gj.cXc,f=hEs(iEs(c),a.rotation),g=jEs(d,a),{position:h,sOb:k,bpc:l}=kEs(a,f,g,e,sg(4,d.dimensions||this.document.dimensions));e=this.V.wb("connect_preview_shape",{Hb:{name:"editor.connect_preview_shape"}});nEs(this,a,d,c,h);var n={uhe:__c.lfe(a.paths.map(p=>p.d),
a.paths.some(p=>!!p.qb)),side:c,sOb:k,bpc:l};e.ob().wk(({Oi:p})=>{this.P.track(TZs,{...n,Tb:p()})});e.qe()}}),150)}oMn(){this.store.isDragging||gEs(this)}mMn(a,b,c,d){const e=b.page;this.Ih.SL(f=>{this.Kia=f;this.Wk?.tO?.(new ap);this.store.isDragging=!0;this.store.bph=!0;document.body.classList.toggle("_1Nlzlw",!0);f=this.viewport.hm(b).transform(d.x,d.y);this.from=f=pEs(f,a,c);const {zMe:g,ECf:h,E2i:k}=nEs(this,a,e,c,f);this.store.zMe=g;this.store.ECf=h;this.store.E2i=k;this.Fne=this.Wr.W3a([g]);
this.yXh=(new VZs(this.JZ,m(this.r6m),this.Gj,this.store,c,a,this.Wk)).tUj(e,h);this.yXh.onDragStart("right",{metaKey:!1,ctrlKey:!1,shiftKey:!1});oEs(this,a)})}lMn(a,b,c,d){const e=b.page;b=this.viewport.hm(b).transform(d.x,d.y);c=pEs(b,a,c);b=m(this.Fne);d=m(this.from);b.translate(c.x-d.x,c.y-d.y);this.yXh?.pe();this.store.E_i=!sEs(c,a,sg(4,e.dimensions||this.document.dimensions))}kMn(a,b,c,d){const e=this.store.connectTarget?"drag_connect":"drag_shape";var f=this.store.connectTarget?"connect_drag_connect":
"connect_drag_shape";f=this.V.wb(f,{Hb:{name:`editor.${f}`}});const g=b.page;d=this.viewport.hm(b).transform(d.x,d.y);d=pEs(d,a,c);const h=sg(4,g.dimensions||this.document.dimensions);this.store.connectTarget?cEs(g,a,this.store.connectTarget.target.element,c,this.JZ,this.ue,this.kb,this.store.connectTarget.Zfa,{ISm:this.store.connectTarget.anchorPoint}):sEs(d,a,h)&&(d=lEs(a,d,this.vpb),d=g.elements.append(d),this.Jdb.b0g(d),eFd(a)&&cEs(g,a,d,c,this.JZ,this.ue,this.kb,1),b=this.selection.Jl(b,d),this.mc.fBa(b,
"all"));gEs(this);const k={uhe:__c.lfe(a.paths.map(l=>l.d),a.paths.some(l=>!!l.qb)),side:c,mb:e,sOb:0,bpc:!1};f.ob().wk(({Oi:l})=>{this.P.track(SZs,{...k,Tb:l()})});f.qe()}bRn(){const a=this.V.wb("quick_flow_context_menu_clicked",{Hb:{name:"editor.quick_flow_context_menu_clicked"}});this.store.Lid=!this.store.Kid;const b={action:this.store.Lid?"enabled":"disabled",mb:"context_menu"};a.ob().setAttributes(new Map([["action",b.action]]));a.ob().wk(({Oi:c})=>{this.P.track(UZs,{...b,Tb:c()})});a.qe()}dRn(){const a=
this.V.wb("quick_flow_toolbar_button_clicked",{Hb:{name:"editor.quick_flow_toolbar_button_clicked"}});this.store.Lid=!this.store.Kid;const b={action:this.store.Lid?"enabled":"disabled",mb:"floating_toolbar"};a.ob().setAttributes(new Map([["action",b.action]]));a.ob().wk(({Oi:c})=>{this.P.track(UZs,{...b,Tb:c()})});a.qe()}cRn(){const a=this.V.wb("quick_flow_toolbar_clicked",{Hb:{name:"editor.quick_flow_toolbar_clicked"}});this.store.Lid=!1;a.ob().wk(({Oi:b})=>{this.P.track(UZs,{action:"disabled",mb:"floating_toolbar",
Tb:b()})});a.qe()}constructor(a,b,c,d,e,f,g,h,k,l,n,p,q,r,t,v,w){this.store=a;this.document=b;this.kb=c;this.vpb=d;this.viewport=e;this.selection=f;this.Wr=g;this.Jdb=h;this.JZ=k;this.ue=l;this.mc=n;this.Ih=p;this.Gj=q;this.V=r;this.P=t;this.Wk=v;this.r6m=w;this.Kia=(WZs.G(this),void 0)}};var XZs=class{static G(a){O(a,{Lid:zV.ref,DCf:zV.ref,E_i:zV.ref,bph:zV.ref,isDragging:zV.ref,connectTarget:zV.ref,E2i:zV.ref,zMe:zV.ref,ECf:zV.ref,$Gf:oV,Yzd:oV,tTh:oV,Kid:oV})}get $Gf(){return!bk(this.viewport.Vg.page,this.document.dimensions)}get Yzd(){if(this.DCf){var a=zf(this.DCf),b=this.DCf.pages.first();if(b&&b.type==="fixed")return a.xb(b)}}get tTh(){const a=this.selection.Ma;return!!a&&a.type==="elements"&&!!a.Pd&&a.Pd.type==="shape"&&(eFd(a.Pd)||Wj(a.Pd))&&a.Ri()}get Kid(){return!this.tTh||
this.mc.state?.type==="focused"&&this.la.layout===2||this.selection.Ma?.box&&(this.selection.Ma.box.width*this.viewport.zoom.scale<LZs||this.selection.Ma.box.height*this.viewport.zoom.scale<LZs)?!1:this.Lid!=null?this.Lid:this.$Gf}constructor(a,b,c,d,e,f,g){this.document=a;this.viewport=b;this.selection=c;this.mc=d;this.la=e;this.Lid=(XZs.G(this),void 0);this.isDragging=this.bph=this.E_i=!1;rV(()=>{this.Lid=f});this.DCf=g}};var YZs={eventType:"editor_element_grouping_changed",Oa(a){return jf({selected_element_types:a.LIa,action:a.action,control_context:a.mb,design_id:a.designId,doctype_id:a.Ea,category_id:a.eb,page_width:a.Bq,page_height:a.ss,num_pages_in_document:a.rz,num_elements_in_page:a.eF,page_index:a.Yb,editing_context:a.Ca==null?void 0:mf(a.Ca),performance_context:a.Tb==null?void 0:pf(a.Tb)})}};var ZZs=class{static G(a){O(a,{$Mg:iV.bound,Syh:iV.bound})}$Mg(a){const b=this.V.wb("elements_grouped",{Hb:{name:"editor.elements_grouped"}});var c=this.store.Hsk;if(c){var d=c.group();if(d)return c=d.ia,d=this.selection.Jl(d.container,c),this.P&&b&&(c=c.pb.map(e=>e.type),Uo({ob:b.ob(),P:this.P,event:YZs,props:{mb:a,action:"group",LIa:c,eF:0,Bq:0,ss:0,rz:0}}),b.qe()),d}}Syh(a){const b=this.V.wb("elements_ungrouped",{Hb:{name:"editor.elements_ungrouped"}});var c=this.store.DTl;if(c){var d=c.rotation,
{elements:e,container:f}=c.Tlt.FQd();c=this.selection.Jl(f,...e);c.rotation=d;this.P&&b&&(d=e.map(g=>g.type),Uo({ob:b.ob(),P:this.P,event:YZs,props:{mb:a,action:"ungroup",LIa:d,eF:0,Bq:0,ss:0,rz:0}}),b.qe());return c}}constructor(a,b,c,d){this.store=a;this.selection=b;this.V=c;this.P=d;ZZs.G(this)}};var $Zs=class{static G(a){O(a,{eXd:oV,lXd:oV,Hsk:oV,DTl:oV})}get eXd(){return!!this.Hsk}get lXd(){return!!this.DTl}get Hsk(){var a=this.selection.Ma;if(a&&a.type==="elements"&&a.Ri()){var b=a.container,c=a.rotation;a=a.elements.map(d=>b.Me(d));return __c.nqf(this.c_a,a,c)}}get DTl(){var a=this.selection.Ma;if(a&&a.type==="elements"&&a.Ri()&&this.mc.state?.type!=="focused"){var b=a.container,c=a.rotation;a=a.elements.map(d=>b.Me(d));return(a=__c.oqf(this.c_a,a))?{Tlt:a,rotation:c}:void 0}}constructor(a,
b,c){this.selection=a;this.c_a=b;this.mc=c;$Zs.G(this)}};var a_s=Pk("g"),b_s=Pk(Oo("g")),c_s=GV(a=>{const {yi:b,...c}=a;return fV(b,{...c,zh:"label",icon:JIn,children:M("nW6zQA")})}),d_s=GV(a=>{const {yi:b,...c}=a;return fV(b,{...c,zh:"label",icon:__c.fB,children:M("YyQiPQ")})}),e_s=GV(a=>{const {rl:b,...c}=a;return fV(b,{...c,Icon:JIn,label:M("bUJF+g"),Dm:a_s})}),f_s=GV(a=>{const {rl:b,...c}=a;return fV(b,{...c,Icon:__c.fB,label:M("BK2j6g"),Dm:b_s})});var g_s=class{static G(a){O(a,{Q7m:oV,z2c:oV})}get Q7m(){return this.store.enabled}get z2c(){return this.store.z2c}pe(a){this.L.pe(a)}onDragEnd(){this.L.onDragEnd()}ux(a){this.L.ux(a)}$af(a){this.L.$af(a)}constructor(a,b){this.store=a;this.L=b;g_s.G(this)}};var h_s=GV(a=>fV(a.rl,{label:M("PgMJpw"),Icon:__c.vdr})),i_s=GV(a=>{const b=a.tF,c=a.VBa,d=a.onClick;a=a.We;const e=jV(()=>{c?.();d?.()},[c,d]);return fV(b,{onClick:e,Rkc:a==="fill"?mr:void 0,children:M("YPUigA")})}),j_s=GV(a=>{const b=a.rl,c=a.oa,d=a.coordinates,e=a.onClick;a=jV(()=>e(d),[e,d]);return fV(b,{label:M("c80IQw"),Icon:__c.rdr,onClick:a,oa:c})}),k_s=GV(a=>{const b=a.rl,c=a.coordinates,d=a.oa,e=a.onClick;a=jV(()=>e(c),[e,c]);return fV(b,{label:M("3d4gCQ"),Icon:__c.DXr,onClick:a,oa:d})}),
l_s=GV(a=>{const b=a.rl,c=a.coordinates,d=a.oa,e=a.onClick;a=jV(()=>e(c),[e,c]);return fV(b,{label:M("llxXHA"),Icon:__c.tdr,onClick:a,oa:d})}),m_s=class extends IV{static G(a){O(a,{onClick:iV.bound})}onClick(){this.props.onClick()}render(){const a=this.props.oa,b=this.props.locked;return fV(this.props.rl,{label:b?M("oeLIAg"):M("ON7FDg"),Icon:b?BHh:Ux,onClick:this.onClick,oa:a})}constructor(...a){super(...a);m_s.G(this)}},n_s=GV(a=>{const b=a.oa,c=a.tF,d=jV(()=>{a.onClick?.();b?.()},[b,a]);return fV(c,
{onClick:d,children:M("llxXHA")})}),o_s=class extends IV{static G(a){O(a,{onClick:iV.bound})}onClick(){const a=this.props.oa;(0,this.props.onClick)?.();a?.()}render(){return fV(this.props.tF,{onClick:this.onClick,CB:this.props.CB,Dm:this.props.Dm,children:M("ON7FDg")})}constructor(...a){super(...a);o_s.G(this)}},p_s=Pk(Po(";")),q_s=class extends IV{static G(a){O(a,{onClick:iV.bound})}onClick(){const a=this.props.oa;(0,this.props.onClick)?.();a?.()}render(){return fV(this.props.tF,{onClick:this.onClick,
CB:this.props.CB,children:M("vGSJsA")})}constructor(...a){super(...a);q_s.G(this)}};var r_s,s_s,t_s,v_s=class extends IV{render(){const a=this.props.J1,b=this.props.position,c=this.props.nx,d=this.props.mH,e=this.props.Mpi,f=this.props.canDrag,g=this.props.isActive,h=this.props.onMouseEnter,k=this.props.onMouseLeave,l={[this.mKa.get()]:f&&e};return fV(__c.aPf,{onDragStart:this.onDragStart,pe:this.pe,onDragEnd:this.onDragEnd,canDrag:this.canDrag,ux:this.ux,Rze:!0,mKa:f?this.mKa:void 0,children:({onTouchStart:n,onMouseDown:p})=>fV(u_s,{J1:a,position:b,nx:c,mH:d,isActive:g,Mpi:e,m5c:!f,
qKb:l,onMouseEnter:h,onMouseLeave:k,onTouchStart:n,onMouseDown:p})})}constructor(...a){super(...a);this.onDragStart=b=>{this.props.onDragStart(b,this.props.J1)};this.pe=b=>{this.props.pe(b)};this.onDragEnd=()=>{this.props.onDragEnd()};this.canDrag=()=>this.props.canDrag;this.ux=b=>{this.props.ux(b,this.props.J1)};this.mKa=oV(()=>__c.Xx(new __c.E6g(this.props.J1.direction===1?0:90)))}};({c:[t_s,r_s]}=KV(v_s,[],[Lb],IV));r_s();
var w_s=a=>{var b=a.position;const c=a.direction===1,d=c?b:0;b=c?0:b;return fV("div",{className:DV("mNd67g",{FZmaNg:a.mH,_tRmOg:c,_8i_7tg:!c}),style:{transform:`translate(${b}px, ${d}px)`}})},u_s,x_s=class extends IV{render(){const a=this.props.position,b=this.props.nx,c=this.props.onTouchStart,d=this.props.onMouseDown,e=this.props.mH,f=this.props.Mpi,g=this.props.m5c;var h=this.props.J1.direction===1;const k=DV("dCYK4Q",{FZmaNg:e,_tRmOg:h,_8i_7tg:!h,lAxGWQ:this.props.isActive,jCbK0g:xc.SV,...this.props.qKb}),
l=DV("tuN9aA",{LAeprA:f});h=h?J("+p11Hw",[b]):J("9xVN3w",[b]);return mV("button",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onTouchStart:c,onMouseDown:d,className:k,style:a,"aria-label":h,children:[f&&!e&&fV("span",{className:"_EMcsA",children:fV("span",{className:"ALc6Yg nbfwjw",children:b})}),fV("span",{className:DV("_0uzLrQ",{_87VYUA:g}),children:fV("span",{className:l})})]})}constructor(...a){super(...a);this.onMouseEnter=()=>{this.props.onMouseEnter(this.props.J1)};this.onMouseLeave=
()=>{this.props.onMouseLeave(this.props.J1)}}};({c:[u_s,s_s]}=KV(x_s,[],[Lb],IV));s_s();var y_s=hV(a=>{const b=a.L,c=a.store;return fV(uV,{children:[...c.yjk].map((d,e)=>{var f=t_s,g=c.SLh.has(d),h=OEs(b,d),k=d.position;const l=d.direction===2;var n=l?k:0;k=l?0:k;n=b.viewport.hm(b.viewport.Vg).invert().then(b.viewport.jda()).transform(n,k);b.viewport.Qq;var p=b.viewport.jda().invert().transformPoint(b.fj?b.viewport.oPa().tr:b.viewport.oPa().tl);const q=b.fj?b.viewport.ey().tr:b.viewport.ey().tl;k=q.x-p.x;p=q.y-p.y;return fV(f,{J1:d,mH:!1,Mpi:!0,isActive:g,nx:h,position:l?{top:p,left:n.x}:
b.fj?{top:n.y,right:-k}:{top:n.y,left:k},onMouseEnter:b.onMouseEnter,onMouseLeave:b.onMouseLeave,ux:b.ux,onDragStart:b.onDragStart,onDragEnd:b.onDragEnd,pe:b.pe,canDrag:c.Hyg.has(d)},e)})})}),z_s=hV(a=>{const b=a.store,c=a.L;var d=a.viewport;const e=a.page,f=a.scale;if(!d.uh||b.o_e==null)return null;d=d.Vg.page===e;return a.canvas.WVa!=="space-between"||d?fV(uV,{children:b.P7m.map((g,h)=>{h={key:h,J1:g,Mpi:!1,mH:!PEs(c,g,e),position:g.direction===1?{top:g.position*f,left:0}:{top:0,left:g.position*
f},onMouseEnter:c.onMouseEnter,onMouseLeave:c.onMouseLeave,nx:OEs(c,g)};return b.o_e==="viewable"?fV(u_s,{...h,isActive:b.SLh.has(g),m5c:!0}):fV(t_s,{...h,isActive:!1,canDrag:b.Hyg.has(g),ux:c.ux,onDragStart:c.onDragStart,onDragEnd:c.onDragEnd,pe:c.pe})})}):null}),A_s=hV(a=>{const b=a.L;var c=a.viewport;const d=a.page;if(!c.uh)return null;c=c.Vg.page===d;return a.canvas.WVa!=="space-between"||c?fV(uV,{children:a.zy.map((e,f)=>fV(w_s,{position:e.position,direction:e.direction,mH:!PEs(b,e,d)},f))}):
null});var AEs=class{static G(a){O(a,{columns:zV.ref,u3c:zV.ref,RGc:zV.ref,rows:zV.ref,Aqa:zV.ref,lhd:zV.ref,dimensions:oV,peo:oV,Uvm:oV,eFb:oV})}get dimensions(){return ck(this.viewport.Vg.page,this.document.dimensions)}get peo(){return this.rows===0}get Uvm(){return this.columns===0}get eFb(){return{columns:this.columns,u3c:this.u3c,RGc:this.RGc,rows:this.rows,lhd:this.lhd,Aqa:this.Aqa}}constructor(a,b){this.document=a;this.viewport=b;this.columns=(AEs.G(this),6);this.lhd=this.Aqa=this.rows=this.RGc=this.u3c=
0;this.RGc=B_s(a.dimensions.width/(this.columns*10),a.dimensions.units)}},B_s=(a,b)=>{switch(b){case 1:case 2:case 3:return C_s(a,2);case 4:return C_s(a,1);default:throw new u(b);}},C_s=(a,b=0)=>{b=Math.pow(10,b);return Math.round(a*b*(1+Number.EPSILON))/b};var BEs=class{constructor(a,b){this.store=a;this.ma=b;this.aSs=c=>{const d=this.store.u3c,e=this.store.RGc;this.xxf(this.store.dimensions.width,c,d,e)?(c=M("GWfiAQ"),d&&e?c=M("ZM7rPQ"):d?c=M("oNh6Aw"):e&&(c=M("fJoN0g")),this.ma.Ib({Db:c})):this.store.columns=C_s(c)};this.ZRs=c=>{const d=this.store.columns,e=this.store.RGc;this.xxf(this.store.dimensions.width,d,c,e)?(c=M("g3IJgw"),d&&e?c=M("8vK9pw"):d&&(c=M("g2Fc4Q")),this.ma.Ib({Db:c})):this.store.u3c=this.eUi(c)};this.$Rs=c=>{const d=this.store.columns,
e=this.store.u3c;this.xxf(this.store.dimensions.width,d,e,c)?(c=M("edKzEQ"),d&&e?c=M("+i7TbA"):d&&(c=M("pGFysw")),this.ma.Ib({Db:c})):this.store.RGc=this.eUi(c)};this.iZi=c=>{const d=this.store.lhd,e=this.store.Aqa;this.xxf(this.store.dimensions.height,c,d,e)?(c=M("yQHe2Q"),d&&e?c=M("HQYf5w"):d?c=M("ujBoWw"):e&&(c=M("NLcolA")),this.ma.Ib({Db:c})):this.store.rows=C_s(c)};this.vTs=c=>{const d=this.store.rows,e=this.store.Aqa;this.xxf(this.store.dimensions.height,d,c,e)?(c=M("g3IJgw"),d&&e?c=M("HVPx4A"):
d&&(c=M("EIY5FA")),this.ma.Ib({Db:c})):this.store.lhd=this.eUi(Math.min(c,this.store.dimensions.height/2))};this.wTs=c=>{const d=this.store.rows,e=this.store.lhd;this.xxf(this.store.dimensions.height,d,e,c)?(c=M("edKzEQ"),d&&e?c=M("6+spuw"):d&&(c=M("u2fUdA")),this.ma.Ib({Db:c})):this.store.Aqa=this.eUi(c)};this.xxf=(c,d,e,f)=>rg(4,this.store.dimensions.units,1)*d+f*Math.max(d-1,0)+e*2>c;this.eUi=c=>B_s(c,this.store.dimensions.units)}};var DEs=a=>mV(ar,{spacing:"1u",columns:3,children:[fV(a.uhj,{}),fV(a.bqj,{})]}),EEs=GV(a=>{const b=a.Vf;var c=a.uhj;const d=a.bqj;kV(()=>iV(a.onClose),[a.onClose]);const e=jV((f,g)=>({No:()=>fV(uV,{children:f}),pa:()=>fV(ar,{spacing:"1u",columns:3,children:g})}),[]);c=[e(M("gPUe1Q"),fV(c,{})),e(M("JE/qcA"),fV(d,{}))];return fV(R,{padding:"2u",paddingTop:"0",children:fV(b.Aaa,{items:c})})});var yEs=class{constructor(a,b,c){this.store=a;this.update=b;this.JNh=c;this.onFocus=d=>{this.store.value=d;this.store.focused=!0};this.onBlur=()=>{const d=this.store.value;this.nGk(d)&&this.update(Number.parseFloat(d));this.store.focused=!1};this.onChange=d=>{d=d.trim();isNaN(Number(d))||(this.store.value=this.sanitize(d))};this.nGk=d=>!isNaN(Number(d))&&!isNaN(parseFloat(d));this.sanitize=d=>{const e=this.JNh?/^[0-9.]$/:/^[0-9]$/;return d.split("").filter(f=>e.test(f)).join("")}}};var xEs=class{static G(a){O(a,{value:zV.ref,focused:zV.ref})}constructor(){this.value=(xEs.G(this),"");this.focused=!1}};var CEs={[4]:M("eY1d0Q"),[1]:M("WL2xxQ"),[3]:M("nAKgzA"),[2]:M("SJUMrg")};var D_s=__webpack_require__.p+"images/44d262aa046efce329308241ad58e99d.png";var E_s=__webpack_require__.p+"images/457fb16c040f7d4ffed30f8729561fcf.png";var F_s=__webpack_require__.p+"images/79762f8af6d55aefb16784fa24d6e2f5.png";var G_s=__webpack_require__.p+"images/7a3e97c45cb0eb116bb173d7f394b839.png";var H_s=__webpack_require__.p+"images/0d00475b150fc001612e5c8ee10dee45.png";var I_s=__webpack_require__.p+"images/d4139edd693a21ad459834f6afb64807.png";var J_s=__webpack_require__.p+"images/20a96e0c263ffa6d6e499fac04f986e5.png";var K_s=__webpack_require__.p+"images/fc4dfa7a2acff3686ff78a955b096acd.png";var L_s=__webpack_require__.p+"images/b8a93816eade047b457bdb12aea8d4a2.png";var M_s=__webpack_require__.p+"images/f2c7f5130edf84de91499a5bfc79611a.png";var N_s=__webpack_require__.p+"images/cb70f2436005001a8d43e2284c6d95ed.png";var O_s=__webpack_require__.p+"images/504a73b622512562029f809c41023878.png";var P_s=__webpack_require__.p+"images/0da201d460492dc4a316071769e7cd43.png";var Q_s=__webpack_require__.p+"images/5a79332e5782275e8239bbf743b1431e.png";var R_s=__webpack_require__.p+"images/e7bb2ef8561f592c76cc0d54efa9b11b.png";var S_s=__webpack_require__.p+"images/c933f33218571b8e0b4d1fe48921c16a.png";var T_s={key:"12col",title:M("xG1z4A"),Kk:{light:F_s,bYg:G_s,dark:D_s,Gug:E_s}},U_s={key:"3col",title:M("pznYiA"),Kk:{light:J_s,bYg:K_s,dark:H_s,Gug:I_s}},V_s={key:"3x3grid",title:M("+dYOyw"),Kk:{light:R_s,bYg:S_s,dark:P_s,Gug:Q_s}},W_s={key:"custom",title:M("EYSP3g"),Kk:{light:N_s,bYg:O_s,dark:L_s,Gug:M_s}},LEs=[T_s,U_s,V_s,W_s];var KEs=hV(a=>{const b=a.options,c=a.mq,d=a.We,e=a.onCancel,f=a.onSubmit,g=a.nij,h=a.Uc,k=a.Iz,l=a.oa,n=a.Wh;kV(()=>{rV(()=>h());return iV(()=>n())},[h,n]);a=jV(q=>{rV(()=>k(q))},[k]);const p=jV(()=>{rV(()=>{f?.();l()})},[f,l]);return fV(R,{padding:"2u",paddingTop:d==="fill"?"0":void 0,className:DV("_1s_6uw",{O9Ff7A:d==="fixed"}),children:mV(Tc,{spacing:"1u",children:[fV(X_s,{options:b,mq:c,onClick:a}),g&&fV(g,{}),f&&fV(Wi,{variant:"primary",onClick:p,children:M("6r3rJQ")}),e&&fV(Wi,{variant:"secondary",
onClick:e,children:M("uZee/w")})]})})}),X_s=GV(a=>{const b=a.onClick,c=a.options,d=a.mq,e=jV(f=>()=>b(f),[b]);return fV(ar,{columns:4,dxa:"2u",children:c.map(f=>qTs(Y_s,{...f,key:f.key,active:f.key===d,onClick:e(f.key)}))})}),Y_s=GV(a=>{const b=a.active,c=a.title,d=a.Kk;a=a.onClick;var e=AV(()=>({gy:{light:b?d.bYg:d.light,dark:b?d.Gug:d.dark}}),[b,d.dark,d.Gug,d.light,d.bYg]);e=__c.Lc(e)?.gy??d.light;return fV(Ko,{title:fV(__c.Do,{className:"_79_T9g",lineClamp:2,size:"small",children:c}),onClick:a,
OF:"primary",selected:b,un:"scaleThumbnail",thumbnail:fV(Yu,{src:e,alt:"Image description"}),layout:"vertical",Xm:"thumbnail"})}),IEs=()=>fV(uV,{children:M("6r3rJQ")}),JEs=GV(a=>{const b=a.onClick;a=jV(()=>rV(b),[b]);return fV(__c.i8d,{onClick:a,children:M("0icR6A")})});var Z_s={eventType:"editor_grid_layout_menu_toggled",Oa(a){return jf({action:a.action,source:a.source,editing_context:a.Ca==null?void 0:mf(a.Ca)})}},$_s={eventType:"editor_grid_layout_added",Oa(a){return jf({grid_layout_category:a.R$q,direction:a.direction,num_horizontal_guides:a.O3g,horizontal_gap_px:a.Uqu,horizontal_margin_px:a.Vqu,horizontal_gap:a.vgr,horizontal_margin:a.wgr,num_vertical_guides:a.b4g,vertical_gap_px:a.Bev,vertical_margin_px:a.Cev,vertical_gap:a.tcj,vertical_margin:a.Brt,units:a.units,
editing_context:a.Ca==null?void 0:mf(a.Ca)})}};var HEs=class{constructor(a,b,c,d,e,f,g){this.document=a;this.store=b;this.la=c;this.Rsk=d;this.dNg=e;this.N=f;this.ma=g;this.Woo=h=>{this.store.mq=h};this.Vxj=()=>{this.document.zy.Er();this.dNg.Vxj(this.store.Ssk);this.la.layout===1&&this.ma.Ib({Db:M("4VTm9A"),Jq:{buttonText:M("GDZ7sw"),onClick:iV(this.dNg.CQo)}})};this.xOn=()=>{this.N.track(Z_s,{action:"open"});this.VKo()};this.yOn=()=>{this.N.track(Z_s,{action:"close"});this.VKo()};this.zJn=()=>{this.Vxj();const h=this.store.eFb.columns,k=this.store.eFb.rows;
h===0&&k===0||this.N.track($_s,{R$q:this.store.mq==="custom"?"custom":"default",direction:h===0?"horizontal":k===0?"vertical":"mixed",O3g:k||void 0,vgr:this.store.eFb.Aqa||void 0,wgr:this.store.eFb.lhd||void 0,b4g:h||void 0,tcj:this.store.eFb.RGc||void 0,Brt:this.store.eFb.u3c||void 0,units:__c.Dv(__c.Cv(this.store.dimensions.units))})};this.VKo=()=>{this.Rsk.enabled||this.dNg.$af("guides_panel");this.store.oNi=!this.store.oNi};this.$Hs=()=>{this.store.mq="12col"}}};var GEs=class{static G(a){O(a,{mq:zV.ref,oNi:zV.ref,dimensions:oV,Syo:oV,eFb:oV,Ssk:oV,iNi:oV})}get dimensions(){const a=this.viewport.Vg.page;if(a.type==="responsive")throw new __c.Lw;return a.dimensions||this.document.dimensions}get Syo(){return this.mq==="custom"&&this.la.layout===1}get eFb(){if(this.mq==="custom")return this.rnq.eFb;const a=this.dimensions.width,b=this.dimensions.units,{columns:c,rows:d}=a0s[this.mq];return{...a0s[this.mq],u3c:0,RGc:c&&B_s(a/(c*10),b),lhd:0,Aqa:d&&B_s(a/(d*10),
b)}}get Ssk(){const a=this.eFb.columns,b=this.eFb.rows,c=this.eFb.u3c,d=this.eFb.RGc,e=this.eFb.lhd,f=this.eFb.Aqa,g=[];(a||c)&&g.push(...this.SAm(a,2,d,c));(b||e)&&g.push(...this.SAm(b,1,f,e));return g}get iNi(){return this.oNi?this.Ssk.map(({position:a,...b})=>({...b,position:a*this.viewport.zoom.scale})):void 0}constructor(a,b,c,d){this.rnq=a;this.la=b;this.viewport=c;this.document=d;this.mq=(GEs.G(this),"12col");this.oNi=!1;this.SAm=(e,f,g=0,h=0)=>{var k=this.dimensions.height;const l=this.dimensions.width;
var n=this.dimensions.units;k=Bv(n,f===1?k:l);const p=Bv(n,g);g=Bv(n,h);n=k/2;if(h>=n)return[{position:n,direction:f,locked:!0}];const q=[];g&&(q.push({position:g,direction:f,locked:!0}),q.push({position:k-g,direction:f,locked:!0}));const r=(k-2*g-(e-1)*p)/e;let t=g;rc(1,e).forEach(()=>{t+=r;q.push({position:t,direction:f,locked:!0});p&&(t+=p,q.push({position:t,direction:f,locked:!0}))});return q}}},a0s={"12col":{columns:12,rows:0},"3col":{columns:3,rows:0},"3x3grid":{columns:3,rows:3},custom:{columns:6,
rows:0}};var b0s={eventType:"editor_guide_view_toggled",Oa(a){return jf({previous:a.previous,value:a.value,control_context:a.mb,design_id:a.designId,doctype_id:a.Ea,category_id:a.eb,page_width:a.Bq,page_height:a.ss,num_pages_in_document:a.rz,editing_context:a.Ca==null?void 0:mf(a.Ca)})}},REs={eventType:"editor_guide_moved",Oa(a){return jf({previous:a.previous,value:a.value,direction:a.direction,design_id:a.designId,doctype_id:a.Ea,category_id:a.eb,page_width:a.Bq,page_height:a.ss,num_pages_in_document:a.rz,
editing_context:a.Ca==null?void 0:mf(a.Ca)})}},TEs={eventType:"editor_guide_deleted",Oa(a){return jf({guides_count:a.Jar,direction:a.direction,control_context:a.mb,design_id:a.designId,doctype_id:a.Ea,category_id:a.eb,page_width:a.Bq,page_height:a.ss,num_pages_in_document:a.rz,num_horizontal_guides:a.O3g,num_vertical_guides:a.b4g,editing_context:a.Ca==null?void 0:mf(a.Ca)})}},c0s={eventType:"editor_guide_locking_toggled",Oa(a){return jf({action:a.action,control_context:a.mb,direction:a.direction,
num_horizontal_guides:a.O3g,num_vertical_guides:a.b4g,editing_context:a.Ca==null?void 0:mf(a.Ca)})}},d0s={eventType:"editor_guide_added",Oa(a){return jf({position:a.position,direction:a.direction,control_context:a.mb,design_id:a.designId,doctype_id:a.Ea,category_id:a.eb,page_width:a.Bq,page_height:a.ss,num_pages_in_document:a.rz,editing_context:a.Ca==null?void 0:mf(a.Ca)})}};var f0s=class{static G(a){O(a,{$af:iV.bound,onMouseEnter:iV.bound,onMouseLeave:iV.bound,GIl:iV.bound,onDragStart:iV.bound,pe:iV.bound,onDragEnd:iV.bound,ux:iV.bound,BJn:iV.bound,FJn:iV.bound,uMj:iV.bound,wMh:iV.bound})}get ya(){const a=this.viewport.Vg.page;if(a.type==="responsive")throw new __c.Lw;return a}$af(a){this.store.enabled?(this.store.fOe.clear(),this.store.enabled=!1):this.store.enabled=!0;this.N.track(b0s,{previous:this.store.enabled?"hidden":"shown",value:this.store.enabled?"shown":"hidden",
mb:a,Bq:0,ss:0,rz:0})}onMouseEnter(a){this.store.Qh||this.store.fOe.add(a)}onMouseLeave(a){this.store.Qh||this.store.fOe.delete(a)}GIl(){return this.undo.startBuffering()}onDragStart(a,b,c){this.onMouseEnter(b);const d=QEs(this,new pj(a.clientX,a.clientY));var e=new __c.zog(this.xBf(b),d);e=Oqs(this.eua,e,this.ya);a=a.metaKey||a.ctrlKey;this.store.Qh?.close();this.store.Qh&&SEs(this,this.store.Qh.J1,this.store.Qh.rjk);c||(c=this.GIl());this.store.Qh=new e0s(c,d,b,a,e,f=>this.xBf(f))}pe(a){this.store.Qh&&
(this.store.Qh.to=QEs(this,new pj(a.clientX,a.clientY)))}onDragEnd(){if(this.store.Qh){var a=this.store.Qh.J1;SEs(this,a,this.store.Qh.rjk);{var b=this.AAb(this.ya);const c=this.xBf(a);b.tD(c)?b=!1:(this.document.zy.delete(a),UEs(this,[a],"out_of_bounds"),b=!0)}this.store.Qh.close();this.store.Qh=void 0;b&&this.onMouseLeave(a);this.store.Hig&&this.store.fOe.clear()}}ux(a){this.store.Qh&&(this.store.Qh.Pyc=a.metaKey||a.ctrlKey)}BJn(a){a&&this.wMh(a,1,"contextual_menu",!1)}FJn(a){a&&this.wMh(a,2,"contextual_menu",
!1)}uMj(a){const b=this.document.zy,c=b.toArray();b.Er();UEs(this,c,a)}wMh(a,b,c,d=!0){this.store.enabled||this.$af(c);const {x:e,y:f}=QEs(this,a);a=b===1?f:e;const g=this.document.zy.append({position:a,direction:b,locked:this.store.Hig});d&&this.onMouseEnter(g);this.N.track(d0s,{position:a,direction:b===1?"horizontal":"vertical",mb:c,Bq:0,ss:0,rz:0});return g}Vxj(a){this.document.zy.Y6(void 0,a)}xBf(a){const b=a.position;a=a.direction===1;const c=ck(this.ya,this.document.dimensions),{width:d,height:e}=
sg(4,c||this.document.dimensions);return a?Lj(0,b,d,b):Lj(b,0,b,e)}AAb(a){const {width:b,height:c}=sg(4,a.dimensions||this.document.dimensions);return Lj(0,0,b,c)}constructor(a,b,c,d,e,f,g,h,k){this.canvas=a;this.viewport=b;this.document=c;this.undo=d;this.store=e;this.N=f;this.fj=g;this.ma=h;this.eua=k;this.lPl=(f0s.G(this),l=>{if(this.store.uEl){this.store.fOe.clear();var n=this.document.zy,p=this.store.Hyg.size===0;if(p)this.CQo();else{for(const q of this.store.Hyg)q.locked=!0;this.ma.Ib({Db:M("0iK69Q")})}n=
n.toArray();this.N.track(c0s,{mb:l,action:p?"unlock":"lock",...VEs(n)})}});this.CQo=()=>{for(const l of this.document.zy)l.locked=!1;this.ma.Ib({Db:M("XzwAMA")})}}},e0s=class{close(){this.Z9a.stop();this.Nqa.close()}set Pyc(a){this.ete!==a&&(this.ete=a,this.update())}set to(a){this.ite=a;this.update()}update(){this.XSo(this.ite);this.ete?this.Nqa.close():this.Nqa.dz({type:"translate",qj:this.J1.direction===2,Jj:this.J1.direction===1},this.ite,this.xBf(this.J1),!1,this.XSo)}constructor(a,b,c,d,e,f){this.Z9a=
a;this.from=b;this.J1=c;this.ete=d;this.Nqa=e;this.xBf=f;this.XSo=g=>{g=sj(g,this.from);this.J1.position=this.rjk+(this.J1.direction===1?g.y:g.x);return this.xBf(this.J1)};this.ite=b;this.rjk=c.position}};var g0s=class{static G(a){O(a,{enabled:zV.ref,o_e:oV,pNe:oV,jXd:oV,dTh:oV,z2c:oV,tpm:oV,uzo:oV,t1i:oV,i0i:oV,r0i:oV,uEl:oV,Hig:oV,fOe:zV.shallow,Qh:zV.ref,Hyg:oV.struct,SLh:oV.struct,yjk:oV.struct,P7m:oV.struct})}get o_e(){switch(this.la.layout){case 1:return"draggable";case 2:return"viewable";default:throw new u(this.la.layout);}}get pNe(){return!this.document.zy.empty}get jXd(){return!!this.o_e&&this.viewport.uh&&this.viewport.DU}get dTh(){return this.Pa.mode===40}get z2c(){return this.dTh&&this.o_e===
"draggable"}get tpm(){return this.enabled&&this.jXd}get uzo(){const a=this.selection.Ma?.inner?.type==="pages"?this.selection.Ma.inner.inner:this.selection.Ma?.inner;return this.enabled&&this.jXd&&a?.type==="background"&&a.page.type==="fixed"&&(!a.page.dimensions||!ug(a.page.dimensions))}get t1i(){return this.pNe&&this.jXd&&this.o_e==="viewable"}get i0i(){return this.jXd&&this.dTh}get r0i(){return this.pNe&&this.enabled&&this.jXd&&this.dTh}get uEl(){return this.pNe&&this.enabled&&this.jXd&&this.z2c}get Hig(){return!this.document.zy.empty&&
this.document.zy.every(a=>a.locked)}get Hyg(){return this.z2c?new Set(this.document.zy.filter(a=>!a.locked)):new Set}get SLh(){if(this.Qh)return new Set(this.haa.targets.length?[this.Qh.J1]:[]);const a=this.haa.targets.map(b=>b.type==="rule-x"||b.type==="rule-y"?b.J1:null).filter(sb);return new Set(a||[])}get yjk(){const a=[...this.fOe].filter(b=>this.document.zy.has(b));return new Set([...this.SLh,...a])}get P7m(){const {width:a,height:b,units:c}=ck(this.viewport.Vg.page,this.document.dimensions),
d=Bv(c,a),e=Bv(c,b);return this.document.zy.filter(f=>{const g=f.direction===1?e:d;return f.position>=0&&f.position<=g})}constructor(a,b,c,d,e,f,g=!1){this.Pa=a;this.viewport=b;this.document=c;this.selection=d;this.haa=e;this.la=f;this.enabled=(g0s.G(this),void 0);this.fOe=new Set;this.enabled=g}};var h0s=(a,b,c,d,e)=>{const f=iV(()=>c.lPl("shortcut"));b.register([p_s,f,M("ON7FDg"),["edit"]]);const g=()=>c.$af("file_menu"),h=()=>c.lPl("file_menu"),k=()=>c.uMj("file_menu");a.wv(()=>({i0i:d.i0i,LZs:d.uEl,r0i:d.r0i,t1i:d.t1i}),({vM:l},{i0i:n,LZs:p,r0i:q,t1i:r})=>{l&&(l.ffj=n?e:void 0,l.qre=p?{Button:hV(t=>fV(o_s,{...t,onClick:h,CB:d.Hig,Dm:p_s}))}:void 0,l.DSd=q?{Button:t=>fV(n_s,{...t,onClick:k})}:void 0,l.Vqj=r?{Button:hV(t=>fV(q_s,{...t,onClick:g,CB:d.enabled}))}:void 0)},{equals:nV.structural})},
i0s=(a,b,c)=>{const d=b.BJn,e=b.FJn,f=()=>b.lPl("contextual_menu"),g=()=>b.uMj("contextual_menu");a.jc(()=>({nZs:c.uzo,pNe:c.pNe}),(h,{nZs:k,pNe:l})=>{k?(h.nTb={Button:n=>fV(h_s,{...n})},h.wDh={Button:n=>fV(j_s,{...n,onClick:d})},h.ADh={Button:n=>fV(k_s,{...n,onClick:e})},h.DSd=l?{Button:n=>fV(l_s,{...n,onClick:g})}:void 0,h.qre=l?{Button:hV(n=>fV(m_s,{...n,onClick:f,locked:c.Hig}))}:void 0):(h.nTb=void 0,h.wDh=void 0,h.ADh=void 0,h.DSd=void 0)})},j0s=(a,b,c)=>{a.Kar=oV(()=>c.jXd?b.zy.map(d=>d.direction===
1?{type:"rule-y",y:d.position,J1:d}:{type:"rule-x",x:d.position,J1:d}):[])};var XEs=class{static G(a){O(a,{V2a:oV,gDi:iV.bound})}get V2a(){var a=this.AJ.focused,b=this.AJ.selected;b=a.Kw!=null?a:b;var c=b.Kw,d=b.container,e=b.tj,f=a.aea;b=a.rzf;b=a.Vta??b;d=d?this.pd.h5a(d)?.width:void 0;if(this.Pa.mode<40||!c||d==null||!e)return{};d=Vz(e);e=d?.SOc??!1;c=(a=a.Kw===c)&&d&&f.length>0;f={};f["add-column"]=c&&e&&!!d&&d.jwg<4;f["change-cell-padding"]=a;f["change-column-gap"]=e;f["change-row-gap"]=!e;f["move-column-before"]=c&&e&&b!=null&&b>0;f["move-column-after"]=c&&e&&b!=null&&
!!d&&b<d.jwg-1;return f}gDi(){var a=this.AJ.focused;const b=a.tj,c=a.rzf;a=a.Vta??c;b&&a!=null&&this.vza.Cib(b,this.Zn,a+1,a)}aec(a){const b=this.AJ.focused.tj;var c=this.AJ.focused.rzf;c=this.AJ.focused.Vta??c;b!=null&&c!=null&&this.vza.aec(b,c,c+a)}get dtn(){const a=this.AJ.selected.Kw;return(this.AJ.focused.Kw??a)?.direction??1}constructor(a,b,c,d,e,f){this.AJ=a;this.vza=b;this.pd=c;this.Za=d;this.Pa=e;this.Zn=f;this.FLn=(XEs.G(this),iV(()=>this.aec(1)));this.GLn=iV(()=>this.aec(-1))}},YEs=class{static G(a){O(a,
{V2a:oV,j0k:iV.bound,gDi:iV.bound})}get V2a(){var a=this.AJ.selected.bsb;const b=this.AJ.selected.Ttl,c=this.AJ.selected.h5e,d=this.AJ.selected.OCd,e=this.AJ.selected.hCd,f={};if(!a||!b||c==null)return f;a=lk.mR(a);f["add-column"]=e&&c!=null;f["add-row"]=d&&c!=null;f["move-column-before"]=e&&c!=null&&c>0;f["move-column-after"]=e&&c!=null&&c<a.grid.gridTemplateColumns.length-1;f["move-row-up"]=d&&c!=null&&c>0;f["move-row-down"]=d&&c!=null&&c<a.grid.gridTemplateRows.length-1;return f}j0k(){const a=
this.AJ.selected.R_a,b=this.AJ.selected.h5e;a!=null&&b!=null&&this.SBb.addRow(a,b+1,b)}gDi(){const a=this.AJ.selected.R_a,b=this.AJ.selected.h5e;a!=null&&b!=null&&this.SBb.addColumn(a,b+1,b)}aec(a){const b=this.AJ.selected.bsb,c=this.AJ.selected.h5e;b!=null&&c!=null&&this.SBb.aec(b,c,c+a)}cNf(a){const b=this.AJ.selected.bsb,c=this.AJ.selected.h5e;b!=null&&c!=null&&this.SBb.cNf(b,c,c+a)}get dtn(){return this.AJ.selected.bsb?.direction??1}constructor(a,b){this.AJ=a;this.SBb=b;this.FLn=(YEs.G(this),
iV(()=>this.aec(1)));this.GLn=iV(()=>this.aec(-1));this.HLn=iV(()=>this.cNf(1));this.ILn=iV(()=>this.cNf(-1))}};var k0s,l0s,m0s,n0s;
new (k0s=class extends JV{constructor(){super(n0s);l0s()}},(()=>{class a extends(m0s=IV){static G(b){O(b,{sBc:zV.ref})}componentDidMount(){if(this.rYc.current!=null&&typeof IntersectionObserver!=="undefined"&&Wb()){var b=new IntersectionObserver(c=>{this.sBc&&c.forEach(d=>{const e=this.controls.get(d.target);if(e!=null){var f=e.index;d.isIntersecting?(e.cNe=!0,this.props.Nvc(f)):e.cNe&&this.props.W0b(f)}})},{root:this.rYc.current});this.controls.forEach((c,d)=>b.observe(d));this.FSg=b;document.addEventListener("mousemove",
this.onMouseMove,{passive:!0});Gb(this,gV(()=>this.sBc,this.Saj))}}componentWillUnmount(){document.removeEventListener("mousemove",this.onMouseMove)}render(){const b=this.props.children;return fV("div",{ref:this.rYc,className:"MXQnbw",children:fV("div",{ref:this.Qbf,className:"v3K2TQ",children:b(this.ZSj)})})}constructor(...b){super(...b);this.sBc=(n0s.G(this),void 0);this.controls=new Map;this.rYc=pV();this.Qbf=pV();this.onMouseMove=c=>{requestAnimationFrame(iV(()=>{this.sBc=new pj(c.clientX,c.clientY)}))};
this.Saj=()=>{var c=this.sBc;c&&this.sBc&&this.rYc.current&&(c=this.props.TMj(c),this.rYc.current.style.transform=`translate(${c.x}px, ${c.y}px)`,this.Qbf.current&&(this.Qbf.current.style.transform=`translate(${-c.x}px, ${-c.y}px)`))};this.ZSj=LV(c=>{let d;return e=>{e==null?d!=null&&(this.FSg?.unobserve(d),e=this.controls.get(d),e!=null&&e.cNe&&this.props.W0b(e.index),this.controls.delete(d)):(d=e,this.FSg?.observe(d),this.controls.set(d,{index:c,cNe:!1}))}})}}({c:[n0s,l0s]}=KV(a,[],[Lb],m0s))})(),
k0s);var bFs=hV(a=>{const b=a.h8,c=a.tj,d=a.gb,e=a.gridTemplateColumns,f=a.direction,g=a.ULh,h=a.Cib,k=c.padding;return fV(n0s,{Nvc:a.UBi,W0b:a.QDi,TMj:a.TMj,children:l=>fV("div",{style:{...b,...k},className:"A_NQjw",children:mV("div",{className:DV("w3zvMw",{KOhH2w:f!==2,poDbpw:f===2}),style:{width:d,gridTemplateColumns:e.join(" "),columnGap:c.columnGap,height:b.height-k.paddingTop-k.paddingBottom},children:[fV(o0s,{O6d:l(-1),TE:g===-1,Cib:h,SJb:-1,columnGap:c.columnGap}),e.map((n,p)=>fV("div",{className:"_6p8piw",
children:fV(o0s,{O6d:l(p),TE:g===p,Cib:h,SJb:p,columnGap:c.columnGap})},`add-control-${p}`))]})})})}),o0s=class extends IV{render(){const a=this.props.SJb,b=this.props.O6d,c=this.props.columnGap;return fV("div",{className:"kMUyMg",style:{width:c,insetInlineStart:a===-1?-c:void 0,insetInlineEnd:a!==-1?-c:0},children:fV("div",{className:DV("i8mzIQ",{_6dAisg:this.props.TE}),ref:b,children:fV("div",{className:"yAMchA",children:fV(ir,{variant:"tertiary",className:"xk7iWw",icon:Gu,Qc:"small",size:"tiny",
onClick:this.handleClick,ib:M("gQ2wmg")})})})})}constructor(...a){super(...a);this.handleClick=iV(()=>this.props.Cib(this.props.SJb+1,this.props.SJb>=0?this.props.SJb:0))}};var aFs=class{static G(a){O(a,{UBi:iV.bound,QDi:iV.bound,ULh:oV})}UBi(a){this.qMh.activeIndex=a}QDi(a){this.qMh.activeIndex===a&&(this.qMh.activeIndex=void 0)}get ULh(){return this.qMh.activeIndex}constructor(a){this.qMh=a;aFs.G(this)}};var $Es=class{static G(a){O(a,{activeIndex:zV.ref,VLh:oV,ste:oV,ctn:oV,Ebm:oV,N9c:oV})}get VLh(){const a=this.AJ.selected,b=this.AJ.focused;return b.Kw?b.Kw:a.Kw}get ste(){const a=this.AJ.selected;return this.AJ.focused.tj??a.tj}get ctn(){const a=this.VLh;if(a)return this.pd.DF(a)?.Nb()}get Ebm(){var a=this.ste;if(a)return a=Vz(a),a?.SOc?a.asa:void 0}get gb(){return this.ste?.gb}get N9c(){const a=this.ste;if(!a)return!0;const b=Vz(a)??{};return this.VLh&&a.mR.grid.gridTemplateColumns.length>=4||!b||
this.CSe.YUa||this.vjl.d_b||this.Icc()}constructor(a,b,c,d,e){this.AJ=a;this.pd=b;this.CSe=c;this.vjl=d;this.Icc=e;this.activeIndex=($Es.G(this),void 0)}};var dFs=hV(a=>fV("div",{className:"_aoqnA",children:fV(a.YAp,{})})),fFs=hV(a=>{const b=a.AJ,c=b.focused,d=b.selected,e=a.pd,f=a.Lpj,g=a.Kpj,h=a.spj,k=a.czr,l=a.mHk,n=a.d_b;a=a.I_o;return mV("div",{className:"_aoqnA",children:[fV(p0s,{TE:b.TE,pd:e,focused:c,selected:d}),fV(q0s,{selected:d,pd:e,Lpj:f,nHk:k}),fV(r0s,{focused:c,pd:e,Kpj:g,mHk:l,d_b:n,spj:h}),fV(a,{})]})}),eFs=hV(a=>{const b=a.Tc;var c=a.context;a=a.Lxp;c=Oj(c.layout).transform(__c.jk(c.container));return fV("div",{style:{...c.scale(b.scale).Nb(),
transform:`rotate(${c.rotation}deg)`},className:"RG4NVA",children:fV(a,{gd:b.scale})})}),q0s=hV(({selected:{Kw:a,tj:b},pd:c,Lpj:d,nHk:e})=>{const f=jV(()=>!1,[]),g=a&&c.DF(a);return a&&g&&b?mV("div",{style:g.Nb(),className:DV("fRULfA","gg402Q"),children:[fV(s0s,{pd:c,Kw:a,isFocused:f}),fV(d,{}),fV(t0s,{Kw:a,tj:b,nHk:e})]}):null}),r0s=hV(({focused:a,pd:b,Kpj:c,mHk:d,d_b:e,spj:f})=>{const g=jV(l=>a.N2c?.tb===l,[a]),h=a.Kw,k=h&&b.DF(h);return k&&h?mV("div",{style:k.Nb(),className:DV("fRULfA","MxqZyA",
{i2kpZg:d.get(),co5Mjw:e.get()}),children:[fV("div",{className:"_8XBw7Q"}),fV(u0s,{focused:a}),fV(s0s,{pd:b,Kw:h,isFocused:g}),fV(c,{}),fV(f,{})]}):null}),u0s=hV(a=>{var b=a.focused,c=b.Kw;a=b.tj;b=b.Vta;if(!c||!a||b==null)return null;c=c.direction;return mV("div",{className:"RBG0bg",style:a.padding,children:[fV("div",{className:"_8XBw7Q"}),fV("div",{className:DV("_5brsHQ",{KzPd0w:c!==2,CLZE_w:c===2}),style:{width:a.gb,gridTemplateColumns:a.mR.grid.gridTemplateColumns.join(" "),columnGap:a.columnGap},
children:fV("div",{className:"b0uIuw",style:{gridColumnStart:b+1,gridColumnEnd:b+2},children:fV("div",{className:"CVVcPQ"})})})]})}),p0s=hV(a=>{const b=a.TE,c=a.pd,d=a.selected;a=a.focused;const e=b.Kw,f=b.N2c,g=jV(()=>!1,[]),h=jV(l=>b.N2c?.tb===l,[b]),k=e&&c.DF(e);return k?mV("div",{style:k.Nb(),className:DV("fRULfA","_9RoMsw",{ICcROg:!!f?.tb,TEomtQ:a.Kw!=null&&a.aea.length===0,_4i1_pQ:d.Kw!=null}),children:[fV("div",{className:"_8XBw7Q"}),fV(s0s,{pd:c,Kw:e,iw:h,isFocused:g})]}):null}),s0s=hV(({Kw:a,
pd:b,iw:c,isFocused:d})=>fV(uV,{children:[...a.cells.entries()].map(([e,f])=>{const g=oV(()=>b.pKg(a,f),{equals:__c.gk(Qj)});return fV(v0s,{pUh:g,iw:c?.(f)??!1,isFocused:d(f)},e)})})),v0s=hV(({pUh:a,iw:b,isFocused:c})=>(a=a.get())?fV("div",{className:DV("lV3NGg",{_9RoMsw:b,_8LSeEQ:c}),style:a.Nb(),children:fV("div",{className:"JGja2g"})}):null),t0s=hV(({Kw:a,nHk:b,tj:c})=>{if(!b.get())return null;b=c.padding;return mV(uV,{children:[b.paddingTop>=24&&fV(w0s,{value:a.padding.ld,height:b.paddingTop,
top:0}),b.paddingBottom>=24&&fV(w0s,{value:a.padding.je,height:b.paddingBottom,bottom:0})]})}),w0s=GV(({value:a,height:b,bottom:c,top:d})=>fV("div",{className:"OA3nYw",style:{height:b,bottom:c,top:d},children:fV("div",{className:"HnFUtw",children:fV(Q,{size:"xsmall",tone:cr,children:J("TFO24A",[Math.round(a)])})})}));var x0s=class{static G(a){O(a,{R_a:oV,bsb:oV,Ttl:oV,h5e:oV,OCd:oV,hCd:oV,LJf:oV,w7n:oV})}get R_a(){const a=this.selection.Ma;if(a?.Ri()){if(a?.inner&&a.inner.type==="layout")return a.inner.container;if(a?.inner&&a.inner.type==="layout-cell")return a.inner.container.container}}get bsb(){return this.R_a?.layout}get Ttl(){const a=this.selection.Ma;if(a?.Ri()){if(a?.inner&&a.inner.type==="layout")return a.inner.cells[0];if(a?.inner&&a.inner.type==="layout-cell")return a.inner.container.tb}}get h5e(){var a=
this.bsb,b=this.Ttl;if(a&&b&&(b=(new Map(a.cells.map((c,d)=>[c,d]))).get(b))){a=lk.mR(a).grid.Bw.get(b);if(this.OCd)return parseInt(a?.gridRowStart??"-1",10)-1;if(this.hCd)return parseInt(a?.gridColumnStart??"-1",10)-1}}get OCd(){const a=this.bsb;return a?lk.mR(a).grid.gridTemplateColumns.length===1:!1}get hCd(){const a=this.bsb;return a?lk.mR(a).grid.gridTemplateRows.length===1:!1}get LJf(){if(this.OCd&&!this.hCd)return"row";if(this.hCd&&!this.OCd)return"column"}get w7n(){return this.LJf==="row"||
this.LJf==="column"?this.R_a:void 0}constructor(a){this.selection=a;x0s.G(this)}},y0s=class{constructor(a){this.selection=a;this.selected=new x0s(this.selection)}};var z0s=class{static G(a){O(a,{Kw:oV,container:oV,tj:oV,N2c:oV,aea:oV,rzf:oV})}get Ybi(){const a=this.selection.Kb;if((a?.type===0||a?.type===1)&&a.container.type==="layout-item-cell")return a.container}get Wtl(){const a=this.selection.Kb;return a?.type===3?a.container:void 0}get Kw(){return(this.Ybi??this.Wtl)?.layout}get container(){const a=this.Wtl;return(this.Ybi?.container??a)?.container}get tj(){return this.zrd(this.container,this.Kw)}get N2c(){const a=this.Ybi;return a?{tb:a.tb,id:a.BG}:void 0}get aea(){const a=
this.selection.Kb;return a?.type===3?[...a.map(b=>b)]:[]}get rzf(){const a=this.tj,b=this.Ybi;if(b&&a){var [c,d]=a.Xqm({tb:b.tb,id:b.BG});return c!=null&&d===c+1?c-1:void 0}}get Vta(){var a=this.selection.Kb;const b=this.tj,c=this.Wtl?.layout;if(a?.type===3&&c&&b){var d=b.mR,e=new Map(c.cells.map((f,g)=>[f,g]));a=a.map(f=>{f=m(e.get(f));const {gridColumnStart:g,gridColumnEnd:h}=m(d.grid.Bw.get(f));if(g==null||h==null)return[];const k=parseInt(g,10);return Array.from({length:parseInt(h,10)-k},(l,n)=>
k-1+n)});a=new Set(a.flat(1));return a.size===1?[...a][0]:void 0}}constructor(a,b){this.selection=a;this.zrd=b;z0s.G(this)}},A0s=class{static G(a){O(a,{erb:zV.ref,Kw:oV,tj:oV,N2c:oV})}get Kw(){return this.erb?.Kw}get tj(){return this.erb?.container?this.zrd(this.erb.container,this.Kw):void 0}get N2c(){return this.erb?.N2c}constructor(a){this.zrd=a;this.erb=(A0s.G(this),void 0)}},B0s=class{static G(a){O(a,{Kw:oV,container:oV,tj:oV})}get Kw(){const a=this.selection.Kb;if(a?.type===1&&a.only?.type===
"layout")return a.only}get container(){const a=this.selection.Kb;if(a?.type===1&&a.only?.type==="layout")return a.container}get tj(){return this.zrd(this.container,this.Kw)}constructor(a,b){this.selection=a;this.zrd=b;B0s.G(this)}},C0s=class{constructor(a,b,c){this.selection=a;this.pd=b;this.Wmd=c;this.zrd=(d,e)=>{const f=this.Wmd;if(d&&e&&(d=this.pd.h5a(d)))return new __c.$Ib(e,d,f)};this.focused=new z0s(this.selection,this.zrd);this.TE=new A0s(this.zrd);this.selected=new B0s(this.selection,this.zrd)}};var D0s=5*Uc,E0s=class{static G(a){O(a,{Frg:oV,$R:oV})}get Frg(){const a=this.AJ.focused.Kw,b=a&&this.pd.DF(a);return b?[Oj({top:b.tl.y+a.padding.ld-D0s,left:b.tl.x,width:b.width,height:D0s})]:[]}get $R(){return this.viewport.iN||Dj()}constructor(a,b,c){this.AJ=a;this.pd=b;this.viewport=c;E0s.G(this)}};var F0s=class{constructor(a,b){this.pd=a;this.Wmd=b;this.Ymk=c=>{const d=__c.$Wd(c.layout)[0];c=c.layout.cells.get(d);return[d,c]};this.Nei=(c,d)=>{for(const [e,f]of d.cells.entries())if(f===c)return e};this.fgi=(c,d,e)=>{var f=d.layout,g=__c.$Wd(d.layout);c=g.indexOf(c);if(c==null)return[void 0,void 0];const h=d.layout.direction===1;d=d.layout.direction===2;e=e==="next"||e==="down"||h&&e==="right"||d&&e==="left"?c+1:c-1;return(f=(g=e>=0?g[e]:void 0)?f.cells.get(g):void 0)&&g?[f,g]:[void 0,void 0]}}};var oFs=GV(({orientation:a,height:b,width:c,onClick:d,padding:e,gb:f,T$q:g,gap:h,$ni:k,Vbc:l,onDragStart:n,pe:p,onDragEnd:q,o0d:r,jzb:t,direction:v,gd:w=1})=>{const x=a==="column"?v===1?h/2:-h/2:0,y=-1*x,z=a==="row"?h/2:0,B=-1*z;return fV("div",{className:DV("LXcOeQ",{smp5Fg:a==="column",DuBvGw:a==="row"}),style:{width:c,height:b,padding:`${e.paddingTop}px ${e.paddingRight}px ${e.paddingBottom}px ${e.paddingLeft}px`},children:mV("div",{style:{width:f,gridTemplateColumns:a==="column"?g.join(" "):"none",
gridTemplateRows:a==="row"?g.join(" "):"none",columnGap:a==="column"?h:"none",rowGap:a==="row"?h:"none"},className:DV("D5zYZQ",{gHnwHQ:v!==2,ON6A0w:v===2}),children:[g.map((C,G)=>fV(G0s,{orientation:a,gRl:G,NY:G===k,onClick:d,onDragStart:n,pe:p,onDragEnd:q,jzb:t,gd:w},G)),r&&fV("div",{className:"MApa6w",style:r.Nb(),children:fV("div",{className:"LUDnXA"})}),l&&k!=null&&fV("div",{className:DV({SpPSQQ:a==="column",kJYp5A:a==="row",wpCz2A:l.index<k,XRPiCQ:l.index>k}),style:{...l.bounds.translate(l.index<
k?y:x,l.index<k?B:z).Nb()}})]})})}),G0s=class extends sTs{componentWillUnmount(){this.i8a?.()}render(){const a=this.props.orientation,b=this.props.gRl,c=this.props.NY,d=this.props.jzb;return fV("div",{className:DV("Y7ISsw",{VQ2gPA:a==="column",G9GP3A:a==="row",P_zEuA:c}),style:{gridColumnStart:a==="column"?b+1:"auto",gridColumnEnd:a==="column"?b+2:"auto",gridRowStart:a==="row"?b+1:"auto",gridRowEnd:a==="row"?b+2:"auto"},children:fV("div",{className:DV("S7hrgg",{tMmKeg:a==="column",_4bvhgg:a==="row"}),
onMouseDown:this.draggable.onMouseDown,onTouchStart:this.draggable.onTouchStart,style:{left:c&&a==="column"?d:void 0,top:c&&a==="row"?d:void 0},children:fV(Wi,{variant:"tertiary",className:"ALM0Rw",icon:__c.Zog,Qc:"small",size:"small",ariaLabel:a==="column"?M("JuaJHw"):M("iz71mA"),onClick:this.onClick})})})}constructor(...a){super(...a);this.draggable=new Tq({onDragStart:iV((b,c)=>{this.props.onDragStart(this.props.gRl,new pj(b.clientX,b.clientY),this.props.gd);this.i8a=c}),pe:iV(b=>this.props.pe(new pj(b.clientX,
b.clientY))),onDragEnd:()=>{requestAnimationFrame(iV(()=>{this.i8a=void 0;this.props.onDragEnd()}))},mKa:oV(()=>"W74d3A")});this.onClick=iV(()=>this.props.onClick(this.props.gRl))}};var H0s=class{static G(a){O(a,{$$a:zV.ref,jzb:oV,UA:oV,IEc:oV,Vbc:oV,o0d:oV})}set Uy(a){this.$$a=hFs(this.viewport.hm(this.viewport.Vg).transform(a.x,a.y),this.u_e,this.UA.rotation)}get jzb(){return this.dragStart!=null&&this.$$a!=null?this.$$a.x-this.dragStart.x:void 0}get UA(){return Oj(this.R_a.layout).transform(__c.jk(this.R_a.container))}get IEc(){const a=this.R_a,b=this.Npc,c=this.u_e,d=[...lk.LKj(a.layout).values()].sort((f,g)=>f.Ub.x-g.Ub.x),e=lk.padding(a.layout);return d.map(f=>f.translate(-e.paddingInlineStart,
-e.paddingBlockStart).scale(b*c))}get Vbc(){var a=this.$$a,b=this.R_a;const c=this.u_e,d=this.IEc;if(this.jzb!=null&&d&&a!=null){var e=hFs(this.UA.Ub,c,this.UA.rotation);b=lk.padding(b.layout);var f=a.x-e.x-b.paddingInlineStart*c;a=d.findIndex(g=>g.Ub.x<=f&&f<g.r.x);return a!==-1?{index:a,bounds:d[a]}:void 0}}get o0d(){var a=m(this.SJb);if(a=this.IEc?.[a])return a?a.translate(this.jzb??0,0):void 0}close(){const a=this.Vbc?.index;a!=null&&this.SBb.aec(this.R_a.layout,this.SJb,a);this.onClose()}constructor(a,
b,c,d,e,f,g,h){this.viewport=a;this.SBb=b;this.R_a=c;this.SJb=d;this.Npc=e;this.u_e=f;this.onClose=h;this.dragStart=(H0s.G(this),void 0);this.dragStart=hFs(a.hm(a.Vg).transform(g.x,g.y),f,this.UA.rotation)}},I0s=class{static G(a){O(a,{$$a:zV.ref,jzb:oV,UA:oV,IEc:oV,Vbc:oV,o0d:oV})}set Uy(a){this.$$a=hFs(this.viewport.hm(this.viewport.Vg).transform(a.x,a.y),this.u_e,this.UA.rotation)}get jzb(){return this.dragStart!=null&&this.$$a!=null?this.$$a.y-this.dragStart.y:void 0}get UA(){return Oj(this.R_a.layout).transform(__c.jk(this.R_a.container))}get IEc(){const a=
this.R_a,b=this.Npc,c=this.u_e,d=[...lk.LKj(a.layout).values()].sort((f,g)=>f.t.y-g.t.y),e=lk.padding(a.layout);return d.map(f=>f.translate(-e.paddingInlineStart,-e.paddingBlockStart).scale(b*c))}get Vbc(){var a=this.$$a,b=this.R_a;const c=this.u_e,d=this.IEc;if(this.jzb!=null&&d&&a!=null){var e=hFs(this.UA.t,c,this.UA.rotation);b=lk.padding(b.layout);var f=a.y-e.y-b.paddingBlockStart*c;a=d.findIndex(g=>g.t.y<=f&&f<g.b.y);return a!==-1?{index:a,bounds:d[a]}:void 0}}get o0d(){var a=m(this.rowIndex);
if(a=this.IEc?.[a])return a?a.translate(0,this.jzb??0):void 0}close(){const a=this.Vbc?.index;a!=null&&this.SBb.cNf(this.R_a.layout,this.rowIndex,a);this.onClose()}constructor(a,b,c,d,e,f,g,h){this.viewport=a;this.SBb=b;this.R_a=c;this.rowIndex=d;this.Npc=e;this.u_e=f;this.onClose=h;this.dragStart=(I0s.G(this),void 0);this.dragStart=hFs(a.hm(a.Vg).transform(g.x,g.y),f,this.UA.rotation)}},J0s=class{static G(a){O(a,{$$a:zV.ref,jzb:oV,IEc:oV,Vbc:oV,o0d:oV})}set Uy(a){this.$$a=this.viewport.iN?.transform(a.x,
a.y)}get jzb(){return this.dragStart!=null&&this.$$a!=null?this.$$a.x-this.dragStart.x:void 0}get IEc(){var a=this.Kw;const b=this.tj,c=a&&this.pd.DF(a);if(c){a=b.padding;var d=a.paddingTop,e=a.paddingBottom;return b.Eig.map(f=>Lj(f.left,0,f.left+f.width,c.height-d-e))}}get Vbc(){var a=this.pd,b=this.$$a,c=this.jzb;const d=this.Kw,e=this.IEc,f=this.tj;a=d&&a.DF(d);b=b?.x;if(c!=null&&e&&b!=null&&a){var g=b-a.Ub.x-(a.width-f.gb)/2;c=e.findIndex(h=>h.Ub.x<=g&&g<h.r.x);return c!==-1?{index:c,bounds:e[c]}:
void 0}}get o0d(){var a=m(this.SJb);if(a=this.IEc?.[a])return a?a.translate(this.jzb??0,0):void 0}close(){const a=this.Vbc?.index;a!=null&&this.vza.aec(this.tj,this.SJb,a);this.onClose()}constructor(a,b,c,d,e,f,g,h){this.viewport=a;this.pd=b;this.vza=c;this.Kw=d;this.SJb=e;this.onClose=g;this.tj=h;this.dragStart=(J0s.G(this),void 0);this.dragStart=a.iN?.transform(f.x,f.y)}},mFs=class{constructor(a,b,c,d){this.store=a;this.SBb=b;this.Ih=c;this.viewport=d;this.onClick=()=>{};this.onDragStart=(e,f,g)=>
{const h=this.store.R_a;if(h&&lk.mR(h.layout)){var k=this.store.Npc;this.Ih.SL(l=>{this.store.E8a?.close();if(this.store.hCd){var n=new H0s(this.viewport,this.SBb,h,e,k,g,f,()=>{l()});this.store.E8a=n}this.store.OCd&&(n=new I0s(this.viewport,this.SBb,h,e,k,g,f,()=>{l()}),this.store.E8a=n)})}};this.pe=e=>{this.store.E8a&&(this.store.E8a.Uy=e)};this.onDragEnd=()=>{this.store.E8a&&(this.store.E8a?.close(),this.store.E8a=void 0)}}},jFs=class{U4e(a){const b=this.store.Kw,c=this.store.container;var d=this.store.mR;
b&&c&&d&&(d=[...d.grid.Bw.entries()].map(([e,f])=>{var g=f.gridColumnStart;f=f.gridColumnEnd;g&&f?(f=parseInt(f,10)-1,g=parseInt(g,10)-1<=a&&f>a):g=!1;return g?e:void 0}).filter(sb).map(e=>b.cells.get(e)).filter(sb),__c.rde(this.selection,c.ew(b),d))}constructor(a,b,c,d,e,f){this.store=a;this.vza=b;this.selection=c;this.Za=d;this.Ih=e;this.viewport=f;this.onClick=g=>{this.U4e(g)};this.onDragStart=(g,h)=>{const k=this.store.Kw,l=this.store.mR,n=this.store.tj;k&&l&&n&&this.Ih.SL(p=>{this.U4e(g);this.store.E8a?.close();
const q=new J0s(this.viewport,this.store.pd,this.vza,k,g,h,()=>{q.Vbc&&this.U4e(q.Vbc.index);p()},n);this.store.E8a=q})};this.pe=g=>{this.store.E8a&&(this.store.E8a.Uy=g)};this.onDragEnd=()=>{this.store.E8a?.close();this.store.E8a=void 0}}};var lFs=class{static G(a){O(a,{E8a:zV.ref})}get d_b(){return this.E8a!=null}get OCd(){return this.AJ.selected.OCd}get hCd(){return this.AJ.selected.hCd}get orientation(){if(this.OCd)return"row";if(this.hCd)return"column"}get R_a(){return this.AJ.selected.R_a}get bsb(){return this.AJ.selected.bsb}get direction(){const a=this.bsb;return a&&a.direction}get wGj(){var a=this.R_a;if(a){var b=a.layout;a=Oj({...b,width:b.gb,height:b.Wb}).transform(__c.jk(a));return{sWd:a.width,imf:a.height}}}get Npc(){const a=
this.bsb,b=this.wGj;return a==null||b==null?1:b.sWd/a.gb}get gap(){var a=this.bsb;const b=this.Npc,c=this.orientation;if(a&&c)return a=c==="row"?lk.rowGap(a):lk.columnGap(a),b*a}get $ni(){return this.AJ.selected.h5e}get UMo(){const a=this.bsb,b=this.Npc,c=this.orientation;if(a&&c)return(c==="row"?lk.Yi(a):lk.Aob(a)).map(d=>d*b)}get gb(){const a=this.bsb;return a&&a.width-this.padding.paddingRight-this.padding.paddingLeft}get padding(){var a=this.bsb;a=a&&lk.padding(a);return{paddingTop:a?.paddingBlockStart??
0,paddingRight:a?.paddingInlineEnd??0,paddingBottom:a?.paddingBlockEnd??0,paddingLeft:a?.paddingInlineStart??0}}get Eid(){return!this.bsb||this.Icc()}constructor(a,b){this.AJ=a;this.Icc=b;this.E8a=(lFs.G(this),void 0)}},iFs=class{static G(a){O(a,{E8a:zV.ref,d_b:oV})}get d_b(){return this.E8a!=null}get orientation(){return this.Kw?"column":void 0}get Kw(){return this.AJ.focused.Kw}get direction(){return this.Kw?.direction}get container(){return this.AJ.focused.container}get tj(){return this.AJ.focused.tj}get wGj(){var a=
this.Kw;return(a=a&&this.pd.DF(a))&&{sWd:a.width,imf:a.height}}get gap(){return this.tj?.columnGap}get $ni(){const a=this.AJ.focused,b=a.Vta;return a.rzf??b}get asa(){return this.tj!=null?Vz(this.tj)?.asa:void 0}get mR(){return this.tj?.mR}get UMo(){return this.tj?.FWh}get gb(){return this.tj?.gb}get padding(){return{paddingTop:this.tj?.padding.paddingTop??0,paddingRight:0,paddingBottom:this.tj?.padding.paddingBottom??0,paddingLeft:0}}get Eid(){const a=this.tj;return!this.Kw||!a||!Vz(a)?.SOc||this.CSe.YUa||
this.Icc()}constructor(a,b,c,d){this.AJ=a;this.CSe=b;this.pd=c;this.Icc=d;this.E8a=(iFs.G(this),void 0)}};var K0s=class{set Uy(a){this.strategy.apply(a)}close(){this.Z9a.stop();this.strategy.close?.();this.onClose()}constructor(a,b,c){this.strategy=a;this.Z9a=b;this.onClose=c}},L0s=class{static G(a){O(a,{Qh:zV.ref,toc:zV.ref,PVg:zV.ref,OVg:zV.ref,mri:zV.ref,YUa:oV,kpn:oV})}get selected(){const a=this.AJ.selected,b=a.Kw;return{Kw:b,tj:a.tj,container:a.container,C9d:b&&this.pd.DF(b)}}get focused(){var a=this.AJ.focused;const b=a.Kw,c=a.tj,d=a.container,e=a.rzf;a=a.Vta;return{Kw:b,C9d:b&&this.pd.DF(b),oGf:e??
a,tj:c,container:d}}get BWs(){const a=this.AJ.focused.tj;var b=this.selection.Kb;b=b?.type===1&&b.only!=null&&b.container.type==="layout-item-cell";return!a||!Vz(a)?.SOc||b}get Icc(){return this.Ovr()}get YUa(){return this.PVg||this.toc!=null||this.OVg}get kpn(){const a=this.nq.controls.hK;return a==="top"||a==="bottom"}get lHk(){return this.mri||this.OVg}constructor(a,b,c,d,e){this.selection=a;this.AJ=b;this.pd=c;this.nq=d;this.Ovr=e;this.Qh=(L0s.G(this),void 0);this.toc=void 0;this.mri=this.OVg=
this.PVg=!1}};var M0s=class{apply(a){pFs(this,a);const b=this.UCa();a=this.transformPoint(a);this.Nqa.dz(this.qMc,a,b,!0,c=>{pFs(this,c);return b})}close(){this.Nqa.close()}constructor(a,b,c,d,e,f,g,h){this.toc=a;this.bIl=b;this.Kw=c;this.tj=d;this.handle=e;this.Nqa=f;this.UCa=g;this.transformPoint=h;this.qMc={type:"resize",handle:this.handle};this.hDo=this.tj.gb}},sFs=class{constructor(a,b,c,d,e){this.undo=a;this.Ih=b;this.eua=c;this.transformPoint=d;this.store=e;this.r4r=(f,g)=>{const h=this.store.selected.container,
k=this.store.selected.Kw,l=this.store.selected.C9d,n=this.store.selected.tj;h&&k&&l&&n&&this.Ih.SL(p=>{this.store.toc=f;this.store.Qh?.close();var q=qFs(n,l);q=this.eua.rDo(new __c.lmh(q,g),k,h,n.Vp);this.store.Qh=new K0s(new M0s(f,g,k,n,f,q,()=>qFs(n,l),this.transformPoint),this.undo.startBuffering(),p)})};this.q4r=f=>{this.store.Qh&&(this.store.Qh.Uy=f)};this.p4r=()=>{this.store.toc=void 0;this.store.Qh?.close();this.store.Qh=void 0}}};var N0s=class{apply(a){this.esh!=null&&this.rti.x!==a.x&&(a=a.x-this.bIl.x,this.Kw.direction!==2?this.bGl==="inlineStart"&&(a*=-1):this.bGl==="inlineEnd"&&(a*=-1),rFs(this,this.esh+a),this.San=!0)}close(){if(this.San){var a=this.asa;this.P.track(__c.Mlh,{action:"column_width_resized",UL:a?.grid.gridTemplateColumns.length,Pt:a?.grid.gridTemplateRows.length})}}constructor(a,b,c,d,e,f){this.P=a;this.Kw=b;this.tj=c;this.SJb=d;this.bGl=e;this.bIl=f;this.San=!1;this.Idm=this.bGl==="inlineEnd"?d+1:d-1;sa(this.SJb>=
0&&this.Idm>=0);this.esh=this.tj.Eig[this.SJb]?.width;this.asa=(this.tj!=null?__c.Hrf(this.tj):void 0)?.asa;this.baq=c.gb-(this.asa?c.RFo:0);this.rti=f}},yFs=class{static G(a){O(a,{onMouseEnter:iV.bound,onMouseLeave:iV.bound,onClick:iV.bound})}onMouseEnter(){this.store.mri=!0}onMouseLeave(){this.store.mri=!1}onClick(){const a=this.store.focused.Kw,b=this.store.focused.container;a&&b&&this.selection.Nw(b,a)}constructor(a,b,c,d,e){this.undo=a;this.selection=b;this.Ih=c;this.P=d;this.store=e;this.S3r=
(yFs.G(this),(f,g,h)=>{const k=this.store.focused.Kw,l=this.store.focused.tj,n=this.store.focused.C9d;k&&n&&l&&this.Ih.SL(p=>{this.store.OVg=!0;this.store.Qh?.close();this.store.Qh=new K0s(new N0s(this.P,k,l,f,g,h),this.undo.startBuffering(),p)})});this.R3r=f=>{this.store.Qh&&(this.store.Qh.Uy=f)};this.Q3r=()=>{this.store.OVg=!1;this.store.Qh?.close();this.store.Qh=void 0}}};var O0s,zFs,Q0s=class extends IV{get Vvr(){return this.props.oGf===0}get Swr(){const {asa:a}=Vz(this.props.tj)??{};return a&&this.props.oGf===a.grid.gridTemplateColumns.length-1}render(){const a=this.props.Kw,b=this.props.tj,c=this.props.C9d,d=this.props.pe,e=this.props.onDragEnd;var f=this.props.oGf;const g=this.props.lHk,h=this.props.onMouseEnter,k=this.props.onMouseLeave,l=this.props.onClick;var n=b.padding;const p=n.paddingTop,q=n.paddingBottom;n=b.Eig.map(r=>Lj(r.left,0,r.left+r.width,c.height-
p-q));return(f=f!=null?n?.[f]:void 0)?mV("div",{className:"_2qe7aw",style:{paddingTop:p,paddingBottom:q},children:[fV("div",{className:DV("vb8OZg",{y1tB4g:g})}),mV("div",{className:DV("BSPXOg",{vBa_SA:a.direction!==2,q4lpmA:a.direction===2}),style:{width:b.gb},children:[g&&n?.map((r,t)=>fV("div",{className:"_22NqHw",style:{...r},children:fV("div",{className:"vb8OZg"})},t)),fV(P0s,{bounds:f.Nb(),Qzr:!this.Vvr,Cvr:!this.Swr,onDragStart:this.onDragStart,pe:d,onDragEnd:e,onMouseEnter:h,onMouseLeave:k,
onClick:l})]})]}):null}constructor(...a){super(...a);this.onDragStart=(b,c)=>{const d=this.props.oGf;if(d!=null)this.props.onDragStart(d,b,c)}}};({c:[zFs,O0s]}=KV(Q0s,[],[Lb],IV));O0s();
var P0s=GV(({bounds:a,Qzr:b,Cvr:c,onDragStart:d,pe:e,onDragEnd:f,onMouseEnter:g,onMouseLeave:h,onClick:k})=>mV("div",{className:DV("ox1XRA"),style:a,children:[b&&fV(R0s,{side:"inlineStart",onDragStart:d,pe:e,onDragEnd:f,onMouseEnter:g,onMouseLeave:h,onClick:k}),c&&fV(R0s,{side:"inlineEnd",onDragStart:d,pe:e,onDragEnd:f,onMouseEnter:g,onMouseLeave:h,onClick:k})]})),R0s=class extends sTs{render(){const a=this.props.side,b=this.props.onMouseEnter,c=this.props.onMouseLeave;return fV("div",{className:DV("pa2PwA",
{Ga8mEw:a==="inlineEnd",_4ePfAA:a==="inlineStart"}),onMouseDown:this.onMouseDown,onTouchStart:this.draggable.onTouchStart,onClick:this.onClick,onMouseEnter:b,onMouseLeave:c})}constructor(...a){super(...a);this.hNe=!1;this.draggable=new Tq({onDragStart:iV(b=>{this.hNe=!0;this.props.onDragStart(this.props.side,new pj(b.clientX,b.clientY))}),pe:iV(b=>this.props.pe(new pj(b.clientX,b.clientY))),onDragEnd:iV(()=>this.props.onDragEnd()),mKa:oV(()=>"KQSIwQ")});this.onMouseDown=b=>{this.hNe=!1;this.draggable.onMouseDown(b)};
this.onClick=()=>{if(!this.hNe)this.props.onClick()}}};var tFs=GV(a=>{const b=a.nDa,c=a.paddingTop,d=a.onDragStart,e=a.pe,f=a.onDragEnd,g=a.toc;return fV("div",{style:{width:a.GU,height:b},children:fV("div",{style:{marginTop:`${c}px`,width:`${a.gb}px`,height:`${b-c-a.paddingBottom}px`},className:DV("aPwIdw",{uyaqmw:!!g,ifl7dA:a.Icc}),children:["left","right"].map(h=>fV(S0s,{side:h,onDragStart:d,pe:e,onDragEnd:f,YUa:g===h},h))})})}),S0s=class extends sTs{render(){const a=this.props.side;return fV("div",{className:DV("y_6bUQ",{__x9Ig:a==="left",OjZzNQ:a===
"right",Q_bC3w:this.props.YUa}),onMouseDown:this.draggable.onMouseDown,onTouchStart:this.draggable.onTouchStart,children:fV("div",{className:"c9fvmg"})})}constructor(...a){super(...a);this.draggable=new Tq({onDragStart:iV(b=>this.props.onDragStart(this.props.side,new pj(b.clientX,b.clientY))),pe:iV(b=>this.props.pe(new pj(b.clientX,b.clientY))),onDragEnd:iV(()=>this.props.onDragEnd()),mKa:oV(()=>"_7WfdmA")})}};var wFs=hV(a=>{const b=a.onDragStart,c=a.onDragEnd,d=a.pe,e=a.ux,f=a.width,g=a.height,h=a.GYs,k=a.Ahc,{M9o:l,...n}=a;a=n.b8d;const p=a.mib;return mV(uV,{children:[fV(l,{...(h?{...n,b8d:{...a,mib:{...p,left:void 0,right:void 0}}}:n)}),h&&fV(T0s,{width:f,height:g,Ahc:k,onDragStart:b,pe:d,onDragEnd:c,ux:e})]})}),T0s=hV(({height:a,width:b,Ahc:c,onDragStart:d,pe:e,onDragEnd:f,ux:g})=>mV("div",{className:"Vx6WjA",style:{width:b,height:a},children:[c.Ub&&fV(U0s,{side:"left",RKm:c.Ub,onDragStart:d,pe:e,onDragEnd:f,
ux:g}),c.r&&fV(U0s,{side:"right",RKm:c.r,onDragStart:d,pe:e,onDragEnd:f,ux:g})]})),U0s=class extends sTs{render(){const a=this.props.side;return fV("div",{className:DV("DuTSAQ",{bM_mBA:a==="left",X4n9ZA:a==="right"}),onMouseDown:this.draggable.onMouseDown,onTouchStart:this.draggable.onTouchStart,children:fV("div",{className:"LZc7cQ"})})}constructor(...a){super(...a);this.onDragStart=(b,c,d)=>{this.props.onDragStart(this.props.side,this.props.RKm,b,c,d)};this.draggable=new Tq({onDragStart:iV(this.onDragStart),
pe:iV(this.props.pe),ux:iV(this.props.ux),onDragEnd:iV(this.props.onDragEnd)})}};var V0s=parseInt("24px",10),vFs=LV(function(a){return Math.abs(a.width-a.gb)<V0s});var CFs=class{constructor(a,b){this.store=a;this.P=b;this.uXi=c=>{var d=this.store.Iti;if(d){var e=d.Kw;d=d.cells;var f=new Map(e.cells.map((g,h)=>[g,h]));d.forEach(g=>{const h=f.get(g);e.behavior.rules.forEach(k=>{if(k=k.grid.Bw.get(h))k.padding.all=c,k.padding.ld=void 0,k.padding.je=void 0,k.padding.yd=void 0,k.padding.sf=void 0,this.Goq()})})}};this.YRs=c=>{const d=this.store.tj!=null?__c.Hrf(this.store.tj):void 0;d&&(d.Ydc&&(d.Ydc.grid.columnGap=c),d.asa&&(d.asa.grid.columnGap=c),this.Ioq())};
this.uTs=c=>{const d=this.store.tj!=null?__c.Hrf(this.store.tj):void 0;d&&(d.Ydc&&(d.Ydc.grid.rowGap=c),d.asa&&(d.asa.grid.rowGap=c),this.Yoq())};this.pXj=c=>Db(()=>{var d=this.store.tj;({asa:d}=(d!=null?Vz(d):void 0)??{});this.P.track(__c.Mlh,{action:c,UL:d?.grid.gridTemplateColumns.length,Pt:d?.grid.gridTemplateRows.length})},1E3);this.Goq=this.pXj("cell_spacing_resized");this.Ioq=this.pXj("column_spacing_resized");this.Yoq=this.pXj("row_spacing_resized")}};var BFs=class{static G(a){O(a,{Iti:oV,tj:oV,PCm:oV,cXd:oV})}get Iti(){var a=this.AJ.selected?.Kw;if(a){var b=a.cells.map(d=>d);return{Kw:a,cells:b}}a=this.AJ.focused.Kw;b=this.AJ.focused.N2c;const c=this.AJ.focused.aea;if(a&&b)return{Kw:a,cells:[b.tb]};if(a&&c)return{Kw:a,cells:c}}get tj(){return this.AJ.selected.tj??this.AJ.focused.tj}get PCm(){var a=this.Iti;const b=this.tj;if(a&&b){var c=a.cells,d=b.mR,e=new Map(a.Kw.cells.map((f,g)=>[f,g]));a=c.map(f=>{f=e.get(f);return f!=null?d.grid.Bw.get(f)?.padding:
void 0}).map(f=>f!=null?__c.PIb(f,1).paddingBlockStart:0);a=[...(new Set(a))];return a.length===1?a[0]:void 0}}get cXd(){var a=this.Hpf.V2a;const b=a?.["change-cell-padding"],c=a?.["change-column-gap"];a=a?.["change-row-gap"];if(this.Iti&&(b||c||a))return{cellPadding:b,columnGap:c,rowGap:a}}get columnGap(){return this.tj?.mR.grid.columnGap}get rowGap(){return this.tj?.mR.grid.rowGap}constructor(a,b){this.AJ=a;this.Hpf=b;BFs.G(this)}};var DFs=GV(a=>fV(a.yi,{icon:__c.N7g,pressed:a.open,zh:"icon",onClick:a.onClick,tooltip:M("BtDtuQ"),children:M("BtDtuQ")})),EFs=GV(a=>{const b=a.Zh,c=a.We,d=a.cellPadding,e=a.N_k,f=a.columnGap,g=a.P3r,h=a.rowGap;a=a.cds;return fV(R,{padding:c==="fill"?"2u":"0",className:DV({u9Sfdw:c==="fixed"}),children:mV(Tc,{spacing:"2u",children:[e&&fV(b,{label:M("BHtCqg"),min:0,max:40,step:1,dz:0,value:d!=null?Math.round(d*1E3)/1E3:void 0,onChange:iV(e)}),g&&fV(b,{label:M("aT6ZSA"),min:0,max:40,step:1,dz:0,value:f!=
null?Math.round(f*1E3)/1E3:void 0,onChange:iV(g)}),a&&fV(b,{label:M("HFpIpQ"),min:0,max:40,step:1,dz:0,value:h!=null?Math.round(h*1E3)/1E3:void 0,onChange:iV(a)})]})})});var W0s=a=>a.every(b=>!!b.id),IFs=class{get zPp(){return this.Owd||W0s(this.session.document.pages.toArray())}constructor(a,b,c,d,e,f,g,h,k,l,n,p){this.j$d=a;this.selection=b;this.ma=c;this.P=d;this.session=e;this.ka=f;this.NP=g;this.errorService=h;this.document=k;this.Owd=l;this.SBg=n;this.fe=p}};var GGs=class{next(){let a;do a=`${this.prefix}${(this.kOe++).toString(36)}`.slice(-8);while(this.iUm.has(a));return a}constructor(a){this.kOe=0;this.iUm=new Set;this.prefix=(a.clientId||a.id).toLowerCase().replace(/[^a-z0-9]/g,"");const b=c=>{for(const d of c)switch(d.anchor&&this.iUm.add(d.anchor),d.type){case "fixed":case "responsive":break;case "concatenated-fixed":b(d.pages);break;default:throw new u(d);}};b(a.document.pages)}};var IGs=class{async Old(a,b,c){if(this.selection.Kb)return this.ZIs.Old(a,b);if(c&&c.Hg){var d=c.Hg,e=c.container.page;if(a){var f=this.V.wb("link_embed_to_href",{Hb:{name:"editor.element_convert",type:"link_to_embed"}}),g=!!this.Ww.link,h=this.undo.startBuffering();try{await this.Fv.wL(a),f.ob().addEvent("embed_resolved"),rV(()=>{if(e.elements.has(d)){g&&this.ma.Ib({Db:M("vgGQGQ")});const k=this.rgi(d,e);this.qc.wL(a,{Xc:"switch_display_mode",span:f},{placement:k});e.elements.delete(d)}})}catch(k){this.ma.Ib({Db:M("F7W1Qg")})}finally{rV(()=>
{h.stop();f.end()})}}else e.elements.delete(d)}}constructor(a,b,c,d,e,f,g,h,k){this.document=a;this.Ww=b;this.ZIs=c;this.selection=d;this.Fv=e;this.ma=f;this.undo=g;this.V=h;this.qc=k;this.rgi=(l,n)=>{if(this.selection.Kb)return{};const p=__c.Cbe(n,this.document),q=p?!p.GH(new pj(l.left,l.top)):!1;var r=Oj(l);r=(p?r.Ah().filter(t=>!p.GH(t)).length:0)>=2;return q||r?{page:n}:{topLeftCorner:{top:l.top,left:l.left}}}}},EGs=class{async Old(a,b){const c=this.Za.$qg(),d=this.undo.startBuffering();try{const e=
await this.Fv.wL(a),f=DJa(a)&&await this.Lvd.rFg(a)||e.title||a;await rV(()=>{this.ma.Ib({Db:M("vgGQGQ")});c?.Sc&&this.Za.qv(c.Sc,c);this.Za.TLf(a);this.Za.vR();switch(b){case "iframe":return this.qc.wL(a,{Xc:"switch_display_mode"});case "pill":return this.qc.bha({type:"embed",url:a,text:f},{Xc:"switch_display_mode"});case void 0:break;default:throw new u(b);}})}catch(e){this.ma.Ib({Db:M("F7W1Qg")})}finally{rV(()=>{d.stop();c?.disconnect()})}}constructor(a,b,c,d,e,f){this.qc=a;this.Fv=b;this.Lvd=
c;this.Za=d;this.ma=e;this.undo=f}};var KGs=GV(a=>{const b=a.state==="edit"?M("R3xUrg"):M("vcZEOw");return fV("div",{children:fV(a.yi,{tooltip:b,disabled:a.disabled,pressed:a.open,selected:a.selected,zh:"icon",onClick:a.onClick,icon:a.state==="edit"?bu:to,className:"pmsg5w",children:b})})}),LGs=GV(({yi:a,link:b,label:c,tooltip:d,icon:e,layout:f,disabled:g,onClick:h})=>fV(a,{tooltip:d,onClick:h,icon:e,zh:"icon-and-label",disabled:g,href:b?.type!=="page"?__c.FNr(b?.href):void 0,target:"_blank",children:!e&&fV("span",{className:DV("U_t2yg",
g&&"GedLzA",f===2&&b?.type==="page"&&"_5zrp5w"),children:c})})),MGs=GV(({yi:a,onClick:b})=>fV(a,{tooltip:M("C3XJ5w"),onClick:b,icon:tD,zh:"icon"})),PGs=GV(({Dm:a,state:b,onClick:c,oa:d,rl:e})=>fV(e,{Icon:b==="edit"?bu:to,label:b==="edit"?M("R3xUrg"):M("vcZEOw"),Dm:a,onClick:c,oa:d}));var X0s={eventType:"editor_element_link_changed",Oa(a){return jf({type:a.type,action:a.action,link:__c.jh(a.link),design_id:a.designId,doctype_id:a.Ea,category_id:a.eb,page_width:a.Bq,page_height:a.ss,num_pages_in_document:a.rz,num_elements_in_page:a.eF,page_index:a.Yb,applied_to_text_range:a.rBj,control_context:a.mb,session_id:a.sessionId,editing_context:a.Ca==null?void 0:mf(a.Ca)})}};var Y0s={eventType:"document_external_link_clicked",Oa(a){return jf({design_id:a.designId,access_role:a.Xf,link:__c.jh(a.link),element_type:a.elementType,editing_context:a.Ca==null?void 0:mf(a.Ca),trackable_link_id:a.Hjc,resource_id:a.resourceId})}};var JGs=class{static G(a){O(a,{cve:iV.bound,Imc:iV.bound,Tec:iV.bound,Nda:iV.bound,GX:iV.bound,HEi:iV.bound,IKd:iV.bound,onCopy:iV.bound,nJe:iV.bound})}cve(a,b){if(this.selection.Kb){var c=a.anchor??(a.anchor=this.nVd.next());return this.d2.cve(a,b,c)}c=this.store.target;switch(c){case "element":a=a.anchor??(a.anchor=this.nVd.next());MFs(this,`${"#page-"}${a}`);break;case "text":a=a.anchor??(a.anchor=this.nVd.next());NFs(this,`${"#page-"}${a}`);break;case "sheet-cell":this.XLk(a,b);break;case "embed":this.ma.Ib({Db:M("F7W1Qg")});
break;case void 0:break;default:throw new u(c);}}async Imc(a){if(this.selection.Kb)return this.d2.Imc(a);const b=this.store.target,c=this.store.$3a,d=KFs(this,a);if(d)this.cve(d);else switch(b){case "element":MFs(this,a);break;case "text":NFs(this,a);break;case "sheet-cell":await OFs(this,a);break;case "embed":await this.A$b.Old(a,void 0,c);break;case void 0:break;default:throw new u(b);}}Tec(){const a=this.store.link;if(a){var b=a.type;switch(b){case "url":this.$5g(a.href);break;case "page":a.dh&&
this.HEi&&this.HEi(a.dh);break;default:throw new u(b);}}}Nda(){if(this.selection.Kb)return this.d2.Nda();this.store.t3d?.Y3s()}GX(){this.store.Bri=!1;if(this.selection.Kb)return this.d2.GX();this.store.t3d?.w5s()}HEi(a){switch(a.type){case "fixed-page":this.selection.YU(a.container,a.ia);break;case "concatenated-fixed-page":this.selection.YU(a,a.pages.first());break;case "responsive-page":zo.JCg?__c.f2a(this.selection,a.$Xb(a.ia.marker),a.ia.marker.background):this.selection.pW(a.container,a.page);
break;default:throw new u(a);}this.viewport.uh&&this.viewport.uE(a)}sQf(a){if(this.selection.Kb)return this.d2.sQf(a);this.nJe();const b=this.selection.Ma;if(b&&b.type==="elements"){var c=new Set(b.elements.map(d=>d.type));this.P.track(__c.qmh,{menu:a,LIa:Array.from(c),eF:b.container.elements.size,Bq:0,ss:0,rz:0})}}$5g(a){if(this.selection.Kb)return this.d2.$5g(a);this.ka&&this.P.track(Y0s,{designId:this.ka,link:a})}IKd(a){if(this.selection.Kb)return this.d2.IKd(a);var b=this.store.mz;if(this.store.target===
"sheet-cell"&&b){var c=b.sheet;b=b.anchor;this.FK?.cao(c,b,a);this.ma.Ib({Db:M("rLQCQA")})}else if(b=this.store.Xob,b?.type==="focused"){var d=b.range.index,e=b.range.length,f=b.Sc.Ya.slice(d,d+e);if(f!==a){var g=this.undo.startBuffering();try{c=Array.from(b.Sc.wsa({index:d,length:e},"link").link).find(sb);let h=a;f.endsWith("\n")&&!a.endsWith("\n")&&(h=a+"\n");b.Sc.kdb([{index:d,length:e}],h);this.mc.nA();this.store.t3d?.dSo({index:d,length:a.length});this.store.Xob&&(this.mc.deselectAll(),this.mc.select(this.store.Xob));
c&&LFs(this,c)}finally{rV(()=>g.stop())}this.ma.Ib({Db:M("rLQCQA")})}}}onCopy(){if(this.selection.Kb)return this.d2.onCopy();this.store.link&&this.store.link.type!=="page"&&(this.NP(__c.FNr(this.store.link.href)),this.ma.Ib({Db:M("xcEZcQ")}))}XLk(a,b){var c=a.anchor??(a.anchor=this.nVd.next()),d=this.store.mz;if(d){a=d.sheet;d=d.anchor;c=`${"#page-"}${c}`;var e=this.FK?.link(a,d);this.FK?.isEmpty(a,d)||e?.type===2?this.FK?.kid(a,[d],c,b??c):this.FK?.Hjg(a,[d],c);this.ma.Ib({Db:e?M("vgGQGQ"):M("wStY/A")});
this.mne({type:"sheet-cell",rBj:!1})}}mne(a){const b=this.selection.Ma;b&&b.type==="elements"&&this.P.track(X0s,{...a,eF:b.Fp.elements.count(),link:"",Bq:0,ss:0,rz:0})}nJe(){if(this.store.link?.href){var a=this.store;{const c=this.mc,d=this.selection;if(c.state?.type==="focused")var b=c.TLf(d.Ma,this.store.link.href);else(b=d.Ma?.type==="elements"&&d.Ma?.elements?.length===1&&d.Ma.elements[0])&&b.type==="text"&&b.text.SD("link").link.size===1?(c.fBa(d.Ma,"all"),b=!0):b=!1}a.Bri=b}}constructor(a,b,
c,d,e,f,g,h,k,l,n,p,q,r,t){this.controller=a;this.store=b;this.A$b=c;this.d2=d;this.FK=e;this.nVd=f;this.selection=g;this.mc=h;this.viewport=k;this.ma=l;this.P=n;this.ka=p;this.NP=q;this.undo=r;this.document=t;JGs.G(this)}},FGs=class{static G(a){O(a,{Imc:iV.bound,Tec:iV.bound,Nda:iV.bound,GX:iV.bound,IKd:iV.bound,onCopy:iV.bound,nJe:iV.bound})}cve(a,b,c){c=`${"#page-"}${m(c)}`;this.store.mz?this.XLk(c,b??a.title):this.Imc(c)}XLk(a,b){var c=this.store.mz;if(c){var d=c.sheet;c=c.anchor;var e=this.FK?.link(d,
c),f=!!e;this.FK?.isEmpty(d,c)||e?.type===2?this.FK?.kid(d,[c],a,b??a):this.FK?.Hjg(d,[c],a);this.ma.Ib({Db:f?M("vgGQGQ"):M("wStY/A")});this.mne(f?"edit":"add")}}async Imc(a){const b=this.Za.state,c=this.store.DOa;if(c&&(b?.type!=="RANGE"||c.oB===b?.oB)||this.Za.state?.type==="SHEET_CELL")a?await this.jVl(a)&&this.mne(this.S9h?"edit":"add"):(this.sIc(),this.mne("delete"))}Tec(){const a=this.store.link;a&&this.$5g(a.href)}get S9h(){if(this.store.mz){const a=this.store.mz.sheet,b=this.store.mz.anchor;
return this.FK?.ZP(a,b)}return tef(this.Za)?.link}Nda(){this.store.DOa=__c.DNr(this.Za);this.store.aih?.Z3s()}GX(){this.store.DOa?.disconnect();this.store.DOa=void 0;this.store.aih?.x5s();this.Za.focus()}sQf(a){this.nJe();const b=this.Za.state?.type==="RANGE"?this.Za.state?.oB:void 0;this.P.track(__c.qmh,{menu:a,LIa:b&&[b.type],eF:-1,Bq:0,ss:0,rz:0})}$5g(a){this.ka&&this.P.track(Y0s,{designId:this.ka,link:a})}IKd(a){const b=this.store;var c=this.Za;if(b.mz){c=b.mz.sheet;var d=b.mz.anchor;this.FK?.cao(c,
d,a)}else{var e;if(d=c.b8a())d.forEach({Ya:(f,g,h)=>{e||h.link!==b.link?.href||(e={...h})},item:()=>{}}),a=c.gDa(a,e).connect(),c.state?.Sc&&this.Za.qv(c.state.Sc,a),this.store.DOa?.disconnect(),this.store.DOa=__c.DNr(this.Za),a.disconnect()}}onCopy(){this.store.link&&this.store.link.type!=="page"&&(this.NP(__c.FNr(this.store.link.href)),this.ma.Ib({Db:M("xcEZcQ")}))}mne(a){this.P.track(X0s,{type:this.store.DOa?.oB?"item":"text",action:a,eF:-1,link:"",Bq:0,ss:0,rz:0})}nJe(){this.Za.focus();this.S9h&&
this.Za.TLf(this.S9h)}async jVl(a){var b=this.store.$ib;const c=!!this.S9h;if(this.store.mz){b=this.store.mz.sheet;const d=this.store.mz.anchor;try{return await this.FK?.Hjg(b,[d],a),this.ma.Ib({Db:c?M("vgGQGQ"):M("wStY/A")}),!0}catch(e){return this.ma.Ib({Db:M("F7W1Qg")}),!1}}switch(b){case void 0:case "link":if(this.store.DOa==null||this.store.DOa.oB==null&&!this.store.DOa?.DUa)break;this.store.DOa.setAttributes({...bB,link:a});this.ma.Ib({Db:c?M("vgGQGQ"):M("wStY/A")});return!0;case "iframe":try{return await this.A$b.Old(a,
b),!0}catch(d){this.ma.Ib({Db:M("F7W1Qg")})}break;case "pill":try{return await this.A$b.Old(a,b),!0}catch(d){this.ma.Ib({Db:M("9vRlyg")})}break;default:throw new u(b);}return!1}sIc(){var a=this.store.$ib;if(this.store.mz){a=this.store.mz.sheet;const b=this.store.mz.anchor;this.FK?.kRi(a,b)}else switch(a){case void 0:case "link":if(!this.store.DOa)break;this.store.DOa.setAttributes({decoration:"none",link:"",color:void 0});break;case "iframe":case "pill":this.Za.vR();break;default:throw new u(a);}}constructor(a,
b,c,d,e,f,g,h){this.store=a;this.A$b=b;this.FK=c;this.Za=d;this.ma=e;this.P=f;this.ka=g;this.NP=h;FGs.G(this)}};var Z0s='<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="M3 5.25A2.25 2.25 0 0 1 5.25 3h13.5A2.25 2.25 0 0 1 21 5.25v13.5A2.25 2.25 0 0 1 18.75 21H5.25A2.25 2.25 0 0 1 3 18.75V14.5h1.5v4.25c0 .414.336.75.75.75h13.5a.75.75 0 0 0 .75-.75V5.25a.75.75 0 0 0-.75-.75H5.25a.75.75 0 0 0-.75.75V9.5H3z"/><path d="M1.75 12a.75.75 0 0 1 .75-.75h9.69L8.97 8.03a.75.75 0 0 1 1.06-1.06l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H2.5a.75.75 0 0 1-.75-.75z"/></g></svg>';var $0s=Uq({medium:Z0s},!0);var a1s=class{static G(a){O(a,{j7b:zV.ref,Xhf:zV.ref,wuj:zV.ref,xuj:zV.ref,dSo:iV.bound,lnc:oV,Mmg:oV,Wnm:oV,Xnm:oV})}Y3s(){this.j7b=this.selection.Ma;(this.Xhf=this.mc.state?.type==="multi-config"?__c.$A(this.mc.state):this.mc.state)&&this.s1j==null&&(this.s1j=gV(()=>({mc:this.Xhf,Ri:this.store.uIk,link:this.store.KNl}),({mc:a,Ri:b,link:c})=>{this.mc.state===a&&(this.wuj=b,this.xuj=c)},{equals:nV.structural,fireImmediately:!0}))}w5s(){this.s1j?.();this.xuj=this.wuj=this.Xhf=this.j7b=this.s1j=void 0}dSo(a){this.Xhf=
{...this.Mmg,range:a}}get lnc(){return this.j7b}get Mmg(){return this.Xhf}get Wnm(){return this.mc.state!==this.Mmg?this.wuj:void 0}get Xnm(){return this.mc.state!==this.Mmg?this.xuj:void 0}constructor(a,b,c){this.store=a;this.selection=b;this.mc=c;this.j7b=(a1s.G(this),void 0)}},b1s=class{static G(a){O(a,{j7b:zV.ref,lnc:oV})}Z3s(){this.j7b=this.selection.state}x5s(){this.j7b=void 0}get lnc(){return this.j7b}constructor(a){this.selection=a;this.j7b=(b1s.G(this),void 0)}};var HGs=class{static G(a){O(a,{lxa:zV.ref,Bri:zV.ref,$3a:oV,ijo:oV,ICm:oV,Xob:oV,mz:oV,YDk:oV,oob:oV,linkText:oV,link:oV,H_b:oV,WUg:oV,target:oV,ui:oV,k8e:oV,Z3b:oV,KOi:oV,Mid:oV,n8e:oV,$7e:oV,x8e:oV,Wph:oV,u6d:oV,I9c:oV,uIk:oV,OTi:oV,KNl:oV,jKf:oV,bui:oV,iKf:oV,hKf:oV,$ib:oV,h8h:oV,j7h:oV,wxe:oV,lYg:oV,Qpc:oV,hYg:oV})}get $3a(){return this.t3d.lnc??this.selection.Ma}get ijo(){if(this.$3a?.type!=="elements")return[];const a=this.$3a.container;return this.$3a.elements.map(b=>{b=a.Me(b);const c=Dqs(this.controller,
b);return c?{UOa:b,JFr:c}:void 0}).filter(sb)}get ICm(){if(this.$3a?.type==="elements"){var a=this.$3a.Hg;return a?Dqs(this.controller,this.$3a.container.Me(a)):void 0}}get Xob(){return this.t3d.lnc?this.t3d.Mmg:this.mc.state?.type==="multi-config"?__c.$A(this.mc.state):this.mc.state}get mz(){if(this.selection.Kb)return this.e2.mz;var a=this.$3a;if(a?.inner?.type==="sheet"&&a.Ri()){var b=a.type==="pages"?a.inner.page.sheet:a.inner.sheet.config,c=Array.from(a.inner.cells);if(a=a.inner.anchor)return{sheet:b,
cells:c,anchor:a}}}get YDk(){const a=this.$3a?.Hg;return a?.type==="embed"&&__c.LDb(a.url).name==="Codelet"}get oob(){if(this.selection.Kb)return this.e2.oob;const a=this.$3a;var b=this.mz;if(!this.X||!a||!a.Ri(Ol.Sw))return!1;if(b){const c=b.sheet,d=b.cells;b=b.anchor;return this.FK?.oob(c,d,b)??!1}return a.inner?.type==="sheet-cell-media"||!a.elements||this.YDk?!1:this.I9c||a.elements.length===1&&a.elements[0].type==="embed"?!0:a.elements.every(c=>{const d=Dqs(this.controller,a.container.Me(c));
c=c.type==="table"&&a.inner;return d&&!c})}get linkText(){var a=this.target;switch(a){case "text":return this.t3d.Xnm??this.KNl??"";case "embed":return this.Qpc?.href??"";case "element":case void 0:return this.ICm?.get()??"";case "sheet-cell":if(this.mz){a=this.mz.sheet;const b=this.mz.anchor;return this.FK?.ZP(a,b)??""}return"";default:throw new u(a);}}get link(){if(this.selection.Kb)return this.e2.link;if(this.linkText){if(this.Qpc)return this.Qpc;var a=this.Zo.jPb(this.linkText);return a.type===
"url"?(a=Kv(this.linkText),Sl(a).ok&&__c.LDb(a).name!=="Codelet"?{type:"url",href:a}:void 0):a.href?a:void 0}}get H_b(){if(this.selection.Kb)return this.e2.H_b;var a=this.target;const b=this.link;var c=this.Xob,d=this.mz;if(a==="sheet-cell"&&d)return c=d.sheet,d=d.anchor,this.FK?.ju(c,d);if(b&&a==="text"&&c&&c?.type==="focused")return d=c.range.index,a=c.range.length,c.Sc?.Ya.slice(d,d+a)}get WUg(){var a=this.Xob;if(this.target==="text"&&a&&a.type==="focused"){if(this.Bri)return!0;var b=a.range.index,
c=a.range.length;a=a.Sc?.Ya;var d=a.lastIndexOf("\n",a.length-2)+1;return b!==d?!1:a.length-(b+c)===1}}get target(){return this.u6d?"text":this.Qpc?"embed":this.mz?"sheet-cell":"element"}get ui(){return this.la.layout===2}get k8e(){return this.selection.Kb?this.e2.k8e:this.Z3b}get Z3b(){if(this.selection.Kb)return this.e2.Z3b;const a=this.Xob?.type==="focused"&&this.Xob.range.length>0&&!this.Xob.Sc.isEmpty,b=this.mz?!!this.link&&this.Xob?.type==="focused":!!this.link;return this.oob&&(this.la.layout===
2&&this.lxa&&this.toolbar.BF?.sX(this.lxa)||b||a)}get KOi(){return!!this.link&&this.la.layout===2}get Mid(){return this.oob}get n8e(){return this.selection.Kb?this.e2.n8e:this.mz?!!this.link&&this.Xob?.type==="focused":this.la.layout===2?!!this.link&&this.Pa.mode===20&&this.target==="embed":!!this.link}get $7e(){return this.selection.Kb?this.e2.$7e:!!this.link&&this.Pa.mode===20}get x8e(){return this.selection.Kb?this.e2.x8e:this.$3a?.inner?.type==="group"&&!this.Z3b||!this.$3a?.Ri()?!1:this.Mid||
this.Z3b||this.k8e}get Wph(){return this.selection.Kb?this.e2.Wph:!!this.mz}get u6d(){if(!this.$3a||!this.Xob)return!1;var a=this.$3a.Hg?.type;if(this.$3a.inner?.type==="group"||a==="group")switch(a){case "chart":case "embed":case "grid":case "layout":case "rect":case "table":case "group":case "controlled":case "line":case "sheet":case void 0:return!1;case "text":case "shape":break;default:throw new u(a);}a=this.Xob;return!a||a.type==="multi"&&a.rG.every(b=>b.charLength<=1)?!1:a.type==="multi"&&a.rG.length===
1||a.type==="focused"}get I9c(){return this.t3d.Wnm??this.uIk?this.u6d:!1}get uIk(){return this.mc.state?this.mc.Ri(Ol.Sw):void 0}get OTi(){return this.controller.mun&&this.controller.mun()}get KNl(){return this.OTi?.get()}get jKf(){if(this.hKf)return M("K6kKeg");if(this.link?.type==="page"&&this.link.dh&&this.USc)return this.USc.Sei(this.link.dh);const a=this.link&&this.getTitle(this.link.href);return a!=null?a:this.link?.href}get bui(){return this.hKf?M("K6kKeg"):this.link?.type==="page"&&this.link.dh&&
this.USc?this.USc.Sei(this.link.dh):this.link?.href}get iKf(){return this.la.layout!==2&&this.Z3b&&this.link?"edit":"link"}get hKf(){return this.link?.type==="page"&&!this.link.dh}get $ib(){if(this.selection.Kb)return this.e2.$ib;if(this.target==="sheet-cell"&&this.mz){const a=this.mz.sheet,b=this.mz.anchor;switch(this.FK?.contentType(a,b)){case 1:case 2:return"pill";case 0:return"link";default:return}}if(this.Qpc)return"iframe";if(this.link)return"link"}get h8h(){return this.selection.Kb?this.e2.h8h:
this.target==="sheet-cell"?!0:!1}get j7h(){return this.selection.Kb?this.e2.j7h:!this.mz}get wxe(){if(this.selection.Kb)return this.e2.wxe;if(this.mz){var a=this.Xob?.type==="focused";return!!this.link&&!a}a=this.$3a;return a?.Hg?.type==="text"||a?.Hg?.type==="embed"}get lYg(){return this.selection.Kb?this.e2.lYg:{selection:this.selection.Ma,range:this.mc.state?.type==="focused"?this.mc.state.range:void 0}}get Qpc(){const a=this.$3a?.Hg;if(a&&a.type==="embed"&&!this.YDk)return{type:"url",href:a.url}}get hYg(){if(this.selection.Kb)return this.e2.hYg}getTitle(a){const b=
this.Lvd.yPd.get(a);switch(b?.status){case 0:case 2:break;case 1:return b.title;case void 0:this.Lvd.rFg(a);break;default:throw new u(b);}}get aih(){if(this.selection.Kb)return this.e2?.aih}get DOa(){if(this.selection.Kb)return this.e2.DOa}constructor(a,b,c,d,e,f,g,h,k,l,n,p){this.controller=a;this.selection=b;this.Pa=c;this.mc=d;this.e2=e;this.FK=f;this.toolbar=g;this.la=h;this.USc=k;this.Zo=l;this.Lvd=n;this.X=p;this.lxa=(HGs.G(this),void 0);this.Bri=!1;this.t3d=new a1s(this,this.selection,this.mc)}},
DGs=class{static G(a){O(a,{lxa:zV.ref,oob:oV,linkText:oV,link:oV,ui:oV,k8e:oV,Z3b:oV,KOi:oV,Mid:oV,n8e:oV,$7e:oV,x8e:oV,Wph:oV,jKf:oV,bui:oV,$ib:oV,iKf:oV,hKf:oV,wxe:oV,Qpc:oV,DRg:oV,hYg:oV,H_b:oV,lYg:oV,mz:oV})}get oob(){if(this.Pa.mode<=20||!this.X)return!1;if(this.DOa){var a=this.DOa.DUa,b=this.DOa.oB,c=!!this.link,d=!this.DOa.collapsed;b=(b!=null&&this.krn?.oob(b))??!1;return c||d&&(a||b)}d=this.Za.state;if(!d)return!1;switch(d.type){case "RANGE":return a=!!this.link,c=!d.isCollapsed&&d.DUa&&
d.oB==null,d=d.oB!=null&&(this.krn?.oob(d.oB)??!1),a||c||d;case "TABLE_CELL":case "LAYOUT_CELL":const [e,f]=d.cells;return!!this.link&&e&&!f;case "SHEET_CELL":return this.mz?(a=this.mz.sheet,c=this.mz.cells,d=this.mz.anchor,this.FK?.oob(a,c,d)??!1):!1;case "SHEET_CELL_MEDIA":return!1;default:throw new u(d);}}get linkText(){if(this.Qpc)return this.Qpc.href;if(this.DRg)return this.DRg.href;if(this.mz){var a=this.mz.sheet;const b=this.mz.anchor;return this.FK?.ZP(a,b)??""}a=[...(this.DOa??this.Za).attributes.link].filter(b=>
b!=="");return a.length===1?a[0]:""}get link(){var a=this.Zo.jPb(this.linkText);return a.type==="url"?(a=Kv(this.linkText),Sl(a).ok&&__c.LDb(a).name!=="Codelet"?{type:"url",href:a}:void 0):a.href?a:void 0}get ui(){return this.la.layout===2}get k8e(){return this.la.layout===1?this.Z3b:this.oob}get Z3b(){const a=this.$ib;if(!this.oob||this.mz)return!1;switch(a){case void 0:case "link":return this.la.layout===1;case "iframe":case "pill":return!0;default:throw new u(a);}}get KOi(){return!!this.link&&
this.la.layout===2}get Mid(){return this.oob}get n8e(){return this.la.layout===2&&(this.Pa.mode!==20||this.$ib==="link")||this.mz?!1:!!this.link}get $7e(){return!!this.link&&this.Pa.mode===20}get x8e(){return this.Mid||this.Z3b||this.k8e}get Wph(){return!!this.mz}get jKf(){const a=this.link&&this.getTitle(this.link.href);return a!=null?a:this.link?.href}get bui(){return this.link?.href}get $ib(){if(this.mz){const a=this.mz.sheet,b=this.mz.anchor;switch(this.FK?.contentType(a,b)){case 1:case 2:return"pill";
case 0:return"link";default:return}}if(this.Qpc)return"iframe";if(this.DRg)return"pill";if(this.link)return"link"}get iKf(){return this.la.layout===2?"link":this.Z3b&&this.link?"edit":"link"}get hKf(){return this.link?.type==="page"&&!this.link.dh}get j7h(){return!this.mz}get h8h(){return!0}get wxe(){const a=this.selection.Kb;return a?.type===0&&a.container.type==="sheet-item-cell-richtext"?!1:this.Qpc||this.DRg||this.mz?!0:(this.DOa??this.Za).attributes.link.size===1}get Qpc(){const a=this.Za.state;
if(a&&a.type==="RANGE"&&a.oB?.type==="embed")return{type:"url",href:a.oB.url}}get DRg(){var a=this.Za.state;if(a&&a.type==="RANGE"&&(a=a.oB)&&a.type==="pill"&&a.Sh.type==="embed")return{type:"url",href:a.Sh.url}}get hYg(){if(this.la.layout===2&&this.$ib==="link")return this.link?.type==="page"?$0s:__c.Kt}get H_b(){var a=this.link;const b=this.Za.state;var c=this.mz;if(c)return a=c.sheet,c=c.anchor,this.FK?.ju(a,c);if(a&&b?.type==="RANGE"){var d="";m(this.Za.b8a()).forEach({Ya:e=>d+=e,item:()=>{}});
return d||void 0}}get lYg(){}getTitle(a){const b=this.Lvd.yPd.get(a);switch(b?.status){case 0:case 2:break;case 1:return b.title;case void 0:this.Lvd.rFg(a);break;default:throw new u(b);}}get mz(){const a=this.aih.lnc??this.Za.state;if(a?.type==="SHEET_CELL")return{sheet:a.sheet.config,anchor:a.anchor,cells:[...a.cells]}}constructor(a,b,c,d,e,f,g,h,k){this.selection=a;this.Za=b;this.FK=c;this.krn=d;this.Pa=e;this.la=f;this.Zo=g;this.Lvd=h;this.X=k;this.DOa=(DGs.G(this),void 0);this.aih=new b1s(this.Za)}};var CGs=class{static G(a){O(a,{SCm:oV})}oob(a){if(!this.SCm)return!1;switch(a.type){case "rect":case "shape":case "chart":case "design":return!0;case "controlled":case "embed":case "layout":case "break":case "pill":case "separator":case "sheet":case "table":return!1;default:throw new u(a);}}get SCm(){return this.viewport.Vg==null?!1:this.hb.i_(this.viewport.Vg.ia,a=>a?a.mab:!1)}constructor(a,b){this.hb=a;this.viewport=b;CGs.G(this)}};var QGs=class{g3f({page:a,element:b}){const c=b.container,d=this.selection.Ma;if(!d||d.type!=="elements"||d.container.ia!==a.ia)return!1;if(c.type!=="fixed-page"){switch(c.type){case "group-element":a=c.group;break;case "layout-element-cell":a=c.layout;break;case "chart-element":a=c.Zb;break;case "controlled-element":a=c.ia;break;default:throw new u(c);}return!!d.inner&&d.inner.type==="group"&&d.inner.group===a&&d.inner.pb.includes(b.ia)}return d.elements.includes(b.ia)}constructor(a){this.selection=
a}};var c1s=class{static G(a){O(a,{YUi:zV.ref,Lna:zV.ref})}load(){this.Lna=XKs(this.Qdk())}oil(a){this.YUi=a?XKs(QFs(this,a)):void 0}async Qdk(){try{const a=await this.ii.Usa(new __c.wod({Gy:3,user:this.X.user.id,brand:this.X.Ab.brand.id,limit:4})),b=PFs(this,a)?.map(this.Ccm)||[];return await Promise.all(b)}catch(a){this.errorService.ra(a,{La:"Failed to load recent designs"})}}constructor(a,b,c,d,e){this.ka=a;this.ii=b;this.Yl=c;this.errorService=d;this.X=e;this.YUi=(c1s.G(this),void 0);this.Ccm=async f=>
{if(!f.nr)return f;const g=await this.Yl.ehc(new __c.kIh({query:f.nr,limit:1}));return{...f,icon:g.results.find(sb)?.Wg}}}};var f1s=hV(a=>{const b=a.Qk,c=a.D0a;return a.qAd?mV(uV,{children:[fV(__c.Wyj,{children:a.T2f?M("RgPpVw"):M("JwD2+A")}),b.length>0?b.map((d,e)=>qTs(d1s,{...d,key:e,onSelect:c})):Array.from({length:4}).map((d,e)=>fV(e1s,{},e))]}):null}),d1s=GV(a=>{const {title:b=M("jbbBUA"),href:c,icon:d,onSelect:e}=a;a=d?fV("img",{className:"_0qX3hA",src:d,alt:b}):fV(__c.Ftr,{size:"medium"});a=fV("span",{className:"ALDE4g",children:a});const f=jV(()=>e(c),[e,c]);return fV(__c.Uyj,{start:a,onClick:f,label:fV(Q,{tagName:"span",
tone:cr,lineClamp:2,children:b}),ariaLabel:b})}),e1s=GV(()=>{const a=fV("span",{className:DV("ALDE4g","KnRKeg"),children:fV(__c.gNn,{size:"medium"})});return fV(__c.Uyj,{start:a,disabled:!0,label:fV(__c.Vt,{}),ariaLabel:M("Usq4rQ")})});var $Fs=({ka:a,ii:b,Yl:c,errorService:d,X:e})=>({Gsf:e?new c1s(a,b,c,d,e):void 0,Bbg:f1s});var g1s={eventType:"editor_element_link_display_mode_changed",Oa(a){return jf({element_type:a.elementType,start_mode:a.Urh,end_mode:a.eEg,page_index:a.Yb,editing_context:a.Ca==null?void 0:mf(a.Ca)})}};var h1s=class{static G(a){O(a,{sYh:iV,Mrg:iV.bound})}async Mrg(){if(this.selection.Kb)return this.hpl.Mrg();if(this.Ww.mz&&this.FK)return iGs(this.FK,this.Ww.mz.sheet,this.Ww.mz.anchor).catch(()=>{this.ma.Ib({Db:M("9vRlyg")})});this.ma.Ib({Db:M("9vRlyg")})}constructor(a,b,c,d,e,f,g,h,k,l,n){this.Ww=a;this.A$b=b;this.FK=c;this.hpl=d;this.ma=e;this.selection=f;this.mc=g;this.P=h;this.V=k;this.Fv=l;this.qc=n;this.rYh=(h1s.G(this),()=>{if(this.selection.Kb)return this.hpl.rYh();if(this.Ww.mz)this.ma.Ib({Db:M("F7W1Qg")});
else{var p=this.Ww.link?.href;if(p){var q=this.selection.Ma;if(q?.Hg&&q.Hg.type==="text"&&q.Ri()&&p){var r=q.container.page,t=q.Hg,v=this.V.wb("text_to_embed",{Hb:{name:"editor.element_convert",type:"text_to_embed"}});this.Fv.wL(p).then(iV(()=>{v.ob().addEvent("embed_resolved");this.P.track(g1s,{elementType:"text",Urh:"link",eEg:"iframe"});const w=this.A$b.rgi?.(t,r);this.qc.wL(p,{Xc:"switch_display_mode",span:v},{placement:w});r.elements.delete(t);v.end()})).catch(()=>{this.ma.Ib({Db:M("F7W1Qg")});
v.end("error")})}else this.ma.Ib({Db:M("F7W1Qg")})}}});this.sYh=()=>{if(this.selection.Kb)return this.hpl.sYh();const p=this.Ww.link?.href;if(p){var q=this.selection.Ma;if(this.Ww.mz&&this.FK){var r=this.Ww.mz.sheet;q=this.Ww.mz.anchor;const v=this.FK.link(r,q);return this.FK.kid(r,[q],p,v?.type===1?v.title:p)}if(q?.Hg&&q.Hg.type==="embed"&&q.Ri()&&p){r=q.container.page;q=q.Hg;var t=this.V.wb("embed_to_link",{Hb:{name:"editor.element_convert",type:"embed_to_text"}});this.P.track(g1s,{elementType:"item",
Urh:"iframe",eEg:"link"});r.elements.delete(q);r=this.A$b.rgi?.(q,r);return this.qc.addText(p,{Xc:"switch_display_mode",U0:"default",span:t},{type:"v2",attrs:{link:p,decoration:"underline"}},{RUf:!0},r).then(iV(()=>{this.mc.nA();t.qe()}))}}}}},i1s=class{static G(a){O(a,{rYh:iV.bound,Mrg:iV.bound})}async rYh(){if(this.Ww.mz)this.ma.Ib({Db:M("F7W1Qg")});else try{await RFs(this,async(a,b)=>{await this.qc.wL(b,{Xc:"switch_display_mode"});this.P.track(g1s,{elementType:SFs(a),Urh:a,eEg:"iframe"})})}catch(a){this.ma.Ib({Db:M("F7W1Qg")})}}async Mrg(){if(this.Ww.link){if(this.Ww.mz&&
this.FK)return iGs(this.FK,this.Ww.mz.sheet,this.Ww.mz.anchor).catch(()=>{this.ma.Ib({Db:M("9vRlyg")})});try{await RFs(this,async(a,b,c)=>{b=await this.qc.bha({type:"embed",text:c||b,url:b},{Xc:"switch_display_mode"});a==="iframe"&&this.Za.gDa("\n");this.Za.state?.Sc&&this.Za.Nw(this.Za.state.Sc,b);this.P.track(__c.RBh,{type:"embed",source:"display_mode_switch"});this.P.track(g1s,{elementType:SFs(a),Urh:a,eEg:"pill"})})}catch(a){this.ma.Ib({Db:M("9vRlyg")})}}}constructor(a,b,c,d,e,f,g,h){this.Ww=
a;this.ma=b;this.Za=c;this.FK=d;this.P=e;this.Fv=f;this.qc=g;this.undo=h;this.sYh=(i1s.G(this),()=>{const k=this.Ww.link;var l=this.Ww.$ib;if(l&&k?.href){if(this.Ww.mz&&this.FK){l=this.Ww.mz.sheet;const n=this.Ww.mz.anchor,p=this.FK.link(l,n);return this.FK.kid(l,[n],k.href,p?.type===1?p.title:k.href)}this.Za.gDa(k.href,{...bB,link:k.href});l==="iframe"&&this.Za.gDa("\n");this.P.track(g1s,{elementType:SFs(l),Urh:l,eEg:"link"})}else this.ma.Ib({Db:M("dKo2FQ")})})}};var j1s=class{static G(a){O(a,{kG:oV,FLi:oV,r6h:oV,FCm:oV,WBl:oV,ye:oV})}get kG(){return"enabled"}get FLi(){return this.Ww.h8h?this.ye&&!zo.fDe?"disabled":this.WBl?"disabled":"enabled":"hidden"}get r6h(){return this.Ww.j7h?this.ye&&!zo.fDe?"disabled":this.WBl?"disabled":"enabled":"hidden"}get FCm(){return this.Ww.$ib||"link"}get WBl(){if(!this.Ww.$ib||!this.Ww.link||this.Ww.$ib!=="link")return!1;if(this.Ww.link.type==="page"||!this.Ww.wxe)return!0;const a=this.Kol.Jol.get(this.Ww.link.href);return a?
!a.lpn:!1}get ye(){return this.qa.status===2}constructor(a,b,c){this.Ww=a;this.Kol=b;this.qa=c;j1s.G(this)}};var UFs=class{constructor(){this.Jol=new lTs}},VFs=class{getStatus(a){return this.store.Jol.get(a)!=null?2:this.Yzb.has(a)?1:this.vVm.has(a)?3:0}constructor(a,b){this.store=a;this.R7c=b;this.Yzb=new lTs;this.vVm=new nTs}};var aGs=({LFr:a,Gb:b,LV:c,ma:d,P:e,V:f,Fv:g,qc:h,qa:k,undo:l,...n})=>{const {Kol:p,pIs:q}=WFs(c),r=new j1s(n.Ww,p,k);let t;b=new i1s(n.Ww,d,n.Za,n.FK,e,g,h,l);t=n.Ka!=="responsive"?new h1s(n.Ww,n.A$b,n.FK,b,d,n.selection,n.mc,e,f,g,h):b;d=hV(v=>fV(gTs,{...v,current:r.FCm||"link",kG:r.kG,zD:t.sYh,FLi:r.FLi,i1b:t.Mrg,r6h:r.r6h,j6r:t.rYh,disabled:!!v.disabled,C5r:a.Qtm}));gV(()=>n.Ww.link,v=>{n.Ww.$ib==="link"&&v!=null&&(v=v.href,q.getStatus(v)===0&&TFs(q,v,q.R7c))});return{Kap:d}};var k1s=GV(({Tub:a,onWheel:b,onKeyDown:c,Bbg:d,Hre:e})=>{const f=lV(null);return fV(R,{paddingTop:"1u",children:fV("div",{ref:f,className:DV("_3YiM0g",{PqOt4A:!a}),onWheel:b,onKeyDown:g=>c(g,f),children:mV(__c.Syj,{role:"list",ariaLabel:M("88IVkg"),children:[d&&fV(d,{}),e&&fV(e,{})]})})})});var l1s=class{constructor(){this.onWheel=a=>{a.stopPropagation()};this.onKeyDown=(a,b,c)=>{c&&(b=b.current?.querySelectorAll("button"))&&a.key==="Tab"&&a.target===b[b.length-1]&&c()}}};var cGs=()=>{const a=new l1s;return{Qqp:hV(({Tub:b,Bbg:c,Hre:d,O5r:e})=>fV(k1s,{Tub:b,Bbg:c,Hre:d,onWheel:a.onWheel,onKeyDown:(f,g)=>a.onKeyDown(f,g,e)}))}};var m1s=({CCd:a,pages:b,Ek:c,QEl:d,onChange:e,onClose:f,Igf:g})=>d?fV(wA,{label:M("Ye2XeQ"),Vv:"small",control:()=>fV(g,{errorMessage:a?void 0:M("L9zVzg"),pages:b,Ek:c,onChange:e,y0k:f})}):null;var n1s={eventType:"editor_element_link_page_changed",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),num_pages_selected:a.VL,all_pages_selected:a.fVd})}};var o1s=class{static G(a){O(a,{PGm:iV.bound,pro:iV.bound,kaj:iV.bound,nak:oV})}PGm(){this.store.vBe=null}pro(a){this.store.vBe=[...a].map(b=>b-1);this.kaj({pages:this.store.ZEe,uId:this.store.vBe,w_e:null})}get nak(){return this.store.hKi.reduce((a,b)=>b.disabled?a:a+1,0)}constructor(a,b,c,d){this.store=a;this.Ww=b;this.Gb=c;this.Cm=d;this.kaj=(o1s.G(this),({pages:e,uId:f,w_e:g})=>{const h=[];e.forEach((k,l)=>{let n;n=f?f.includes(l):g?k.id?g.includes(k.id):!1:!0;h.push({id:k.id,index:l,M5a:n,draft:k.draft,
title:k.title})});this.store.ZEe=h})}},p1s=class extends o1s{static G(a){O(a,{Szh:iV.bound})}Szh(){if(this.selection.Kb)return this.d2.Szh();if(this.store.xan){var a=this.Ww.link?.href,b=this.store.w_e;if(!a)this.Cm.Ib({Db:M("fazCYw")});else if(b.length!==0){var c=this.selection.Ma,d=this.Ww.$3a,e=hTs(a,b);this.Fv.wL(e).then(iV(()=>{if(d?.Hg&&d.Hg.type==="embed"&&d.Ri()){var f=d.container.page,g=d.Hg,h={width:g.width,height:g.height},k=this.A$b.rgi?.(g,f);this.qc.wL(e,d===c?{Xc:"paste_url"}:{Xc:"paste_url",
q9:"none"},{placement:k,dimensions:h});f.elements.delete(g);this.N.track(n1s,{VL:b.length,fVd:b.length===this.nak})}else this.Cm.Ib({Db:M("fazCYw")})})).catch(()=>{this.Cm.Ib({Db:M("fazCYw")})})}}}constructor(a,b,c,d,e,f,g,h,k,l){super(a,d,b,c);this.Ww=d;this.d2=e;this.Fv=f;this.A$b=g;this.selection=h;this.qc=k;this.N=l;p1s.G(this)}},q1s=class extends o1s{static G(a){O(a,{Szh:iV.bound})}async Szh(){if(this.store.xan){var a=this.Ww.DOa;if(a?.oB?.type==="embed"){a=a.oB.url;var b=this.store.w_e;if(!a)this.Cm.Ib({Db:M("fazCYw")});
else if(b.length!==0)try{const c=hTs(a,b);await ZFs(this,async(d,e)=>{await this.qc.wL(d,{Xc:"paste_url"},{placement:e})},c);this.P.track(n1s,{VL:b.length,fVd:b.length===this.nak})}catch(c){this.Cm.Ib({Db:M("fazCYw")})}}}}constructor(a,b,c,d,e,f,g,h,k){super(a,d,b,c);this.store=a;this.Gb=b;this.Cm=c;this.Ww=d;this.Fv=e;this.Za=f;this.qc=g;this.P=h;this.undo=k;q1s.G(this)}};var r1s=class{static G(a){O(a,{ZEe:zV.ref,vBe:zV.ref,CCd:oV,hKi:oV,uId:oV,bZn:oV,w_e:oV,Nln:oV})}get xan(){return this.ENm!==this.uId?.slice().sort().join(",")}get CCd(){return this.vBe&&this.ZEe.length!==0?this.vBe.length>0:!0}get hKi(){return this.ZEe.map(a=>({disabled:a.draft,Bd:a.index+1,T1:a.title}))}get uId(){return this.ZEe.reduce((a,b)=>{b.M5a&&!b.draft&&a.push(b.index);return a},[])}get bZn(){return this.uId.map(a=>a+1)}get w_e(){return this.ZEe.reduce((a,b)=>{b.M5a&&!b.draft&&b.id&&a.push(b.id);
return a},[])}get QEl(){return this.Nln}get Nln(){return this.Ww.link&&this.Ww.$ib==="iframe"?DJa(this.Ww.link.href)!=null:!1}constructor(a){this.Ww=a;this.ENm=(r1s.G(this),void 0);this.ZEe=[];this.vBe=null}};var bGs=({Gb:a,ma:b,Fv:c,qc:d,P:e,undo:f,...g})=>{const h=new r1s(g.Ww);let k;f=new q1s(h,a,b,g.Ww,c,g.Za,d,e,f);k=g.Ka!=="responsive"?new p1s(h,a,b,g.Ww,f,c,g.A$b,g.selection,d,e):f;const l=__c.n7n({dDc:__c.q6n(),xDc:__c.p7n()});return{Igf:hV(()=>h.hKi.length>0&&fV(m1s,{CCd:h.CCd,pages:h.hKi,Ek:new Set(h.bZn),QEl:h.QEl,onChange:k.pro,onClose:k.Szh,Igf:l})),ePb:h,yal:k}};var NGs=(a,b)=>c=>{if(a.PRe(c)){var d=c.startsWith("#")?f=>{if(!(f.target instanceof HTMLElement&&f.target.isContentEditable)){var g=a.jPb(c);g.type==="page"&&g.dh&&(ra(b instanceof JGs),b.HEi(g.dh),f.preventDefault())}}:void 0,e=__c.DDb(c);if(e)return{...e,onClick:d}}};var s1s,t1s,u1s,v1s=parseInt("32px",10),w1s=parseInt("26px",10),fGs;
new (s1s=class extends JV{constructor(){super(fGs);t1s()}},(()=>{class a extends(u1s=IV){static G(b){O(b,{z7i:zV.ref,increment:iV})}componentDidMount(){requestAnimationFrame(this.increment)}componentDidUpdate(){this.z7i<this.props.pages.length&&requestAnimationFrame(this.increment)}render(){const b=this.props.pages,c=this.props.P0,d=this.props.onSelect,e=this.props.ne,f=this.props.jsc;let g=0;return b.length!==0?mV(uV,{children:[fV(__c.Wyj,{children:M("hgOeRA")}),b.map((h,k)=>fV(x1s,{index:g++,thumbnail:this.z7i>=
g?"pageView":"placeholder",page:h,jsc:f,P0:c,onSelect:d,ne:e},k))]}):null}constructor(...b){super(...b);this.z7i=(fGs.G(this),0);this.increment=()=>{this.z7i++}}}({c:[fGs,t1s]}=KV(a,[],[Lb],u1s))})(),s1s);
var x1s=hV(({page:a,...b})=>{var c=b.index,d=b.jsc;const e=b.onSelect;var f=b.P0,g=b.ne;c=fV("span",{className:"ALDE4g",children:b.thumbnail==="pageView"?fV(y1s,{ne:g,page:a}):fV(Xi,{shape:"square",index:c})});d=d(a);g=f!=null&&a.equals(f);f=f!=null&&a.equals(f.container);const h=jV(()=>e(a),[e,a]),k=a.type==="concatenated-fixed-page"?a.page.pages.map(l=>fV(x1s,{page:a.xb(l),...b},l.id)):void 0;return fV(__c.Uyj,{start:c,onClick:h,selected:g,label:d,ariaLabel:d,children:k,f0:f})}),z1s={$Qa:0},y1s=
GV(a=>fV(a.ne,{page:a.page,gB:z1s,vd:v1s,Df:w1s}));var eGs=class{static G(a){O(a,{oj:oV})}get oj(){return new Map(this.document.pages.toArray().map((a,b)=>[a,b+1]))}constructor(a){this.document=a;this.Ai=(eGs.G(this),void 0);this.jsc=FV(b=>{switch(b.container.type){case "fixed-document":const c=m(this.oj.get(b.page));return b.page.title?J("Bt5ung",[c,b.page.title]):J("NJD05g",[c]);case "concatenated-fixed-page":return sa(b.page.type==="fixed","Only fixed pages can be contained by concatenated pages"),b=b.container.pages.toArray().indexOf(b.page)+
1,J("rEOJPA",[b]);default:throw new u(b.container);}});this.Sei=FV(b=>{switch(b.container.type){case "fixed-document":return this.jsc(b);case "concatenated-fixed-page":var c=this.jsc(b.container);b=this.jsc(b);return J("UoaLaA",[c,b]);default:throw new u(b.container);}});this.K4m=b=>this.document.pages.jUa(c=>this.jsc(this.Ai.xb(c)).toLocaleLowerCase().includes(b.toLocaleLowerCase())).map(c=>this.Ai.xb(c));this.Ai=zf(a)}};var A1s=[void 0,"boolean","number","plaintext","text2","text3","embed"],B1s=[void 0,"plain_number","currency","percentage","embed"],nGs=class{oob(a,b,c){if(b.length!==1||!c)return!1;b=this.fd?.getContent(a,c.row,c.column);a=A1s.includes(b?.Nr?.type);b=B1s.includes(b?.Dya?.type);return a&&b}ZP(a,b){if((a=this.link(a,b))&&a.type!==2)return a.url}link(a,b){var c=this.fd.getContent(a,b.row,b.column);if(c?.Dya?.type==="embed"&&c.isEmpty)return{type:2};if(c?.Nr)switch(c.Nr.type){case "boolean":case "number":case "plaintext":case "text2":case "text3":return(a=
a.layout.attrs.get(__c.Ge({link:void 0}),b.row,b.column)?.link)?{type:0,url:a,text:c.hU}:void 0;case "embed":return(c=this.$Af(a,b))&&c?.url?{type:1,url:c.url,title:c.text}:{type:2};case "mention":case "media":case "formula":break;default:throw new u(c.Nr);}}async Hjg(a,b,c,d){b=b.filter(g=>this.oob(a,[g],g));const e=d?.HCq??!1,f=b.filter(g=>{const h=this.contentType(a,g);return h===1||h===2||e&&this.isEmpty(a,g)});this.kid(a,b,c,void 0);if(!(f.length<0))try{const g=await this.Fv.fetch(c);rV(()=>
{hGs(this,a,f,g)})}catch(g){rV(()=>{this.kid(a,f,c,void 0)})}}kRi(a,b){const c=this.link(a,b);this.fd.Ew(d=>{c?.type===1&&d.faa(a,b,__c.rQd);d.setAttributes(a,b,{link:void 0,decoration:void 0,color:void 0})})}isEmpty(a,b){return this.link(a,b)?!1:this.fd.getContent(a,b.row,b.column)?.isEmpty??!0}ju(a,b){a=this.link(a,b);if(a?.type===0)return a.text}cao(a,b,c){this.link(a,b)?.type===0&&this.fd.Ew(d=>{d.RIa(a,b,c)})}contentType(a,b){return this.link(a,b)?.type}kid(a,b,c,d){this.fd.Ew(e=>{for(const n of b){var f=
e,g=a,h=n,k=c,l=d;const p=this.fd.getContent(g,h.row,h.column);f.m2(g,h,void 0);const q=p?.Nr?.type==="embed";l?f.RIa(g,h,l):(!p||p.isEmpty||q)&&f.RIa(g,h,k);f.setAttributes(g,h,{link:k,decoration:bB.decoration,color:bB.color})}})}$Af(a,b){a=this.fd.getContent(a,b.row,b.column);if(a?.Nr?.type==="embed")return a.Nr.value.map(c=>c.embed).at(0)}constructor(a,b){this.fd=a;this.Fv=b}};var C1s=class{static G(a){O(a,{set:iV.bound})}get(a){return this.store.get(a)}set(a,b){this.store.set(a,b)}fetch(a){var b=this.store.get(a);if(b)return Promise.resolve(b);if(b=this.Ax.get(a))return b;b=this.yWm(a).then(c=>{this.store.set(a,c);return c}).finally(()=>this.Ax.delete(a));this.Ax.set(a,b);return b}constructor(){this.store=(C1s.G(this),new lTs);this.Ax=new Map}},mGs=class extends C1s{async yWm(a){var b=await this.Fv.wL(a);if(b.title)return{url:a,text:b.title};b=await kGs(a,this.Gb);const c=
b.document.draft.sI.thumbnail.images.at(0);c&&c.page!==0&&this.qct.set(a,c);return{url:a,text:b.document.draft.content.title??""}}constructor(a,b,c){super();this.Fv=a;this.qct=b;this.Gb=c}},lGs=class extends C1s{async yWm(a){return(a=(await kGs(a,this.Gb)).document.draft.sI.thumbnail.images.at(0))&&a.page!==0?a:Promise.reject(Error("No thumbnail found"))}constructor(a){super();this.Gb=a}};var OGs=class{static G(a){O(a,{NMj:oV,Qxm:oV,FE:oV,dye:oV,config:oV})}get NMj(){var a=this.FE;const b=this.dye;if(a&&b)return a=b.transform(a.$R.invert()),new pj(a.Tn.x,a.Tn.y+8)}get Qxm(){var a=this.FE;const b=this.dye;if(a&&b)return a=b.scale(a.gd),new pj(a.Tn.x,a.Tn.y+8)}get FE(){const a=this.config;if(a)switch(a.container.type){case "fixed-page":return new Xz(a.container,this.viewport,this.Pa);case "sheet-element":return new Wz(a.container,this.viewport);case "sheet-item":return new Zz(a.container,
this.pd,this.viewport);default:throw new u(a.container);}}get dye(){if(this.config){var a=this.config.anchor;return __c.Ak(this.config.sheet,a.column,a.row)}}get config(){const a=this.selection.Kb;var b=this.selection.Ma;if(a?.type===4)return b=a.container.sheet,a.anchor?{sheet:b.config,anchor:a.anchor,container:a.container.container.ew(b)}:void 0;if(b?.inner?.type==="sheet")return b.inner.anchor?{sheet:b.type==="pages"?b.inner.page.sheet:b.inner.sheet.config,anchor:b.inner.anchor,container:b.inner.container}:
void 0}constructor(a,b,c,d){this.selection=a;this.viewport=b;this.pd=c;this.Pa=d;OGs.G(this)}};var BGs=hV(a=>fV("div",{className:"WDsHvg",children:fV(R,{background:"surface",borderRadius:"elementRound",shadow:"surface",width:"full",padding:"0",tp:"1.5u",children:mV($q,{spacing:"0.5u",Fa:"center",align:"spaceBetween",children:[fV(Yq,{children:fV(a.Xeg,{})}),fV(Yq,{width:"content",children:fV(a.Qbg,{})})]})})})),AGs=hV(a=>fV("div",{className:"WDsHvg",children:fV(R,{background:"surface",shadow:"surface",width:"full",borderRadius:"container",padding:"1u",tp:"1.5u",du:"0.5u",children:mV($q,{spacing:"0.5u",
Fa:"center",align:"spaceBetween",children:[fV(Yq,{children:mV(Tc,{spacing:"0",children:[fV(Q,{size:"medium",weight:"bold",lineClamp:1,children:a.title}),fV(a.Xeg,{})]})}),fV(Yq,{width:"content",children:fV(a.Qbg,{})})]})})})),zGs=hV(a=>fV("div",{className:"EiyiZg",children:fV(R,{background:"surface",shadow:"surface",width:"full",borderRadius:"container",children:mV(Tc,{spacing:"0.5u",align:"center",children:[fV(R,{padding:"2u",paddingBottom:"0",width:"full",children:fV(a.Sff,{})}),fV(R,{tp:"2u",du:"1u",
paddingBottom:"1u",children:mV($q,{spacing:"0.5u",Fa:"center",align:"spaceBetween",children:[fV(Yq,{children:mV(Tc,{spacing:"0",children:[fV(Q,{size:"medium",weight:"bold",lineClamp:1,children:a.title}),fV(a.Xeg,{})]})}),fV(Yq,{width:"content",children:fV(a.Qbg,{})})]})})]})})})),wGs=hV(a=>a.Vw&&fV(R,{background:"surface",borderRadius:"elementRelaxed",padding:"0.5u",shadow:"surface",children:fV(a.tjj,{})})),uGs=hV(a=>fV("div",{className:"_2OvirQ",style:{left:a.anchorPoint.x,top:a.anchorPoint.y},children:a.children})),
yGs=hV(a=>mV(__c.Bo,{fit:"coverCrop",border:"low",aspectRatio:4/3,children:[fV(__c.Tu,{src:a.thumbnail.url,aspectRatio:(a.thumbnail.width??1)/(a.thumbnail.height??1)}),fV("div",{className:"P4_mlA",children:fV(__c.gr,{variant:"contrast",icon:__c.Kt,...a.gYg})})]})),xGs=hV(a=>fV(er,{label:a.gYg.href,children:fV("div",{className:"eKZKbg",children:fV(Q,{size:"small",children:fV(__c.Ui,{...a.gYg,variant:"semiBold",children:a.uIo??a.gYg.href})})})})),vGs=hV(a=>fV("div",{className:"h12JLw",children:fV(__c.Ho,
{open:a.open,oa:a.oa,reference:b=>fV(ir,{...b,size:"small",Qc:"medium",icon:bu,onClick:a.onClick,variant:"tertiary",ariaLabel:M("S/iSMg")}),placement:"bottom-center",children:fV(R,{background:"surface",borderRadius:"elementRelaxed",padding:"0.5u",shadow:"surface",children:fV(a.tjj,{})})})}));var qGs=class{static G(a){O(a,{isOpen:oV,aMa:iV.bound,Pye:iV.bound,EPd:iV.bound})}get isOpen(){return this.store.isOpen}open(a){this.rVb();this.store.Vw=a.type===2;this.store.isOpen=!0;this.Raj()}close(){this.store.Vw=!1;this.store.isOpen=!1}aMa(){this.rVb();this.store.Vw=!0}Pye(){this.store.Vw=!1}EPd(){this.store.Vw=!this.store.Vw}Raj(){const a=this.store.selection;a?.link.type!==1||this.store.thumbnail||this.v7e.fetch(a.link.url).catch(()=>{})}rVb(){this.Kh?.Tsd()}constructor(a,b,c){this.store=
a;this.v7e=b;this.Kh=c;qGs.G(this)}};var pGs=class{static G(a){O(a,{Vw:zV.ref,isOpen:zV.ref,hui:oV,yme:oV,thumbnail:oV,selection:oV,hM:oV})}get hui(){const a=this.selection;if(a&&a.link.type!==2)return a.link.type===0?this.Ww.jKf??a.link.url:a.link.url}get yme(){const a=this.selection;if(a?.link.type===1)return a.link.title}get thumbnail(){const a=this.selection;if(a?.link.type===1)return this.v7e.get(a.link.url)}get selection(){const a=this.YXn.FE,b=this.YXn.Qxm;if(a&&b&&this.hM){var c=this.hM.sheet,d=this.hM.anchor;if(this.FK.oob(c,
this.hM.cells,d)){var e=this.FK?.link(c,d);if(e)return{link:e,sheet:c,anchor:d,FE:a,anchorPoint:b}}}}get hM(){const a=this.nF.Kb,b=this.nF.Ma;return a&&a.type===4?a.anchor?{sheet:a.container.sheet.config,anchor:a.anchor,cells:Array.from(a.cells)}:void 0:b&&b.Ri()&&b.inner?.type==="sheet"?b.inner.anchor?{sheet:b.type==="pages"?b.inner.page.sheet:b.inner.sheet.config,cells:Array.from(b.inner.cells),anchor:b.inner.anchor}:void 0:this.hM}constructor(a,b,c,d,e){this.FK=a;this.v7e=b;this.YXn=c;this.Ww=
d;this.nF=e;this.Vw=(pGs.G(this),!1);this.isOpen=!1}};var D1s=class{static G(a){O(a,{$qi:zV.ref})}constructor(){this.$qi=(D1s.G(this),!1)}},E1s=class{static G(a){O(a,{xwn:oV,dEl:oV,mRb:oV,SAo:oV,jlb:oV,lu:oV,Itc:oV,Gon:oV,uLi:oV,y2c:oV,D_e:oV,GYk:oV,yrf:iV.bound,W7k:iV.bound,w2k:iV.bound})}get xwn(){const a=this.selection.Ma;if(!(this.Pa.mode<40)&&a)switch(a.type){case "pages":if(a.inner?.type==="background"||a.inner?.type==="pages"&&a.inner.inner?.type==="background")return 2;if(a.Rz?.type==="responsive-page")break;return 1;case "elements":return 3}}get dEl(){const a=
this.selection.Ma;return this.Pa.mode<40||!a?!1:this.jlb?this.jlb.locked:this.lu}get mRb(){var a=this.selection.Ma;if(this.Pa.mode<40||!a)return!1;if(a.inner?.type==="sheet")switch(a.type){case "audio":case "pages":return!1;case "elements":return this.mc?.state?.type!=="focused";default:throw new u(a);}if(a.inner?.type==="sheet-cell-media")return!1;switch(a.type){case "audio":return!1;case "pages":if(a.Rz?.type==="responsive-page")return!1;if(a.inner?.type==="pages"){if(a.inner.inner?.type==="background"){var b=
a.inner.inner.page.Hc;return a.inner.inner.page.locked||b.some(c=>!__c.MVa(c)||c.locked)}return a.inner.pages.every(c=>!__c.JVa(c)||c.locked)}if(a.inner?.type==="background"){a=a.inner.page;if(a.type==="responsive"||ug(a.dimensions||this.document.dimensions))return!1;b=a.Hc;return a.locked||b.some(c=>!__c.MVa(c)||c.locked)}return a.pages.some(c=>c.type!=="responsive")&&a.pages.every(c=>!__c.JVa(c)||c.locked);case "elements":return this.jlb?this.jlb.locked:!0;default:throw new u(a);}}get SAo(){const a=
this.selection.Ma;return this.Pa.mode<40||!a?!1:a.type==="pages"&&a.inner==null&&this.lu}get jlb(){var a=this.selection.Ma;if(a&&a.type==="elements"&&a.inner!=null&&(a.inner.type==="group"||a.inner.type==="layout"||a.inner.type==="layout-cell")&&({element:a}=__c.Ok(a.inner.container),gf(a)))return a}get lu(){return!this.selection.Ma?.Ri()}get Itc(){return!this.selection.Ma?.Ri(Ol.Sw)}get Gon(){return this.lu&&!this.Itc}get uLi(){const a=this.selection.Ma;if(!a)return!1;switch(a.type){case "audio":return!1;
case "elements":return a.elements.every(c=>__c.adk(this.Ac,a.container.Me(c))!=null);case "pages":if(a.inner)switch(a.inner.type){case "background":var b=a.inner.container;return b.type==="section-marker"?!1:__c.Zck(this.Ac,b.KL(a.inner.background))!=null;case "sheet":return __c.tde(this.Ac,a.inner.container);case "sheet-cell-media":return b=a.inner.container.container,b.container&&__c.tde(this.Ac,b.container.xb(b.page))!=null;case "pages":if(a.inner.inner)switch(a.inner.inner.type){case "background":return __c.Zck(this.Ac,
a.inner.inner.container.KL(a.inner.inner.background))!=null;default:throw new u(a.inner.inner.type);}const c=a.inner;return c.pages.every(d=>__c.tde(this.Ac,c.container.xb(d))!=null);default:throw new u(a.inner);}return a.pages.every(c=>__c.tde(this.Ac,a.container.xb(c))!=null);default:throw new u(a);}}get y2c(){const a=this.selection.Ma;if(!a||!this.uLi)return!1;switch(a.type){case "audio":return!1;case "elements":return!this.Ac.nS(a.container,this.D_e?Ol.Sw:void 0);case "pages":if(a.Rz?.type===
"responsive-page"&&!a.Rz.page.locked)return!1;if(!a.inner)return!0;switch(a.inner.type){case "sheet":case "sheet-cell-media":return!0;case "background":return a.inner.container.type!=="fixed-page"?!1:!this.Ac.nS(a.inner.container,Ol.Sw);case "pages":if(!a.inner.inner)return!this.Ac.nS(a.inner.container,Ol.Sw);switch(a.inner.inner.type){case "background":return!this.Ac.nS(a.inner.inner.container,Ol.Sw);default:throw new u(a.inner.inner.type);}default:throw new u(a.inner);}default:throw new u(a);}}get D_e(){const a=
this.selection.Ma;if(!this.zZa||!a||!a.type)return!1;switch(a.type){case "audio":return!1;case "pages":if(a.Rz?.type==="responsive-page")return!1;const {inner:b,Pd:c}=a.inner?.type==="pages"?a.inner:a;return b?.type==="background"?!1:!!c;case "elements":return!!a.Hg&&__c.Vqb(this.Ac,a.Hg,Ol.Sw);default:throw new u(a);}}get GYk(){return this.selection.Ma?.pages?.filter(a=>a.type!=="responsive").length||0}yrf(a){const b=this.V.wb("change_element_locking",{Hb:{name:"editor.change_element_locking"}});
var c=this.selection.Ma;if(c&&this.y2c){var d=this.lu&&!this.Itc;if(this.D_e){var e=c.Hg;switch(c.type){case "audio":break;case "pages":const {Pd:f,inner:g}=c.inner?.type==="pages"?c.inner:c;if(f&&!g&&!this.lu){c=b.ob();this.Ac.vWc(f,!0,[Ol.Sw]);TGs(this,{action:"locking",WM:UGs([Ol.Sw]).join(","),ITe:"page",location:a,ob:c});break}VGs(this,{selection:c,locked:d||!this.lu,location:a,ob:b.ob()});break;case "elements":if(e&&!this.lu){d=__c.Vqb(this.Ac,e,Ol.Sw)?[Ol.Sw]:void 0;VGs(this,{selection:c,locked:!0,
WM:d,location:a,ob:b.ob()});break}VGs(this,{selection:c,locked:d||!this.lu,location:a,ob:b.ob()});break;default:throw new u(c);}}else VGs(this,{selection:c,locked:d||!this.lu,location:a,ob:b.ob()});b.qe()}else b.end("error")}W7k(a){const b=this.V.wb("click_floating_toolbar_unlock",{Hb:{name:"editor.click_floating_toolbar_unlock"}}),c=this.selection.Ma;c&&this.y2c&&this.lu?(VGs(this,{selection:c,locked:!1,ob:b.ob(),location:a}),b.qe()):b.end("error")}w2k(a){const b=this.V.wb("click_context_menu_full_lock",
{Hb:{name:"editor.click_context_menu_full_lock"}}),c=this.selection.Ma;c&&this.y2c&&!this.lu?(VGs(this,{selection:c,locked:!0,ob:b.ob(),location:a}),b.qe()):b.end("error")}constructor(a,b,c,d,e,f,g,h,k){this.store=a;this.document=b;this.Pa=c;this.selection=d;this.mc=e;this.Ac=f;this.N=g;this.V=h;this.zZa=k;E1s.G(this)}};var F1s,G1s,H1s,I1s,J1s,K1s,L1s,M1s,N1s,O1s;
new (F1s=class extends JV{constructor(){super(O1s);I1s()}},(()=>{class a extends(J1s=IV){static G(b){O(b,{icon:oV,label:oV,tooltip:oV})}render(){var b=this.props.L;const c=b.lu;b=b.y2c;return fV(this.props.yi,{tooltip:this.tooltip,disabled:c&&!b,selected:c,zh:"icon",icon:this.icon,onClick:this.props.onClick,children:this.label})}get icon(){return P1s(this.props.L)}get label(){return Q1s(this.props.L)}get tooltip(){var b=this.props.L;const c=b.lu,d=b.uLi,e=b.y2c;return c&&!d?M("rQJdVg"):c&&!e?M("rnCrIw"):
!c&&b.D_e?M("ou4BGA"):R1s(b)}constructor(...b){super(...b);a.G(this)}}({c:[O1s,I1s]}=KV(a,[],[Lb],J1s))})(),F1s);var S1s;
new (G1s=class extends JV{constructor(){super(S1s);K1s()}},(()=>{class a extends(L1s=IV){static G(b){O(b,{icon:oV})}render(){const b=this.props.onClick;var c=this.props.L;const d=this.props.yi;var e=c.uLi;const f=c.y2c;c=c.Itc?M("X5CkxQ"):M("416rFw");e=e?f?c:M("rnCrIw"):M("rQJdVg");return fV(d,{tooltip:e,disabled:!f,selected:!0,zh:"icon",icon:this.icon,onClick:b,children:c})}get icon(){return P1s(this.props.L)}constructor(...b){super(...b);a.G(this)}}({c:[S1s,K1s]}=KV(a,[],[Lb],L1s))})(),G1s);var T1s;
new (H1s=class extends JV{constructor(){super(T1s);M1s()}},(()=>{class a extends(N1s=IV){static G(b){O(b,{icon:oV,label:oV})}render(){const b=this.props.L,c=b.y2c;return fV(this.props.rl,{disabled:b.lu&&!c,Icon:this.icon,onClick:this.props.onClick,oa:this.props.oa,label:this.label,Dm:this.props.Dm})}get icon(){var b=this.props.L;const c=b.lu;return c&&!b.Itc?Adr:c?BHh:Ux}get label(){return this.props.xXl?Q1s(this.props.L):R1s(this.props.L)}constructor(...b){super(...b);a.G(this)}}({c:[T1s,M1s]}=KV(a,
[],[Lb],N1s))})(),H1s);
var U1s=hV(a=>{const b=a.oa,c=a.L;a=a.rl;const d=c.lu,e=c.y2c,f=jV(()=>c.w2k("context_menu"),[c]);return fV(a,{disabled:d&&!e,Icon:Ux,onClick:f,oa:b,label:M("7Dt6hg")})}),V1s=hV(a=>{const b=a.oa,c=a.Dm,d=a.L;a=a.rl;const e=d.lu,f=d.y2c,g=jV(()=>d.yrf("context_menu"),[d]);return fV(a,{disabled:e&&!f,Icon:Adr,onClick:g,oa:b,label:M("ou4BGA"),Dm:c})}),P1s=a=>{const b=a.lu;return b&&!a.Itc?Adr:b?Ux:BHh},Q1s=a=>{const b=a.lu;a=b&&!a.Itc;return b&&!a?M("X5CkxQ"):M("7Dt6hg")},R1s=a=>{const b=a.lu,c=b&&!a.Itc,
d=a.xwn;if(!d)return b&&!c?M("X5CkxQ"):M("7Dt6hg");switch(d){case 1:return b&&!c?J("M6hjLQ",[a.GYk]):J("ZUCbLw",[a.GYk]);case 2:return b&&!c?M("l2Wnow"):M("pLKZpA");case 3:return b&&!c?M("X5CkxQ"):M("7Dt6hg");default:throw new u(d);}};var W1s='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="m16.099 15.745-.075.088a.711.711 0 0 1-.283.202c-.125.051-.26.085-.4.102l-.22.025v.99l.268-.02a1.743 1.743 0 0 0 .487-.11v2.223h1.048v-3.5h-.825Z"/><g fill="currentColor"><path d="M13 15.25h6a.76.76 0 0 1 .75.75v3a.76.76 0 0 1-.75.75h-6a.76.76 0 0 1-.75-.75v-3a.76.76 0 0 1 .75-.75M13 14c-1.1 0-2 .9-2 2v3c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2h-6Z"/><path d="M7 6h12c1.1 0 2 .9 2 2v5.458a3.22 3.22 0 0 0-1.25-.612V8a.76.76 0 0 0-.75-.75H7a.76.76 0 0 0-.75.75v8c0 .407.343.75.75.75h2.75V18H7c-1.1 0-2-.9-2-2V8c0-1.1.9-2 2-2Z"/><path d="M13 15.25h6a.76.76 0 0 1 .75.75v3a.76.76 0 0 1-.75.75h-6a.76.76 0 0 1-.75-.75v-3a.76.76 0 0 1 .75-.75M13 14c-1.1 0-2 .9-2 2v3c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2h-6ZM4 3h12a2 2 0 0 1 1.975 1.75h-1.277a.756.756 0 0 0-.698-.5H4a.76.76 0 0 0-.75.75v8c0 .319.213.592.5.698v1.277A2 2 0 0 1 2 13V5c0-1.1.9-2 2-2Z"/><path d="M7 6h12c1.1 0 2 .9 2 2v5.458a3.22 3.22 0 0 0-1.25-.612V8a.76.76 0 0 0-.75-.75H7a.76.76 0 0 0-.75.75v8c0 .407.343.75.75.75h2.75V18H7c-1.1 0-2-.9-2-2V8c0-1.1.9-2 2-2Z"/></g></svg>';var X1s=Uq({medium:W1s});var Y1s=hV(({Hhj:a,sb:b})=>mV("div",{className:"_6ykBxw",children:[fV(a,{}),fV(b,{})]})),Z1s=({Dhp:a,Uq:b,XCp:c,jg:d})=>fV(R,{padding:"2u",height:"full",paddingTop:d?"0":"2u",children:mV(Tc,{spacing:"2u",children:[fV(Q,{size:"medium",weight:"bold",children:M("5VY+6Q")}),fV(a,{}),fV(Q,{size:"medium",weight:"bold",children:M("Wz4zjQ")}),fV(b,{}),fV(c,{})]})}),$1s=({onClick:a})=>mV(uV,{children:[fV(Q,{size:"medium",weight:"bold",children:M("GtlHpg")}),fV(Wi,{variant:"secondary",stretch:!0,onClick:a,
children:M("VMCXkA")})]}),a2s=({onClick:a})=>fV("div",{className:"eOO2Pw",children:fV(Tc,{align:"start",spacing:"2u",children:fV(Wi,{variant:"secondary",icon:Ix,Np:"start",stretch:!0,onClick:a,children:M("NWQG1w")})})});var b2s=class{static G(a){O(a,{Vdb:oV,Km:oV,Dg:oV,tFm:iV.bound,VKn:iV.bound,Pgm:iV.bound,OBn:iV.bound,GX:iV.bound,vQn:iV,Oom:oV})}get Vdb(){return!!this.store.PJe||this.Oom}get Km(){return[...this.document.pages].map((a,b)=>({Bd:b+1,T1:a.title,disabled:a.draft}))}get Cns(){switch(this.document.Kba?.text.Ya){case "${pageNumberOnly}\n":return"${pageNumberOnly}";case "${pageNumber}\n":return"${pageNumber}";case "${pageNumberOfTotal}\n":return"${pageNumberOfTotal}";default:return"${pageNumberOnly}"}}get Dg(){const a=
[...this.document.pages],b=this.document.pages.filter(c=>!c.draft&&Wqs(c,this.hb)&&c.elements.filter(d=>Yv(d)).length>0);return new Set(b.map(c=>a.indexOf(c)+1))}tFm(){const a=zf(this.document);this.document.pages.forEach(b=>{if(Wqs(b,this.hb)){const c=a.xb(b);b.elements.forEach(d=>Yv(d)&&this.Ap.Zra?.([d],c))}});this.Fvc.sFm("edit_panel")}VKn(a){const b=this.Dg,c=[...this.document.pages].filter((e,f)=>a.has(f+1)),d=zf(this.document);this.document.pages.forEach(e=>{if(!e.draft&&Wqs(e,this.hb))if(c.includes(e)){if(!e.elements.first(h=>
Yv(h))&&this.qc.Vte?.(e)){var f=e.elements.first(h=>Yv(h)),g=zf(this.document).xb(e);f&&this.selection.Jl(g,f);setTimeout(iV(()=>{this.viewport.ya===e&&(this.store.PJe=void 0)}))}}else e===this.viewport.ya&&(this.selection.deselectAll(),this.store.PJe=e,this.selection.IQb(this.viewport.ya)),f=d.xb(e),g=e.elements.filter(h=>Yv(h)),this.Ap.Zra?.(g,f)});__c.ije(this.mGd,"page_numbers_properties_applied_to_all_pages",{mi:"page_numbers_shown",Gna:XGs(b),lec:XGs(this.Dg),location:"edit_panel"})}Pgm(){var a=
this.selection.Ma?.Hg;a&&Yv(a)&&(a=__c.sje(this.Fvc,a,this.selection.Ma.container.page))&&this.Fvc.tVl(a,{location:"edit_panel",lec:__c.kje(a)})}OBn(a){this.store.Bee&&(this.toolbar.dC(this.store.Bee),this.mGd.pYc(a))}GX(){this.store.PJe=void 0}get Oom(){const a=this.selection.Ma;return a?.Ri()?!!a?.Hg&&Yv(a.Hg):!1}constructor(a,b,c,d,e,f,g,h,k,l){this.store=a;this.document=b;this.viewport=c;this.selection=d;this.hb=e;this.Ap=f;this.qc=g;this.Fvc=h;this.mGd=k;this.toolbar=l;this.vQn=(b2s.G(this),
()=>{this.store.Bee&&this.toolbar.dC(this.store.Bee)})}};var c2s=class{static G(a){O(a,{PJe:zV.ref,Bee:zV.ref,Ws:oV})}get Ws(){return this.la.layout===2}constructor(a){this.la=a;this.PJe=(c2s.G(this),void 0)}};var d2s={eventType:"editor_outline_panel_toggled",Oa(a){return jf({action:a.action,editing_context:a.Ca==null?void 0:mf(a.Ca)})}},e2s={eventType:"editor_outline_navigation_interacted",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca)})}};var f2s=class{open(){this.P.track(d2s,{action:"opened"})}close(){this.P.track(d2s,{action:"closed"})}constructor(a){this.P=a}};var g2s=GV(a=>fV(a.Q2a,{icon:__c.xyj,active:a.active,onClick:a.onClick,tk:!0,className:"_9VOALA",children:M("Ex0Ltw")})),h2s=GV(a=>fV(a.tF,{onClick:a.onClick,wZ:__c.xyj,children:M("saxtEw")}));var i2s=[{src:__webpack_require__.p+"images/4f0fade581fa0df5092428513149dd75.png",ts:1},{src:__webpack_require__.p+"images/2b94f461e58f5fc5a2225e718bde79ec.png",ts:2},{src:__webpack_require__.p+"images/2864846bc0151d3608cc8219e63ffcf0.png",ts:3}],j2s=hV(a=>{const b=lV(null),c=a.node,d=a.a7g,e=jV(()=>d(c),[c,d]);kV(()=>{if(c.selected){const f=a.layout===2?"start":"center";b.current?.scrollIntoView?.({behavior:"smooth",block:f})}},[c.selected,a.layout]);return fV(St,{onClick:e,active:c.selected,children:fV("div",
{ref:b,className:DV("GbUzEA",YGs(c.level),{Xu0QtA:c.selected}),children:fV(__c.fr,{tone:cr,children:c.title})})})}),k2s=hV(a=>{const b=a.node,c=a.layout;return b.children.length>0?mV(EMs,{children:[fV(j2s,{...a}),b.children.map(d=>fV(k2s,{node:d,a7g:a.a7g,layout:c},d.key))]}):fV(j2s,{...a})}),l2s=a=>fV(R,{height:"full",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",className:"JXDRdg",children:fV(a.layout===2?Vn:EMs,{children:mV(R,{display:"flex",alignItems:"center",
justifyContent:a.layout===2?"start":"center",flexDirection:"column",padding:"2u",minHeight:"minTouchableArea",children:[fV(R,{paddingBottom:"4u",className:"uAIpuQ",children:fV(__c.Rc,{alt:"",sources:i2s,className:"aibHcw"})}),mV(R,{paddingBottom:"2u",children:[fV(Q,{size:"large",weight:"bold",alignment:"center",children:M("GUi1aA")}),fV(Q,{alignment:"center",children:M("ma9AgA")})]}),a.NXs&&a.AJn&&fV(Wi,{variant:"primary",onClick:a.AJn,children:M("0hiCVA")})]})})}),m2s=a=>{const b=a.nodes.length===
0,c=b?fV(l2s,{...a}):fV(R,{height:"full",padding:"2u",paddingTop:"0",className:"XkLBwQ",children:mV(Vn,{children:[fV(Qo,{role:"navigation",variant:"rounded",children:a.nodes.map(d=>fV(k2s,{node:d,a7g:a.a7g,layout:a.layout},d.key))}),fV(R,{minHeight:"minTouchableArea"})]})});return fV(__c.anh,{duration:350,y3j:0,hea:"fill-height",keyFrame:b?0:1,direction:b?"back":"forward",children:c})};var n2s=Uc*5,p2s=class{static G(a){O(a,{cLo:iV.bound,Vye:iV.bound,xkl:iV.bound,focusNode:iV.bound,sHj:iV,pVl:iV})}FFj(){this.b4h();this.bJm=gV(()=>this.viewport.scrollTop,this.d5r);this.Ftf=gV(()=>({blocks:this.CMa.blocks,Ehd:this.CMa.Ehd}),({blocks:a,Ehd:b})=>this.sHj(a,b),{equals:nV.structural})}b4h(){this.bJm?.();this.Ftf?.()}cLo(){this.store.zae?this.Vye():(this.eo.open(this.qHh,{Caa:"start"}),this.GXn.open(),this.Jb.Mqa.qzn?.(),this.xkl())}Vye(){this.eo.close(this.qHh);this.GXn.close()}xkl(){this.sHj(this.CMa.blocks,
this.CMa.Ehd);this.pVl(this.viewport.scrollTop)}focusNode(a){const b=a.Sc;if(b){var c=Gw.collapseToStart(a.range);a=a.Sc?Math.floor(this.pd.XCa(a.Sc,a.range)?.tl.y??1):1;var d=()=>this.Za.qv(b,c),e=this.viewport.scrollingContainer;if(e){var f=e.scrollHeight,g=e.scrollTop;e=e.clientHeight;Math.abs(Math.ceil(g)-Math.ceil(a))<2||g<a&&g+e>=f?d():this.viewport.gaa(a,__c.Qm()?"auto":"smooth").then(d)}else d()}}sHj(a,b){if(this.store.zae){ZGs(this);var {tree:c,zjo:d}=dHs(a,b);this.store.nodes=c;this.store.DAi=
d}}pVl(a=0){if(this.store.zae){ZGs(this);a+=n2s;var b=o2s(this.store.nodes,a,this.pd,!1);b&&(a=o2s([b],a,this.pd,!0))&&(a.selected=!0,this.store.n3g=a)}}constructor(a,b,c,d,e,f,g,h,k){this.store=a;this.eo=b;this.Za=c;this.CMa=d;this.pd=e;this.viewport=f;this.GXn=g;this.qHh=h;this.Jb=k;this.bJm=(p2s.G(this),void 0);this.d5r=Db(l=>this.pVl(l),250);gV(()=>this.store.zae,l=>l?this.FFj():this.b4h(),{equals:nV.structural})}},o2s=(a,b,c,d)=>{let e;for(const f of a)if((a=(f.Sc?Math.floor(c.XCa(f.Sc,f.range)?.tl.y??
1):1)<=b)&&d)e=o2s(f.children,b,c,d)||f;else if(a)e=f;else break;return e};var aHs=class{static G(a){O(a,{selected:zV.ref,title:oV})}get title(){return this.block?.axc.get().trim()??""}get Sc(){return this.block?.Sc}get range(){return this.block?.range??Gw.start()}constructor(a,b,c){this.key=a;this.level=b;this.block=c;this.parent=(aHs.G(this),void 0);this.children=[];this.selected=!1}},bHs=Math.round(__c.FSb({fontSize:15*Wt,fontWeight:"normal"})),q2s=class{static G(a){O(a,{n3g:zV.ref,DAi:zV.ref,nodes:zV.shallow,YFn:oV,kBo:oV})}get zae(){return this.layout===2?this.YFn:
this.kBo}get YFn(){return this.Gg.stack.length>0}get kBo(){return this.eo.isOpen(this.qHh)}constructor(a,b,c,d){this.layout=a;this.Gg=b;this.eo=c;this.qHh=d;this.n3g=(q2s.G(this),void 0);this.nodes=[]}};var r2s=a=>{const {rl:b,bkb:c,...d}=a;return fV(b,{...d,Icon:__c.qv,label:J("v26itA",[c])})},s2s=a=>{const {rl:b,bkb:c,...d}=a;return fV(b,{...d,Icon:__c.pv,label:J("8KUvdQ",[c])})},t2s=a=>{const b=a.dh.page,c=a.disabled,d=a.onClick;a=a.llc;const e=jV(()=>{d(b)},[d,b]);return fV(a,{disabled:c,ib:b.draft?J("8KUvdQ",[1]):J("v26itA",[1]),icon:b.draft?__c.dmh:__c.emh,onClick:e})},u2s=a=>{const b=a.dh,c=a.disabled,d=a.onClick;a=a.Button;const e=jV(()=>{d(b)},[d,b]),f=b.ia;return fV(a,{disabled:c,ib:f.draft?
J("PXv+rw",[1]):J("gmBRhA",[1]),icon:f.draft?__c.dmh:__c.emh,onClick:e})},v2s=a=>{const b=a.onClick,c=a.Io;return fV(a.rl,{disabled:a.disabled,label:c?J("PXv+rw",[1]):J("gmBRhA",[1]),Icon:c?__c.dmh:__c.emh,onClick:b})},w2s=a=>{const b=a.yi,c=a.czq,d=a.Rlt,e=a.active;a=a.onClick;const f=e?__c.pv:__c.qv,g=e?J("a2RjPQ",[d]):J("+/GZ3Q",[c]);return fV(b,{onClick:a,icon:f,zh:"icon",disabled:c===0&&d===0,selected:e,tooltip:g,children:g})};var x2s=class{static G(a){O(a,{$Ua:oV,J$m:oV,kbn:oV,ran:oV,fwk:oV,Ijo:oV,K$m:oV,j0d:oV,EQd:oV,tMn:iV.bound,uMn:iV.bound,pQn:iV.bound,W5k:iV.bound,sUn:iV.bound})}get $Ua(){const a=this.selection.Ma;return a?.type==="pages"&&!a.inner}get J$m(){return!!this.j0d?.length&&this.$Ua}get kbn(){return!!this.EQd?.length&&this.$Ua}get ran(){return this.document.pages.count()!==1}get fwk(){const a=this.selection.Ma?.Rz?.ia;return a?.type!=="concatenated-fixed"?!1:a.pages.count()>1}get Ijo(){const a=this.selection.Ma,
b=a?.Rz?.ia;if(b?.type==="concatenated-fixed"&&a?.type==="pages"&&a.Fp)return a.container.xb(b).xb(a.Fp)}get K$m(){return!!this.oDb?.isActive&&this.$Ua&&(!!this.j0d?.length||!!this.EQd?.length)}get j0d(){if(!(this.Pa.mode<40)){var a=this.selection.Ma;if(a&&a.type==="pages"){var b=a.pages;if(!this.document.pages.every(c=>c.draft||b.includes(c)))return b.some(c=>!c.draft)?b:void 0}}}get EQd(){if(!(this.Pa.mode<40)){var a=this.selection.Ma;if(a&&a.type==="pages")return a=a.pages,a.every(b=>b.draft)?
a:void 0}}tMn(){const a=this.j0d;a&&this.T4h("contextual_menu",a)}uMn(){const a=this.EQd;a&&hHs(this,"contextual_menu",a)}pQn(a){var b=a.draft?void 0:[a];a=a.draft?[a]:void 0;b?this.T4h("page_controls",b):a&&hHs(this,"page_controls",a)}W5k(a){a.ia.draft?iHs(this,[a]):jHs(this,[a])}sUn(){var a=this.j0d,b=this.EQd;a?this.T4h("toolbar",a):b&&hHs(this,"toolbar",b)}T4h(a,b){const c=this.V.wb("hide_pages",{Hb:{name:`editor.page_drafting.${a}_hide_pages`}});gHs(this,b,!0);this.NI("hide",a,c,b);c.qe()}NI(a,
b,c,d){c.ob().wk(({Oi:e})=>{c.ob().addEvent("rendered");this.P.track(__c.agf,{action:a,mb:b,Tb:e(),location:"",fXc:this.fW(d).map(String),rz:0})});c.qe()}fW(a){let b=0;return this.document.pages.flatMap(c=>{c=a.includes(c)?[b]:[];b++;return c})}constructor(a,b,c,d,e,f,g){this.document=a;this.Pa=b;this.selection=c;this.qc=d;this.oDb=e;this.P=f;this.V=g;x2s.G(this)}};var y2s=class{constructor(a){this.N=a}};var z2s=class{static G(a){O(a,{Ifd:zV.ref,dVf:zV.ref,vnh:iV})}constructor(){this.Ifd=(z2s.G(this),0);this.dVf=0;this.vnh=(a,b)=>{this.Ifd=a;this.dVf=b}}};var A2s,B2s,C2s,D2s=class extends IV{getSnapshotBeforeUpdate(){var a=this.Mka.current;a&&(a=a.getBoundingClientRect(),this.store.Ifd=a.left,this.store.dVf=a.top);return null}componentDidUpdate(a){const b=this.props.SC;a=a.SC;const c=this.Mka.current;if(c){var d=c.getBoundingClientRect();if(b<a){const e=this.store.Ifd-d.left,f=this.store.dVf-d.top;this.store.vnh(d.x,d.y);e===0&&f===0||requestAnimationFrame(()=>{c.style.transform=`translate(${e}px, ${f}px)`;c.style.transition="none";requestAnimationFrame(()=>
{c.style.transform="";c.style.transition=""})})}else this.store.vnh(d.x,d.y)}}render(){var a=this.props.dimensions;const b=a.width;a=a.height;const c=this.props.transition,d=this.props.Jh;return fV(er,{disabled:this.props.isDragging,label:this.props.HQ?M("XvT4OA"):J("ChI8GQ",[d]),placement:"top",children:fV("div",{style:{width:b,height:a,transition:c},className:"tKehZw",ref:this.Mka,children:fV(this.Button,{})})})}constructor(...a){super(...a);this.Mka=pV();this.store=new z2s;this.Button=()=>{const b=
this.props.HQ,c=this.props.Jh,d=this.props.$be,e=this.props.xHa,f=this.props.floating;return fV(hr,{className:DV("u2AKZQ","TkK1YA",{Umw1pw:Wb(),"g_Uopg usZ96Q":f,MJ1VvA:e}),icon:Gu,disabled:!b,onClick:d,ariaLabel:b?M("XvT4OA"):J("ChI8GQ",[c]),stretch:!0})}}},H2s;({c:[C2s,A2s]}=KV(D2s,[],[Lb],IV));A2s();
H2s=class extends IV{getSnapshotBeforeUpdate(){var a=this.Mka.current;a&&(a=a.getBoundingClientRect(),this.store.Ifd=a.left,this.store.dVf=a.top);return null}componentDidUpdate(a){const b=this.props.SC;a=a.SC;const c=this.Mka.current;if(c){var d=c.getBoundingClientRect();if(b<a){const e=this.store.Ifd-d.left,f=this.store.dVf-d.top;this.store.vnh(d.x,d.y);e===0&&f===0||requestAnimationFrame(()=>{c.style.transform=`translate(${e}px, ${f}px)`;c.style.transition="none";requestAnimationFrame(()=>{c.style.transform=
"";c.style.transition=""})})}else this.store.vnh(d.x,d.y)}}render(){const a=this.props.HQ,b=this.props.Jh,c=this.props.$be,d=this.props.xHa,e=this.props.floating,f=this.props.isDragging,g=this.props.uNa,h=this.props.dimensions;return fV("div",{style:{transition:this.props.transition},className:"tKehZw",ref:this.Mka,children:g?fV(F2s,{dimensions:h,HQ:a,Jh:b,xHa:d,floating:e,isDragging:f,$be:c,uNa:g}):fV("div",{style:{width:h.width,height:h.height},children:fV(G2s,{HQ:a,Jh:b,xHa:d,floating:e,isDragging:f,
Upn:!0,$be:c})})})}constructor(...a){super(...a);this.Mka=pV();this.store=new z2s}};({c:[__c.E2s,B2s]}=KV(H2s,[],[Lb],IV));B2s();
var G2s=({HQ:a,Jh:b,xHa:c,floating:d,isDragging:e,Upn:f,$be:g})=>fV(hr,{className:DV("u2AKZQ","TkK1YA",{_9wtJ_Q:!f,Umw1pw:Wb(),"g_Uopg usZ96Q":d,MJ1VvA:c}),icon:Gu,disabled:!a,onClick:g,ib:a?M("XvT4OA"):J("ChI8GQ",[b]),ek:"top",kx:e,ariaLabel:a?M("XvT4OA"):J("ChI8GQ",[b]),stretch:!0}),F2s=({dimensions:{width:a,height:b},HQ:c,Jh:d,xHa:e,floating:f,isDragging:g,$be:h,uNa:k})=>{const [l,n]=qV(!1),p=jV(()=>n(!1),[]);return mV(__c.yha,{children:[fV("div",{style:{width:Math.max(a-40,40),height:b},children:fV(G2s,
{HQ:c,Jh:d,xHa:e,floating:f,isDragging:g,Upn:!1,$be:h})}),fV("div",{style:{width:40,height:b},children:fV(k,{reference:fV(hr,{className:DV("u2AKZQ","TkK1YA","_36DSqQ",{Umw1pw:Wb(),"g_Uopg usZ96Q":f,MJ1VvA:e,Ta0Vdg:l}),disabled:!c,onClick:q=>{n(!l);q.preventDefault();q.stopPropagation()},ib:c?M("VXpw8g"):J("ChI8GQ",[d]),ek:"top",kx:g,ariaLabel:c?M("VXpw8g"):J("ChI8GQ",[d]),active:l,stretch:!0,children:fV(__c.Rt,{className:DV("lYCBUw",{PInLWQ:l})})}),open:l,onClose:p,location:"page_manager"})})]})};var I2s=class{F9i({Tb:a}){this.N.track(TSs,{Tb:a,location:"page_navigator"})}pne(a,b,c,d){c.ob().addEvent("page_selected");c.ob().wk(({Oi:e})=>{this.N.track(__c.tGd,{...d,location:"page_navigator",Tb:e(),rz:0})});if(b){const e=__c.K1a(this.c2,f=>{a===f&&(c.ob().addEvent("rendered"),c.qe(),e())})}else setTimeout(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{c.ob().addEvent("rendered");c.end()})})})}vRl(){this.N.track(__c.uWg,{location:"page_navigator"})}constructor(a,b){this.N=a;this.c2=
b;this.QMo=({Tb:c,aKm:d,mBi:e})=>{this.N.track(fTs,{Tb:c,...d,mBi:e})}}};var K2s=({items:a})=>fV("div",{className:"F9EiJA",children:a.map((b,c)=>fV(J2s,{item:b},c))}),J2s=({item:a})=>{const b=jV(()=>fV(a.pa,{iq:!0}),[a]);return fV(ir,{variant:"secondary",icon:b,size:"large",onClick:a.onClick,disabled:a.disabled,children:a.label})};var L2s,M2s,N2s,O2s;
new (L2s=class extends JV{constructor(){super(O2s);M2s()}},(()=>{class a extends(N2s=IV){static G(b){O(b,{ib:zV.ref,JZa:zV.ref,Jxd:zV.ref,onFocus:iV.bound,onClick:iV.bound,TRc:iV.bound,onMouseLeave:iV.bound,Zp:iV.bound,dPn:iV.bound,RCb:iV.bound})}get iq(){const b=this.props.iq;return b!=null?b:this.Jxd}componentDidMount(){Gb(this,[gV(()=>this.JZa,b=>{(b&&this.KPc.get(b))?.focus()}),gV(()=>this.props.iq,b=>{b||(this.Jxd=!1)}),gV(()=>this.Jxd,b=>this.props.F7k?.({iq:b,immediate:!0}))])}pL(b){this.ib=b;
this.GO.open=!0}AR(){this.GO.open=!1}onFocus(){const b=this.props.items;this.props.ui||(this.Jxd=!0,this.JZa=b[0])}onMouseDown(b){b.preventDefault()}onClick(b){b.stopPropagation();b=this.props.items;const c=this.props.ui,d=this.props.hQn,e=this.props.RXj;if(this.props.pwo&&e!=null)return b[e].onClick();if(c){if(b.length===1)return b[0].onClick();d(()=>this.props.label,()=>fV(K2s,{items:this.props.items}))}else this.Jxd=!0,this.JZa=b[0]}TRc(){const b=this.props.F7k;this.iq&&b?.({iq:!1,immediate:!0});
this.Jxd=!1;this.JZa=void 0;this.AR()}onMouseLeave(){this.AR()}Zp(b){b.disabled||(b.onClick(),this.Jxd=!1,this.JZa=void 0,this.n$i.current?.focus(),this.AR())}dPn(b){this.Jxd=!0;this.pL(b.label)}RCb(b){this.pL(b.label)}render(){const {RXj:b=0,items:c,label:d,ui:e,hidden:f=!1}=this.props;ra(b>=0&&b<=c.length);const g=c[b];if(!g)return null;const h=!e,k=this.iq?c.length:Math.min(1,c.length),l=!h||c.length>1;return fV(__c.xmh,{peh:["onFocus","onMouseDown","onTouchStart"],xyg:["focusin","mousedown","touchstart"],
TRc:this.TRc,children:mV("div",{tabIndex:-1,className:f?"QxRpbg":void 0,children:[l&&fV("div",{className:DV("_5VbDXg HiQ94A",{YaEJQQ:this.iq}),onMouseEnter:Wb()?this.rgs:void 0,children:fV("button",{ref:this.n$i,"aria-label":d,"aria-haspopup":h,tabIndex:this.iq?-1:void 0,className:DV("NB__NQ",{QxRpbg:this.iq}),onMouseDown:this.onMouseDown,onFocus:this.onFocus,onClick:this.onClick,children:fV(g.pa,{iq:!1})})}),h&&fV(__c.Vyc,{label:this.ib,placement:"top",state:this.GO,Alf:!1,children:fV("div",{role:"menu",
"aria-expanded":this.iq,className:DV("HiQ94A",{YaEJQQ:l&&!this.iq}),onMouseLeave:this.onMouseLeave,style:{borderRadius:`${k*50}% / 50%`},children:c.map((n,p)=>fV(P2s,{ref:this.G5s,item:n,hidden:l&&!this.iq,wqi:this.iq,onClick:this.Zp,onFocus:this.dPn,Yt:this.RCb,Bbj:this.props.Bbj},p))})})]})})}constructor(...b){super(...b);this.GO=(O2s.G(this),new __c.bC);this.ib="";this.n$i=pV();this.KPc=new Map;this.Jxd=!1;this.G5s=c=>{c&&this.KPc.set(c.item,c.element)};this.rgs=()=>{this.props.F7k?.({iq:!1,immediate:!1})}}}
({c:[O2s,M2s]}=KV(a,[],[Lb],N2s))})(),L2s);var P2s=hV(rTs(({item:a,hidden:b,wqi:c,onClick:d,onFocus:e,Yt:f,Bbj:g},h)=>{const k=lV(null);vTs(h,()=>({item:a,element:m(k.current)}),[a,k]);h=jV(p=>{p.stopPropagation();d(a)},[a,d]);const l=jV(()=>e(a),[a,e]),n=jV(()=>f(a),[a,f]);return fV("div",{className:DV(g?"v5n5LQ":"JYppLg",{QxRpbg:b}),children:fV("button",{ref:k,role:"menuitem",className:DV("NB__NQ",{_zjbeQ:a.disabled}),"aria-label":a.label,onClick:h,onMouseOver:n,onFocus:l,children:fV(a.pa,{iq:c})})})}));var Q2s=({gL:a,config:{mwe:b},Vf:c,hR:d,Ja:e})=>{const f=c.mnb,g=n=>{n.stopPropagation()},h=()=>d.clear();c=hV(()=>fV("div",{onClick:g,children:fV(f,{navigation:d,open:!!d.screen,oa:h})}));const k=(n,p)=>{d.$g({hf:()=>fV(p,{}),options:{sg:n}})},l=hV(({page:n,XQ:p,o4k:q})=>{if(e.pages.last()===n||a.BQa)return null;var r=[b.yDh,b.Jfg].filter(sb);const t=b.Jfg||b.yDh;var v=t?.isActive(n)||!1;const w=t?.isDisabled(n)||!1,x=t&&r.indexOf(t);r=r.map(z=>({get label(){return z.getLabel(n)},get disabled(){return z.isDisabled(n)||
!a.mO},onClick:()=>z.onClick(n),pa:({iq:B})=>fV(z.pa,{page:n,iq:B,cvr:z===t})}));const y=!v&&!p&&!Vb();v=!a.mO&&!v;return fV(O2s,{hidden:y||v,pwo:!w&&t===b.Jfg&&n.transition.ref!==void 0,ui:a.ui,label:M("v4jmbQ"),hQn:k,items:r,RXj:x,iq:p,F7k:q})});return{Yga:c,tJ:l}};var R2s=hV(({pages:a,label:b,h0e:c,language:d,SDa:e,disabled:f,description:g})=>{const [h,k]=qV(!1),l=__c.$_b({disabled:f}),n=lV(null),p=lV(null),q=jV(z=>{a.forEach(B=>e(B,z))},[e,a]),r=jV(()=>{p.current?.HQb();k(!0)},[]),t=jV(()=>{k(!1);setTimeout(()=>n.current?.focus())},[]),v=jV(()=>{p.current?.focus();p.current?.HQb()},[]),w=[["Enter",jV(z=>{z.preventDefault();v()},[v])]];var x=a.map(z=>z.title||"");x=[...(new Set(x))];const y=x.length>1?"":x[0];return fV(__c.vp,{map:w,Hr:!0,children:({ref:z})=>
fV("div",{className:DV("xLOtiw"),children:fV(__c.id,{title:mV("li",{ref:(0,CTs["default"])(n,l,z),tabIndex:0,className:DV("CVtD_Q",{xR5BiA:f}),children:[fV("span",{className:DV("_6EevIg",{yUfh5w:f}),children:fV(__c.Zth,{ref:p,label:b,value:y,defaultValue:c,kI:d,Oza:q,onFocus:r,onBlur:t,disabled:f,tabIndex:-1,className:"hzzX3w",tN:DV("hl_3wg _5Gynyg",{KFP_SQ:f})})}),!f&&fV("div",{className:DV("_DbJ8A",{lfizNA:h}),children:fV(Wi,{variant:"tertiary",tabIndex:-1,ariaLabel:b,onClick:v,size:"small",icon:bu})})]}),
description:g,padding:"1.5u",Wu:!1})})})});var S2s=({document:a,N:b,V:c,L:d,store:e,Kh:f,hb:g,IH:h})=>{const k=(p,q)=>{p.stopPropagation();e.oc(q)&&e.$Ua||(p=c.wb("create_contextual_menu.on_context_menu",{Hb:{name:"editor.page.navigate",type:"create_contextual_menu"}}),e.Uta(q),b.pne(q,e.ya!==q,p,{Yb:e.Yb(q),VL:e.VL,v9d:e.a9d(q),mb:"click"}))},l=iV((p,q)=>{p.preventDefault();k(p,q);f.VOb(new pj(p.clientX||0,p.clientY||0),"page_navigator","right_click","bottom-start")}),n=hV(({page:p})=>{const q=jV(r=>k(r,p),[p]);return f.Tkc?fV(f.Tkc,{Nh:q,
visibility:"always",ariaLabel:M("zEseqg")}):null});f.jc(()=>({mO:e.mO,$Ua:e.$Ua}),(p,{mO:q,$Ua:r})=>{p.doj=!e.ui&&q&&r?{Button:hV(()=>{var t=e.Dg,v=J("WIOFPA",[e.VL]),w=J("2nAH+A",[e.VL]),x=a.language,y=d.SDa,z=!e.mO;if(e.Dg.length===1){var B=e.Dg[0];if(h){var C=g.kT(B);B=B.type==="responsive"?__c.rs:ck(B,a.dimensions);C=tHs(C==="inline"?M("DGuhpg"):C?.name,B)}else C=void 0}else C=void 0;return fV(R2s,{pages:t,label:v,h0e:w,language:x,SDa:y,disabled:z,description:C})})}:void 0});return{onContextMenu:l,
h6b:n}};var wHs=a=>{const b=a.className;a=a.onClick;const c=M("FsEKBw");return fV("div",{role:"none",onClick:a,children:fV(er,{label:c,placement:"top",children:fV(Nu,{tone:"contrast",shape:"circle",className:b,icon:fV(__c.xwf,{size:"tiny"}),ariaLabel:c})})})},T2s=({I0l:a})=>a?fV(__c.pPr,{size:"tiny"}):fV(__c.OH,{size:"tiny"}),uHs=a=>{const b=a.className;var c=a.oYk;const d=a.yNe;a=a.onClick;c=d?M("wvn6JA"):J("UrRvRw",[c]);return fV("div",{role:"none",onClick:a,children:fV(er,{label:c,placement:"top",children:fV(Nu,
{tone:"contrast",shape:"circle",className:b,icon:fV(T2s,{I0l:d}),ariaLabel:c})})})},vHs=a=>fV("div",{className:a.className,role:"none",onClick:a.onClick,children:fV(__c.sah,{xg:a.xg,mRk:3,size:"xxsmall",wAg:!1,ek:"top",J0h:!0,$T:a.$T})});var U2s,V2s,W2s,X2s=parseInt("40px",10)||38,Y2s=parseInt("54px",10)||38,Z2s=parseInt("116px",10)||38,$2s=parseInt("50px",10)||50,a3s=parseInt("4px",10)*2||16,b3s;
new (U2s=class extends JV{constructor(){super(b3s);V2s()}},(()=>{class a extends(W2s=IV){static G(b){O(b,{xNb:oV,onContextMenu:iV.bound,onMouseEnter:iV,pL:iV.bound,onMouseLeave:iV,AR:iV,ib:oV,IIk:oV,scn:oV,TZc:oV,MZc:oV})}get xNb(){return this.props.jx.Fcb===this.props.page.page||!1}componentDidMount(){Gb(this,gV(()=>this.xNb,b=>b&&this.AR()))}pL(){this.GO.open=!0;this.kka.set(!0);this.CFl=void 0}get ib(){var b=this.props.page.page;const c=this.props.Bd,d=this.props.nz;return this.scn?(b=lJe(d,b),
qo(b,"short")):b.title?J("KJG2Uw",[c,b.title]):J("l4WRPg",[c])}get IIk(){const b=this.props.page.page,c=this.props.jx.jcf;return!this.props.To&&!(Ic.wba||Ic.DCd)&&c===b}get scn(){if(this.IIk)return!0;const b=this.props.dimensions.width;return this.props.dimensions.height<=X2s?b<Z2s:b<Y2s}get TZc(){const b=this.props.page.page,c=this.props.lGd,d=this.props.TZc,e=this.props.Pa;if(d&&!(c.Hga<1)&&e.mode!==10)return()=>fV(d,{page:b,lGd:c,className:"_mMCTA"})}get MZc(){const b=this.props.xg,c=this.props.MZc;
if(c)return()=>fV(c,{xg:b,className:"Ez2eyw",onClick:this.onClick})}render(){const b=this.props.On,c=this.props.kI,d=this.props.page,e=this.props.Bd,f=this.props.dimensions,g=this.props.jx,h=this.props.gL,k=this.props.hb,l=this.props.nz,n=this.props.XDl,p=this.props.visible,q=this.props.NUb,r=this.props.BBb,t=this.props.isDragging,v=this.props.h6b,w=this.props.aAp,x=this.props.bAp;var y=this.props.dimensions.width;const z=this.props.dimensions.height,B=EV(g,d.page)&&!g.GJ;y=y>=$2s;return mV(uV,{children:[this.kka.get()&&
fV(__c.Vyc,{state:this.GO,label:this.ib,lineClamp:1,placement:"top",arrow:!0,children:fV("div",{})}),fV("div",{style:{height:z+a3s},className:"TJVsng",onContextMenu:this.onContextMenu,onMouseEnter:this.pja?this.onMouseEnter:void 0,onMouseLeave:this.pja?this.onMouseLeave:void 0,onMouseDown:this.AR,children:mV("div",{className:DV("pO8x8A",{k_v2zQ:h.mCd(d.page),_0a3n7A:h.uad(d.page),_bzJOg:r,FmnYyQ:g.isLinear}),children:[mV("button",{onClick:this.onClick,className:DV("ta67Cg",{k_v2zQ:h.mCd(d.page),Zxq53g:g.isLinear,
xxfxlQ:xc.SV}),"aria-label":this.ib,children:[fV(w,{NUb:q,page:d,dimensions:f,WEb:p,On:b,MAh:g.isLinear}),fV("div",{className:DV("mf3LMw","Q_iqdQ",n&&"_68Z_zQ")})]}),p&&y&&fV(x,{isDragging:!!t,xNb:this.xNb||this.IIk,kka:this.kka.get(),BBb:r,z$k:B?"pageDuration":"pageNumber",WRp:q!=="none",r0p:r,GXa:g.isLinear,Bd:e,kI:c,dh:d,qga:this.onClick,gL:h,hb:k,nz:l,TZc:this.TZc,MZc:this.MZc,h6b:v})]})})]})}constructor(...b){super(...b);this.GO=(b3s.G(this),new __c.bC);this.kka=zV.box(!1);this.onContextMenu=
c=>{const d=this.props.page.page;(0,this.props.onContextMenu)?.(c,d)};this.onClick=()=>{const c=this.props.onClick;return c(this.props.page.page)};this.pja=Wb();this.onMouseEnter=()=>{clearTimeout(this.CFl);this.CFl=setTimeout(this.pL,150)};this.onMouseLeave=()=>{clearTimeout(this.CFl);this.AR();this.kka.set(!1)};this.AR=()=>this.GO.open=!1}}({c:[b3s,V2s]}=KV(a,[],[Lb],W2s))})(),U2s);var CV=Uc*8,c3s=parseInt("20px",10)*2||40;var e3s=class{static G(a){O(a,{Z5:zV.ref,Oon:oV,MJk:oV,Wto:iV,jJf:oV.struct,tpn:oV,lOl:oV,NJk:oV,OJk:oV,YIo:oV,JIk:oV})}get Oon(){const a=this.jx.pba(this.page);return a.width<a.height}get MJk(){return this.Oon?1.75:1}Wto(a){this.Z5=a}get jJf(){return{width:Math.floor(this.Z5.width*this.MJk),height:Math.floor(this.Z5.height*this.MJk)}}get tpn(){const a=this.gL,b=this.jx.Fcb,c=this.page;return a.wln?!0:a.ui&&b!=null&&b!==c}get lOl(){const a=this.jJf,b=this.jx.VWd(this.page);return this.JIk?b%a.width-
a.width:0}get NJk(){const a=this.jx.aza(this.page);return[this.jx.Cgb+a.offsetWidth,...Array(this.OJk.length).fill(this.jJf.width)]}get OJk(){const a=this.jx;var b=this.lOl,c=this.jJf.width,d=this.XH;const e=this.page;b=(a.VWd(e,!0)-b)/c;b=b>1.07?Math.ceil(b):1;if(d.uK&&this.Vfe.length===b||a.zla&&this.Vfe.length>=b)return this.Vfe;d=a.aza(e).durationUs/1E6;const f=b===1?d:c/a.WDa,g=this.Vfe[0]??0;c=this.JIk?Array.from({length:b-this.Vfe.length},(h,k)=>g-f*(k+1)).reverse().concat(this.Vfe):Array.from({length:b},
(h,k)=>f*(k+.5));c[c.length-1]=Math.min(c[c.length-1],a.srf??d);return this.Vfe=c.map(d3s)}get YIo(){return this.XH.GJ?"fill":"repeat"}get JIk(){const a=this.jx,b=this.page;return a.zla==="start"&&a.Fcb===b}constructor(a,b,c,d){this.gL=a;this.jx=b;this.XH=c;this.page=d;this.Z5=(e3s.G(this),{width:c3s,height:CV,scale:1});this.Vfe=[]}},d3s=a=>Math.floor(a*10)/10;var f3s=tb.rd,g3s=parseInt("200ms",10)||0,zHs=hV(({nz:a,bAa:b,jx:c,XH:d,gL:e,S7q:f,P7q:g,page:h,oc:k})=>{if(d.GJ)return null;var l=e.uad(h);d=!!h?.draft;const {iIl:n,g9h:p}=yHs(a,h);var q=f(h);f=!!q?.draft;a=(g=g(h))&&yHs(a,g);b=b.$ri?.get()&&e.Dg.length>0?e.Dg:void 0;e=c.fyk?c.fyk:void 0;b=[...(b?b:[]),e];q=q&&b&&!f?b.includes(q):!1;h=!l&&b?b?.includes(h):!1;l=f?b.includes(g):!1;return mV(uV,{children:[fV(h3s,{position:"end",width:p,isVisible:d?!1:h,oc:k,GXa:c.isLinear}),fV(h3s,{position:"start",
width:f?a?.g9h||0:n,isVisible:d?!1:l||q,oc:k,GXa:c.isLinear})]})}),h3s=GV(({position:a,width:b,isVisible:c,oc:d,GXa:e})=>{const f=lV(null);return fV(xTs,{in:c,timeout:f3s?g3s:0,classNames:{enter:"_9mnZcg",enterActive:"_56SXBg",exit:"_9mnZcg"},nodeRef:f,unmountOnExit:!0,children:fV("div",{className:DV("zgx9yQ",{dlwChA:e,kOiXVQ:d&&a==="start",kkOmYQ:a==="end",Ia3Oog:d&&a==="end"}),"aria-hidden":!0,children:fV("div",{className:DV("LDPjUw",{dlwChA:e,duh49g:a==="end",CQRHEA:d&&a==="start",_65_ZFQ:a===
"end",DGU0aw:d&&a==="end"}),ref:f,style:{width:b+"%"}})})})});var i3s=parseInt("250ms",10)||0,k3s=hV(rTs(({isOpen:a,children:b},c)=>{const d=lV(null),e=lV(!1),[f]=qV(()=>({el:null,$xm:!1})),[g]=qV(()=>{const l=document.createElement("div");l.classList.add("uSqASw");l.anchor=null;return l}),h=pTs(()=>({visible:a,Q_d:a})),k=jV((l=!1)=>{const n=()=>{const p=d.current;if(p){var {left:q,top:r}=p.getBoundingClientRect();g.style.top=`${r}px`;g.style.left=`${q}px`}};l?n():e.current||(requestAnimationFrame(()=>{n();e.current=!1}),e.current=!0)},[g]);wTs(()=>rV(()=>{if(h.Q_d!==
a){if(a){h.Q_d=!0;var l=window.setTimeout(iV(()=>{h.visible=!0}))}else h.visible=!1,l=window.setTimeout(iV(()=>{h.Q_d=!1}),i3s);return()=>{clearTimeout(l)}}}),[h,a]);wTs(()=>{if(h.Q_d){var l=d.current;if(l)return document.body.appendChild(g),g.anchor=l,()=>{g.remove();g.anchor=null}}},[h.Q_d,g]);wTs(()=>{if(a&&h.Q_d){var l=d.current;if(l){var n=q=>{q.target&&(f.el!==q.target&&(f.el=q.target,f.$xm=f.el.contains(l)),f.$xm&&k())},p=()=>k();window.addEventListener("scroll",n,!0);window.addEventListener("resize",
p,!0);k();return()=>{window.removeEventListener("scroll",n,!0);window.removeEventListener("resize",p,!0)}}}},[h.Q_d,a,f,k]);vTs(c,()=>({Fmb:k}));return h.Q_d?fV("div",{ref:d,children:DTs(mV("div",{className:DV("HL00tw",{awHXiw:h.visible}),children:[fV(j3s,{children:b}),fV("div",{className:"_6imlDA",children:fV(__c.lha,{})})]}),g)}):null}));k3s.displayName="Tooltip";var j3s=hV(a=>{a=a.children.get();return fV("div",{className:"TUXi6A",children:fV(__c.kha,{label:a,lineClamp:1})})});
j3s.displayName="TooltipContent";var l3s,m3s,n3s,o3s=a=>a==="ArrowRight"||a==="ArrowUp",p3s;
new (l3s=class extends JV{constructor(){super(p3s);m3s()}},(()=>{class a extends(n3s=IV){static G(b){O(b,{overlay:zV.ref,componentWillUnmount:iV,onDragStart:iV.bound,onDragEnd:iV.bound,onDrag:iV.bound,onKeyDown:iV.bound,onKeyUp:iV.bound})}componentWillUnmount(){this.Rra()}onDragStart(b){this.Umi=b.clientX;this.x7d=this.props.time;this.props.onDragStart?.(b)}onDragEnd(b){this.props.onDragEnd?.(b);this.Rra()}onDrag(b){if(this.Umi!=null&&this.x7d!=null){const c=b.clientX-this.Umi;this.OTj();this.props.onDrag(this.x7d,
c,b)}}onKeyDown(b){var c=b.key;if(o3s(c)||c==="ArrowLeft"||c==="ArrowDown"){b.preventDefault();b.stopPropagation();if(this.qXg==null||this.x7d==null)this.x7d=this.props.time,this.qXg=0,this.props.qQf?.();this.qXg+=(b.shiftKey?10:1)*(o3s(b.key)?1:-1);this.props.onKeyDown?.(this.x7d,this.qXg)}}onKeyUp(b){var c=b.key;if(o3s(c)||c==="ArrowLeft"||c==="ArrowDown")b.preventDefault(),b.stopPropagation(),this.props.onKeyUp?.(),this.Rra()}OTj(){if(!this.overlay){sa(this.CJi==null);var b=document.createElement("div");
b.className="Z0qCkg";b.onclick=this.stopPropagation;document.body.appendChild(b);this.CJi=gV(()=>this.props.cursor,c=>{c&&(b.style.cursor=c)},{fireImmediately:!0});this.overlay=b}}Rra(){this.CJi&&(this.CJi(),this.CJi=void 0);this.overlay&&(document.body.removeChild(this.overlay),this.overlay=void 0);this.Umi=this.qXg=void 0}get label(){const b=this.props.moa;switch(b.type){case "touch":case "pointer":return b.r5a==="start"?M("UVWWzw"):M("T8SbVw");case "fullWidth":return M("QkbWIw");default:throw new u(b);
}}get style(){const b=this.props.moa,c=this.props.cursor,d=this.props.Ssc;switch(b.type){case "touch":return{cursor:c,paddingLeft:b.r5a==="start"?b.vEf:void 0,paddingRight:b.r5a==="end"?b.vEf:void 0};case "pointer":const e=b.PTa==="inside"&&b.vEf||void 0,f=b.PTa==="inside"&&b.ucj||0;return{cursor:c,marginLeft:b.r5a==="start"?e:void 0,marginRight:b.r5a==="end"?e:void 0,top:f?f:void 0,height:`calc(100% - ${f*2}px)`,width:b.PTa==="inside"?d:void 0};case "fullWidth":return{cursor:c};default:throw new u(b);
}}get classNames(){const b=this.props.moa,c=this.props.Ssc;switch(b.type){case "touch":return{LWH67A:b.r5a==="start",el4EEg:b.r5a==="end",i_lWBA:b.isVisible};case "pointer":return{LWH67A:b.r5a==="start",el4EEg:b.r5a==="end",VpCh7A:b.PTa==="outside",_2XPgIQ:b.PTa==="inside"&&c!=null,_Hb7xw:b.UAh&&b.PTa==="inside"};case "fullWidth":return{VDu60Q:!0,JvDQ2g:!0};default:throw new u(b);}}get cct(){const b=this.props.moa;switch(b.type){case "touch":return b.isVisible?fV("div",{className:"yf4DQA"}):null;
case "pointer":const c={LWH67A:b.r5a==="start",el4EEg:b.r5a==="end"},d={borderTopLeftRadius:b.r5a==="start"?b.borderRadius:void 0,borderBottomLeftRadius:b.r5a==="start"?b.borderRadius:void 0,borderTopRightRadius:b.r5a==="end"?b.borderRadius:void 0,borderBottomRightRadius:b.r5a==="end"?b.borderRadius:void 0};return fV("div",{"aria-hidden":!b.isVisible,className:DV("_9hMGtQ",b.PTa==="outside"?{...c,vt__Jw:!0}:{...c,I18UiQ:!b.isVisible,cMDicQ:b.$Eg,LWH67A:b.r5a==="start",el4EEg:b.r5a==="end"}),style:d});
case "fullWidth":return null;default:throw new u(b);}}render(){var b=this.props.time;const c=this.props.moa;b={onPointerEnter:this.props.Zsb,onPointerLeave:this.props.$sb,"aria-valuemin":this.props.min,"aria-valuemax":this.props.max,"aria-valuenow":b,"aria-valuetext":J("UrWtuQ",[Math.round(b/1E6*10)/10])};const d=fV("div",{role:"slider",tabIndex:0,"aria-label":this.label,className:DV("sAs_qg",this.classNames),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onKeyDownCapture:this.onKeyDown,
onKeyUpCapture:this.onKeyUp,style:this.style,...b,"data-role":"trim-thumb",children:this.cct});return c.type==="fullWidth"&&c.Aac?.show?fV(__c.Vc,{open:!0,level:1,reference:d,placement:"top-center",children:fV("div",{"aria-label":M("QkbWIw"),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,className:DV("HkOD8A",{Q_WLHg:c.Aac.appearance==="light",a0VUCg:c.Aac.appearance==="dark"}),style:this.style,...b,children:fV(__c.XXn,{size:"medium"})})}):d}constructor(...b){super(...b);this.Umi=(p3s.G(this),
void 0);this.draggable=new Tq({x5a:this.props.x5a?{enabled:this.props.x5a}:void 0,onDragStart:this.onDragStart,pe:this.onDrag,onDragEnd:this.onDragEnd});this.onMouseDown=c=>{this.ACn(c);this.draggable.onMouseDown(c)};this.onTouchStart=c=>{this.ACn(c);this.draggable.onTouchStart(c)};this.stopPropagation=c=>c.stopPropagation();this.ACn=c=>{this.props.captureEvents&&c.stopPropagation()}}}({c:[p3s,m3s]}=KV(a,[],[Lb],n3s))})(),l3s);var q3s,r3s,s3s,t3s;
new (q3s=class extends JV{constructor(){super(t3s);r3s()}},(()=>{class a extends(s3s=IV){static G(b){O(b,{isDragging:zV.ref,onDrag:iV.bound,onDragEnd:iV.bound,onDragStart:iV.bound,qQf:iV.bound,onKeyDown:iV.bound,onKeyUp:iV.bound,position:oV,cPo:oV,NCj:oV,MCj:oV,qKb:oV,A8i:oV})}componentDidMount(){this.cld.current&&(this.Ucf=this.cld.current.Fmb);Gb(this,[Sus(()=>{if(this.isDragging){var b=qo(this.cPo/1E6,"short");rV(()=>{this.currentTime.set(b);this.Ucf()})}})])}componentWillUnmount(){rV(()=>this.isDragging=
!1)}Ucf(){}onDrag(b,c,d){if(this.isDragging){var e=this.props.duration,f=this.props.time,g=this.props.min,h=this.props.max,k=this.props.gib,l=this.props.zQd,n=this.props.moa;b=Math.floor(k(b,c,this.position));e=l?.TEa(b,n.type==="fullWidth"?e:void 0)??b;g=Math.max(g,Math.min(e,h));if(g!==f)this.props.onDrag(g,d)}}onDragEnd(b){this.props.onDragEnd?.(b);this.props.zQd?.onDragEnd();this.isDragging=!1}onDragStart(b){this.isDragging=!0;this.props.onDragStart?.(b)}qQf(){this.isDragging=!0;this.props.qQf?.()}onKeyDown(b,
c){if(this.isDragging){var d=this.props.time,e=this.props.min,f=this.props.max,g=this.props.gib;b=Math.floor(g(b,c,this.position));e=Math.max(e,Math.min(b,f));if(e!==d)this.props.onKeyDown?.(e)}}onKeyUp(){this.props.onKeyUp?.();this.isDragging=!1}get position(){const b=this.props.moa;return b.type!=="fullWidth"?b.r5a:void 0}get cPo(){const b=this.props.time,c=this.props.duration;switch(this.position){case "start":return m(c);case "end":return m(c);case void 0:return b;default:throw new u(this.position);
}}get NCj(){return this.props.time<=this.props.min}get MCj(){return this.props.time>=this.props.max}get qKb(){return this.props.moa.type==="fullWidth"?this.isDragging?"grabbing":"pointer":this.NCj?"e-resize":this.MCj?"w-resize":"ew-resize"}get A8i(){const b=this.props.ib;return b?zV.box(b):this.currentTime}render(){const b=this.props.moa;return this.NCj&&this.MCj&&b.type!=="fullWidth"&&!b.isVisible?null:mV(uV,{children:[fV(p3s,{onDragStart:this.onDragStart,onDrag:this.onDrag,onDragEnd:this.onDragEnd,
qQf:this.qQf,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,x5a:this.position?void 0:"touch-only",time:this.props.time,min:this.props.min,max:this.props.max,cursor:this.qKb,moa:b,Zsb:this.props.Zsb,$sb:this.props.$sb,captureEvents:this.props.captureEvents,Ssc:this.props.Ssc}),fV("div",{className:b.type==="fullWidth"&&b.Aac?.show?"yOdD4w":"QmeGkA",style:{left:this.position==="start"?0:void 0,right:this.position==="end"?0:void 0},children:fV(k3s,{isOpen:this.isDragging,ref:this.cld,children:this.A8i})})]})}constructor(...b){super(...b);
this.currentTime=(t3s.G(this),zV.box(""));this.cld=pV();this.isDragging=!1}}({c:[t3s,r3s]}=KV(a,[],[Lb],s3s))})(),q3s);var IKs=a=>a.classList.contains("sAs_qg")&&!a.classList.contains("VDu60Q");var u3s,v3s,w3s,x3s;
new (u3s=class extends JV{constructor(){super(x3s);v3s()}},(()=>{class a extends(w3s=IV){static G(b){O(b,{endUs:oV,Dik:oV,bPo:oV})}get endUs(){return Math.max(0,this.props.I0b+this.props.durationUs)}zUj(b){return{onDragStart:c=>this.props.Ika?.({type:b,mb:"drag",nativeEvent:c}),onDragEnd:c=>this.props.gqa?.({type:b,mb:"drag",nativeEvent:c}),qQf:()=>this.props.Ika?.({type:b,mb:"shortcut"}),onKeyUp:()=>this.props.gqa?.({type:b,mb:"shortcut"})}}get Dik(){const b=this.props.moa,c=this.props.disabled;
return b.type==="pointer"&&b.PTa==="outside"&&(!b.isVisible||c)}get bPo(){if(this.props.disabled)return null;const b=this.props.D1g,c=this.props.Eae,d=this.props.gQa,e=this.props.X_g,f=this.props.yza,g=this.props.I0b,h=this.props.durationUs,k=this.props.ycb,l=this.props.moa,n=this.props.Aac,p=this.props.Zsb,q=this.props.$sb,r={gib:this.props.gib,zQd:this.props.zQd,captureEvents:this.props.captureEvents,ib:this.props.ib,Ssc:this.props.Ssc},t=l.type==="pointer"?{PTa:this.Dik?"inside":l.PTa}:{};return mV(uV,
{children:[e&&k?fV(t3s,{...r,...this.g1q,time:g,min:b??0,max:e,moa:{type:"fullWidth",Aac:n},duration:h}):null,fV(t3s,{...r,...this.N4s,time:g,min:d,max:this.endUs-c,duration:h,moa:{...l,...t,r5a:"start"},Zsb:p,$sb:q}),fV(t3s,{...r,...this.WOq,time:this.endUs,min:g+c,max:f,duration:h,moa:{...l,...t,r5a:"end"},Zsb:p,$sb:q})]})}render(){const b=this.props.children,c=this.props.moa,d=this.props.disabled;return mV("div",{className:DV("HxvUnQ i1mS2A",{g_Wv1w:c.type==="pointer"&&c.PTa==="outside"&&!this.Dik,
Hmp0bg:c.type==="touch"&&c.isVisible&&!d}),children:[fV("div",{className:"x3tMUw i1mS2A",children:b}),this.bPo]})}constructor(...b){super(...b);this.N4s=(x3s.G(this),{...this.zUj("start"),onDrag:(c,d)=>{this.props.VDa?.(c,{type:"start",mb:"drag",nativeEvent:d})},onKeyDown:c=>{this.props.VDa?.(c,{type:"start",mb:"shortcut"})}});this.WOq={...this.zUj("end"),onDrag:(c,d)=>{this.props.fIa?.(c,{type:"end",mb:"drag",nativeEvent:d})},onKeyDown:c=>{this.props.fIa?.(c,{type:"end",mb:"shortcut"})}};this.g1q=
{...this.zUj("fullWidth"),onDrag:(c,d)=>{this.props.ycb?.(c,{type:"fullWidth",mb:"drag",nativeEvent:d})},onKeyDown:c=>{this.props.ycb?.(c,{type:"fullWidth",mb:"shortcut"})}}}}({c:[x3s,v3s]}=KV(a,[],[Lb],w3s))})(),u3s);var y3s=a=>class extends IV{componentDidMount(){const b=this.$da.Nsf;this.wso();this.store.fkb=this.props.qp;addEventListener("touchstart",b,{passive:!1})}componentDidUpdate(){this.wso()}componentWillUnmount(){removeEventListener("touchstart",this.$da.Nsf)}render(){return fV(a,{...this.props,$Oj:this.store.Vba,onDragStart:this.onDragStart,onDrag:this.onDrag,onDragEnd:this.onDragEnd,onScroll:this.onScroll,kZi:this.kZi})}constructor(...b){super(...b);this.store=new __c.z1g;this.$da=new __c.x1g(this.store,
this.props.IXe);this.wso=()=>{const c=this.props.To;this.store.RYc({HAn:c?400:void 0,uhd:c?60:void 0,KLd:"x"})};this.onScroll=()=>{this.props.Q_p&&NDe(this.$da);this.props.onScroll?.()};this.onDragStart=c=>{this.$da.qPc=!0;NDe(this.$da);__c.LDe(this.$da,{x:c.clientX,y:c.clientY});this.props.onDragStart&&this.props.onDragStart(c)};this.onDrag=c=>{const d={x:c.clientX,y:c.clientY};this.props.Q_p&&NDe(this.$da);__c.LDe(this.$da,d);this.props.onDrag&&this.props.onDrag(c)};this.onDragEnd=()=>{this.$da.qPc=
!1;NDe(this.$da);this.props.onDragEnd&&this.props.onDragEnd()};this.kZi=c=>{c&&!this.$da.chc?this.$da.YEr():!c&&this.$da.chc&&(this.$da.chc=void 0)}}};var z3s=class extends sTs{componentWillUnmount(){this.Sfo?.()}render(){return fV(x3s,{I0b:this.props.I0b,durationUs:this.props.durationUs,D1g:this.props.D1g,Eae:this.props.Eae,LU:this.props.LU,gQa:this.props.gQa,X_g:this.props.X_g,yza:this.props.yza,gib:this.gib,zQd:this.props.zQd,VDa:this.VDa,fIa:this.fIa,ycb:this.ycb,Ika:this.Ika,gqa:this.gqa,captureEvents:this.props.captureEvents,disabled:this.props.disabled,moa:this.props.moa,Aac:this.props.Aac,ib:this.props.ib,Zsb:this.props.Zsb,$sb:this.props.$sb,
Ssc:this.props.Ssc,children:fV("div",{ref:this.props.$Oj,className:"JFv1rQ",children:this.props.children})})}constructor(...a){super(...a);this.Ika=b=>{const c=this.props.Ika,d=this.props.onDragStart,e=this.props.qp;c(b);b.mb==="drag"&&d&&d(b.nativeEvent);this.Sfo=gV(()=>e.scrollLeft,this.onScroll);this.On=BHs(this,b.type)};this.VDa=(b,c)=>{const d=this.props.VDa,e=this.props.onDrag;d(b);c.mb==="drag"&&e&&e(c.nativeEvent)};this.fIa=(b,c)=>{const d=this.props.fIa,e=this.props.onDrag;d(b);c.mb==="drag"&&
e&&e(c.nativeEvent)};this.ycb=(b,c)=>{const d=this.props.ycb,e=this.props.onDrag;d&&d(b);c.mb==="drag"&&e&&e(c.nativeEvent)};this.gqa=b=>{const c=this.props.gqa,d=this.props.onDragEnd,e=this.props.kZi;c(b);e&&e(!0);this.Sfo?.();this.On=void 0;d&&d()};this.onScroll=iV(()=>{const b=this.props.onScroll;var c=this.props.kZi,d=this.props.I0b,e=this.props.durationUs;const f=this.props.gQa,g=this.props.yza,h=this.props.Eae;var k=this.props.LU;const l=this.On;if(l){l.deltaX=this.props.qp.scrollLeft-l.nRg;
var n=l.deltaX;var p=n===0?void 0:n>0?"forwards":"backwards";n=this.props.gib(l.x7d,l.deltaX);var q=l.Ssn;l.Ssn=n;n-=q||l.x7d;if(!(q=!p)&&(q=l.type!=="fullWidth")){{q=l.type;const r=this.props.durationUs,t=this.props.Eae,v=this.props.I0b;q==="start"&&p==="forwards"||q==="end"&&p==="backwards"?p=r>t:(p=r<this.props.LU,p=q==="end"?p:p&&v>0)}q=!p}k=q||e===k||e===h;c&&c(k);if(!k){switch(l.type){case "fullWidth":c=d+n;d=this.props.X_g;e=this.props.D1g;c=d?Math.max(e??0,Math.min(c,d)):c;this.props.ycb?.(c);
break;case "start":this.props.VDa(d+n);break;case "end":this.props.fIa(Math.max(f+h,Math.min(d+e+n,g)));break;default:throw new u(l.type);}b&&b()}}});this.gib=(b,c,d)=>this.props.gib(b,c+(this.On?.deltaX||0),d)}},QLs=y3s(z3s);var fKs=class{get Zwo(){return this.IPi||this.oOe.get()}onDragEnd(){this.reset()}TEa(a,b){const c=this.xJf;this.xJf=a;let d=DHs(this,{DFf:a});if(d==null&&b!=null){var e=DHs(this,{DFf:a+b});e!=null&&(d=e-b)}if(d==null)return this.reset(),a;b=this.Sb.now();e=d-a;this.BJf==null||this.BJf.TEa!==d?(this.Wk?.tO?.(new __c.vsd({style:1})),this.BJf={ID:b,A2s:e>0,TEa:d},this.IPi=!1):!this.Zwo&&GHs(this,{TEa:d,DFf:a,xJf:c,Cbe:b})&&(this.IPi=!0);return this.Zwo?a:d}reset(){this.BJf=void 0;this.IPi=!1;this.xJf=
void 0}constructor(a,b,c){this.targets=a;this.oOe=b;this.Wk=c;this.Sb=__c.Tb;this.z2s=1E3;this.IPi=!1}},CHs=(a,b)=>{const c=a.TEa+a.j7c;return a.TEa-a.Ljd<=b&&b<=c};var A3s,B3s,C3s,D3s=parseInt("50px",10),E3s=parseInt("2px",10)||2,F3s=parseInt("1px",10)||1,G3s=parseInt("7px",10)||7,H3s=parseInt("4px",10)||5,I3s=parseInt("4px",10)||3,J3s=parseInt("5px",10)||5,K3s=parseInt("3px",10)||3,L3s=parseInt("7px",10)||7,M3s=parseInt("5px",10)||5,O3s=a=>({page:b,children:c})=>fV(N3s,{...a,page:b,children:c}),N3s;
new (A3s=class extends JV{constructor(){super(N3s);B3s()}},(()=>{class a extends(C3s=IV){static G(b){O(b,{Cxf:zV.ref,v$g:zV.ref,Ika:iV,VDa:iV,IXe:iV,fIa:iV,gqa:iV,lBe:oV,rUe:oV,C1g:oV,gQa:oV,yza:oV,Ukb:oV,trim:oV({equals:nV.shallow}),width:oV,E7f:oV({equals:nV.shallow}),oIm:oV,$8d:oV,ib:oV})}get lBe(){const b=this.props.nz,c=this.props.page,d=this.props.jx;return d.Fcb===c&&d.srf!==void 0?d.srf:lJe(b,c)}get rUe(){return hMs(this.props.m4e,this.props.page)}get C1g(){return.1}get gQa(){return this.Ukb.durationUs+
this.Ukb.Ofa-this.rUe*1E6}get yza(){return this.rUe*1E6+this.Ukb.Ofa}get Ukb(){return this.props.jx.aza(this.props.page)}get trim(){var b=this.props.jx,c=this.Ukb;b.zla==="start"?(c=c.Ofa+b.d$g*1E6,b=c-this.lBe*1E6):(b=c.Ofa,c=c.Ofa+this.lBe*1E6);return{startUs:b,endUs:c}}get width(){const b=this.props.gL,c=this.props.jx;return this.props.XH.GJ?this.Ukb.width:!this.props.tZa&&b.BQa?Math.min(this.Ukb.width,c.dLm.width):c.Fcb===this.props.page?this.Ukb.width+c.lcf:this.Ukb.width}get E7f(){var b=this.props.jx;
const c=b.isLinear;var d=this.props.XH.GJ;const e=this.props.gL,f=b.jcf===this.props.page;if(b.y0e)return{type:"touch",isVisible:f&&!d};b=this.width>=D3s;d=this.v$g==null?!b:this.v$g==="outside";return c&&d?{type:"pointer",PTa:"outside",isVisible:this.$8d&&e.$Ua&&e.VL===1&&!e.isDragging,$Eg:!0,UAh:c}:{type:"pointer",PTa:"inside",isVisible:b&&f,$Eg:!b,vEf:this.$8d?c?I3s:J3s:F3s,ucj:this.$8d?c?I3s:K3s:F3s,borderRadius:this.$8d?c?H3s:M3s:c?G3s:L3s,UAh:c}}get oIm(){const b=this.props.gL,c=this.props.jx,
d=this.props.XH,e=this.props.page;return!b.mO||d.GJ||d.uK||!EV(c,e)?!0:b.ui&&!this.E7f?.isVisible}get $8d(){return this.props.gL.oc(this.props.page)}get ib(){return this.props.page.locked?M("lFd1Vg"):void 0}render(){const b=this.props.gL,c=this.props.jx,d=this.props.children;var e=this.props.page;const f=this.props.qp,g=c.isLinear?E3s:0,h=b.mCd(e);e=b.uad(e);return fV(QLs,{qp:f,I0b:this.trim.startUs,durationUs:this.lBe*1E6,gib:this.gib,Eae:this.C1g*1E6,LU:this.rUe*1E6,gQa:this.gQa,yza:this.yza,VDa:this.VDa,
fIa:this.fIa,Ika:this.Ika,gqa:this.gqa,zQd:this.uRb,IXe:this.IXe,captureEvents:!0,disabled:this.oIm,moa:this.E7f,ib:this.ib,Zsb:c.y0e?void 0:this.H8e,$sb:c.y0e?void 0:this.Cxk,onScroll:this.onScroll,Ssc:c.isLinear?36:void 0,To:b.ui,children:fV("div",{style:{width:this.width-(h&&e?0:h||e?g/2:g)},children:d})})}constructor(...b){super(...b);this.Cxf=(N3s.G(this),0);this.v$g=void 0;this.Ika=c=>{const d=this.props.gL,e=this.props.m4e,f=this.props.fB,g=this.props.page;if(c.mb==="drag"&&c&&(d.dHi(c.nativeEvent),
d.PG!=="single"))return;g.locked||(this.v$g=this.width<D3s?"outside":"inside",c=c.type==="end"?"end":"start",f?.stop(),f?.L6e({direction:c}),e.Ika(g,c))};this.VDa=c=>{this.props.page.locked||this.props.m4e.NHi(Math.min(this.rUe,Math.max(this.C1g,(this.Ukb.Ofa+this.Ukb.durationUs-c)/1E6)))};this.IXe=()=>{const c=this.props.jx,d=this.props.gL;c.zla==="start"&&c.lcf>0&&d.ui&&(this.VDa(this.trim.startUs-1E4),this.Cxf-=1E4,c.t$i=this.Cxf/1E6*c.WDa)};this.fIa=c=>{this.props.page.locked||this.props.m4e.NHi(Math.min(this.rUe,
Math.max(this.C1g,(c-this.Ukb.Ofa)/1E6)))};this.gqa=c=>{const d=this.props.m4e,e=this.props.jx,f=this.props.fB,g=this.props.page;if(e.Fcb===g){const h=e.zla;d.gqa(this.C1g,this.rUe,c.mb);f?.j3e(h);f?.FSk(g,h);this.v$g=void 0}this.Cxf=0;e.t$i=0};this.H8e=()=>this.props.jx.a3f(this.props.page);this.Cxk=()=>this.props.jx.a3f(void 0);this.uRb=new fKs(oV(()=>{var c=this.props.I7i,d=this.props.fB?.aMi();d=d?[d]:[];if(!c)return d;const e=c.pjd;c=c.xQh?c.xQh.get().map(f=>({TEa:f,Ljd:f===0?0:e,j7c:e})):[];
return d.concat(c)}),this.props.I7i?.oOe??zV.box(!1),this.props.Wk);this.gib=(c,d)=>c+this.Cxf+d/this.props.jx.WDa*1E6;this.onScroll=this.props.gL.ui?()=>{this.props.fB?.j3e()}:void 0}}({c:[N3s,B3s]}=KV(a,[],[Lb],C3s))})(),A3s);var P3s={$Qa:0},Q3s=hV(({page:a,ne:b,bmj:c,dah:d,zla:e,On:f,j4e:g})=>fV("div",{className:"_9yfyrQ",style:{right:e==="start"?g.lOl:void 0,left:e==="start"?void 0:0},children:fV(__c.qC,{On:f,itemSizes:g.NJk,children:h=>fV(uV,{children:g.OJk.map((k,l)=>{var n;if(n=h!=null){n=h?.Aba??g.NJk.length-1;const p=l+1;n=(h?.gba??0)<=p&&p<=n}return fV(c,{aYc:k,page:a,j4e:g,ne:b,dah:d,Bgh:n},l)})})})})),S3s=({Bgh:a,aYc:b,...c})=>{b=tTs(b);a=tTs(a);return fV(R3s,{...c,aYc:b,Bgh:a})},R3s=hV(({j4e:a,Bgh:b,aYc:c,page:d,
ne:e,dah:f})=>{const g=a.jJf.width;a=a.jJf.height;return fV("div",{style:{width:g,height:a},children:b&&fV(e,{page:d,vd:g,Df:a,fit:f,tgh:c*1E6,gB:{$Qa:c}})})}),V3s=hV(({page:a,document:b,NUb:c,dimensions:d,WEb:e,ne:f,BFp:g,bmj:h,jx:k,gL:l,On:n,j4e:p,Qsj:q})=>{const r=AV(()=>({...d,width:bk(a.page,b.dimensions)?sg(4,ck(a.page,b.dimensions)).width*d.scale:d.width}),[a.page,b.dimensions,d]);p.Wto(r);const t=k.Fcb===a.page?k.zla:void 0;let v;a.type==="responsive-page"?v="cover":l.a9d(a.page)&&!hf(a.page)&&
(v="contain");const w=l.a9d(a.page)&&a.type!=="responsive-page"?"dashed":"solid",x=!l.oc(a.page)||k.jcf===a.page&&l.ui&&EV(k,a.page)?"thin":"thick",y=!k.GJ&&EV(k,a.page);return fV("div",{className:DV("J7ZnOw",{lKgehQ:l.oc(a.page)&&l.$Ua}),children:mV(T3s,{NUb:c,oJb:x,borderStyle:w,GXa:k.isLinear,children:[q&&fV(q,{page:a.page,oc:c!=="none"}),mV(g,{page:a.page,children:[fV(__c.jPm,{Y6a:a.page.draft,children:fV("div",{className:DV("CdMl_Q","ohABhA",{EQOZLw:c==="selected"||c==="focused",e1lb_g:e,T5Fk1g:!e,
_5BqSaw:tb.rd,TglptA:k.isLinear}),style:{height:d.height,opacity:p.tpn?.5:1,background:y?JHs(a.ia,k):void 0},children:e&&(p.YIo==="repeat"?fV(Q3s,{ne:f,bmj:h,dah:v,page:a,zla:t,On:n,j4e:p}):fV(U3s,{page:a,Z5:r,Crl:k.VWd(a.page,!0),yrl:d.height,dah:v,ne:f}))})}),fV("div",{className:"JkY5pQ"})]})]})})}),T3s=hV(a=>{const b=a.NUb;return fV(__c.GRm,{borderRadius:"round",oJb:a.oJb,NUb:b==="none"?"default":b,borderStyle:a.borderStyle,MAh:a.GXa,children:a.children})}),U3s=a=>{const b=a.page,c=a.dah,d=a.ne,
{left:e,top:f,width:g,height:h}=HHs({Crl:a.Crl,yrl:a.yrl,Z5:a.Z5,page:b});return fV("div",{style:{transform:`translateX(${e}px) translateY(${f}px)`},children:fV(d,{page:b,vd:g,Df:h,fit:c,gB:P3s})})},W3s=a=>{const b=AHs(a),c=a.document,d=a.ne,e=a.gL,f=a.jx,g=a.XH,h=a.RCg?S3s:R3s,k=O3s(a);return l=>{const n=l.page,p=AV(()=>new e3s(e,f,g,n.page),[n.page]);return fV(V3s,{...l,document:c,ne:d,gL:e,jx:f,BFp:k,bmj:h,Qsj:b,j4e:p})}};var BV={get m6j(){return Pb("2cd44d17",!1)},get FFq(){return Pb("4a9296e3",!1)},get vLq(){return Pb("ba8fccc0",!1)},get vFq(){return Pb("a4addff",!1)},get mRm(){return Pb("f79ce147",!1)},get wNq(){return Pb("742e4c6d",!1)},get iJq(){return Pb("f9933a63",!1)},get Sfh(){return Pb("1b9427a5",!1)},get S8h(){return Pb("51bdcf59",!1)},get nGq(){return Pb("c94df7cf",!1)},get DNq(){return Pb("164ecc96",!1)},get AHm(){return Pb("8a334b08",!1)}};var X3s=GV(a=>{const b=a.aoc,c=a.text,d=a.JIf;return fV("p",{className:DV("s_2lEg JYIidw",a.className,{ejxV1w:d,"ptMFSw _2a6tNg":a.BBb}),style:d?void 0:b.text,children:c})}),Y3s=({onClick:a})=>fV(Wi,{size:"small",icon:bu,variant:"contrast",onClick:a}),aMs=hV(({Bd:a,z$k:b,page:c,gL:d,mtb:e,nz:f,qga:g,GXa:h})=>{const k=OHs(c);return fV("div",{className:"D9QD7A",children:fV("div",{className:"_43qVUg",children:fV("div",{className:"fQqEWA",children:mV("div",{className:"OM5KyQ",children:[fV(Z3s,{mode:b,
Npa:!0,Bd:a,page:c,aoc:k,gL:d,nz:f,GXa:h}),fV($3s,{isDisabled:!0,Npa:!0,Vyo:d.mO,page:c,qga:g,aoc:k,mtb:e,gL:d,GXa:h})]})})})})}),b4s=a=>b=>fV(a4s,{...b,...a}),a4s=hV(a=>{const b=a.isDragging;var c=a.xNb;const d=a.kka,e=a.BBb,f=a.z$k,g=a.WRp,h=a.r0p,k=a.GXa,l=a.Bd,n=a.kI,p=a.dh,q=a.qga,r=a.mtb,t=a.gL,v=a.hb,w=a.nz;var x=a.Kh;const y=a.Ac,z=a.Y5r;var B=a.Tlg;const C=a.TZc,G=a.MZc;a=a.h6b;const H=p.ia;var K=Ic.wba||Ic.DCd;x=e&&(d||x.Ir||K);const L=OHs(H);c=c||b;const N=f==="pageDuration"&&k&&!e&&!d;
K=v.i_(H,__c.WQj)===6;B=B&&BV.S8h&&K&&e;return mV("div",{className:DV("CObwCg",{w7Fxyw:g,VUsLCQ:c,X6jsHg:t.mCd(H),dOiHrw:k,gTH6_Q:e&&t.$Ua}),children:[B&&fV("div",{className:"_5JoP7Q",children:fV(Y3s,{onClick:z})}),mV("div",{className:"_0_t1hg",children:[fV("div",{className:"_7I1ALw",children:C&&fV("div",{className:"a00RqQ",children:fV(C,{})})}),mV("div",{className:"KwRevw",children:[a&&fV("div",{className:DV("cpLrIw",{JtZbcA:xc.vI,PykVOA:x}),onWheel:c4s,children:fV(a,{page:H})}),(!a||!x)&&G&&fV("div",
{className:DV("cpLrIw",{OmuVVg:xc.vI,PykVOA:!x}),children:fV(G,{})})]})]}),fV(__c.Sc,{children:P=>fV("div",{className:DV(P.className,"_43qVUg",{uLhNeg:g}),children:fV("div",{className:DV("XeYKNA",{XWR8Jw:g}),style:N?void 0:L.gradient,children:mV("div",{className:"OM5KyQ",children:[fV(d4s,{dh:p,hb:v,aoc:L,store:t,Ac:y}),!N&&fV(Z3s,{mode:f,Npa:!1,Bd:l,page:H,aoc:L,gL:t,nz:w,GXa:k}),!N&&fV($3s,{isDisabled:!h||b,Npa:!1,Vyo:t.mO&&d,kI:n,page:H,qga:q,aoc:L,mtb:r,gL:t,GXa:k})]})})})})]})}),Z3s=hV(a=>{var b=
a.mode;const c=a.Npa,d=a.Bd,e=a.page,f=a.aoc,g=a.gL,h=a.nz;a=a.GXa;const k=jV(()=>{sa(e.type==="fixed");h.KG(e)},[h,e]),l=g.oc(e);if(b==="pageNumber"||e.type!=="fixed")return fV(X3s,{aoc:f,text:`${d}`,JIf:c,BBb:l});b=fV(X3s,{aoc:f,text:qo(lJe(h,e),"short"),JIf:c,BBb:l});return!g.mO||c||a?b:fV(hr,{tabIndex:-1,ariaLabel:M("zci4Fg"),onClick:k,size:"small",className:"rPSykQ",M$:!0,disabled:g.ui,children:b})}),d4s=hV(({dh:a,aoc:b,store:c,hb:d,Ac:e})=>{{const g=a.ia;if(c.mO){var f=e.nS(a);a=f&&!e.nS(a,
Ol.Sw)?Adr:f?Ux:PHs(g,c,d)}else a=PHs(g,c,d)}return a?fV("div",{style:b.icon,children:fV(a,{className:"zRkFXw",size:"small"})}):null}),$3s=hV(a=>{var b=a.isDisabled;const c=a.Npa,d=a.Vyo,e=a.kI,f=a.page,g=a.qga,h=a.aoc,k=a.mtb;var l=a.gL,n=a.GXa,p=AV(()=>Vb(),[]);const [q,r]=qV(!1);a=jV(x=>{k.SDa(f,x)},[f,k]);const t=lV(null),v=b||!l.mO||p||n;b=jV(x=>{!q&&(x.altKey||x.metaKey||x.shiftKey||x.ctrlKey)&&(g(),x.preventDefault())},[q,g]);n=jV(()=>{v||(r(!0),t.current?.HQb())},[v]);p=jV(()=>{r(!1)},[]);
const w=f.title||"";l=l.oc(f);return mV(uV,{children:[fV(X3s,{aoc:h,className:"OqCypA",text:"-",JIf:!q&&!w&&!d||c,BBb:l}),c?fV(X3s,{aoc:h,className:"_7LcFVQ",text:w,JIf:!0,BBb:l}):fV(__c.Zth,{ref:t,label:M("RW8WWQ"),value:w,defaultValue:"",kI:e,Oza:a,onMouseDown:b,onFocus:n,onBlur:p,disabled:v,tabIndex:-1,className:DV("_7LcFVQ",{KDSYFg:v}),tN:DV("Ra_6tA","s_2lEg JYIidw",{"ptMFSw _2a6tNg":l,_5bT_Aw:h.text.color==="#ffffff",Isldmg:h.text.color==="#000000"}),omr:h.text})]})}),c4s=a=>{a.stopPropagation()};var e4s=({d6f:a,viewport:b,document:c,Pa:d,ne:e,$T:f,h6b:g,L:h,store:k,Lk:l,Ac:n,hb:p,nz:q,mha:r,qp:t,Kh:v,bAa:w,pg:x,Wk:y,onContextMenu:z,Tlg:B,tZa:C,RCg:G,tyr:H})=>{const K=a.jx,{MZc:L,TZc:N}=xHs({store:k,mha:r,$T:f}),P=W3s({ne:V=>fV(e,{...V,sEa:"static-with-placeholder-fallback"}),m4e:a.m4e,qp:t,jx:K,fB:a.fB,XH:a.XH,I7i:a.I7i,mtb:h,gL:k,nz:q,RCg:G,bAa:w,pg:x,document:c,Wk:y,tZa:C});f=iV(()=>{b.Vg.type==="fixed-page"&&(l.gR(3),a.fB?.stop(),a.fB?.configure({page:b.Vg}))});const T=b4s({mtb:h,Ac:n,
Kh:v,Y5r:f,Tlg:B});return hV(V=>{var W=b3s,aa=V.On,ba=c.language,da=V.page,la=V.Bd,ja=V.dimensions,oa=V.XDl,ma=V.visible;var na=V.page.page;na=k.vGk(na)?"page_audio_selected":!k.oc(na)||K.jcf===na&&k.ui&&EV(K,na)?"none":k.$Ua&&!a.pXa?.Qf?"selected":"focused";return fV(W,{gL:k,jx:K,nz:q,hb:p,Pa:d,On:aa,kI:ba,page:da,Bd:la,dimensions:ja,XDl:oa,visible:ma,NUb:na,To:k.ui,BBb:k.oc(V.page.page),isDragging:V.isDragging,lGd:k.cpk(V.page.page),xg:k.Ihi(V.page.page),onClick:V.onClick,onContextMenu:k.ui||!H&&
!k.mO?void 0:z,h6b:k.ui||!H&&!k.mO?void 0:g,MZc:L,TZc:N,aAp:P,bAp:T})})};var f4s=({L:a,Rib:b,fB:c,q9e:d,XH:e,store:f,keyboardShortcuts:g,N:h,V:k})=>{const l=(r,t)=>{const v=r.shiftKey;t=t.direction;const w=k.wb("keyboard_shortcuts.select_page",{Hb:{name:"editor.page.navigate",type:"keyboard_shortcut"}});let x;switch(t){case "last":x=v?f.Iio():f.gio();break;case "first":x=v?f.Hio():f.zVi();break;case "next":c&&e&&!e.GJ?c.ESk(v?.5:.1,"forwards","shortcut"):x=v?f.Jio():f.nio();break;case "previous":c&&e&&!e.GJ?c.ESk(v?.5:.1,"backwards","shortcut"):x=v?f.Kio():f.vio()}x==
null?w.abort():(r.stopPropagation(),h.pne(x,f.ya!==x,w,{Yb:f.Yb(f.ya||x),VL:f.VL,v9d:f.a9d(f.ya||x),mb:"key_press"}))},n=(r,t)=>{const v=t.direction;t=t.h6f;r.stopPropagation();v==="forwards"?a.m2g(f,{oVk:t}):a.l2g(f,"key_press",{nVk:t})},p=()=>{f.Ibo()};var q=["view","comment"];g.register(["ArrowRight",r=>l(r,{direction:"next"}),M("CYTgXw"),q],["ArrowLeft",r=>l(r,{direction:"previous"}),M("Nm51vA"),q],["PageDown",r=>l(r,{direction:"next"}),M("CYTgXw"),q],["PageUp",r=>l(r,{direction:"previous"}),
M("Nm51vA"),q]);g=new __c.f1b({MTa:!1});q=["edit","view","comment"];c&&g.register([" ",()=>{b()&&c.VRa({mb:"shortcut"})},"Toggle timeline preview",q]);g.register(["End",r=>l(r,{direction:"last"}),M("iUDjEw"),q],[Pk("ArrowRight"),r=>l(r,{direction:"last"}),M("iUDjEw"),q],[Pk("ArrowDown"),r=>l(r,{direction:"last"}),M("iUDjEw"),q],[Oo("End"),r=>l(r,{direction:"last"}),M("0A1FZQ"),q],[Pk(Oo("ArrowRight")),r=>l(r,{direction:"last"}),M("0A1FZQ"),q],[Pk(Oo("ArrowDown")),r=>l(r,{direction:"last"}),M("0A1FZQ"),
q],["Home",r=>l(r,{direction:"first"}),M("tfzZYg"),q],[Pk("ArrowLeft"),r=>l(r,{direction:"first"}),M("tfzZYg"),q],[Pk("ArrowUp"),r=>l(r,{direction:"first"}),M("tfzZYg"),q],[Oo("Home"),r=>l(r,{direction:"first"}),M("9wjTBw"),q],[Pk(Oo("ArrowLeft")),r=>l(r,{direction:"first"}),M("9wjTBw"),q],[Pk(Oo("ArrowUp")),r=>l(r,{direction:"first"}),M("9wjTBw"),q],["ArrowRight",r=>l(r,{direction:"next"}),M("CYTgXw"),q],["PageDown",r=>l(r,{direction:"next"}),M("CYTgXw"),q],[Oo("ArrowRight"),r=>l(r,{direction:"next"}),
M("s7WncQ"),q],[Oo("PageDown"),r=>l(r,{direction:"next"}),M("s7WncQ"),q],["ArrowLeft",r=>l(r,{direction:"previous"}),M("Nm51vA"),q],["PageUp",r=>l(r,{direction:"previous"}),M("Nm51vA"),q],[Oo("ArrowLeft"),r=>l(r,{direction:"previous"}),M("qcHaOA"),q],[Oo("PageUp"),r=>l(r,{direction:"previous"}),M("qcHaOA"),q],[Pk("a"),r=>{r.stopPropagation();f.Lho()},M("KojSUg"),q]);q=["edit"];d&&g.register(["s",r=>{r.stopPropagation();d.zCn()},"Split",q]);g.register([Pk("Enter"),r=>{f.mO&&(r.stopPropagation(),$Hs(a,
f,"shortcut",f.fdc))},M("kMIn0w"),["edit"]],[Pk("]"),r=>n(r,{direction:"forwards",h6f:!1}),M("Xv/c6w"),q],[Pk("PageDown"),r=>n(r,{direction:"forwards",h6f:!1}),M("Xv/c6w"),q],[Pk(Oo("PageDown")),r=>n(r,{direction:"forwards",h6f:!0}),M("Y2/pJg"),q],[Pk("["),r=>n(r,{direction:"backwards",h6f:!1}),M("oW2pdQ"),q],[Pk("PageUp"),r=>n(r,{direction:"backwards",h6f:!1}),M("oW2pdQ"),q],[Pk(Oo("PageUp")),r=>n(r,{direction:"backwards",h6f:!0}),M("Vb3tiQ"),q],["Backspace",p,M("HIVQ3g"),q],["Delete",p,M("HIVQ3g"),
q]);return g};var g4s=21*Uc,h4s=parseInt("96px",10)||96,i4s=15*Uc,j4s=27*Uc,k4s=19*Uc,RHs=class{static G(a){O(a,{wjh:zV.ref,FJc:oV,zMs:oV,qVc:oV,qOl:oV,hHn:oV,uPd:oV,mJo:oV,lJo:oV})}get vZf(){return m(this.config.vZf,"sceneTimeline is not configured correctly")}get Uqd(){return m(this.config.Uqd,"audioTimeline is not configured correctly")}get V3g(){return(this.config.Z5h?.V3g.get()??0)+this.Uqd.V3g.get()+1}ZAf(a,b){return{top:this.qVc+(this.config.Z5h?.$4q(a,b)??0),rowHeight:this.config.Z5h?.rowHeight??0}}get FJc(){return this.config.Z5h?.height.get()??
0}get zMs(){return this.vZf.height}get qVc(){return m(this.config.sLs).height.get()}get qOl(){const a=m(this.config.vme),b=m(this.config.Q5c);return this.uPd+a.height.get()+b.height.get()}get hHn(){return(this.ui.get()?k4s:j4s)+this.qVc}get uPd(){return m(this.config.a7c).get()?this.wjh:Math.max(h4s,Math.min(this.mJo,BV.Sfh?this.hHn:Infinity))}get mJo(){const a=this.FJc>0?Uc:0,b=this.Uqd.height.get()>0?Uc:0;return this.lJo+this.FJc+this.vZf.height+this.Uqd.height.get()+a+b+this.qVc}get lJo(){return this.qVc?
0:Uc*4}constructor(a,b){this.config=a;this.ui=b;this.wjh=(RHs.G(this),g4s);this.Xto=c=>{const d=(__c.Zb()?.height??window.innerHeight)*.6;this.wjh=Math.max(i4s,Math.min(d,c))}}};var l4s=a=>{const b=(e,f)=>e+(f.type==="group"?f.pb.count():1),c=(e,f)=>{switch(f.type){case "design":return e+f.pages.reduce(d,e);default:return e}},d=(e,f)=>{switch(f.type){case "fixed":return f.elements.reduce(b,e);case "concatenated-fixed":return f.pages.reduce(d,e);case "responsive":return[...f.text.items].reduce(c,e);default:throw new u(f);}};return a.pages.reduce((e,f)=>d(e,f),0)},m4s=a=>{const b=(e,f)=>{switch(f.type){case "group":return e+f.pb.filter(g=>g.type==="embed").length;case "embed":return e+
1;default:return e}},c=(e,f)=>{switch(f.type){case "design":return e+f.pages.reduce(d,e);case "embed":return e+1;default:return e}},d=(e,f)=>{switch(f.type){case "fixed":return f.elements.reduce(b,e);case "concatenated-fixed":return f.pages.reduce(d,e);case "responsive":return[...f.text.items].reduce(c,e);default:throw new u(f);}};return a?d(0,a):0},n4s=(a,b)=>{const c=l4s(b);return{numPages:a.SC,numElements:c,numEmbeds:m4s(a.ya||b.pages.first())}};var o4s=(a,b,c)=>class extends IV{render(){!this.KOg&&this.LMr();return fV(c,{...this.props})}LMr(){this.span?.isRecording()&&this.span?.ob().addEvent("rendered");this.KOg=!0}componentDidMount(){this.span?.isRecording()&&(this.span.ob().addEvent("mounted"),this.span.ob().wk(({Oi:d})=>{a(d())}),this.span.end(),this.span=void 0)}constructor(d){super(d);this.KOg=!1;this.span=b.wb("initial_render",{Hb:{name:"page_navigator.initial_render"}})}};var p4s=({hR:a,bAa:b,mtb:c,gL:d})=>{const e={getLabel(){return c.HQ()?d.ui?M("y1K5cA"):M("PAB4WQ"):M("TYQVbA")},onClick(f){a.clear();$Hs(c,d,"add_page_button",f)},pa:({iq:f})=>fV(Gu,{size:f&&d.ui?"medium":"small"}),isActive(){return!1},isDisabled(){return!1}};gV(()=>d.mO,f=>{b.mwe.yDh=f?e:void 0},{fireImmediately:!0})};var q4s,r4s,s4s,t4s,u4s,v4s,w4s=parseInt("4px",10)*2||8,ZLs;
new (q4s=class extends JV{constructor(){super(ZLs);s4s()}},(()=>{class a extends(t4s=IV){static G(b){O(b,{canDrag:oV,fpm:oV,L_i:oV,Zem:iV,L4:iV,onDragStart:iV,tNg:iV,pa:oV})}get canDrag(){return this.props.store.mO}get fpm(){const b=this.props.store;return b.oc(this.props.page)&&b.BQa&&b.oc(b.BQa)}get L_i(){const b=this.props.store,c=this.props.page;return b.BQa!==c&&(!b.AAd||!b.oc(c))}get pa(){const b=this.props.ZKs;return fV("div",{className:"Q_BqMA",style:{transform:this.canDrag&&b?`rotate(${b}deg)`:
void 0},children:this.props.children})}render(){const b=this.props.tZa,c=this.props.bsl,d=this.props.dimensions,e=this.props.yic,f=this.props.hzq,g=this.props.uhd,h=this.props.NLd,k=this.props.store.OMc(this.props.page);return fV("div",{role:"none",className:"jBWQkA",style:{transform:k&&this.L_i?this.G_p(k):void 0,height:d.height+w4s},children:this.canDrag?fV(__c.B1g,{WD:c,L4:this.L4,onDragStart:this.onDragStart,onDragEnd:this.tNg,b3a:this.b3a,bVd:this.Zem,Zje:this.fpm,yic:e,height:f,uhd:g,NLd:h,
KLd:"x",y3h:b,focusable:!0,Doj:this.Cv,children:this.pa}):this.pa})}constructor(...b){super(...b);this.Zem=(ZLs.G(this),()=>{this.props.store.AAd=!1});this.L4=c=>{const d=this.props.page,e=this.props.L4,f=this.props.store,g=this.props.V;f.Qyl(d);f.Qvd=g.wb("drag_and_drop",{Hb:{name:"page_navigator.drag_and_drop"}});e&&e(d,c)};this.b3a=()=>{const c=this.props.page,d=this.props.store;(0,this.props.b3a)?.(c);d.Qvd=null};this.onDragStart=(c,d)=>{c=this.props.N;var e=this.props.store;const f=this.props.page,
g=this.props.V.wb("on_drag_start",{Hb:{name:"page_navigator.draggable_page.on_drag_start"}});e.AAd=!0;e.Jwl(d);(d=e.oc(f))?g.abort():(e.qga(f),e={Yb:e.Yb(f),VL:e.VL,v9d:e.a9d(f)},c.pne(f,!d,g,{...e,mb:"click"}))};this.tNg=()=>{const c=this.props.store,d=this.props.page,e=this.props.onDragEnd;c.BQa===d&&(c.Qyl(void 0),c.Jwl(!1),e&&e(d))};this.G_p=c=>{const d=this.props.FHg||tb.direction===1?1:-1;return c!=="none"?c.direction==="left"?`translateX(${-c.distance*Uc*d}px)`:`translateX(${c.distance*Uc*
d}px)`:c};this.Cv=()=>{var c=this.props.store;const d=this.props.page,e=this.props.children,f=this.props.dimensions,g=this.props.GXa;c=c.lum&&c.oc(d);return fV("div",{className:DV("H_zteA",{Zne_8A:!c,QySrtA:g}),style:{width:f.width,height:f.height},children:c&&e})}}}({c:[ZLs,s4s]}=KV(a,[],[Lb],t4s))})(),q4s);var x4s;
new (r4s=class extends JV{constructor(){super(x4s);u4s()}},(()=>{class a extends(v4s=IV){static G(b){O(b,{Qph:zV.ref,Qji:zV.ref,iId:oV,mCd:oV,onDragEnter:iV,onDragLeave:iV,onMouseUp:iV})}get iId(){const b=this.props.page,c=this.props.document;return b?c.pages.previous(b):c.pages.last()}get mCd(){const b=this.props.page,c=this.props.store;return b&&c.mCd(b)}render(){const {store:b,xHa:c,Fmn:d,pLm:e="percentage",Kzq:f,FHg:g,Jfr:h,GXa:k}=this.props;return mV(uV,{children:[!h&&fV("div",{className:DV("_7J9QjQ",
{CMdJpA:g,_1jWbtA:c||b.BQa&&this.Qph,_3_sLiw:this.mCd&&e==="percentage",dvPhVQ:k})}),fV("div",{className:DV("t9v9Qw",{ciyrvA:e==="full",HoeKdQ:e==="percentage",_k6JOQ:e==="fixed",_1jWbtA:d||b.BQa,nSS_Fg:d}),style:d?void 0:f,onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onMouseUp:this.onMouseUp,onContextMenu:this.preventDefault})]})}constructor(...b){super(...b);this.Qph=(x4s.G(this),!1);this.Qji=!1;this.onDrop=async()=>{var c=this.props.xHa;const d=this.props.store,
e=this.props.L,f=this.props.page;if(this.props.Fmn||c)this.iId&&d.D2e(this.iId),f&&d.D2e(f),this.Qph=!1;else if(!this.Qji&&d.BQa)if(d.lum&&e.fOa(d.VL))e.l$b(d,"drag",f,!1);else{e.CFd(d,"drag",f);c=d.BQa;this.Qji=!0;var g=d.Dg;await ka(0);this.Qji=!1;d.ya!==c&&d.lL(c);this.forceUpdate(()=>{d.setSelection(g)})}};this.onDragEnter=()=>{const c=this.props.store,d=this.props.page;this.iId&&c.myj(this.iId,{direction:"left",distance:1});d&&c.myj(d,{direction:"right",distance:1});this.Qph=!0};this.onDragLeave=
()=>{const c=this.props.store,d=this.props.page;this.iId&&c.D2e(this.iId);d&&c.D2e(d);this.Qph=!1};this.onMouseUp=()=>{const c=this.props.store,d=this.props.page;this.iId&&c.D2e(this.iId);d&&c.D2e(d)};this.preventDefault=c=>c.preventDefault()}}({c:[x4s,u4s]}=KV(a,[],[Lb],v4s))})(),r4s);var y4s=Uc/2,z4s=parseInt("96px",10)||96,A4s=hV(({qp:a,gL:b,Yct:c,Bfa:d})=>{const e=AV(()=>Math.floor(a.scrollLeft)>y4s,[a.scrollLeft]),f=AV(()=>Math.ceil(a.scrollLeft+a.offsetWidth+y4s)<c,[a.scrollLeft,a.offsetWidth,c]),g=a.offsetWidth<c;return b.ui||!g?null:mV("div",{className:"mffvfg",children:[fV("div",{className:DV("Jjqy1Q Jd2ccA",{_2njASw:e}),style:{height:d.uPd}}),fV("div",{className:DV("x6qgng Jd2ccA",{_2njASw:f}),style:{height:d.uPd,left:a.offsetWidth-z4s}})]})});var B4s=class{static G(a){O(a,{positions:oV})}get positions(){return{o9:this.qp.scrollLeft,lr:this.qp.clientWidth}}constructor(a){this.qp=a;this.layout=(B4s.G(this),"horizontal")}},C4s=hV(({children:a,qp:b})=>{const c=AV(()=>new B4s(b),[b]);return BV.m6j?a({On:c}):fV(__c.aEe,{layout:"horizontal",xJm:!0,children:({Fl:d,On:e})=>a({On:e,Fl:d})})});__c.D4s=16/9;__c.E4s=parseInt("24px",10)||24;__c.F4s=parseInt("28px",10)||20;__c.G4s=parseInt("24px",10)||24;__c.H4s=parseInt("176px",10)||176;__c.I4s=parseInt("224px",10)||224;__c.J4s=__c.F4s*2;__c.K4s=parseInt("72px",10)||28;__c.L4s=100/15;var M4s={width:8.5/11*CV,height:CV,scale:1},N4s=LV(a=>{const b=sg(4,a);a=ug(a)?__c.D4s:b.width/b.height;return{width:CV*a,height:CV,scale:CV/b.height}});var O4s,P4s,Q4s,R4s=Uc*75||600,S4s=parseInt("300ms",10)||300,T4s=window.CSS&&window.CSS.supports&&CSS.supports("(-webkit-overflow-scrolling: touch)"),U4s;
new (O4s=class extends JV{constructor(){super(U4s);P4s()}},(()=>{class a extends(Q4s=IV){static G(b){O(b,{gb:zV.ref,Kg:oV.struct,nG:iV.bound,J8d:oV,Rfo:oV,e8j:oV})}componentDidMount(){const b=this.props.store,c=this.props.Uo,d=this.props.Uc,e=m(this.ev.current);Gb(this,c.B_(e,"50%"));e.addEventListener("focusout",this.qMn);document.addEventListener("mousedown",b.dHi,{capture:!0});document.addEventListener("drop",this.stopPropagation);window.addEventListener("resize",this.cEm);d()}componentWillUnmount(){const b=
this.props.Wh;document.removeEventListener("mousedown",this.props.store.dHi,{capture:!0});document.removeEventListener("drop",this.stopPropagation);window.removeEventListener("resize",this.cEm);this.gTn();m(this.ev.current).removeEventListener("focusout",this.qMn);b()}com(){return this.props.iIm&&this.iK.innerWidth<=R4s}get Kg(){return N4s(this.props.Ja.dimensions)}get J8d(){return!!this.props.store.BQa}get Rfo(){if(!this.e8j){var b=this.props.Bfa;return{height:this.props.Bst.gTg?0:b.uPd}}}get e8j(){return T4s&&
!this.props.d6f.EIf.get()&&this.J8d}render(){const b=this.props.config,c=this.props.store,d=this.props.F1o,e=this.props.d6f,f=this.props.y6b,g=this.props.pg,h=this.props.qp,k=this.props.pQl,l=this.props.Bfa,n=this.props.zns,p={eDc:this.props.eDc,ICc:this.props.ICc,$5b:b.$5b,Kg:this.Kg,qQa:this.qQa,ev:this.ev,...(c.mO?{y6b:f,ewc:this.ewc}:{})},q=e.vme.get(),r=this.Rfo,t=this.e8j,v=g.yqg?.Om??EMs,w=e.EIf.get(),x=w||e.OFk.get(),y=e.DIf.get(),z=this.gb,B=this.props.KEp;return fV(ETs,{bounds:!0,onResize:this.gTn,
children:({measureRef:C})=>mV("div",{ref:C,className:DV("_xAWuA",{sJdpWg:!e.OFk.get()}),onClick:this.Eec,children:[fV(__c.wp,{map:n.map,Hr:!1,children:fV(__c.nB,{nG:this.nG,children:mV("div",{children:[q,x&&fV(e.F7i.Ibg,{disabled:!w}),mV("div",{className:DV("S8qQCA",{m29yeA:!e.F7i.isDragging.get()&&c.rd&&tb.rd,XbJiZg:y}),style:r,ref:this.Jg,children:[fV(B,{}),fV(v,{children:fV("div",{className:"IRDJFw"})}),fV("span",{tabIndex:-1,ref:this.KBo}),fV(__c.jDd,{onClick:this.OBo,children:M("Rz/bng")}),fV(e.Ghf,
{}),fV(C4s,{qp:h,children:({On:G,Fl:H})=>mV("div",{ref:(0,CTs["default"])(h.Gq,k?.Gq,this.ev,H),className:DV("LGNDdw",{sr7Jsw:this.com(),ogIqug:Wb()&&!this.com(),xE8XcA:t}),style:r,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onWheel:this.$9r,tabIndex:-1,children:[fV(ETs,{client:!0,offset:!0,onResize:this.IRc,children:({measureRef:K})=>mV(uV,{children:[fV(e.Gsj,{On:G,measureRef:K,...p}),d&&fV(d,{})]})}),fV(A4s,{qp:h,gL:c,Yct:z,Bfa:l})]})}),fV(__c.jDd,{onClick:this.PBo,children:M("GxvzFw")}),
fV("span",{tabIndex:-1,ref:this.JBo})]})]})})}),fV(V4s,{bAa:b})]})})}constructor(...b){super(...b);this.iK=(U4s.G(this),this.props.iK||window);this.ev=__c.hk();this.Jg=__c.hk();this.KBo=pV();this.JBo=pV();this.vCl=!1;this.gb=0;this.PBo=()=>{this.KBo.current?.focus()};this.OBo=()=>{this.JBo.current?.focus()};this.Zvk=!1;this.cEm=Db(iV(()=>{const c=this.props.Bfa;c.Xto(c.uPd)}),200);this.qMn=()=>{const c=this.props.store;c.IWk&&(this.ev.current?.focus(),c.IWk=!1)};this.stopPropagation=c=>{const d=this.props.store;
(d.BQa||d.AAd)&&c.stopPropagation()};this.gTn=Db(c=>{BV.mRm&&this.props.store.gto(c?.bounds?Oj(c.bounds):void 0)},200);this.IRc=iV(c=>{this.gb=(c.client?.width??0)+(c.offset?.left??0)});this.KCs=()=>{this.vCl&&(this.ev.current?.focus(),this.vCl=!1)};this.nG=()=>{this.props.config.bdt?.();this.vCl=!0};this.$9r=c=>{this.props.d6f.EIf.get()||Math.abs(c.deltaX)<Math.abs(c.deltaY)&&!c.ctrlKey&&!c.metaKey&&this.props.qp.scrollBy({XXg:c.deltaY,behavior:"instant"})};this.onTouchMove=()=>{this.Zvk=!0};this.onTouchEnd=
()=>{this.Zvk=!1};this.Eec=c=>{this.props.d6f.EIf.get()||!this.Jg.current||c.target instanceof Node&&this.Jg.current?.contains(c.target)||this.props.store.ui||this.props.L.YJn()};this.ewc=async()=>{const c=this.props.store,d=this.props.qp,e=this.props.pg;await $Hs(this.props.L,c,"add_page_end",this.props.Ja.pages.last());e.xDh?.rh?.();c.ui||(await ka(0),d.scrollTo({left:d.scrollWidth,behavior:"smooth"}),this.KCs())};this.qQa=async c=>{const d=this.props.store,e=this.props.N;if(!this.Zvk&&!d.BQa){var f=
c!==d.ya,g=this.props.V.wb("page_click",{Hb:{name:`editor.page.${f?"navigate":"select"}`,type:"page_navigator_click"}});d.vQe=!0;await d.qga(c);e.pne(c,f,g,{Yb:d.Yb(d.ya||c),VL:d.VL,v9d:d.a9d(d.ya||c),mb:"click"});d.vQe=!1}}}}({c:[U4s,P4s]}=KV(a,[],[Lb],Q4s))})(),O4s);var V4s=hV(({bAa:a})=>fV(uV,{children:a.YJh&&fV(a.YJh,{})}));var W4s=class{static G(a){O(a,{mLm:iV,Rsb:iV,uOn:iV})}async mLm(a,b){const c=this.undo.startBuffering();try{const d=b?this.document.pages.previous(b):this.document.pages.last(),e=THs(this,a,d),f=await $Hs(this.L,this.store,"drag",d,e);f&&await this.Rsb(a,zf(this.document).xb(f),!0)}finally{rV(()=>c.stop())}}Y0b(a,b){return b.type==="responsive"?VHs(this,a,b):WHs(this,a,b)}canDrop(a,b){switch(b.type){case "fixed":return b.dimensions&&ug(b.dimensions)?a.data.type!=="audio":!0;case "responsive":return UHs(a);
case "concatenated-fixed":return a.data.type!=="audio";default:throw new u(b);}}async Rsb(a,b,c){switch(b.type){case "fixed-page":return YHs(this,a,b,c);case "concatenated-fixed-page":return YHs(this,a,b.xb(b.pages.first()),c);case "responsive-page":return ZHs(this,a,b,c);default:throw new u(b);}}async uOn(a){this.Ngd();const b=this.undo.startBuffering();try{const c=THs(this,a,this.document.pages.last()),d=this.L.iyj(this.document.pages.last(),"drag",c);d&&await this.Rsb(a,zf(this.document).xb(d),
!0)}finally{rV(()=>b.stop())}}constructor(a,b,c,d,e,f,g,h,k,l,n,p,q){this.document=a;this.viewport=b;this.Fc=c;this.L=d;this.store=e;this.undo=f;this.cAa=g;this.Mi=h;this.km=k;this.HH=l;this.ouf=n;this.Uh=p;this.hb=q;this.pJc=(W4s.G(this),void 0);this.dNi=void 0;this.Ngd=()=>{clearTimeout(this.pJc);this.pJc=void 0};this.lhi=r=>r.flatMap(t=>{if(t.type==="rect"||t.type==="grid"||t.type==="shape")return t;if(t.type==="group")return this.lhi(t.pb.toArray())});this.q5q=(r,t)=>{let v=[];t=this.lhi(t).filter(sb);
for(const w of t)if(w.type==="grid"){t=Array.from(w.cells.yP().values());const x=t.find(y=>!y.fill.image.ref&&!y.fill.video.ref);if(x){v=[xy.Frc(x,w,r)];break}else v=[...v,xy.Frc(t[0],w,r)]}else if(w.type==="shape")if(w.paths.filter(x=>!x.fill.image.ref&&!x.fill.video.ref).length){v=[xy.Lyd(w,r)];break}else v.push(xy.Lyd(w,r));else w.type==="rect"&&v.push(this.ouf.MIj(w,r));return v.filter(sb)};this.onMouseMove=r=>{r=new pj(r.clientX,r.clientY);this.cko(r);this.dNi=r};this.onTouchMove=r=>{r.touches.length===
1&&(r=new pj(r.touches[0].clientX,r.touches[0].clientY),this.cko(r),this.dNi=r)};this.cko=r=>{const t=this.store.ya;if(this.viewport.ey().GH(r))this.Ngd();else{var v=this.dNi&&__c.Ice(this.Fc.B5h,this.dNi);r=__c.Ice(this.Fc.B5h,r);v=v?.length&&v[0].props.page;const w=r.length&&r[0].props.page;w&&t!==w&&v===w?w&&t!==w&&this.pJc===void 0&&(this.pJc=window.setTimeout(()=>{this.HH.W4h(w,"to-origin");this.Ngd()},750)):this.Ngd()}};gV(()=>this.HH.isDragging()&&!c.isDragging,r=>{r?(document.addEventListener("mousemove",
this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove)):(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove))},{fireImmediately:!0})}};var X4s=class{static G(a){O(a,{iyj:iV,l$b:iV,GKo:iV,gSi:iV,CFd:iV,l2g:iV,m2g:iV,YJn:iV.bound,SDa:iV.bound})}fOa(a){return this.qc.fOa(a)}HQ(){return this.qc.fOa(1)}WUb(a){return a.VL&&this.M9b.fng()}iyj(a,b,c){try{const d=a||m(this.document.pages.first());sa(this.qc.$M!=null);const {page:e,container:f}=this.qc.$M(d,{Xc:b,location:"page_navigator",q9:"none"},{H7d:a==null,template:c});this.Wk?.tO?.(new ap);return f?.type==="concatenated-fixed-page"?f.Rja(this.document.pages):e}catch(d){if(!(d instanceof
__c.n_g))throw d;}}l$b(a,b,c,d=!0){const e=a.Dg,f=this.V.wb("copy_page",{Hb:{name:"page_navigator.copy_page"}}),g=this.document.pages;c=d?c:c?g.previous(c):g.last();const h=this.W5c.m5h(e,c,f,b);h.length&&window.requestAnimationFrame(()=>{a.lL(h[0]);a.setSelection(h)})}GKo(a){const b=!a.F$;b||this.selection.deselectAll();a.aid(b)}gSi(a,b){const c=this.V.wb("delete_page",{Hb:{name:"editor.page_navigator.delete_page",type:b}});this.M9b.vR(b,c,"outer");a.IWk=!0;b=a.Dg;(b=b.length?b[0]:void 0)&&a.ui&&
a.lL(b)}CFd(a,b,c){if(a.VL!==0){if(b==="drag"){var d=a.Qvd;d?.ob().addEvent("dropped")}else d=this.V.wb("move_selection",{Hb:{name:"page_navigator.move_selection"}});var e=a.fW(a.Dg);this.document.pages.c0a(c,a.Dg);a=a.fW(a.Dg);var f={Ogn:e,KXm:a,mb:b};d?.ob().wk(({Oi:g})=>{d?.addEvent("rendered");mHs(this.N,{...f,Tb:g()})});d?.qe();this.Wk?.tO?.(new __c.vsd({style:1}))}}l2g(a,b,c){const d=this.document.pages.first(),e=a.Ebi;a.mO&&d&&e&&d!==e&&(c=c.nVk?d:this.document.pages.previous(e),this.CFd(a,
b,c))}m2g(a,b){var c=this.document.pages.last();const d=a.fdc;a.mO&&c&&d&&c!==d&&(c=b.oVk?c:this.document.pages.next(d),b=a.fW(a.Dg),this.document.pages.p6a(c,a.Dg),a=a.fW(a.Dg),mHs(this.N,{Ogn:b,KXm:a,mb:"key_press"}))}YJn(){this.selection.deselectAll()}SDa(a,b){b=this.vWe(a,b);!a.title&&b&&this.N.vRl();a.title=b||void 0}vWe(a,b){return hf(a)?b.replace(/(^')|[\\/?*:[\]]|('$)/g,"").slice(0,31):b}constructor(a,b,c,d,e,f,g,h,k,l){this.document=a;this.qc=b;this.M9b=c;this.W5c=d;this.N=e;this.V=f;this.selection=
g;this.Jh=h;this.Lk=k;this.Wk=l;this.RCm=(X4s.G(this),void 0);this.Cpi=LV((n,p)=>n.Ebi===p);this.kRe=LV((n,p)=>n.BQa===p);this.AAd=LV((n,p)=>n.oc(p)&&n.AAd);LV((n,p)=>n.oc(p)&&!!n.BQa);LV((n,p)=>n.oc(p)&&n.$Ua)}};__c.Y4s=class{static G(a){O(a,{sra:zV.ref,TDc:zV.ref,Use:zV.ref,Uuj:zV.ref,yuj:zV.ref,Oam:zV.ref,wKh:zV.ref,dvj:zV.shallow,PKh:zV.ref,AAd:zV.ref,Qyl:iV,isDragging:oV,mO:oV,ya:oV,aPb:oV,Wo:oV,SC:oV,VL:oV,ui:oV,Qya:oV,NCa:oV,NZm:oV,OZm:oV,wln:oV,$Ua:oV,Dg:oV.struct,Nal:oV,Ebi:oV,fdc:oV,PG:oV,F$:oV,N9q:oV,uj:oV,Jwl:iV.bound,gto:iV.bound,Dpo:iV.bound,gNp:iV.bound,dHi:iV.bound,aid:iV,Ibo:iV,myj:iV.bound,D2e:iV.bound,UUd:iV.bound,Lho:iV.bound,qga:iV.bound,pVk:iV.bound,Jio:iV.bound,Kio:iV.bound,Hio:iV.bound,
Iio:iV.bound,zVi:iV.bound,gio:iV.bound,nio:iV.bound,vio:iV.bound,Uta:iV.bound,wIc:iV.bound,setSelection:iV.bound,pW:iV.bound})}get BQa(){return this.PKh}Qyl(a){this.PKh=a}get isDragging(){return this.PKh!==void 0||this.Fc.isDragging}get mO(){return this.Pa.mode===40}get ya(){return this.viewport.uh||this.viewport.MF?this.viewport.ya:m(this.document.pages.first())}get aPb(){return this.document.pages.toArray()}get Wo(){return this.aPb.indexOf(this.ya)}get SC(){return this.document.pages.count()}get VL(){return this.Dg.length}get ui(){return this.la.layout===
2}get Qya(){const a=this.selection.Ma;switch(a?.type){case "pages":return a.Pd;case "elements":return a.Rz.ia}}get NCa(){if(this.selection.Ma){var a=this.selection.Ma.inner,b=this.selection.Ma.Hg;return a?.type==="group"&&b?{element:b,parent:a.group}:b?{element:b,parent:void 0}:void 0}}get NZm(){if(this.selection.Ma&&this.selection.Ma.type==="audio")return this.selection.Ma.mUa}get OZm(){if(this.selection.Ma){var a=this.selection.Ma.inner;if(a?.type==="background")return a.Pd}}get wln(){return this.selection.Ma?.type===
"audio"}get $Ua(){const a=this.selection.Ma;return a?.type==="pages"&&!a.inner}get Dg(){const a=this.dvj||this.selection.Ma?.pages||[];return a.length===0?[this.ya]:a}get Nal(){return this.BQa?this.Dg.filter(a=>a!==this.BQa).slice(0,2):[]}get Ebi(){return this.document.pages.first(a=>this.Dg.includes(a))}get fdc(){return this.document.pages.last(a=>this.Dg.includes(a))}get PG(){return this.TDc}get F$(){return this.Use}get lum(){return this.yuj}get M1s(){return this.Oam}get ujm(){return this.wKh.includes("start-side-panel")?
this.Pa.sD.yd:0}get tjm(){return this.wKh.includes("end-side-panel")?this.Pa.sD.sf:0}get wjm(){return tb.direction===2?this.tjm:this.ujm}get yjm(){return tb.direction===2?this.ujm:this.tjm}get N9q(){return this.Uuj}get uj(){if(this.ea.clientId&&this.ea.clients){const a=this.ea.clients.get(this.ea.clientId);if(a)return __c.ky(a)}return null}uad(a){return a===this.document.pages.last()}Jwl(a){this.yuj=a}gto(a){this.Oam=a}Dpo(a){this.wKh=a}gNp(){this.Uuj=this.OMc(this.document.pages.last())??"none"}lL(a){this.viewport.Uw(a)}dHi(a){a.ctrlKey||
a.metaKey?this.TDc="command":a.shiftKey?this.TDc="shift":this.ui&&this.F$?!this.$Ua&&this.aid(!1):this.TDc="single"}aid(a){this.TDc=(this.Use=a)?"command":"single"}Ibo(){this.TDc="single"}myj(a,b){this.dpd.set(a,b)}D2e(a){this.dpd.set(a,"none")}async UUd(a){await this.pW([...this.Dg,a]);this.sra=a;this.VL===1&&this.lL(a)}Lho(){this.document.pages.filter(a=>!this.oc(a)).forEach(a=>this.UUd(a))}async qga(a){this.PG==="single"?await this.Uta(a):this.PG==="command"?await bIs(this,a):this.PG==="shift"&&
await cIs(this,this.sra,a)}pVk(a,b){for(a=b==="next"?this.document.pages.next(a):this.document.pages.previous(a);a&&this.oc(a);)this.sra=a,a=b==="next"?this.document.pages.next(a):this.document.pages.previous(a)}Jio(){if(this.sra){var a=this.oc(this.sra),b=this.document.pages.previous(this.sra),c=this.document.pages.next(this.sra),d=c&&this.oc(c);d=a&&d;b=b&&this.oc(b);d&&!b?(this.wIc(this.sra),this.sra=c):a&&c?(this.sra=c,this.UUd(c),this.pVk(this.sra,"next")):c&&this.UUd(c);return c}}Kio(){if(this.sra){var a=
this.oc(this.sra),b=this.document.pages.next(this.sra),c=this.document.pages.previous(this.sra),d=c&&this.oc(c);d=a&&d;b=b&&this.oc(b);d&&!b?(this.wIc(this.sra),this.sra=c):a&&c?(this.sra=c,this.UUd(c),this.pVk(this.sra,"previous")):c&&this.UUd(c);return c}}Hio(){const a=this.document.pages.first();a&&cIs(this,this.sra,a);return a}Iio(){const a=this.document.pages.last();a&&cIs(this,this.sra,a);return a}zVi(){const a=this.document.pages.first();a&&this.Uta(a);return a}gio(){const a=this.document.pages.last();
a&&this.Uta(a);return a}nio(){const a=this.document.pages.next(this.ya);a&&this.Uta(a);return a}vio(){const a=this.document.pages.previous(this.ya);a&&this.Uta(a);return a}async Uta(a){this.sra=a;await this.pW([a]);this.ui&&Promise.resolve().then(()=>this.lL(a))}async wIc(a){await this.pW(this.Dg.filter(b=>b!==a))}async setSelection(a){await this.pW(a);this.sra=a[0]}async pW(a){return new Promise(b=>{this.dvj=[...a];cancelAnimationFrame(this.Nvj);this.Nvj=requestAnimationFrame(()=>{this.Nvj=requestAnimationFrame(()=>
{rV(()=>{this.selection.BEb(...a);this.dvj=void 0});b()})})})}constructor(a,b,c,d,e,f,g,h,k){this.document=a;this.ea=b;this.viewport=c;this.Fc=d;this.mha=e;this.la=f;this.LJb=g;this.Pa=h;this.selection=k;this.sra=(__c.Y4s.G(this),void 0);this.TDc="single";this.Use=!1;this.dpd=new lTs;this.Uuj="none";this.yuj=!1;this.wKh=[];this.Nvj=0;this.PKh=void 0;this.AAd=this.vQe=!1;this.Qvd=null;this.rd=this.IWk=!1;this.vGk=LV(l=>{const n=this.selection.Ma;return n?.type!=="audio"?!1:l.audio.tracks.some(p=>n.tracks.includes(p))});
this.z7q=LV(l=>this.oc(l)&&this.Nal.includes(l)?(this.Nal.indexOf(l)+1)*-3:0);this.kRe=LV(l=>this.BQa===l);this.a9d=LV(l=>!bk(l,this.document.dimensions));this.mCd=LV(l=>l===this.document.pages.first());this.OMc=LV(l=>this.dpd.get(l));this.oc=LV(l=>l.type==="concatenated-fixed"?this.Dg.includes(l)||l.pages.some(n=>this.Dg.includes(n)):this.Dg.includes(l));this.cpk=LV(l=>this.mha.kgi(l));this.h7q=LV(l=>__c.$t.oy(l).flatMap(n=>n.elements.filter(p=>Wj(p))).length);this.g7q=LV(l=>__c.$t.oy(l).flatMap(n=>
n.elements.filter(p=>p.type==="shape"&&eFd(p)||p.type==="line")).length);this.Ihi=LV(l=>{l=__c.xFd.oy(l).map(n=>this.LJb.u5d(n)).filter(sb);return l.length===0?[]:md(Array.from(l.flatMap(n=>[...n.VZe.values()]),n=>{n=__c.ky(n.client);if(n!==this.uj)return n=this.LJb.getUser(n),n.state==="fulfilled"?n.value:void 0})).filter(sb)});this.fW=l=>{let n=0;return this.document.pages.flatMap(p=>{p=l.includes(p)?[n]:[];n++;return p})};this.Yb=l=>this.fW([l])[0];this.sra=this.ya;this.rd=f.layout===2;gV(()=>
k.Ma?.pages??[],l=>{if(l.length===0||this.sra&&!l.includes(this.sra))this.sra=this.ya})}};__c.Y4s.prototype.qIk=__c.ea(1186);var nIs=class{init(){const a=this.gL,b=this.ox,c=this.qp,d=this.udb,e=this.Ewg,f=this.X_j,g=oV(()=>a.Qya||a.ya);d.lL(g.get(),"auto");b.push(gV(()=>({P9a:a.NZm,page:g.get(),element:a.NCa,Xfb:a.OZm}),(h,k)=>{var l=h.P9a,n=h.page,p=h.element;h=h.Xfb;if(p&&p!==k?.element&&n&&n.type==="fixed"&&!e.value){h=p.element;var q=p.parent;l=m(d.oXa);const {Ofa:r,durationUs:t}=m(l.aza(n));p=d.qp.clientWidth;k=d.qp.scrollTo;const {startUs:v,durationUs:w}=eXa(h,n,t,q);q=r+v;const x=q+w;n=l.iLa(q);h=l.iLa(x);l.W4f&&
eIs(d.timing.fH,{startUs:q,endUs:x})||!fIs(d,n,h)||(l=n,h-n<p&&(l=Math.max(0,(n+h)/2-p/2)),k({left:l,behavior:"smooth"}))}else h&&h!==k?.Xfb&&n&&n.type==="fixed"&&this.Lk.Yu?gIs(d,h,n):l&&l!==k?.P9a&&BV.Sfh?hIs(d,l):f.value||!n||n===k?.page||this.Lk.Yu||d.lL(n,"smooth")}));b.push(gV(()=>c.clientWidth,(h,k)=>{if(h!==k){h=g.get();const n=m(d.oXa),{offsetWidth:p,width:q}=m(n.aza(h)),r=p+q;if(fIs(d,p,r)){h=k-d.qp.clientWidth;var l=d.qp.scrollLeft;k=l+k-n.Cgb;r>=l&&p<=k&&d.qp.scrollBy({XXg:h,behavior:"auto"})}}}))}dispose(){this.ox.forEach(a=>
a());this.ox.splice(0,this.ox.length)}constructor(a,b,c,d){this.qp=a;this.udb=b;this.gL=c;this.Lk=d;this.Ewg=new __c.vk;this.X_j=new __c.vk;this.ox=[];this.Ewg.add(()=>this.X_j.value)}};var lIs=class{static G(a){O(a,{B4e:zV.ref,E4e:zV.ref,WMj:zV.ref,QMj:zV.ref,xZk:zV.ref,onResize:iV,scrollTo:iV.bound,scrollBy:iV.bound})}dispose(){this.dv&&(this.zS?.unobserve(this.dv),this.zS?.disconnect(),this.dv.removeEventListener("scroll",this.onScroll),this.dv=void 0)}scrollTo({left:a,top:b,behavior:c}){!this.dv||a===this.scrollLeft&&b===this.scrollTop||(dIs(this),this.dv.scrollTo({left:a,top:b,behavior:c}),this.B4e=this.dv.scrollLeft,this.E4e=this.dv.scrollTop,this.nXj())}scrollBy({XXg:a,zLo:b,
behavior:c}){this.dv&&(a||b)&&(dIs(this),this.dv.scrollBy({left:a,top:b,behavior:c}),this.B4e=this.dv.scrollLeft,this.E4e=this.dv.scrollTop,this.nXj())}get scrollLeft(){return this.B4e}get scrollTop(){return this.E4e}get clientHeight(){return this.QMj}get clientWidth(){return this.WMj}get offsetHeight(){return this.dv?.offsetHeight}get offsetWidth(){return this.xZk}get scrollHeight(){return this.dv?.scrollHeight??0}get scrollWidth(){return this.dv?.scrollWidth??0}constructor(a,b){this.V=a;this.N=
b;this.dv=(lIs.G(this),void 0);this.xZk=this.QMj=this.WMj=this.E4e=this.B4e=0;this.Laf=!1;this.Gq=c=>{c?(this.dv=c,(this.B4e||this.E4e)&&this.dv.scrollTo({left:this.B4e,top:this.E4e,behavior:"auto"}),this.dv.addEventListener("scroll",this.onScroll),this.zS=new FTs["default"](this.onResize),this.zS.observe(this.dv)):this.dispose()};this.onResize=c=>{c=m(c[0]);this.dv===c.target&&(this.WMj=this.dv.clientWidth,this.QMj=this.dv.clientHeight,this.xZk=this.dv.offsetWidth,this.boundingClientRect=this.dv.getBoundingClientRect())};
this.onScroll=()=>{dIs(this);this.Laf||(rV(()=>{this.B4e=this.dv?.scrollLeft??0;this.E4e=this.dv?.scrollTop??0}),requestAnimationFrame(()=>{this.Laf=!1}),this.Laf=!0);this.nXj()};this.nXj=Db(()=>{this.tcl=requestAnimationFrame(()=>{this.cbh&&(this.cbh.end(),this.cbh=void 0)})},200);this.getBoundingClientRect=()=>{const c=m(this.dv);this.boundingClientRect||(this.boundingClientRect=c.getBoundingClientRect());return this.boundingClientRect}}};var mIs=class{setup(a){this.oXa=a}lL(a,b="auto"){var c=m(this.oXa);const {offsetWidth:d,width:e,Ofa:f,durationUs:g}=m(c.aza(a)),h=this.qp.clientWidth,k=this.qp.scrollTo;if(c=!c.W4f||eIs(this.timing.fH,{startUs:f,endUs:f+g})){c=m(this.oXa);const {offsetWidth:l,width:n}=m(c.aza(a));c=!!fIs(this,l,l+n)}c&&(a=d,e<h&&(a=Math.max(0,d+e/2-h/2)),k({left:a,behavior:b}))}LLd(){const a=this.qp.clientWidth,b=this.qp.scrollWidth,c=this.qp.scrollTo;b>a&&c({left:b-a,behavior:"auto"})}constructor(a,b,c,d,e){this.qp=
a;this.timing=b;this.Bfa=c;this.n3a=d;this.od=e}};var oIs=class{dispose(){this.dv&&(this.dv.removeEventListener("touchstart",this.onTouchStart),this.dv.removeEventListener("touchmove",this.onTouchMove),this.dv.removeEventListener("touchend",this.onTouchEnd),this.dv.removeEventListener("touchcancel",this.onTouchEnd),jIs(this),this.dv=void 0)}constructor(a){this.qp=a;this.ksl=this.jsl=this.iMo=this.hMo=0;this.rSb=null;this.iYc=[];this.XMf=null;this.Gq=b=>{b?(this.dv=b,this.dv.addEventListener("touchstart",this.onTouchStart)):this.dispose()};this.onTouchStart=
b=>{this.dv&&b.touches.length===1&&(jIs(this),this.hMo=b.touches[0].pageX,this.iMo=b.touches[0].pageY,this.jsl=this.dv.scrollLeft,this.ksl=this.dv.scrollTop,this.iYc=[{x:b.touches[0].pageX,y:b.touches[0].pageY,timestamp:Date.now()}],this.dv.addEventListener("touchmove",this.onTouchMove),this.dv.addEventListener("touchend",this.onTouchEnd,{passive:!0}),this.dv.addEventListener("touchcancel",this.onTouchEnd,{passive:!0}))};this.onTouchMove=b=>{if(this.dv&&b.touches.length===1){var c=b.target;if(c.classList.length===
0||c.closest('[data-role="trim-thumb"]')||c.closest('[data-role="draggable-timeline-item"]'))this.rSb=null;else{this.iYc.push({x:b.touches[0].pageX,y:b.touches[0].pageY,timestamp:Date.now()});this.iYc.length>5&&this.iYc.shift();c=b.touches[0].pageX-this.hMo;var d=b.touches[0].pageY-this.iMo;if(!this.rSb&&(Math.abs(c)>5||Math.abs(d)>5)){const e=Math.abs(Math.atan2(d,c)*180/Math.PI);this.rSb=e>=35&&e<=55||e>=125&&e<=145?"diagonal":e>55&&e<125?"vertical":"horizontal"}b.preventDefault();this.rSb==="horizontal"?
this.qp.scrollTo({left:this.jsl-c}):this.rSb==="vertical"?this.qp.scrollTo({top:this.ksl-d}):this.rSb==="diagonal"&&this.qp.scrollTo({left:this.jsl-c,top:this.ksl-d})}}};this.onTouchEnd=()=>{if(this.dv){if(this.rSb&&this.iYc.length>=2&&!(this.iYc.length<2)){var b=this.iYc[0],c=this.iYc[this.iYc.length-1],d=c.timestamp-b.timestamp;if(d!==0){var e=40*(c.x-b.x)/d;b=40*(c.y-b.y)/d;this.rSb==="horizontal"?Math.abs(e)>=5&&kIs(this,e,0,this.rSb):this.rSb==="vertical"?Math.abs(b)>=5&&kIs(this,0,b,this.rSb):
this.rSb==="diagonal"&&(Math.abs(e)>=5||Math.abs(b)>=5)&&kIs(this,e,b,this.rSb)}}this.dv.removeEventListener("touchmove",this.onTouchMove);this.dv.removeEventListener("touchend",this.onTouchEnd);this.dv.removeEventListener("touchcancel",this.onTouchEnd);this.rSb=null;this.iYc=[]}}}};var Z4s=({SI:a})=>{const b=lV(null);vTs(a,()=>()=>({left:b.current?.getBoundingClientRect().left??0,top:b.current?.getBoundingClientRect().top??0}));return fV("div",{ref:b})};var $4s=class{static G(a){O(a,{x:zV.ref,i1k:iV.bound,C5g:iV.bound})}i1k(){this.currentNode=null;this.x=void 0}C5g({clientX:a,target:b}){b instanceof HTMLElement&&(this.currentNode=b);this.SQl&&!this.Laf&&(b=m(this.SI.current)().left,this.x=Math.floor(a-b),requestAnimationFrame(()=>{this.Laf=!1}),this.Laf=!0)}constructor(a,b){this.anchor=a;this.SI=b;this.x=($4s.G(this),void 0);this.currentNode=null;this.SQl=!1;this.jmb=null;this.Laf=!1;this.ox=[];this.Gq=c=>{c?(this.jmb=c,this.jmb.addEventListener("pointermove",
this.C5g),this.jmb.addEventListener("pointerleave",this.i1k),this.ox.push(HDs(this,"x",()=>this.SQl=!0),IDs(this,"x",()=>{this.SQl=!1;this.x=void 0}))):(this.ox.forEach(d=>d()),this.ox=[],this.jmb?.removeEventListener("pointermove",this.C5g),this.jmb?.removeEventListener("pointerleave",this.i1k))}}};var xNs=()=>{const a=pV(),b=fV(Z4s,{SI:a});return new $4s(b,a)};var UIs=a=>{const b=LV((c,d)=>{const e=a.Dx.iLa,f=a.Dx.tLg;c=e(c);d=(d+c)/1E6;const {Ofa:g,durationUs:h}=f(d,!0,!0)??{};return g==null||h==null?!1:__c.UXb(d,g/1E6)||__c.UXb(d,(g+h)/1E6)});return c=>fV(a5s,{...a,...c,lur:b})},b5s=[{offset:0,transform:"scaleY(1) scaleX(1) translateY(0)"},{offset:.3,transform:"scaleY(1.4) scaleX(1.2) translateY(12%)"},{offset:.65,transform:"scaleY(1.4) scaleX(1.2) translateY(12%)"},{offset:.85,transform:"scaleY(0.8) scaleX(1) translateY(-10%)"},{offset:1,transform:"scaleY(1) scaleX(1) translateY(0)"}],
c5s=[{offset:0,transform:"scaleY(1) scaleX(1) translateY(0)"},{offset:.3,transform:"scaleY(1.4) scaleX(1) translateY(12%)"},{offset:.65,transform:"scaleY(1.4) scaleX(1) translateY(12%)"},{offset:1,transform:"scaleY(1) scaleX(1) translateY(0)"}],d5s={duration:300,delay:0,iterations:1,easing:"ease-in-out"},e5s=GV(({kdc:a,hidden:b,Qfr:c,pPr:d,variant:e,R8s:f})=>{const g=lV(null);d&&f&&g.current&&g.current.animate(f,d5s);return fV("div",{className:DV("f0aYVA",{kNIzGQ:!c,I3G7WA:b,MEMgRA:e==="minor",NK_BJA:e===
"major"}),style:{left:a},children:fV("div",{ref:g,className:"daN0cw"})})}),a5s=hV(a=>{const b=a.EA,c=a.jr,d=a.pD,e=a.lur;var f=__c.Rm();const g=lV(null),h=parseInt("9px",10);a=oV(()=>{if(c.E7e(d.track))return wIs(b,d,{Yli:!0})}).get();let k;tb.rd&&(k=f?c5s:b5s);f=fV("div",{ref:g,className:"Gx7VhA",children:a&&a.map(({TEa:l,kdc:n,fts:p})=>{p=p===1?"major":"minor";const q=!!g.current&&n>g.current.offsetWidth-h,r=e(d.startUs,l);return fV(e5s,{kdc:n,hidden:!b.Y_i&&p==="minor",variant:p,Qfr:q,pPr:r,R8s:k},
l)})});return fV("div",{className:"jh1bHw",children:fV(__c.anh,{duration:250,y3j:50,a$h:"0px",b$h:"6px",hea:"fill-height",keyFrame:a?0:1,direction:a?"back":"forward",children:a&&f})})});var $Is=class{getKey(a){var b=this.HEf.get(a);if(b)return b;b=this.Xk.next();this.HEf.set(a,b);return b}constructor(){this.Xk=new __c.Si;this.HEf=new WeakMap}};var f5s=parseInt("32px",10),g5s=parseInt("8px",10)-parseInt("2px",10),uIs=hV(({iDj:a,EA:b,...c})=>{var d=b.isVisible;if(b.tracks.length===0||!d)return null;d=c.K7a;const e=c.Sfj,f=c.Rfj;return fV(h5s,{height:b.FPh,yPc:b.yPc,ui:c.ui.get(),EA:b,children:fV(i5s,{iDj:a,EA:b,Sfj:e,Rfj:f,K7a:d})})}),h5s=hV(({height:a,children:b,yPc:c,ui:d,EA:e})=>{const f=jV(h=>{e.LIc||Math.abs(h.deltaX)<Math.abs(h.deltaY)&&c&&h.stopPropagation()},[c,e.LIc]),g=e.oJo;d=e.LIc?void 0:DV("_3yePLA",{BB1YKg:c,Gc_ROA:d});return fV("div",
{className:DV("kEJzaQ",{_26_dsw:!e.LIc&&tb.rd}),style:{height:a},children:fV("div",{onWheel:f,style:{minWidth:e.xDj,paddingLeft:g+f5s,marginLeft:-(g+f5s),paddingBottom:e.LIc?void 0:g5s,marginBottom:e.LIc?void 0:-g5s},className:d,children:b})})}),i5s=hV(({iDj:a,EA:b,Sfj:c,Rfj:d,K7a:e})=>{const f=lV(null),g=lV(null),h=jV(q=>{const r=b.uRk;switch(b.mode){case "min":r();break;case "max":f.current===q.target&&b.jr.cZa()}},[b]),k=jV(q=>{if(q.key===" "||q.key==="Enter")b.uRk(),q.stopPropagation()},[b]);
kV(()=>{if(!BV.Sfh)return gV(()=>b.dIn,(q,r)=>{q>r&&requestAnimationFrame(()=>g.current?.scrollIntoView({behavior:"smooth"}))},{fireImmediately:!1})},[b,g]);const l=b.qkg,n=b.B1c,p=n.length-1;return fV("div",{ref:f,className:"_4kOaA",style:{height:b.LIc?"100%":b.FPh},onMouseDown:h,onKeyDown:k,tabIndex:0,children:n.map((q,r)=>fV("div",{ref:r===p?g:void 0,style:{height:l},className:DV("_4EOFyQ","_3dkatg",{_26_dsw:!b.LIc&&tb.rd}),children:fV(d,{children:q.map(t=>fV(c,{pD:t,K7a:e},a.getKey(t)))})},r))})});var j5s=parseInt("16px",10),k5s=(parseInt("2px",10)||2)*2,l5s=parseInt("4px",10)||4,DIs=parseInt("28px",10)||28,m5s=DIs+k5s,n5s=class{static G(a){O(a,{HPh:zV.ref,zla:zV.ref,zDj:zV.ref,fih:zV.ref})}constructor(a){this.OFk=a;this.HPh=(n5s.G(this),"min");this.zDj=new Map;this.fih=new fi(155,155,155,1);this.Rsn=0}},QIs=class{static G(a){O(a,{e8b:zV.ref,Wuk:zV.ref,tDj:zV.ref,fwj:zV.ref,oJo:oV,mode:oV,uRk:iV.bound,w4c:oV,CS:oV,BCm:oV,y$h:oV,tracks:oV,isVisible:oV,tim:oV,Psa:oV,qkg:oV,wDj:oV,IPh:oV,som:oV,
yPc:oV,LIc:oV,FPh:oV,xDj:oV,Y_i:oV,aMi:oV,okg:oV,iim:oV,mso:iV.bound,rkg:oV,B1c:oV,dIn:oV,Qkd:oV,aig:iV.bound,Ygt:iV.bound,Otl:iV,Ika:iV,VDa:iV,fIa:iV,dde:iV,ycb:iV,gqa:iV,BIj:oV,Uvh:iV,yJj:iV,oNn:iV,Y0b:iV,nNn:iV,Ws:oV,H8e:iV.bound,$Sl:oV,ZUd:oV,csi:oV,hBn:iV,mBn:iV})}sIg({pD:a,width:b,height:c}){return{startUs:0,durationUs:a.LU,width:b,height:c,volume:a.track.volume}}get oJo(){return this.Dx.Cgb}get mode(){return this.Zjb.K_m?"max":this.store.HPh}uRk(){zIs(this);const a=this.B1c[0][0];a&&this.jr.select(a.track)}get w4c(){return this.jr.mUa}get CS(){return this.jr.CS||
[]}get BCm(){return this.w4c?by(this.jr,this.w4c):void 0}get y$h(){if(this.nac?.zRd?.size)return Array.from(this.nac.zRd.values(),a=>{const b=sqs(this.w7,a);b.ISa=a.trim;return b})}get tracks(){return this.w7.HD.map(a=>a.track)}get isVisible(){return this.w7.TD||!!this.y$h?.length}get tim(){return{uJa:this.mode==="min"?l5s:DIs,Pc:k5s}}get Psa(){return this.wDg&&!this.Dx.GJ&&!this.isVisible&&!this.e8b&&!!this.Zjb.A8k&&!this.Zjb.cki.get()}get qkg(){var a=this.isVisible?this.tim.uJa:0;if(this.mode===
"min")return a;const b=this.GPh/this.B1c.length-k5s;var c=this.Ws?DIs:24;return b<c?(a=this.GPh-8,c=Math.floor(a/c),(a+k5s*c)/c-k5s):Math.min(a,b)}get wDj(){return this.qkg+k5s}get IPh(){return this.B1c.length*this.wDj}get som(){return(this.isVisible?this.FPh:0)+(this.e8b?m5s:0)+(this.Psa?DIs:0)}get yPc(){return!this.LIc&&this.GPh<this.IPh}get LIc(){return this.EIf.get()||BV.Sfh}get FPh(){return this.LIc?this.IPh:Math.min(this.GPh,this.IPh)}get xDj(){return this.Dx.tPd+j5s+16}get Y_i(){return this.uOl.get()>=
2}get isLinear(){return this.Dx.isLinear}get aMi(){const a=this.boa.rfd.get();if(!(!a||this.Lk.Yu&&this.ui.get())){var b=this.boa.pjd;return{TEa:a,Ljd:a===0?0:b,j7c:b}}}get okg(){const a=this.jr.rua;return this.rkg.filter(({track:b})=>b!==a?.track).flatMap(b=>[b.startUs,b.startUs+b.durationUs])}get iim(){return this.rkg.flatMap(a=>this.jr.E7e(a.track)?wIs(this,a,{Yli:this.Y_i}).map(b=>b.TEa):[])}mso(a){a=__c.ei(a);a instanceof __c.Sh&&(a=a.y8a());this.store.fih=a}get rkg(){let a=this.tracks.map(b=>
this.w7.XP(b));this.y$h?.length&&(a=a.concat(this.y$h));return a}get B1c(){var a=this.BCm;const b=new Set(this.tracks);a=this.jr.rua?this.Hql.YMi.map(d=>d.filter(e=>b.has(e.track))):HIs(this.Hql,this.rkg,a);const c=this.ZUd;return c?a.map(d=>d.includes(c)?[c]:d):a}get dIn(){return this.rkg.filter(a=>a.audio?.g8b!==2).length}get Qkd(){return this.Dx.rOl*1E6}aig(a,b){this.Hql.aig(a,b)}Ygt(a){return this.B1c.length<1?!1:this.B1c[0].some(b=>b===a)}Otl({track:a}){switch(this.T4b.get()){case "single":this.jr.oc(a)||
this.jr.select(a);break;case "command":this.jr.oc(a)?CIs(this,a):this.jr.select(...this.CS,a);break;case "shift":this.jr.select(...this.CS,a)}}Ika(a,b){this.fB?.pause();this.jr.jFb(a,b);this.fB?.L6e();this.fB?.I3i({dNm:!0});this.Wk?.tO?.(new ap)}VDa(a,b){const c=a.trim,d=a.track,e=a.LU,f=c.startUs+b-a.startUs;f!==c.startUs&&(this.fB?.seek(Math.max(b,0)/1E6,"start"),this.jr.select(a.track),this.jr.Ije(a,f,d.trim?.endUs??e),this.jr.jVk(a,b),this.store.zla="start")}fIa(a,b){const c=a.trim,d=b-a.startUs+
c.startUs;d!==c.endUs&&(this.fB?.seek(b/1E6,"end"),this.jr.Ije(a,c.startUs,d),this.store.zla="end")}dde(a,b){this.jr.Ije(a,b,b+a.durationUs)}ycb(a,b,c="start"){const d=b-(a.startUs??0);this.CS.forEach(e=>{e=this.w7.XP(e);this.jr.jVk(e,(e.startUs??0)+d)});a=c==="start"?b:b+a.durationUs;this.fB?.seek(Math.max(a,0)/1E6,c);this.store.zla="start"}gqa(a){const b=[];this.fB?.j9h();for(const c of this.CS){const d=this.w7.XP(c),e=d.startUs??0;e+(d.durationUs??0)<=0||e>this.jr.xUe?b.push(d.track):(d.G0c!=null&&
d.G0c<0&&!d.ISa&&this.jr.Ije(d,d.trim.startUs-d.G0c,d.track.trim?.endUs??d.LU),this.jr.lFb(d,a))}b.length>0&&this.jr.d_d(b,"drag");this.fB?.j3e(this.store.zla);this.fB?.lL();this.store.zla=void 0}get BIj(){if(!this.w4c)return!1;const a=by(this.jr,this.w4c);return a.LU-a.durationUs>=5E4}Uvh(a){this.fB?.pause();this.ZUd||!this.BIj?this.jr.lFb(a,"drag"):this.jr.jFb(a,"adjust")}yJj(a){this.jr.lFb(a,"drag")}oNn(a){this.jr.cZa();this.e8b=sqs(this.w7,__c.KEc.create({...__c.bZc,audio:a,id:void 0,loop:1}))}Y0b(a){this.e8b&&
(zIs(this),a&&!this.e8b.ISa&&(this.e8b.ISa={startUs:0,endUs:Math.min(a*1E6,this.Qkd)}),this.e8b.G0c=(this.Dx.rEe||0)*1E6)}nNn(){this.e8b=void 0}get Ws(){return this.ui.get()||Vb()}H8e(a){this.fwj=a}get $Sl(){return this.jr.rua||this.fwj}get ZUd(){const a=this.jr.JEe;return this.jr.Gja==="adjust"?a:void 0}get csi(){return this.store.zla!==void 0}hBn(a){this.CS.length<1||this.jr.d_d(this.CS,a)}mBn(){this.CS.length<1||this.jr.mxi(this.CS)}Eng(a){return this.Zoa.status===Jx.Ak&&a.Fza===3}constructor(a,
b,c,d,e,f,g,h,k,l,n,p,q,r,t,v,w,x,y){this.jr=a;this.w7=b;this.selection=c;this.Hql=d;this.RTp=e;this.ltt=f;this.Dx=g;this.boa=h;this.Zoa=k;this.Zjb=l;this.ui=n;this.T4b=p;this.uOl=q;this.EIf=r;this.Lk=t;this.wDg=v;this.nac=w;this.fB=x;this.Wk=y;this.store=(QIs.G(this),void 0);this.e8b=void 0;this.Bbn=this.Wuk=!1;this.tDj=[];this.fwj=void 0;this.Rrb=LV(z=>this.jr.oc(z.track));this.Aqn=LV(z=>{if(z.page==null)return!1;const B=this.selection.Ma;return B?.type!=="pages"?!1:B.pages.includes(z.page)});this.Aei=
FV(z=>{var B=this.Dx.iLa;B=B(z.startUs);var C=z.durationUs;const G=z.startUs;var H=this.Dx.tPd;const K=this.Dx.iLa;var L=K(G);C=C?K(G+C,{ujc:!0}):H;H=__c.YJe(this.jr,z)>1?H-L:C-L;L=BIs(this,z);C=z.durationUs;z=C===0?H:H/C*z.LU;return{omc:{width:z,gId:z+B},height:this.qkg,left:B,width:H,color:L}});this.store=new n5s(oV(()=>g.isLinear));gV(()=>c.Ma,z=>{if(z)switch(z.type){case "audio":return this.mode==="min"&&zIs(this);case "elements":case "pages":break;default:throw new u(z);}});h.EPh=oV(()=>this.okg);
h.xQh=oV(()=>this.iim);gV(()=>({okg:this.okg,C2s:this.aMi,Ukb:this.Dx.I5c}),({okg:z,C2s:B,Ukb:C})=>{const G=this.jr.rua;this.tDj=G?[...AIs(this,G,z,C),...(B?[B]:[])]:[]},{equals:nV.shallow});this.uRb=new fKs(oV(()=>this.tDj),this.boa.oOe,this.Wk);gV(()=>this.nac?.zRd.size,z=>{z&&this.mode==="min"&&zIs(this)});this.GPh=Math.min(150,window.innerHeight/2)}};var YIs=hV(({Fc:a,EA:b,Dx:c,connectDropTarget:d,drag:e,Y5b:f})=>{c=c.tPd;kV(()=>gV(()=>!!b.e8b&&a.isDragging,g=>{g||b.nNn();b.Wuk=g}),[b,a]);return mV("div",{className:"HpykzQ",children:[mV("div",{className:"QtV_rQ",style:{width:c},children:[fV(__c.Mu,{size:"small",tone:"primary"}),fV(Q,{size:"small",weight:"bold",alignment:"center",tagName:"span",tone:"primary",children:M("kpT/LQ")}),d(fV("div",{className:"h4fQaw"}))]}),!!e&&e.z5&&fV(o5s,{EA:b,Y5b:f})]})}),XIs=hV(({children:a,connectDropTarget:b,
EA:c,drag:d,Y5b:e})=>{const f=c.e8b;return b(mV("div",{style:{height:c.qkg},className:DV("JtDRuw",{a0TxoQ:!f}),children:[a,!!d&&d.z5&&f&&fV(p5s,{EA:c,pD:f,Y5b:e})]}))}),o5s=hV(({EA:a,Y5b:b})=>{const c=a.e8b,d=a.xDj;return fV("div",{className:DV("_4kOaA","wReuwA"),style:{height:m5s,minWidth:d},children:fV("div",{className:"_4EOFyQ",children:fV(p5s,{Y5b:b,EA:a,pD:m(c)})})})}),p5s=hV(({Y5b:a,pD:b,EA:c})=>{const {width:d,left:e,color:f,height:g}=c.Aei(b);c=g>0?g:DIs;return fV("div",{className:DV("Jqy7Tg",
"_88diBQ","wfJ8fA","_9bDcDg"),style:{width:d,height:c,transform:`translateX(${e}px)`},children:fV("div",{style:{background:f.lmb(),height:c},className:DV("_vhAag","VFKnig"),children:fV(a,{height:c,pD:b})})})});var RIs=class{aig(a,b){this.GRl.set(a,b)}constructor(){this.YMi=[];this.GRl=new Map}},FIs=a=>(b,c)=>b===a?-1:c===a?1:b.startUs-c.startUs;var q5s=rTs(({position:a,children:b,m5c:c},d)=>fV("div",{className:DV("XpsM5g",a==="start"?"A5MWRw":"A_It_g",{oa1HGA:c}),ref:d,children:b}));var r5s,s5s,t5s,u5s;
new (r5s=class extends JV{constructor(){super(u5s);s5s()}},(()=>{class a extends(t5s=IV){static G(b){O(b,{iI:zV.ref,OYd:zV.ref,WEb:oV,transform:oV,transitionDuration:oV,Apf:oV,qqm:iV.bound})}get WEb(){return this.Apf>=8}get transform(){const b=this.iI?.scrollWidth;if(b&&!(this.Apf>=b)&&this.OYd!=="start")return`translateX(${(tb.direction===2?-1:1)*(this.Apf-b-8)}px`}get transitionDuration(){const b=this.props.UNb;var c=this.iI?.scrollWidth;if(!c||this.Apf>=c||this.OYd==="start")return"0s";c=Math.max(0,
c-this.Apf)*60;return(b?Math.min(c,b):c)+"ms"}get Apf(){return this.iI?this.iI.clientWidth:0}qqm(b){this.iI=b;ka(100).then(()=>{rV(()=>{this.OYd="scrollToEnd"})})}render(){return fV("div",{style:{overflow:"hidden"},children:fV("div",{ref:this.qqm,onTransitionEnd:this.onTransitionEnd,style:this.WEb?{transform:this.transform,transitionDuration:this.transitionDuration,width:"max-content"}:{visibility:"hidden"},children:this.props.children})})}constructor(...b){super(...b);this.iI=(u5s.G(this),void 0);
this.OYd="start";this.onTransitionEnd=async()=>{await ka(500);rV(()=>{this.OYd="start"});await ka(500);rV(()=>{this.OYd="scrollToEnd"})}}}({c:[u5s,s5s]}=KV(a,[],[Lb],t5s))})(),r5s);var v5s=hV(({color:a,Gjc:b,width:c,height:d,isVisible:e,JOr:f,IKc:g})=>{const [h,k]=qV(!1),l=c<30;kV(()=>{l?k(e):e&&k(!0)},[e,l]);const n=b.audio,p=b.lLc,q=b.playing,r=AV(()=>n?.g8b===1?fV(__c.oZj,{size:"small",className:"f3EM7Q"}):n?.g8b===2?fV(__c.Nbr,{size:"small",className:"f3EM7Q"}):fV(__c.Mu,{size:"small",className:"f3EM7Q"}),[n?.g8b]);if(!h)return null;const t=n?.KBa[0]?.url,v=fV("div",{className:DV("_6wnscQ",{OhKKFQ:tb.rd&&q}),style:{backgroundImage:p?void 0:t&&`url('${t}')`,height:d,width:d},
children:p?fV(__c.Lgo,{size:"medium",className:"f3EM7Q"}):!t&&r});b=g?" \u2022 "+qo(b.uv,"short"):null;const w=n?.title&&fV("span",{className:"_6Rqrbw",children:mV(Q,{size:"small",weight:"bold",className:"_4fk5QQ",children:[n.title,b]})});if(l&&e)return fV(__c.Vc,{placement:"top-center",open:!0,level:7,reference:fV("div",{className:"y47BuQ",style:{left:c/2}}),children:({Gdb:x})=>mV(uV,{children:[fV("div",{ref:x,className:"F92n0Q",children:fV(__c.lha,{inset:!1})}),mV("div",{className:"TIZRTw",children:[v,
w]})]})});b=new fi(a.r,a.g,a.b,a.a*.1);a=new fi(a.r,a.g,a.b,a.a*.9);a=`linear-gradient(270deg, ${b.lmb()}, ${a.lmb()} 10%)`;return fV("div",{className:DV("_J8ciQ",{F3278A:e}),onTransitionEnd:()=>k(e),children:mV("div",{className:"_2WXYNA",style:{maxWidth:c,background:a},children:[v,fV("div",{className:"S_recA",children:n?.title&&e&&fV(u5s,{UNb:f,children:w})})]})})});var w5s=({uv:a,position:b})=>fV(q5s,{position:b,m5c:!0,children:fV(Nu,{tone:"contrast",className:"_3N1ong",text:qo(a,"short")})});var y5s=hV(({pD:a,iLa:b,LTp:c,height:d,Q2d:e,R2d:f})=>{const g=a.startUs;a=g+a.durationUs;return mV("div",{className:"yzpIbg",style:{width:c},children:[e!=null&&fV(x5s,{position:"in",height:d,width:b(g+e,{ujc:!0})-b(g,{ujc:!1})}),f!=null&&fV(x5s,{position:"out",height:d,width:b(a,{ujc:!0})-b(a-f,{ujc:!1})})]})}),x5s=({position:a,height:b,width:c})=>fV("div",{className:DV("l2mSag",{JlSSfg:a==="in",_8HJtoA:a==="out"}),style:{borderTopWidth:b,borderRightWidth:a==="in"?c:0,borderLeftWidth:a==="out"?c:
0}});var z5s=parseInt("4px",10)||4,A5s=new fi(255,255,255,.7),B5s=new fi(255,255,255,.4),JIs=hV(({height:a,lDj:b,strokeColor:c,EA:d,pD:e,LDc:f,Uo:g})=>{const h=oV(()=>xIs(d,e,a,b??0,A5s)).get(),k=e.buffer,l=e.loading;return fV("div",{className:"eFZIoQ",children:h.map(({state:n,draft:p,paddingRight:q},r,{length:t})=>mV(EMs,{children:[fV(C5s,{Uo:g,LDc:f,strokeColor:c,buffer:k,loading:l,state:n}),r<t-1&&fV(D5s,{draft:p,paddingRight:q,Uo:g,LDc:f,buffer:k,loading:l,state:n})]},r))})}),C5s=({Uo:a,buffer:b,loading:c,
state:d,strokeColor:e,LDc:f})=>{const [g,h]=LIs(a);return fV("div",{ref:h,className:"_956a7w",style:{width:d.width,height:d.height},children:fV("div",{className:DV({_GsTNw:c}),children:g&&fV(f,{buffer:b,state:d,strokeColor:e})})})},D5s=({draft:a,paddingRight:b,state:c,loading:d,buffer:e,LDc:f,Uo:g})=>{const h=b/(c.width/c.durationUs),k=AV(()=>{if(e&&!(c.width<=0)){a:{if(!(h<=0)){var l=Math.floor(Math.floor(h/1E6*e.sampleRate)/6);var n=l*6,p=Math.floor((c.startUs+c.durationUs)/1E6*e.sampleRate);if(p){var q=
new AudioBuffer({length:n,numberOfChannels:e.numberOfChannels,sampleRate:e.sampleRate});for(let r=0;r<e.numberOfChannels;r++){const t=e.getChannelData(r).subarray(Math.max(p-l,0),p),v=new Float32Array(n);for(let w=0;w<n;w+=t.length)v.set(t.subarray(0,n-w),w);q.copyToChannel(v,r)}l=q;break a}}l=void 0}return l}},[e,c.width,c.durationUs,c.startUs,h]);return k?fV("div",{className:"eFZIoQ",children:fV(C5s,{Uo:g,LDc:f,buffer:k,loading:d,state:{...c,startUs:0,width:b,durationUs:h},strokeColor:B5s})}):fV("div",
{className:DV("SReuxg",{t5Herg:a}),style:{height:c.height},children:fV(E5s,{loading:!e,width:b})})},E5s=({loading:a,width:b,strokeWidth:c=.6})=>fV("div",{className:DV("_FzNpw",{_GsTNw:a}),style:{width:b,transform:`scaleY(${c})`}});var F5s=a=>{const b=a.maxWidth,c=a.Fza,d=a.V2;a=a.onClick;const e=AV(()=>c===6?fV(Nu,{tone:"contrast",className:"OCkX1Q",text:M("BkrRaA")}):c===5?fV(Nu,{tone:"contrast",className:"OCkX1Q",text:M("RySxhA")}):fV(Nu,{tone:"contrast",className:"OCkX1Q",icon:fV(Ux,{size:"small"}),text:M("dSA0bg")}),[c]);return fV(q5s,{position:"start",children:fV(er,{placement:"top",label:c===1?M("2dWxvA"):c===4?M("qChmPQ"):c===3&&d?M("UbEuXg"):c===6?M("95DsmA"):c===5?M("YLh62g"):M("Q2vs6g"),children:fV("div",{style:{"--Akz5Cw":`${b}px`},
children:d?mV(__c.OWg,{tone:"primary",className:"OCkX1Q",onClick:a,children:[fV(__c.Bx,{size:"small"})," ",M("dSA0bg")]}):e})})})};var G5s,H5s,I5s,J5s=parseInt("40px",10)||40,K5s=parseInt("96px",10)||96,L5s=parseInt("8px",10)||8,M5s=Pb("399dfcd7",!1),N5s;
new (G5s=class extends JV{constructor(){super(N5s);H5s()}},(()=>{class a extends(I5s=IV){static G(b){O(b,{TBa:oV,oc:oV,opacity:oV,Aph:oV,aki:oV,T_i:oV,tAo:oV,qyo:oV,syo:oV,Nco:oV,Eng:oV,y$m:oV,ryo:oV,t0a:iV.bound})}get TBa(){return this.props.EA.Aei(this.props.pD)}get oc(){return this.props.EA.Rrb(this.props.pD)}get opacity(){const b=this.props.Dx.NWg;return this.props.To&&b?.5:this.props.EA.CS.length<1?1:this.oc?1:.5}get Aph(){const b=this.props.EA,c=this.props.Szc;return this.props.pD.lLc?!0:this.props.Dx.IKc?
this.TBa.width<30?c:c&&!this.aki:c&&(b.Ws?this.oc:!this.oc)}get aki(){return this.props.EA.$Sl===this.props.pD}get T_i(){const b=this.props.jr,c=this.props.pma,d=this.props.EA.ZUd===this.props.pD;return this.TBa.width>J5s&&this.oc&&!d&&(!this.aki||c.Ir)&&!b.vln}get tAo(){return this.props.pD.Fza!=null&&this.T_i&&!this.Aph}get qyo(){const b=this.props.pD;return!this.props.Dx.IKc&&b.Fza==null&&this.T_i&&!this.Aph}get syo(){const b=this.props.EA;if(!this.props.Szo)return!1;const c=this.TBa.width>K5s;
return!this.props.To&&this.T_i&&c&&!b.csi}get Nco(){const b=this.props.To,c=this.TBa.width,d=L5s*2;return c<=K5s||b?c-d:c-d-J5s}get Eng(){return this.props.EA.Eng(this.props.pD)}get y$m(){const b=this.props.pD,c=b.R2d;return b.Q2d||c}get ryo(){return!this.aki&&!this.Aph&&this.y$m}get justifyContent(){return this.props.Tvb==="start"?"flex-end":"flex-start"}t0a(b){this.props.t0a(b,this.props.pD.track)}render(){const b=this.props.Vdr,c=this.props.pD,d=this.props.EA,e=this.props.To;var f=this.props.Dx;
const g=f.iLa;f=f.IKc;const h=this.props.Y5b,k=this.props.fgj,l=this.props.lDj,n=this.props.visible,p=this.props.Hvk,q=c.uv,r=c.Q2d,t=c.R2d,v=this.TBa.height,w=this.TBa.width,x=this.TBa.color,y=this.props.pma.Tkc,z=v-z5s*2,B=d.Aqn(c);return fV("div",{style:{opacity:this.opacity,justifyContent:this.justifyContent,background:x.lmb(),width:w,height:v,contain:M5s?"paint":void 0},className:DV("_vhAag",{OlLBHQ:b,VFKnig:this.oc&&!e&&!p,Q7X_1A:B&&!e&&!p,_9YosPg:p}),children:n&&mV(uV,{children:[fV(h,{height:v,
lDj:l,pD:c}),k&&fV(k,{pD:c}),this.ryo&&fV(y5s,{pD:c,iLa:g,LTp:w,Q2d:r,R2d:t,height:v}),this.qyo&&fV(w5s,{position:"start",uv:q}),c.Fza&&this.tAo&&fV(F5s,{maxWidth:this.Nco,Fza:c.Fza,V2:this.Eng,onClick:()=>{d.Zoa.Rd("editing_commercial_music_upgrade_badge","paywall")}}),!p&&fV(v5s,{color:x,Gjc:c,isVisible:this.Aph,JOr:e?3E3:void 0,width:w,height:z,IKc:f}),this.syo&&y&&fV(q5s,{position:"end",children:fV(y,{visibility:"always",Nh:this.t0a,ariaLabel:M("iQUYNA")})})]})})}constructor(...b){super(...b);
a.G(this)}}({c:[N5s,H5s]}=KV(a,[],[Lb],I5s))})(),G5s);var O5s,P5s,Q5s,R5s;
new (O5s=class extends JV{constructor(){super(R5s);P5s()}},(()=>{class a extends(Q5s=IV){static G(b){O(b,{onDragEnd:iV.bound,onDragStart:iV.bound,onDrag:iV.bound,qKb:oV})}onDragEnd(b){this.props.onDragEnd?.(b)}onDragStart(b){this.props.onDragStart?.(b)}onDrag(b,c,d){const e=this.props.Ydh;c=e(c);this.props.onDrag(Math.max(this.props.min,Math.min(Math.round(b-c),this.props.max)),d)}get qKb(){const b=this.props.time;return b===this.props.min?"w-resize":b===this.props.max?"e-resize":"ew-resize"}render(){return fV(p3s,
{onDragStart:this.onDragStart,onDrag:this.onDrag,onDragEnd:this.onDragEnd,moa:{type:"fullWidth"},time:this.props.time,max:this.props.max,min:this.props.min,cursor:this.qKb})}constructor(...b){super(...b);a.G(this)}}({c:[R5s,P5s]}=KV(a,[],[Lb],Q5s))})(),O5s);var S5s=hV(a=>{const b=a.LU,c=a.Ydh,d=a.trim,e=a.onDrag,f=a.onDragStart,g=a.onDragEnd,h=d.endUs-d.startUs;return mV("div",{className:"HxvUnQ i1mS2A",children:[fV("div",{className:"x3tMUw i1mS2A",children:a.children}),fV(R5s,{min:0,max:b-h,time:d.startUs,Ydh:c,onDrag:e,onDragStart:f,onDragEnd:g})]})});var T5s,U5s,V5s,W5s=parseInt("2px",10)*2||4,X5s=(parseInt("2px",10)||2)+(parseInt("1px",10)||1),Y5s=parseInt("8px",10)||8,Z5s;
new (T5s=class extends JV{constructor(){super(Z5s);U5s()}},(()=>{class a extends(V5s=IV){static G(b){O(b,{MWg:zV.ref,pL:zV.ref,Tvb:zV.ref,Iqh:oV,LIf:oV,vSk:iV,Ika:iV,gqa:iV,onDoubleClick:iV.bound,HJn:iV.bound,GJn:iV.bound,WAn:iV.bound,TBa:oV,JPa:oV,gQa:oV,yza:oV,sIg:oV,E7f:oV})}get Iqh(){const b=this.props.Rrb,c=this.Tvb!=null&&this.Tvb!=="fullWidth";this.Tvb||(this.Kqh=b&&this.TBa.width<50);return!c&&this.Kqh}get LIf(){const b=this.props.EA;return this.MWg&&b.CS.length===1}onDoubleClick(){this.props.EA.Uvh(this.props.pD)}HJn(){this.pL=
!0}GJn(){this.pL=!1}WAn(){return this.JPa?(this.props.EA.yJj(this.props.pD),!0):!1}get TBa(){return this.props.EA.Aei(this.props.pD)}get JPa(){return this.props.pD===this.props.EA.ZUd}get gQa(){const b=this.props.pD.trim,c=this.props.pD.startUs;return this.LIf?0:Math.max(0,c-b.startUs)}get yza(){var b=this.props.pD;const c=this.props.EA.Qkd,d=b.trim,e=b.startUs;b=b.LU;return this.LIf?c:Math.min(c,b-d.startUs+e)}componentDidMount(){this.cld.current&&(this.Ucf=this.cld.current.Fmb);Gb(this,[Sus(()=>
{if(this.pL){var b=qo(this.props.pD.trim.startUs/1E6,"short");rV(()=>{this.currentTime.set(b)})}})])}Ucf(){}get e3l(){return fV(N5s,{...this.props,Tvb:this.Tvb})}get sIg(){return this.props.EA.sIg({pD:this.props.pD,width:this.TBa.omc.width,height:this.TBa.height})}get V_o(){const b=this.props.pD,c=this.props.LDc,d=b.buffer,e=b.trim,f=b.LU,g=this.TBa.omc,h=this.TBa.color,{yDo:k,Ydh:l}=yIs(b,this.TBa.width);return mV(uV,{children:[fV("div",{className:"SKenVg",style:{left:-k,width:g.width},children:mV(S5s,
{LU:f,Ydh:l,trim:e,onDrag:this.Jbs,onDragStart:this.HJn,onDragEnd:this.GJn,children:[fV(c,{buffer:d,state:this.sIg,strokeColor:h}),fV("div",{className:"myOKOg",style:{left:k},children:this.e3l})]})}),fV(k3s,{isOpen:this.pL,children:this.currentTime})]})}get E7f(){const b=this.props.EA;var c=this.props.Rrb;const d=b.Aqn(this.props.pD);if(b.Ws)return{type:"touch",isVisible:!0};const e=b.$Sl===this.props.pD,f=this.TBa.width>=50;c=c||d;return{type:"pointer",PTa:this.Iqh?"outside":"inside",isVisible:this.Iqh||
f&&e,$Eg:!f,UAh:b.isLinear,...(this.Iqh?{}:{vEf:c?b.isLinear?X5s:W5s:0,ucj:c?b.isLinear?X5s:0:0,borderRadius:Y5s-(c&&b.isLinear?X5s:0)})}}get CFp(){const b=this.props.To;var c=this.props.pD;const d=this.props.EA,e=this.props.LDc,f=this.props.qp,g=d.uRb,h=d.Ws,k=d.Qkd,l=d.w4c,n=c.buffer,p=c.startUs,q=c.LU,r=c.durationUs,t=this.TBa.omc;var {yDo:v}=yIs(c,this.TBa.width);v=(c=l===c.track&&!d.csi&&!this.JPa)?v:void 0;return mV("div",{className:DV("Yj83qw","_7EePFQ"),style:{left:v?-v:void 0,width:c?t.width:
void 0},children:[c&&fV("div",{className:"oaQBsQ",children:fV(e,{buffer:n,state:this.sIg})}),fV("div",{className:"myOKOg",style:{left:v},children:fV(QLs,{qp:f,To:b,I0b:p,durationUs:r,D1g:1E5-r,Eae:1E5,zQd:g,Aac:{show:this.Iqh,appearance:d.Ws?"light":"dark"},gib:this.gib,LU:q,gQa:this.gQa,X_g:k-1E5,yza:this.yza,VDa:this.VDa,fIa:this.fIa,ycb:this.ycb,Ika:this.Ika,gqa:this.gqa,moa:this.E7f,Zsb:h?void 0:this.H8e,$sb:h?void 0:this.Cxk,children:this.e3l})})]})}render(){return fV(__c.xmh,{peh:["onMouseDown"],
xyg:["mousedown"],TRc:this.WAn,children:fV("div",{onDoubleClick:this.onDoubleClick,children:this.JPa?this.V_o:this.CFp})})}constructor(...b){super(...b);this.currentTime=(Z5s.G(this),zV.box(""));this.cld=pV();this.pL=this.MWg=!1;this.Tvb=null;this.Kqh=!1;this.IPr=(c,d,e)=>{d==="trim"&&(d=c.trim,c=e.type==="end"&&(d.endUs==null||d.endUs===c.LU),e.type==="start"&&!d.startUs||c)&&(this.MWg=!0)};this.vSk=(c,d)=>{this.LIf&&this.props.EA.ycb(c,c.track.startUs??0,d);this.MWg=!1};this.Ika=c=>{const d=this.props.pD,
e=this.props.EA;this.Tvb=c.type;a:{var f=c.type;switch(f){case "start":f="trim";break a;case "end":f="trim";break a;case "fullWidth":f="move";break a;default:throw new u(f);}}e.Ika(d,f);this.IPr(d,f,c)};this.VDa=c=>{const d=this.props.pD,e=this.props.EA;c=Math.max(this.gQa,Math.min(c,this.yza-1E5));this.LIf&&c<=(d.track.startUs??0)?e.ycb(d,c,"start"):(this.vSk(d,"start"),e.VDa(d,c))};this.fIa=c=>{const d=this.props.pD,e=this.props.EA,f=c-((d.track.startUs??0)+d.durationUs);this.LIf&&f>=0&&c<=e.Qkd?
e.ycb(d,c-d.durationUs,"end"):(this.vSk(d,"end"),e.fIa(d,c))};this.ycb=c=>{this.props.EA.ycb(this.props.pD,c)};this.Jbs=c=>{this.props.EA.dde(this.props.pD,c)};this.gqa=c=>{const d=this.props.pD,e=this.props.EA;this.Tvb=null;e.gqa(c.mb);this.MWg=!1;!e.Bbn&&e.Eng(d)&&(e.Zoa.Rd("editing_commercial_music_upgrade_upon_trimming","paywall"),e.Bbn=!0)};this.gib=(c,d,e)=>{c=this.props.Dx.iLa(c,e==="end"?{ujc:!0}:void 0)+d;c=this.props.Dx.gMg(Math.abs(c))*Math.sign(c);return Math.floor(c)};this.H8e=()=>this.props.EA.H8e(this.props.pD);
this.Cxk=()=>this.props.EA.H8e(void 0)}}({c:[Z5s,U5s]}=KV(a,[],[Lb],V5s))})(),T5s);var $5s=hV(a=>{const b=a.rJr,c=a.pD;return fV("div",{className:"sNFUtw",children:rc(c.uv?b:1).map((d,e,{length:f})=>fV(N5s,{Vdr:d!==f-1,lDj:d*c.durationUs,...a},d))})});var a6s,b6s,c6s,d6s;
new (a6s=class extends JV{constructor(){super(d6s);b6s()}},(()=>{class a extends(c6s=IV){static G(b){O(b,{XQ:zV.ref,onMouseEnter:iV.bound,onMouseLeave:iV.bound,backgroundColor:oV,segments:oV})}onMouseEnter(){this.XQ=!0}onMouseLeave(){this.XQ=!1}get backgroundColor(){const b=this.props.color;return this.XQ&&Wb()?(new fi(Math.max(0,Math.round(b.r*.75)),Math.max(0,Math.round(b.g*.75)),Math.max(0,Math.round(b.b*.75)),b.a)).lmb():b.lmb()}get segments(){return xIs(this.props.EA,this.props.pD,0,0,new fi(0,
0,0,0))}render(){return mV("div",{className:"WAZQAw",children:[this.segments.map((b,c,{length:d})=>mV(EMs,{children:[fV("div",{style:{background:this.backgroundColor,width:b.state.width}}),c<d-1&&fV("div",{className:DV({wdkUww:b.draft}),style:{background:b.draft?void 0:this.backgroundColor,width:b.paddingRight}})]},c)),fV("div",{className:"mRU4jQ",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})]})}constructor(...b){super(...b);this.XQ=(d6s.G(this),!1)}}({c:[d6s,b6s]}=KV(a,[],[Lb],
c6s))})(),a6s);var e6s,f6s,g6s,MIs;
new (e6s=class extends JV{constructor(){super(MIs);f6s()}},(()=>{class a extends(g6s=IV){static G(b){O(b,{Szc:zV.ref,WEb:zV.ref,D9i:zV.ref,fuo:iV.bound,IR:iV.bound,onMouseEnter:iV.bound,onMouseDown:iV.bound,onMouseLeave:iV.bound,onKeyDown:iV.bound,TBa:oV,Rrb:oV,JPa:oV,onContextMenu:iV.bound,myo:oV})}componentDidMount(){Gb(this,[gV(()=>this.D9i?this.Rrb:!1,b=>{b&&this.D9i?.focus({preventScroll:!0})},{fireImmediately:!0}),gV(()=>this.Rrb,b=>{b&&this.props.Dx.IKc?this.Szc=!0:b&&this.props.EA.Ws?(this.Szc=
!0,window.clearTimeout(this.WQl),this.WQl=window.setTimeout(()=>{rV(()=>this.Szc=!1)},3E3)):(this.Szc=!1,window.clearTimeout(this.WQl))},{fireImmediately:!0})])}fuo(b){this.D9i=b;this.rZl?.();b&&(this.rZl=this.props.Uo.observe(b,this.IR))}IR(b){this.WEb=b}onMouseEnter(){Wb()&&!this.Rrb&&(this.Szc=!0)}onMouseDown(){this.props.EA.Otl(this.props.pD)}onMouseLeave(){Wb()&&!this.Rrb&&(this.Szc=!1)}get TBa(){return this.props.EA.Aei(this.props.pD)}get Rrb(){return this.props.EA.Rrb(this.props.pD)}get JPa(){return this.props.EA.ZUd===
this.props.pD}get myo(){const b=this.props.pD.track,c=this.props.EA.w4c;return this.JPa||c===b}render(){var b=this.props.pD,c=b.audio;b=b.KIk;const d=this.props.connectDropTarget;var e=this.props.drag;const f=this.props.qp,g=this.TBa.width,h=this.TBa.height,k=this.TBa.omc,l=this.TBa.left,n=this.TBa.color;c=c?.title?J("avLR6Q",[c.title]):M("78k0WQ");e=!!e&&e.z5;return mV(uV,{children:[fV("div",{role:"button",tabIndex:0,ref:this.fuo,className:DV("Jqy7Tg","YAK7xA",{KjB4eQ:tb.rd,_88diBQ:this.props.EA.mode===
"max",wfJ8fA:this.Rrb,iB8f7A:b}),style:{width:g,height:h,transform:`translateX(${l}px)`},"aria-label":c,onKeyDown:this.onKeyDown,onMouseEnter:this.onMouseEnter,onMouseDown:this.onMouseDown,onMouseLeave:this.onMouseLeave,onClick:this.onClick,onContextMenu:this.onContextMenu,children:d(mV("div",{className:"yCmjww",children:[fV(h6s,{...this.props,color:n,Szc:this.Szc,Rrb:this.Rrb,Hvk:e||b,visible:this.WEb||this.JPa,qp:f}),mV("div",{className:DV("ewoWEQ",{AclNdg:b,HTgLsA:e||b}),style:{height:h},children:[e&&
mV(uV,{children:[fV(__c.S0f,{size:"small"}),fV(Q,{size:"small",weight:"bold",alignment:"center",tagName:"span",className:"jQln9Q",children:M("txGylQ")})]}),b&&mV(uV,{children:[fV(__c.Mu,{size:"small"}),fV(Q,{size:"small",weight:"bold",alignment:"center",tagName:"span",tone:"primary",className:"VFOWng",children:M("0GDd5g")})]})]})]}))}),fV("div",{style:{width:this.myo?k.gId:void 0},"aria-hidden":!0})]})}constructor(...b){super(...b);this.Szc=(MIs.G(this),!1);this.WEb=!0;this.D9i=null;this.WQl=void 0;
this.onKeyDown=c=>{const d=this.props.EA,e=this.props.pD,f=this.props.pma;if(c.key===" "||c.key==="Enter")d.Otl(e),c.stopPropagation();c.key==="Escape"&&(f.Tsd?.(),this.JPa?d.yJj(e):d.jr.cZa(),c.stopPropagation())};this.onClick=c=>{const d=this.props.K7a;this.props.ui.get()||d(c)};this.onContextMenu=c=>{const d=this.props.pD,e=this.props.onContextMenu;this.props.Pa.mode<40||(c.preventDefault(),Ic.wba||Ic.DCd||e(c,d.track))}}}({c:[MIs,f6s]}=KV(a,[],[Lb],g6s))})(),e6s);
var h6s=hV(a=>{var b=a.ui.get();if(a.EA.mode==="min")return fV(d6s,{color:a.color,pD:a.pD,EA:a.EA});b={pD:a.pD,jr:a.jr,EA:a.EA,To:b,Y5b:a.Y5b,LDc:a.LDc,fgj:a.fgj,Dx:a.Dx,Szc:a.Szc,visible:a.visible,Hvk:a.Hvk,t0a:a.t0a,pma:a.pma};const c=__c.YJe(a.jr,a.pD);return a.Pa.mode<40||a.EA.Ws&&!a.EA.Rrb(a.pD)||c>1||a.pD.lLc||a.pD.KIk?fV($5s,{...b,Szo:!1,rJr:c}):fV(Z5s,{...b,qp:a.qp,Szo:!0,Rrb:a.Rrb})});var OIs=parseInt("12px",10)||12;var ZIs=a=>{const b=a.label;return fV(R,{paddingTop:"0.5u",paddingBottom:"1u",children:fV("div",{className:"Z_ItSA",children:mV(hr,{onClick:a.onClick,alignment:"start",ariaLabel:b,children:[fV(__c.Mu,{size:"small",tone:"primary",className:"csNU_A"}),fV(Q,{size:"small",weight:"bold",alignment:"start",tagName:"span",tone:"primary",children:b})]})})})};var SIs=["#33bfff","#fbbe28","#7fdc42","#00c4cc","#ff6673"].map(a=>__c.iJa(a)),TIs=__c.iJa("#8d39fa"),VIs=parseInt("16px",10)||16;var wNs=class{static G(a){O(a,{f4l:zV.ref,n8l:zV.ref,T1l:zV.ref,r9l:zV.ref,tse:zV.ref})}get a7c(){return this.Lwo.value}constructor(){this.Lwo=(wNs.G(this),new __c.vk)}};var uNs=class{static G(a){O(a,{pjd:oV})}get pjd(){return this.WDa.get()<=0?0:10/this.WDa.get()*1E6}constructor(a){this.WDa=a;this.oOe=(uNs.G(this),zV.box(!1));this.rfd=zV.box(void 0);this.njh=oV(()=>[]);this.zzg=oV(()=>[]);this.EPh=oV(()=>[]);this.xQh=oV(()=>[])}},zNs=a=>{const b=iV(c=>{({maxTouchPoints:e,userAgent:d}=navigator);var d,e;return a.oOe.set((!/Mac OS/i.test(d)||/iphone|ipad/i.test(d)?0:e<=1)?c.metaKey:c.ctrlKey)});window.addEventListener("keydown",b);window.addEventListener("keyup",b);
return()=>{window.removeEventListener("keydown",b);window.removeEventListener("keyup",b)}};var eJs=GV(function({currentTime:a,totalTime:b,qf:c,Yra:d,j_s:e,Vw:f,onChange:g,onSubmit:h}){return e?c>1?fV(cJs,{qf:c,Yra:d,Vw:f,onChange:g,onSubmit:h}):fV(Q,{size:"medium",weight:"bold",className:"hGeclQ",children:d!=null?J("q6CACQ",[d,c]):J("plwCKA",[c])}):mV(Q,{size:"medium",weight:"bold",className:"hGeclQ",children:[fV(__c.ID,{seconds:a})," / ",fV(__c.ID,{seconds:b})]})});var dJs=class{static G(a){O(a,{Vw:zV.ref,Vxl:iV})}Vxl(a){this.Vw=a&&this.document.pages.count()>1}Sha(a){if(a>0&&a<=this.document.pages.count()){const b=this.V.wb("design_progress.go_to_page",{Hb:{name:"editor.page.navigate",type:"design_progress"}}),c=a-1,d=this.document.pages.toArray()[c],e=this.viewport.ya===d;if(e)b.abort();else{this.viewport.Uw(d);switch(d.type){case "fixed":a=ug(this.hb.kl(d));break;case "concatenated-fixed":a=!1;break;case "responsive":a=!0;break;default:throw new u(d);}this.N.pne(d,
!e,b,{Yb:c,VL:1,v9d:a,mb:"go_to_page",location:"status_bar"})}}}constructor(a,b,c,d,e){this.viewport=a;this.document=b;this.hb=c;this.N=d;this.V=e;this.Vw=(dJs.G(this),!1)}};var hJs=class{static G(a){O(a,{yDd:zV.ref})}get isDragging(){return this.yDd!=null}constructor(){this.yDd=(hJs.G(this),void 0);this.WDo=this.Uqf=0}},iJs=class{onDragStart(a,b){const c=a.Dol?.isRecording()?a.Dol:this.V.wb("resize",{Hb:{name:"timeline.resize",performance:{NU:!0}}});a.Dol=c;a.yDd=b.clientY;b=this.Bfa.uPd;a.WDo=b;a.Uqf=b}onDragEnd(a){a.yDd=void 0;const b=a.WDo;a=a.Dol;const c=__c.Zb()?.height??window.innerHeight,d=Math.round(b/c*100),e=Math.round(this.Bfa.uPd/c*100);a?.ob().wk(({Oi:f})=>
sHs(this.N,{Ffl:d,XVj:e,sYk:this.Bfa.V3g,Tb:f()}));a?.qe()}pe(a,b){var c=a.yDd;if(c!=null){c-=b.clientY;var d=c+a.Uqf;c!==0&&this.Bfa.Xto(d);a.yDd=b.clientY;a.Uqf=d}}constructor(a,b,c){this.Bfa=a;this.N=b;this.V=c}};var gJs=parseInt("12px",10)||12;var i6s=Lj(0,0,parseInt("128px",10)||128,parseInt("72px",10)||72),j6s=new pj(0,0),oJs=hV(({store:a})=>{const b=lV(null);kV(()=>gV(()=>a.VKm,c=>{const d=b.current;d&&(c?(d.style.transform=`translate(${c.x}px, ${c.y}px)`,d.style.opacity="1"):d.style.opacity="0")},{scheduler:requestAnimationFrame}),[a]);return fV("div",{ref:b,className:"_FVm1g",children:a.xY&&fV(k6s,{page:a.xY.page,elements:a.xY.elements,bfg:a.Q3l,Ytc:a.Ytc})})}),k6s=hV(({page:a,elements:b,bfg:c,Ytc:d})=>fV("div",{className:"Qko23w",
children:b.slice(0,3).map((e,f)=>{const g=DV("vKg3MA",{_4Uxw3A:!d}),h=Lj(0,0,e.width,e.height).c3b(j6s,i6s);return fV("div",{className:g,style:d?void 0:{width:h.width,height:h.height},children:fV(c,{page:a,element:e,vd:h.width,Df:h.height})},f)})}));var nJs=hV(({item:a,onDragStart:b,$wq:c,kzq:d,children:e})=>{const f=lV(null),g=jV(()=>{d.FHl=n=>{if(f.current){const {left:p,top:q,width:r,height:t}=f.current.getBoundingClientRect();d.lEe={x:Math.max(0,Math.min(r,n.x-p)),y:Math.max(0,Math.min(t,n.y-q))}}return b()}},[d,b]),h=jV(n=>{g();c.onMouseDown(n)},[g,c]),k=jV(n=>{g();c.onTouchStart(n)},[g,c]),l=jV(n=>{if(Ic.wba||Ic.DCd)n.preventDefault(),n.stopPropagation()},[]);a=d.Emn(a);return mV("div",{ref:f,className:"UPkX6w",onMouseDown:h,onTouchStart:k,
onContextMenu:l,"data-role":a?"draggable-timeline-item":void 0,children:[fV("div",{className:DV("ztu6Iw",{_NaLug:a}),children:e}),fV("div",{className:DV("GvBgmw",{_NaLug:a})})]})});var mJs=class{zzh(a){a={x:a.clientX,y:a.clientY};this.store.B1=a;__c.LDe(this.$da,a)}constructor(a,b){this.store=a;this.$da=b;this.onDragStart=c=>{const d=m(this.store.FHl)({x:c.clientX,y:c.clientY});this.store.xY=d;this.$da.qPc=!0;NDe(this.$da);this.zzh(c);return d};this.pe=c=>{this.store.U4h=!0;this.zzh(c)};this.onDragEnd=()=>{this.$da.qPc=!1;kJs(this.store)};this.ux=c=>{this.zzh(c)}}};var lJs=class{static G(a){O(a,{B1:zV.struct,lEe:zV.struct,xY:zV.ref,U4h:zV.ref,Ytc:zV.ref,AVg:zV.ref,Q3l:oV,VKm:oV,isDragging:oV})}get Q3l(){return this.Ytc&&this.g4l?this.g4l:this.S9o}get VKm(){if(this.B1){var a=this.Ytc&&this.lEe||{x:0,y:0};return{x:this.B1.x-a.x,y:this.B1.y-a.y}}}get isDragging(){return this.xY?this.ui.get()?this.U4h:!0:!1}constructor(a,b){this.S9o=a;this.ui=b;this.FHl=(lJs.G(this),void 0);this.AVg=this.Ytc=this.U4h=!1;this.Emn=FV(c=>this.isDragging?c.type!==void 0?!!this.xY?.elements.includes(c):
!!this.xY?.fh.includes(c):!1)}};var BKs=class{static G(a){O(a,{vd:zV.ref,Df:zV.ref,R3e:oV,RW:oV,PCo:oV.struct,tvh:oV.struct,frameWidth:oV,r0m:oV({equals:ek(nV.shallow)}),fIn:oV,CWe:oV,MDo:oV})}static factory(a,b){return(c,d)=>new BKs(c,d,a,b)}update(a,b,c){var d=this.aTl,e=this.frameWidth,f=this.CWe;d.zla==null&&c==="start"&&(d.jql=a%e-e);c==="start"?d.ZSl=d.dQj-a:d.dQj=a;d.zla=c;d.CWe=f;d.frameWidth=e;this.vd=a;this.Df=b}get R3e(){return this.aTl.R3e}get RW(){return this.bMb.length>0&&this.vd>0&&this.Df>0}get PCo(){let a=0;return this.bMb.reduce((b,
c)=>{const d=c.url,e=c.xT,f=c.Pt;a+=c.vec;b.push({url:d,Pt:f,UL:e,CLp:a});return b},[])}get tvh(){const a=this.bMb.reduce((c,d)=>c+d.vec,0),b=this.bMb[0];return{Lft:a,mpt:b.BVc*1E6,...b}}get frameWidth(){const a=this.bMb[0];return Math.ceil(this.Df/a.X1a*a.Y1a)}get r0m(){const a=this.tvh.Y1a,b=this.tvh.X1a;let c=-1,d=0;return Array.from({length:this.fIn},(e,f)=>{const g=Math.floor(this.MDo+this.CWe*f);var h=this.PCo.find(n=>g<n.CLp);if(!h)return null;e=h.url;f=h.UL;h=h.Pt;const [k,l]=[g%f,Math.floor(g/
f)%h];g!==c?(c=g,d=0):d++;return{key:`${g}-${d}`,url:e,Pt:h,UL:f,iMc:l,hMc:k,Y1a:a,X1a:b}}).filter(sb)}get fIn(){return Math.ceil((this.vd-(this.R3e?this.R3e:0))/this.frameWidth)}get CWe(){const a=this.od.yik(this.H9)/1E6*this.WDa.get()/this.frameWidth;return this.tvh.Lft/a}get MDo(){return this.aTl.dJo+(this.H9.trim?.startUs?this.H9.trim.startUs/this.tvh.mpt:0)}constructor(a,b,c,d){this.H9=a;this.bMb=b;this.WDa=c;this.od=d;this.vd=(BKs.G(this),0);this.Df=0;this.aTl=new l6s}},l6s=class{static G(a){O(a,
{zla:zV.ref,dQj:zV.ref,ZSl:zV.ref,CWe:zV.ref,frameWidth:zV.ref,jql:zV.ref,R3e:oV,dJo:oV})}get R3e(){if(this.zla==="start")return this.jql}get dJo(){return this.zla!=="start"?0:Math.floor(this.ZSl/this.frameWidth)*this.CWe}constructor(){this.zla=(l6s.G(this),void 0);this.jql=this.frameWidth=this.CWe=this.ZSl=this.dQj=0}};var DJs=class{static G(a){O(a,{Nvk:oV,CRb:oV,startUs:oV,Nih:oV,rowIndex:oV})}get Nvk(){return!!this.CRb||!!this.Nih}get CRb(){const a=this.startUs;return a==null?0:a-this.Lks}get startUs(){var a=this.gWa.startUs;if(a!=null)return a=this.uRb.TEa(a,void 0),Math.max(a,this.gQa)}get Nih(){const a=this.rowIndex;return a==null?0:a-this.Kks}get rowIndex(){const a=this.gWa.rowIndex;if(a!=null)return Math.max(a,this.eTr)}constructor(a,b,c,d,e,f,g){this.gWa=a;this.uRb=b;this.Lks=c;this.Kks=d;this.durationUs=
e;this.gQa=f;this.eTr=g;DJs.G(this)}};var m6s=class{static G(a){O(a,{fue:zV.shallow,E2e:zV.shallow,items:oV})}get items(){if(!this.fue.size&&!this.E2e.size)return this.dFj.get();const a=this.dFj.get().filter(b=>!this.E2e.has(b));for(const [b,c]of this.fue)a.splice(c,0,b);return a}insertBefore(a,b){b=b?this.items.indexOf(b):-1;this.fue.set(a,b>=0?b:this.items.length)}remove(a){this.fue.has(a)?this.fue.delete(a):this.dFj.get().includes(a)&&this.E2e.add(a)}restore(a){this.E2e.has(a)&&this.E2e.delete(a)}reset(){this.fue.clear();this.E2e.clear()}constructor(a){this.dFj=
a;this.fue=(m6s.G(this),new Map);this.E2e=new Set}},xJs=class{static G(a){O(a,{cUk:zV.ref,jxc:zV.shallow,Sbh:zV.ref,yza:oV,iUi:oV({equals:ek(ek())}),veo:oV({equals:ek(ek())}),neh:oV({equals:nV.shallow}),S9k:oV({equals:ek()}),rows:oV({equals:ek(ek())}),items:oV,irn:oV({equals:nV.shallow}),Ygc:oV})}get yza(){return this.items.reduce((a,b)=>{b=this.lKg(b);return Math.max(a,b.endUs)},0)}get iUi(){return sJs(this,this.q$h.items)}get veo(){return this.iUi.map(a=>a.filter(b=>!this.jxc.has(b)))}get neh(){return new Map(this.iUi.flatMap((a,
b)=>a.map((c,d)=>[c,[b,d]])))}get S9k(){return Array.from(this.jxc.entries()).filter(([a])=>this.neh.has(a)).sort((a,b)=>{const [c,d]=m(this.neh.get(a[0])),[e,f]=m(this.neh.get(b[0]));return c===e?d-f:c-e})}get rows(){if(!this.S9k.length)return this.iUi;const a=this.veo.map(d=>d.slice()),b=new Map;var c=(d,e)=>{let f=b.get(d);f||(f=[],b.set(d,f));f.push(e)};for(const [d,e]of this.S9k){const f=this.lKg(d),[g]=m(this.neh.get(d)),{rowIndex:h,Dfe:k,YKd:l}=wJs(f,g+e.fUi,a,this.Sbh,this.lKg);l?c(h,d):a[h].splice(k,
0,d)}c=Array.from(b.entries()).sort((d,e)=>e[0]-d[0]);for(const [d,e]of c)a.splice(d,0,...sJs(this,e));return sJs(this,a.flat(),this.lKg)}get items(){return this.rows.flat()}get irn(){return new Map(this.rows.flatMap((a,b)=>{const c=b>=this.rows.length;return a.map((d,e)=>[d,{rowIndex:b,Dfe:e,mwu:c,lwu:e>=a.length}])}))}get Ygc(){return Math.max(this.cUk,this.rows.length)}Ml(a,b){this.q$h.insertBefore(a,b)}removeItem(a){this.q$h.remove(a);this.jxc.has(a)&&this.jxc.delete(a)}reset(){this.q$h.reset();
this.jxc.clear();this.cUk=1;this.Sbh="below"}constructor(a,b){this.o_q=b;this.cUk=(xJs.G(this),1);this.jxc=new Map;this.Sbh="above";this.lKg=FV(c=>{var d=this.jxc.get(c);if(!d?.CRb)return c.timing;d=Math.max(0,c.timing.startUs+d.CRb);return{startUs:d,endUs:d+c.timing.durationUs,durationUs:c.timing.durationUs}});this.d5d=FV(c=>{const d=this.irn.get(c);if(d)return c=this.lKg(c),{startUs:c.startUs,endUs:c.endUs,rowIndex:d.rowIndex,Dfe:d.Dfe}});this.ZAf=FV(c=>{const d=this.items.find(e=>e.element===c);
return d&&this.d5d(d)});this.q$h=new m6s(a)}},rJs=(a,b=c=>c.timing)=>{if(!a.length)return[];let c=[];const d=[[]];for(const e of a)a=b(e),uJs(a,c)&&(c=[],d.push([])),d[d.length-1].push(e),c.push(a);return d},qJs=(a,b=c=>c.timing)=>{if(!a.length)return[];const c=[[]];let d;for(const e of a)a=d?b(d).endUs:0,b(e).startUs>=a?c[c.length-1].push(e):c.push([e]),d=e;return c};var EJs=class{static G(a){O(a,{FGn:oV,positions:oV,ueo:oV({equals:ek(ek())}),nYh:oV})}get FGn(){return this.nYh?.YKd?[this.nYh.rowIndex]:[]}get positions(){const a=this.nYh;return a?(a.YKd?[]:[{startUs:a.startUs,durationUs:a.durationUs,rowIndex:a.rowIndex}]).concat(this.$go.map(({CRb:b,Nih:c,durationUs:d})=>({startUs:a.startUs+b,durationUs:d,rowIndex:a.rowIndex+c}))):[]}get ueo(){return this.tEb.rows.map(a=>a.filter(b=>b!==this.Hrg&&!this.vOs.includes(b)))}get nYh(){const a=this.G9d.startUs,b=this.G9d.rowIndex;
if(a!=null&&b!=null){var c=this.Hrg.timing.durationUs,{rowIndex:d,YKd:e}=wJs({startUs:a,durationUs:c,endUs:a+c},b,this.ueo,this.tEb.Sbh);return{startUs:a,durationUs:c,rowIndex:d,YKd:e}}}constructor(a,b,c,d){this.tEb=a;this.G9d=b;this.Hrg=c;this.vOs=d;this.$go=(EJs.G(this),void 0);const e=m(a.d5d(c)).rowIndex;this.$go=d.map(f=>{const g=m(a.d5d(f));return{CRb:f.timing.startUs-c.timing.startUs,Nih:g.rowIndex-e,durationUs:f.timing.durationUs}})}};var WJs=class{constructor(a,b,c,d,e){this.page=a;this.od=b;this.gWa=c;this.uRb=d;this.tqf=e}};var n6s=hV(({ZIa:a,l3:b})=>{const c=lV(null);kV(()=>{const d=c.current;if(d)return gV(()=>({x:a.hRd(b.startUs),y:eKs(a,b.rowIndex)}),e=>{d.style.transform=e?`translate(${e.x}px, ${e.y}px)`:""},{fireImmediately:!0,scheduler:requestAnimationFrame})});return fV("div",{ref:c,className:"CGPqmw",style:{width:a.hRd(b.durationUs)}})}),o6s=hV(({ZIa:a,rowIndex:b})=>{const c=lV(null);kV(()=>{const d=c.current;if(d)return gV(()=>eKs(a,b),e=>{d.style.transform=`translateY(${e}px)`},{fireImmediately:!0,scheduler:requestAnimationFrame})},
[a,b]);return fV("div",{ref:c,className:"_4X5sgA"})}),YJs=hV(({store:a,ZIa:b})=>a.pEe?mV(uV,{children:[a.pEe.rfn.positions.map((c,d)=>fV(n6s,{ZIa:b,l3:c},d)),a.pEe.rfn.FGn.map((c,d)=>fV(o6s,{ZIa:b,rowIndex:c},d))]}):null);var XJs=hV(({connectDropTarget:a,W$a:b,children:c})=>{const d=jV(e=>{b.Nyg=e??void 0},[b]);return a(fV("div",{ref:d,className:DV("_6RM6zQ",{XP7C2w:b.ZWb}),children:c}))});var TJs=class{static G(a){O(a,{cAc:zV.struct,lXc:zV.ref,meh:zV.struct,juf:zV.ref,x:oV,y:oV,startUs:oV,rowIndex:oV,keo:oV,Kql:oV,nJd:oV,Uvd:oV,EQb:oV})}get x(){if(this.nJd){var {x:a}=this.nJd;this.juf&&(a-=this.juf);return Math.max(0,a)}}get y(){if(this.nJd)return this.nJd.y}get startUs(){if(this.x!=null)return this.ZIa.ddl(this.x)}get rowIndex(){if(this.y!=null)return Math.max(0,Math.max(0,this.tEb.Ygc-1)-Math.floor(Math.max(0,this.y/this.ZIa.rowHeight)))}get keo(){if(this.Kql!=null)return this.Kql<
.5?0:1}get Kql(){if(this.y!=null)return Math.min(1,Math.max(0,Math.max(0,this.y/this.ZIa.rowHeight)-Math.floor(Math.max(0,this.y/this.ZIa.rowHeight))))}get nJd(){if(this.meh&&this.Uvd)return{x:this.meh.x-this.Uvd.x,y:this.meh.y-this.Uvd.y}}get Uvd(){if(this.lXc)return{x:this.lXc.left-this.EQb.left,y:this.lXc.top-this.EQb.top}}get EQb(){return this.cAc?{top:this.o9.scrollTop-this.cAc.top,left:this.o9.scrollLeft-this.cAc.left}:{top:0,left:0}}qpg(){this.lXc=this.cAc=this.meh=void 0;this.juf=0}constructor(a,
b,c){this.o9=a;this.ZIa=b;this.tEb=c;this.cAc=(TJs.G(this),void 0);this.juf=0}};var VJs=class{static G(a){O(a,{onDragOver:iV.bound,onDragLeave:iV.bound})}ZWb(){this.W$a.ZWb=!0}j0j(){this.Pia.Ytc=!1;this.W$a.qpg();this.W$a.ZWb=!1}onDragOver(a){this.W$a.gWa.meh={x:a.Uy.x,y:a.Uy.y};a.start?this.W$a.gWa.juf=a.start.VEa.x:this.Pia.lEe&&(this.W$a.gWa.juf=this.Pia.lEe.x);if(a=this.W$a.pEe)a.tEb.Sbh=this.W$a.gWa.keo===0?"above":"below"}onDragLeave(){this.Pia.Ytc=!1;this.W$a.qpg()}async onDrop(a){this.uRb.onDragEnd();const b=a.tEb;for(const c of a.items)tJs(b,c,{CRb:a.G9d.CRb,fUi:a.G9d.Nih});
switch(a.type){case 0:KJs(this,a);break;case 1:LJs(this,a);break;case 2:MJs(this,a);break;case 3:await NJs(this,a);break;default:throw new u(a);}rV(()=>{this.Pia.xY?.elements.length&&this.vg.Jl(this.Pia.xY.page,...this.Pia.xY.elements);this.W$a.qpg()})}constructor(a,b,c,d,e,f,g,h,k,l,n){this.page=a;this.hb=b;this.qc=c;this.kb=d;this.vg=e;this.o9=f;this.W$a=g;this.mJm=h;this.uRb=k;this.Pia=l;this.h6c=n;this.onDragEnter=(VJs.G(this),async p=>{const q=this.W$a.Nyg;if(GJs(this,p)&&q){var r=await OJs(this,
p);rV(()=>{this.W$a.pEe=r;this.W$a.gWa.cAc={top:this.o9.scrollTop,left:this.o9.scrollLeft};const {top:t,left:v}=q.getBoundingClientRect();this.W$a.gWa.lXc={top:t,left:v};this.Pia.Ytc=!0})}})}};var UJs=class{static G(a){O(a,{ZWb:zV.ref,pEe:zV.ref})}qpg(){this.gWa.qpg();this.pEe=void 0}constructor(a){this.gWa=a;this.Nyg=(UJs.G(this),void 0);this.ZWb=!1}};var QJs=parseInt("28px",10)||28;var ZJs="timelineItems searchMedia video searchShape line table chart grid textParagraph".split(" ");var p6s=hV(({element:a,L:b,q6f:c})=>{const d=jV(e=>{c();e.stopPropagation()},[c]);return fV(__c.OWg,{tone:"primary",className:DV("AuGWSA",{XPeZdg:b.SEk(a)}),onClick:d,children:fV(__c.jUh,{size:"small"})})});var q6s=rTs(({children:a},b)=>fV("div",{className:DV("gGmdtw","Eu3fXQ"),ref:b,children:a}));var r6s,s6s,t6s,u6s=parseInt("96px",10)||96,v6s=(parseInt("2px",10)||2)+(parseInt("1px",10)||1),w6s=parseInt("8px",10)||8,y6s=hV(function(a){const b=a.element,c=a.page,d=a.LU,e=a.timing,f=a.parent,g=a.store,h=a.kcf,k=a.L,l=a.pT,n=a.jfg;var p=a.bko;const q=c.ia,r=lV(null);var t=g.Lm;const v=g.NCa===b,w=t.includes(b)||!!f&&t.includes(f);var x=w&&(t.length>1||!!f&&g.NCa===f);t=jV(K=>{K.stopPropagation();rV(()=>{const L=cKs(k,q,(b.startUs||0)+(f?.startUs||0));dKs(k,q,K.clientX-(r.current?.iEr||0)+L);
v||k.Hg(q,b,f)})},[k,b,f,v,q]);const y=jV(()=>{l.B1a({element:b,page:q})},[b,l,q]),z=jV(()=>{l.DJb({element:b,page:q})},[b,l,q]),B=jV((K,L,N)=>{const P=Math.floor(K.endUs-K.startUs);L=Math.floor(L.endUs-L.startUs);h.gqa(K,N,b,f,q,d);JJs(h,[b],P,L)},[h,b,f,q,d]),C=p.endUs-p.startUs,G=!(x||!f||!b),H=!!(x||(f?v:w));p=jV(()=>{G?(IJs(h,[b],f,h.Rje,q,d),JJs(h,[b],e.durationUs)):(IJs(h,g.Lm,void 0,h.Rje,q,d),JJs(h,g.Lm,C))},[G,h,e,b,f,q,d,C,g]);x=jV(()=>{H||k.Hg(c.ia,b,f);h.Ika("fullWidth");if(G)return{page:c,
parent:f,elements:[b],fh:[]};const K=[b,...g.Lm.filter(L=>L!==b)];return{page:c,elements:K,fh:[]}},[c,b,f,g,H,G,k,h]);return fV(x6s,{...a,ref:r,BMq:k.e0s(b,f),onClick:t,onMouseEnter:y,onMouseLeave:z,focused:v,selected:w,Icon:n,g2f:H,gqa:B,a$r:p,onDragStart:x})}),x6s;
new (r6s=class extends JV{constructor(){super(x6s);s6s()}},(()=>{class a extends(t6s=IV){static G(b){O(b,{ISa:zV.shallow,LUd:zV.ref,kUf:zV.ref,Kbh:zV.ref,isDragging:oV,hee:oV,trim:oV,j$k:oV,fEn:oV,kRk:oV,eEn:oV,NAn:oV,Zsb:iV.bound,$sb:iV.bound,onMouseEnter:iV.bound,onMouseLeave:iV.bound,moa:oV.struct,Aac:oV,Jqh:oV,pyd:oV,width:oV,left:oV,transform:oV,w1i:oV,q6f:iV.bound,ezo:oV,onContextMenu:iV,nzo:oV,disabled:oV,hidden:oV,QMm:oV,content:oV})}get Yu(){return this.props.store.Yu}get isDragging(){return!!this.props.Pia.isDragging}get hee(){return{startUs:this.props.timing.startUs,
endUs:this.props.timing.endUs}}get trim(){if(this.ISa)return this.ISa;const b=this.hee,c=this.props.g2f?this.props.kcf.Rje:0;return{startUs:b.startUs+c,endUs:b.endUs+c}}seek(b){this.props.L.Ryc(this.props.page.ia,this.props.cZn+b)}get j$k(){const b=this.props.focused;return this.props.parent&&b?this.hee:this.props.bko}get fEn(){if(this.LUd==="fullWidth")return this.hee.startUs-this.j$k.startUs}get kRk(){const b=this.props.LU;if(this.Yu){const c=this.props.L.Ohi(this.props.element);if(c)return c+this.hee.startUs}return this.LUd!==
"fullWidth"?b:b-(this.j$k.endUs-this.hee.endUs)}get eEn(){if(this.Yu){const b=this.props.L.Ohi(this.props.element);if(b)return this.hee.endUs-b}return 0}get NAn(){return this.kRk-(this.trim.endUs-this.trim.startUs)}Zsb(){this.kUf=!0}$sb(){this.kUf=!1}onMouseEnter(){this.props.ui.get()||(this.Kbh=!0,this.props.onMouseEnter())}onMouseLeave(){this.props.ui.get()||(this.Kbh=!1,this.props.onMouseLeave())}get moa(){const b=this.props.focused,c=this.props.Dx,d=this.props.selected;return this.props.wba?{type:"touch",
isVisible:b}:{type:"pointer",PTa:this.Jqh?"outside":"inside",isVisible:(this.Jqh||this.pyd&&(!!this.ISa||this.kUf))&&!c.uK,$Eg:!this.pyd,UAh:!0,...(this.Jqh?{}:{vEf:this.props.g2f?v6s:0,ucj:this.props.g2f?v6s:0,borderRadius:w6s-(b||d?v6s:0)})}}get Aac(){const b=this.props.Dx;return{show:!(this.ISa&&this.LUd!=="fullWidth")&&this.Jqh&&!b.uK,appearance:this.props.wba?"light":"dark"}}get Jqh(){this.ISa||(this.Kqh=this.props.g2f&&!this.pyd);return this.Kqh}get pyd(){return this.width>=50}get width(){return cKs(this.props.L,
this.props.page.ia,this.trim.endUs,{ujc:!0})-this.left}get left(){return cKs(this.props.L,this.props.page.ia,this.trim.startUs)}get transform(){var b=this.props.L;var c=this.props.element;b=(c=b.TMc(this.props.page.ia).ZAf(c))?eKs(b.ZIa,c.rowIndex):void 0;if(b!=null&&!this.hidden)return`translate(${this.left}px, ${b}px)`}get w1i(){const b=this.props.focused;return this.props.BMq&&this.width>40&&!this.kUf&&!this.isDragging&&(b||this.Kbh)}q6f(){this.props.L.q6f(this.props.page.ia,this.props.element,
this.props.parent)}get ezo(){return this.width>70||!this.w1i}get nzo(){const b=this.props.focused,c=this.props.ui,d=this.props.Kh,e=this.width,f=this.kUf,g=this.ISa,h=this.isDragging,k=this.w1i,l=this.Kbh||!Wb();return b&&l&&!c.get()&&e>u6s&&(!f||d.Ir)&&!g&&!h&&!k}get disabled(){const b=this.props.focused,c=this.props.wba;return this.props.Dx.uK||c&&!b?!0:this.props.L.tvr(this.props.element,this.props.page.ia)}get hidden(){var b=this.props.element;return!this.props.L.TMc(this.props.page.ia).ZAf(b)}get iEr(){return this.ref.current?.getBoundingClientRect().left||
0}get QMm(){return this.trim.endUs-this.trim.startUs}get content(){const b=this.props.focused;return fV(RJs,{element:this.props.element,page:this.props.page.ia,Icon:this.props.Icon,isActive:this.props.selected||b,Yu:this.Yu,Vad:this.Vad,Dln:!this.props.ui.get()&&this.props.g2f,Rmn:this.ezo,Vwo:this.moa.isVisible,LUd:this.LUd,width:this.width,trim:this.trim})}render(){const b=this.props.L,c=this.props.qp,d=this.props.onClick,e=this.props.element,f=this.props.focused,g=this.props.ui,h=this.props.YCc,
k=this.props.Kh.Tkc;return mV("div",{ref:this.ref,className:DV("VzBqkA",{HkpnnQ:this.hidden}),style:{width:this.width,transform:this.transform,zIndex:f&&!this.isDragging?1:void 0},onClick:d,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onContextMenu:this.onContextMenu,children:[fV(h,{item:e,onDragStart:this.props.onDragStart,children:fV(QLs,{qp:c,I0b:this.trim.startUs,durationUs:this.QMm,gib:this.gib,gQa:this.eEn,D1g:this.fEn,X_g:this.Yu?void 0:this.NAn,yza:this.kRk,Eae:1E5,LU:this.props.LU,
Ika:this.Ika,VDa:this.VDa,fIa:this.fIa,ycb:this.Yu?void 0:this.ycb,gqa:this.gqa,Zsb:this.Zsb,$sb:this.$sb,captureEvents:!0,disabled:this.disabled,To:g.get(),Aac:this.Aac,moa:this.moa,zQd:b.uRb,children:this.content})}),this.nzo&&k&&fV(q6s,{children:fV(k,{visibility:"always",Nh:this.onContextMenu,ariaLabel:M("kUnZoQ")})}),this.w1i&&fV(q6s,{children:fV(p6s,{element:e,L:b,q6f:this.q6f})})]})}constructor(...b){super(...b);this.ref=(x6s.G(this),pV());this.Kqh=this.Kbh=this.kUf=!1;this.Vad=this.props.L.Vad;
this.gib=(c,d,e)=>{const f=this.props.L,g=this.props.page.ia,h=this.props.cZn,k=this.props.Dns;c=cKs(f,g,c,{ujc:e==="end"})-k+d;return f.Dx.gMg(c,{Hfh:g,Txb:f.Smn})-h};this.Ika=c=>{this.ISa=this.trim;const d=this.props.element,e=this.props.parent,f=this.props.L,g=this.props.kcf,h=this.props.page.ia;var k=this.props.g2f;this.LUd=c.type;k=!k;g.Ika(c.type);f.Ika(k,h,d,e)};this.VDa=c=>{if(this.Yu){const d=this.props.L.Ohi(this.props.element);if(d&&c+d<this.trim.endUs)return}this.props.kcf.VDa(this.trim,
c);this.seek(c)};this.fIa=c=>{if(this.Yu){const d=this.props.L.Ohi(this.props.element);if(d&&c>this.trim.startUs+d)return}this.props.kcf.fIa(this.trim,c);this.seek(c-1)};this.ycb=c=>{const d=this.trim;var e=this.props.kcf,f=c-d.startUs;d.startUs+=f;d.endUs+=f;e.Rje+=f;this.seek(c)};this.gqa=c=>{const d=this.props.element,e=this.props.L,f=this.props.a$r,g=this.props.gqa,h=this.props.kcf;this.props.store.b3m(this.props.page.ia).includes(d)&&(c=c.type,c==="fullWidth"?h.Rje&&f():g(this.trim,this.hee,
c));this.LUd=this.ISa=void 0;e.gqa()};this.onContextMenu=c=>{c.preventDefault();c.stopPropagation();if(!Ic.wba&&!Ic.DCd){var d=this.props.Kh,e=this.props.L,f=this.props.element,g=this.props.parent,h=this.props.page;this.props.selected||e.Hg(h.ia,f,g);d.VOb(__c.qj({x:c.clientX??0,y:c.clientY??0}),"element_timeline","right_click","bottom-start")}}}}({c:[x6s,s6s]}=KV(a,[],[Lb],t6s))})(),r6s);var z6s=(a,b,c,d,e,f)=>{const g=lV(void 0),h=lV(!1);return jV(k=>{if(k){var l=f.get()?e:k;g.current=Sus(()=>{const n=h.current;if(h.current=a.open){var p=[];!n&&a.NCa&&p.push(()=>l.scrollTo({top:l.scrollTop+c.scrollHeight,behavior:"instant"}));a.NCa&&a.Qya&&d(a.Qya).ZAf(a.NCa)&&p.push(()=>{var q=a.Qya,r=a.NCa;if(q&&r){var {top:t,rowHeight:v}=b.ZAf(q,r);q=t+v;r=l.scrollTop;var w=l.clientHeight;t<r?l.scrollTo({top:t-b.qVc,behavior:"smooth"}):q>r+w&&l.scrollTo({top:q-w,behavior:"smooth"})}});p.length&&
requestAnimationFrame(()=>p.forEach(q=>q()))}else n&&l.scrollTop<c.scrollHeight&&l.scrollTo({top:0,behavior:"instant"})})}else g.current?.(),g.current=null},[a,b,c.scrollHeight,d,h,e,f])};var A6s=parseInt("32px",10)||36,B6s=hV(({tEb:a,ZIa:b})=>rc(a.Ygc).map((c,d)=>fV("div",{role:"none",className:"PWKo6g",style:{top:eKs(b,d)}},d))),C6s=0,D6s=new WeakMap,E6s=hV(function(a){const b=lV(null),c=a.store,d=a.ZIa;var e=a.TMc;const f=a.page.ia,g=a.Mjj,h=c.Qya===f;e=e(f);const k=c.Yu;kV(()=>{const l=b.current;if(l&&k)return gV(()=>d.scrollWidth(f),n=>{l.style.minWidth=`${n}px`},{fireImmediately:!0})},[k,f,d]);return mV("div",{ref:b,className:DV("TtlcSA",{_2lZCug:k}),style:{zIndex:h?1:void 0,
height:d.scrollHeight},children:[k?fV(B6s,{tEb:e,ZIa:d}):void 0,c.J4j(f).map(l=>{var n=l.element;let p=D6s.get(n);p==null&&(p=C6s++,D6s.set(n,p));return fV(y6s,{...a,...l},p)}),k&&g&&fV(g,{page:f})]})}),F6s=hV(function(a){const b=a.document,c=a.viewport,d=a.store,e=a.ZIa;var f=a.Bfa,g=a.TMc;const h=a.L,k=a.Dx,l=a.Bpe,n=a.l0j,p=a.qp,q=n.get(),r=jV(v=>{Math.abs(v.deltaX)<Math.abs(v.deltaY)&&v.stopPropagation()},[]);f=z6s(d,f,e,g,p,n);const t=zf(b);g=cHs(()=>{const v=c.Vg;if(d.Yu&&IHs(k,v.ia))return[v.ia];
let w=-1;return b.pages.filter(x=>{w++;return IHs(k,x)&&l.gba<=w&&w<=l.Aba})}).map(v=>{var w=t.xb(v);const x=h.VNr(w.ia),y=__c.pfe(d.Lm,x),z=k.aza(w.ia);return qTs(E6s,{...a,page:w,cZn:z.uZk,Dns:z.iJn,LU:x,bko:y,wba:!Ic.E$,key:`${d.Yu?"v2":"v1"}-${v.id}`})});return fV("div",{ref:f,className:DV("nXWFCA",{o9_1eQ:!q}),onWheel:q?void 0:r,style:{maxHeight:q?void 0:e.FJc,paddingLeft:A6s,marginLeft:-A6s,zIndex:1},children:g})}),aKs=hV(function(a){return a.store.open?fV(__c.qC,{On:a.On,itemSizes:a.Dx.Drl,
children:b=>b?fV(F6s,{...a,Bpe:b}):null}):null});var AKs=class{get Smn(){return!this.store.Yu}get Vad(){return this.Dx.IKc}Ryc(a,b){a.draft||this.nd.seek(b/1E6)}Ika(a,b,c,d){this.nd.stop();this.Nng=this.nd.configure({Bj:[c,d].filter(sb)});this.nd.L6e();this.nd.I3i({dNm:!0});a&&this.Hg(b,c,d)}gqa(){this.nd.stop();this.nd.j9h();this.Nng&&(this.Nng(),this.Nng=void 0,this.nd.j3e())}Hg(a,b,c){this.nd.stop();const d=this.T4b.get(),e=d==="single"||this.selection.Ma?.type!=="elements"||this.selection.Ma?.isEmpty||this.selection.Ma?.container.page!==a,f=
zf(this.document).xb(a);if(e)c?(f.Me(c),this.selection.Jl(f.Me(c),b)):this.selection.Jl(f,b);else if(d==="command"||d==="shift")b=c||b,this.selection.oc(a,b)?this.selection.kcd(a,b):this.selection.Dhd(f,b)}q6f(a,b,c){const d=this.V.wb("toggle_expanded_elements"),e=this.store;if(c=c??(b.type==="group"?b:void 0))e.G2d.delete(c)||e.G2d.add(c),this.Hg(a,c);const f=c===b?"expand":"collapse";d.qe({tx:({Oi:g})=>this.P.track(mKs,{action:f,Tb:g()})})}constructor(a,b,c,d,e,f,g,h,k,l,n,p,q,r,t){this.document=
a;this.store=b;this.od=c;this.nd=d;this.Dx=e;this.FLa=f;this.selection=g;this.ZIa=h;this.TMc=k;this.T4b=l;this.Pa=n;this.P=p;this.uRb=q;this.V=r;this.ui=t;this.VNr=v=>this.store.Yu?Infinity:this.od.xb(v);this.tvr=LV((v,w)=>{const x=this.Pa;w=zf(this.document).xb(w);return x.mode<40||this.FLa.Tr({element:v,container:w})});this.Ohi=v=>{v=om.JO(v);if(v.length===1)return this.od.yik(v[0])};this.SEk=v=>v.type!=="group";this.e0s=LV((v,w)=>v.type==="group"||!!w)}};var G6s=parseInt("32px",10)||32,zKs=class{static G(a){O(a,{fRk:oV,FJc:oV,scrollHeight:oV})}get rowHeight(){return G6s}get fRk(){if(this.G4j.Yu){const a=this.viewport.Vg;return a.type!=="fixed-page"?0:this.TMc(a.ia).Ygc}return this.Ja.pages.reduce((a,b)=>{if(b.type!=="fixed")return a;b=this.TMc(b);return Math.max(a,b.Ygc)},0)}get XNr(){return this.l0j.get()?Infinity:(this.ui.get()?2.5:4.5)*this.rowHeight}get FJc(){return this.G4j.open?Math.min(this.XNr,this.scrollHeight):0}get scrollHeight(){return Math.max(this.fRk,
this.G4j.Yu?1:0)*this.rowHeight}hRd(a){return a/1E6*this.oXa.WDa}ddl(a){return a/this.oXa.WDa*1E6}constructor(a,b,c,d,e,f,g){this.viewport=a;this.Ja=b;this.G4j=c;this.oXa=d;this.TMc=e;this.ui=f;this.l0j=g;this.scrollWidth=(zKs.G(this),FV(h=>{h=this.TMc(h);return this.hRd(h.yza)}))}};var xKs=class{static G(a){O(a,{_open:zV.ref,G2d:zV.shallow,Yuf:zV.ref,Qya:zV.ref,NCa:oV,Lm:oV({equals:nV.shallow}),O4j:oV,fqh:oV,open:oV,YJm:oV})}get Yu(){return this.Lk.Yu}get NCa(){if(this.selection.Ma){var a=this.selection.Ma.inner,b=this.selection.Ma.Hg;return a?.type!=="group"||a.group.type!=="group"||this.G2d.has(a.group)?b:a.group}}get Lm(){return this.selection.Ma?.elements??[]}get O4j(){return this.Qya&&this.Qya.type==="fixed"?this.b3m(this.Qya):[]}get fqh(){return!!this.Qya&&this.selection.Ma?.type===
"elements"&&this.selection.Ma.inner?.type!=="sheet-cell-media"&&!this.Fqn(this.Qya)&&this.O4j.length>0&&!this.Yu}get open(){if(this.Yu)return!0;const a=this.Dx.isLinear||!this.J8d.get();return this._open&&this.YJm&&a}get YJm(){return this.document.pages.some(a=>a.type==="fixed"&&!!this.V5h(a).length)}constructor(a,b,c,d,e,f,g,h,k){this.document=a;this.J8d=b;this.ui=c;this.od=d;this.selection=e;this.Dx=f;this.hb=g;this.Lk=h;this.M$r=k;this._open=(xKs.G(this),!1);this.G2d=new Set;this.$nl=()=>{this.Yuf=
this.Qya=void 0;this.G2d.clear()};this.XBq=FV(l=>{const n=this.Yuf;if(l===this.Qya&&n)return l.elements.filter(r=>n.has(r));const p=l.elements.filter(r=>r.zm==null);if(this.Yu)return p;const q=this.od.xb(l);return p.filter(r=>iKs({element:r},q))});this.V5h=FV(l=>{switch(l.type){case "fixed":if(this.Fqn(l))return[];break;case "concatenated-fixed":case "responsive":return[];default:throw new u(l);}return this.XBq(l).flatMap(n=>n.type==="group"&&n.Gd==null&&this.G2d.has(n)?n.pb.map(p=>({element:p,parent:n})):
[{element:n}])});this.b3m=FV(l=>this.V5h(l).map(n=>n.element));this.J4j=FV(l=>{const n=this.od.xb(l),p=this.V5h(l);switch(l.type){case "fixed":return p.map(({element:q,parent:r})=>{const {startUs:t,durationUs:v}=eXa(q,l,n,r);return{timing:{startUs:t,durationUs:v,endUs:t+v},parent:r,element:q}});case "concatenated-fixed":case "responsive":return[];default:throw new u(l);}});LV((l,n)=>this.J4j(l).find(p=>p.element===n));this.Fqn=FV(l=>{l=this.hb.kl(l);return!!ug(l)});gV(()=>{const l=e.Ma;if(!l)return{};
const n=l.Rz;if(!n)return{};switch(n.type){case "responsive-page":case "concatenated-fixed-page":return{};case "fixed-page":break;default:throw new u(n);}return{Fp:n.page,Lm:l.elements,FIf:this.Yu}},({Fp:l,Lm:n,FIf:p},q)=>{if(p)p!==q?.FIf&&this.$nl();else if(l==null&&n==null&&this.O4j.length===0)this.$nl();else if(n!=null||l!==this.Qya)if(!l)this.Yuf=new Set(n),this.Qya=void 0;else if(!n?.every(t=>this.Yuf?.has(t)))if(this.Qya=l,l.type!=="fixed")this.Yuf=new Set;else{var r=this.od.xb(l);l=l.elements.filter(t=>
(n?.includes(t)||iKs({element:t},r))&&t.zm==null);this.Yuf=new Set(l)}},{fireImmediately:!0});gss(()=>!f.GJ||this._open,()=>this._open=!0)}};var yKs=class{static G(a){O(a,{Rje:zV.ref})}Ika(a){this.Wk?.tO?.(new ap);const b=this.AQd?.isRecording()?this.AQd:this.V.wb("trim",{Hb:{name:"element_timing.trim",type:a,performance:{NU:!0}}});setTimeout(()=>b.addEvent("trim_start"));this.AQd=b}VDa(a,b){a.startUs=b}fIa(a,b){a.endUs=b}gqa(a,b,c,d,e,f){a=__c.qm(a,f);d&&(jKs(d,c,a,f),d.startUs&&(a.startUs=Math.max(a.startUs-d.startUs,0),a.endUs=Math.max(a.endUs-d.startUs,a.startUs)));d=c.durationUs||f-(c.startUs||0);const g=a.endUs-a.startUs;if(c.type===
"group")for(var h of c.pb){var k=Math.min(h.durationUs||Infinity,d-(h.startUs||0));const l=g-k;for(const n of om.JO(h))gJe({od:this.od,zRc:k,fill:n,e_d:l,direction:b,Kne:!1});h.startUs=void 0;h.durationUs=void 0}else{h=g-d;for(k of om.JO(c))gJe({od:this.od,zRc:d,fill:k,e_d:h,direction:b,Kne:!1})}c.startUs=a.startUs||void 0;__c.cJe(c,f,a);kKs(this,e,f)}constructor(a,b,c,d,e){this.nd=a;this.od=b;this.P=c;this.V=d;this.Wk=e;this.AQd=(yKs.G(this),void 0);this.Rje=0}};var uKs=hV(({url:a})=>fV("div",{className:"fk73VQ",style:{backgroundImage:`url(${a})`}}));var vKs=hV(function({fill:a,bMb:b,If:c,width:d,height:e,zla:f,Acj:g}){const h=AV(()=>hV(({foa:l})=>fV(__c.ZWh,{filter:c.Xya(a),M1:c.M1(a),foa:l})),[c,a]),k=AV(()=>g(a,b),[a,b,g]);kV(()=>{rV(()=>{k.update(d,e,f)})},[d,e,f,k]);return k.RW?fV("div",{className:"_6zdK6g",children:fV("div",{className:"SFFnlw",style:{right:k.R3e},children:fV(H6s,{Khf:h,x0q:k})})}):null}),H6s=hV(function({Khf:a,x0q:b}){const c=b.frameWidth;return b.r0m.map(({key:d,url:e,Pt:f,UL:g,iMc:h,hMc:k,Y1a:l,X1a:n})=>fV("div",{className:"Z3AqOw",
style:{width:c},children:fV(a,{foa:{url:e,Pt:f,UL:g,iMc:h,hMc:k,frameWidth:l,frameHeight:n}})},d))});var rKs=hV(({element:a,page:b,SF:c,Vad:d})=>{a=a.nT?c.Lzd(b,a):a.text.Ya;return fV(Q,{weight:"bold",className:DV("wdYnGg",{Jxa4Mw:d}),alignment:"center",children:a})}),sKs=LV(a=>a.pb.every(b=>b.type==="text")),tKs=parseInt("22px",10)||26;var JKs=hV(({Jjc:a,store:b,L:c,zvh:{height:d,top:e}})=>{const f=lV(null);kV(()=>c.init(),[c]);kV(()=>gV(()=>b.position,h=>{const k=f.current;k&&(k.style.transform=`translateX(${h}px)`)}),[f,b]);const g=jV(()=>{a&&f.current&&c.hide()},[a,c]);return fV("div",{ref:f,className:DV("PVPWdQ",{Q4Irjw:a,JE0jkg:b.hidden}),onTransitionEnd:g,children:fV("div",{className:"y8k_pA",style:{height:d.get()-e,top:e}})})});var I6s=parseInt("12px",10)||12,GKs=class{static G(a){O(a,{hidden:zV.ref,Jjc:zV.ref,position:zV.ref})}constructor(){this.hidden=(GKs.G(this),!1);this.Jjc=!1}},HKs=class{static G(a){O(a,{hide:iV.bound})}init(){return gV(()=>this.F4c.x,a=>{if(a==null)this.store.Jjc=!0,this.store.position=void 0;else{this.store.Jjc=!1;this.store.position=a;var b=this.currentTime.get();b=this.Dx.iLa(b*1E6);Math.abs(a-b)<=I6s?this.store.hidden=!0:(b=(b=this.F4c.currentNode)&&this.lAr(b),a=this.Lk.Yu?!0:!!this.Dx.vpk(a),
this.store.Jjc=!!b||!a,this.store.hidden=!a)}})}hide(){this.store.hidden=!0}constructor(a,b,c,d,e,f){this.store=a;this.Dx=b;this.F4c=c;this.currentTime=d;this.lAr=e;this.Lk=f;HKs.G(this)}};var J6s=__webpack_require__.p+"images/f95f17d681b98bd710922cc9a3554ed0.svg";var K6s,L6s,M6s,N6s,O6s,P6s,Q6s=parseInt("8px",10),R6s;
new (K6s=class extends JV{constructor(){super(R6s);M6s()}},(()=>{class a extends(N6s=IV){static G(b){O(b,{smb:oV,hEo:oV})}componentDidMount(){Gb(this,[gV(()=>({currentTime:this.props.currentTime.get(),yNh:this.props.yNh.get()}),()=>this.scrollTimeline(),{scheduler:requestAnimationFrame,equals:nV.structural})])}get smb(){const b=this.props.yNh;return this.props.Dx.iLa(this.props.currentTime.get()*1E6,{ujc:b.get()})}get hEo(){var b=this.props.zvh;const c=b.height;b=b.top;return{height:oV(()=>c.get()+
Q6s),top:b}}render(){const b=this.props.$Oj,c=this.props.AOo,d=this.props.hidden,e=this.hEo,f=this.props.zvh.height.get();return fV("div",{ref:b,className:DV("HktVqg",{_84KnnQ:c,JE0jkg:d}),style:{left:`${bc().width/2}px`,height:f},children:fV(S6s,{className:"_hDk6Q",...e})})}constructor(...b){super(...b);this.scrollTimeline=(R6s.G(this),()=>{this.props.scrolling||this.props.qp.scrollTo({left:this.smb,behavior:this.props.playing?void 0:"smooth"})})}}({c:[R6s,M6s]}=KV(a,[],[Lb],N6s))})(),K6s);var T6s;
new (L6s=class extends JV{constructor(){super(T6s);O6s()}},(()=>{class a extends(P6s=IV){static G(b){O(b,{WNf:zV.ref,MRe:zV.ref,smb:oV,nRe:oV,onDragStart:iV,onDrag:iV,onDragEnd:iV})}componentDidMount(){this.cld.current&&(this.Ucf=this.cld.current.Fmb);Gb(this,[gV(()=>({playing:this.props.playing,nRe:this.nRe}),Db((b,c)=>{!c?.playing&&b.playing?(this.asl=!0,b.nRe&&this.gsl()):this.asl&&b.playing&&b.nRe&&this.gsl()})),gV(()=>this.props.playing&&this.props.qp.scrollLeft,()=>this.asl=!this.nRe),Sus(()=>
{if(this.MRe){var b=qo(this.props.currentTime.get(),"detailed");rV(()=>{this.currentTime.set(b);this.Ucf()})}}),this.opg,this.oVh])}componentWillUnmount(){this.XKm?.()}get smb(){var b=this.props.Dx,c=this.props.yNh;if(this.WNf!=null)return this.WNf;c=b.iLa(this.props.currentTime.get()*1E6,{ujc:c.get(),Txb:this.props.Txb.get()});const d=b.NWg;b=b.vpk(c);return d&&!b?0:c}Ucf(){}rom(b){return this.props.Dx.gMg(this.m0d-b,{Txb:this.props.Txb.get()})/1E6}P_p(b){const c=this.props.Dx,d=this.m0d-b;if((b=
c.I5c.find(({width:e,offsetWidth:f})=>d<=f+e))&&!EV(c,b.page))return Math.min(Math.max(d,b.offsetWidth),c.tPd)}get nRe(){const b=this.props.qp.scrollLeft,c=this.props.Dx.pJo;return c==null?!1:this.smb<b||this.smb>b+c}render(){var b=this.props.zvh;const c=b.top;b=b.height;return mV("div",{ref:this.props.$Oj,className:DV("XxN1Zw",{JE0jkg:this.props.hidden,_84KnnQ:this.props.AOo}),style:{transform:`translateX(${this.smb}px)`},children:[fV("div",{className:"DkIUnw",children:fV(k3s,{isOpen:this.MRe,ref:this.cld,
children:this.currentTime})}),fV("div",{className:"aORW0w",onPointerDown:this.onDragStart,onClick:this.onClick,children:fV("img",{className:"tlvoag",src:J6s,alt:"",draggable:!1})}),fV(S6s,{top:c,height:b,className:"y8k_pA"})]})}constructor(...b){super(...b);this.overlay=(T6s.G(this),void 0);this.currentTime=zV.box("");this.cld=pV();this.ZKm=void 0;this.EQb=this.PBi=this.Yfo=this.m0d=0;this.WNf=void 0;this.MRe=!1;this.asl=!0;this.gsl=()=>{const c=this.props.qp,d=c.offsetWidth;d!=null&&c.scrollTo({left:this.smb-
(d-200)/2,behavior:"smooth"})};this.onDragStart=c=>{const d=this.props.onDragStart,e=this.props.qp;this.uSj();this.ZKm=c.clientX;this.m0d=this.smb;this.Yfo=e.scrollLeft;this.MRe=!0;d?.(c.nativeEvent);document.addEventListener("pointermove",this.onDrag);document.addEventListener("pointerup",this.onDragEnd);this.XKm=gV(()=>e.scrollLeft,this.yas)};this.uSj=()=>{this.overlay=document.createElement("div");this.overlay.className="cG5xBQ";document.body.appendChild(this.overlay)};this.oVh=()=>{this.overlay&&
document.body.removeChild(this.overlay);this.overlay=void 0};this.onClick=c=>{c.stopPropagation();c.nativeEvent.stopImmediatePropagation()};this.yas=()=>{this.EQb=this.Yfo-this.props.qp.scrollLeft;const c=this.rom(this.PBi+this.EQb);this.props.Ryc(c)};this.onDrag=c=>{this.PBi=(this.ZKm||c.clientX)-c.clientX;var d=this.PBi+this.EQb;const e=this.P_p(d);d=this.rom(d);this.props.onDrag&&this.props.onDrag(c);e?(this.WNf=e,this.MRe=!1):(this.WNf=void 0,this.props.Ryc(d),this.MRe=!0)};this.onDragEnd=()=>
{this.oVh();this.EQb=this.PBi=0;this.WNf=void 0;this.MRe=!1;this.props.onDragEnd?.();this.nRe&&this.gsl();this.opg()};this.opg=()=>{document.removeEventListener("pointermove",this.onDrag);document.removeEventListener("pointerup",this.onDragEnd);this.XKm?.()}}}({c:[T6s,O6s]}=KV(a,[],[Lb],P6s))})(),L6s);var S6s=hV(a=>fV("div",{className:a.className,style:{top:a.top,height:a.height.get()-a.top}})),U6s=y3s(T6s),FKs=a=>a.To?fV(R6s,{...a}):fV(U6s,{...a});var LKs=class{static G(a){O(a,{q$i:zV.ref,Qej:zV.ref,H7i:zV.ref,$uk:zV.ref,Yoo:iV.bound})}Yoo(a){this.$uk=a}constructor(a,b,c){this.Dx=a;this.fB=b;this.wD=c;this.q$i=(LKs.G(this),0);this.H7i=this.Qej=0;this.$uk=!1;this.ox=[gV(()=>this.Dx.uK,d=>{this.Qej>=2||d||this.Qej++}),gV(()=>this.Dx.ori,d=>{this.H7i>=2||d||this.H7i++}),gV(()=>this.fB.oRe,d=>{this.q$i>=2||d||this.q$i++}),gss(()=>{const d=this.q$i>=2||this.H7i>=2||this.Qej>=2;return this.$uk&&d},()=>{this.wD.bBo?.();this.ox?.forEach(d=>d());this.ox=
void 0})]}};var V6s=parseInt("2px",10)||4,W6s=GV(({offset:a})=>fV("div",{className:"iFVm7g",style:{left:a-V6s/2}})),X6s=GV(({offset:a,vZk:b})=>fV("div",{className:"iFVm7g",style:{left:a-V6s/2,width:b-a}})),Y6s=GV(({offset:a,label:b})=>fV("div",{className:"_8ONx2g",style:{left:a},children:fV(Q,{size:"small",tone:"tertiary",children:b})})),Z6s=hV(({store:a})=>a.yKm.map((b,c)=>fV(W6s,{...b},`dot-${c}`))),$6s=hV(({store:a})=>a.fJo.map((b,c)=>fV(Y6s,{...b},`time-${c}`))),a7s=hV(({store:a})=>a.Ytn.map((b,c)=>fV(X6s,
{...b},`line-${c}`))),PKs=hV(({store:a,jx:b,gL:c})=>fV("div",{className:"aPu08w",style:{paddingLeft:b.Cgb,marginLeft:-b.Cgb,paddingRight:c.ui?bc().width/2:void 0},children:mV("div",{className:"vYMgIg",children:[fV(Z6s,{store:a}),fV($6s,{store:a}),fV(a7s,{store:a})]})}));var b7s=[{LW:{from:0,to:.15},DRb:3E7,yPb:4},{LW:{from:.15,to:.2},DRb:3E7,yPb:3},{LW:{from:.2,to:.3},DRb:15E6,yPb:2},{LW:{from:.3,to:.35},DRb:15E6,yPb:3},{LW:{from:.35,to:.45},DRb:15E6,yPb:4},{LW:{from:.45,to:.55},DRb:1E7,yPb:3},{LW:{from:.55,to:.75},DRb:1E7,yPb:4},{LW:{from:.75,to:1.15},DRb:5E6,yPb:3},{LW:{from:1.15,to:1.45},DRb:5E6,yPb:4},{LW:{from:1.45,to:1.55},DRb:4E6,yPb:3},{LW:{from:1.55,to:1.85},DRb:4E6,yPb:4},{LW:{from:1.85,to:3.05},DRb:2E6,yPb:3},{LW:{from:3.05,to:3.75},DRb:2E6,yPb:4},{LW:{from:3.75,
to:5},DRb:1E6,yPb:3}],OKs=class{static G(a){O(a,{KRd:oV,Uih:oV,wfo:oV({equals:nV.shallow}),TSm:oV,yKk:oV,PUm:oV,jtl:oV.struct,AOl:oV.struct,marks:oV,Ytn:oV({equals:ek(nV.shallow)}),fJo:oV({equals:ek(nV.shallow)}),yKm:oV({equals:ek(nV.shallow)})})}get KRd(){return BV.wNq?this.jx.KRd:{start:-Infinity,end:Infinity}}get Uih(){const a=this.XH.LW;return b7s.find(({LW:b})=>b.from<=a&&a<b.to)||b7s.at(-1)}get wfo(){const a=[],b=this.KRd.start,c=this.KRd.end;for(let d=0;d<this.jx.i$b.length;d++){const e=this.jx.i$b[d];
if(!(e.offsetWidth+e.width<b)){if(e.offsetWidth>c)break;a.push(e)}}return a}get TSm(){const a=this.jx.i$b;for(let b=a.length-1;b>-1;b--){const {Ofa:c,durationUs:d,page:e}=a[b];if(EV(this.jx,e))return c+d}return 0}get yKk(){return m(this.jx.i$b.at(-1))}get PUm(){const a=this.cck.get()??0,b=this.Uih.DRb/(this.Uih.yPb+1);return Math.ceil(a/b)*b}get jtl(){var a=c=>c/this.jx.WDa*1E6;const b=a(this.yKk.offsetWidth+this.yKk.width);a=Math.max(a(this.qp.clientWidth-this.jx.Cgb-40)-b,a(this.jx.$hi),this.PUm-
b);return{Pgg:b,ydl:this.TSm,durationUs:a,hdj:!0}}get AOl(){const a=[],b=e=>e/this.jx.WDa*1E6,c=this.wfo.map(({page:e,offsetWidth:f,Ofa:g,durationUs:h})=>({Pgg:b(f),ydl:g,durationUs:h,hdj:EV(this.jx,e)})),d=b(this.KRd.end);this.jtl.Pgg<d&&c.push(this.jtl);c.forEach(e=>{const f=a.at(-1);f?f.hdj!==e.hdj?a.push(e):Math.abs(f.Pgg+f.durationUs-e.Pgg)<1E-4?f.durationUs+=e.durationUs:a.push(e):a.push(e)});return a}get marks(){const a=[],b=[],c=[],d=this.jx.WDa,e=this.KRd.start,f=this.KRd.end,g=this.Uih.DRb,
h=g/(this.Uih.yPb+1);var k=-(this.AOl[0]?.ydl??0)%h;for(const q of this.AOl){var l=q.Pgg,n=q.durationUs;const r=q.ydl;if(q.hdj){if(p){p.vZk=Math.min(p.vZk,l*d-10);var p=void 0}for(;k<n+1;k+=h){const t=Math.round((l+k)/1E6*d);if(t<e)continue;if(t>f)break;const v=(r+k)/1E6;Math.round(r+k)%g===0?a.push({type:"time",offset:t,second:v,label:qo(Math.round(v*100)/100,"shorter")}):b.push({type:"dot",offset:t,second:v})}k=h-(r+n)%h}else p=r/1E6,n=(l+n)/1E6,l=Math.max(l/1E6*d,(b.at(-1)?.offset??0)+10,(a.at(-1)?.offset??
0)+10),p={type:"line",second:p,offset:l,vZk:n*d},c.push(p)}return{line:c,time:a,dot:b}}get Ytn(){return this.marks.line}get fJo(){return this.marks.time}get yKm(){return this.marks.dot}constructor(a,b,c,d){this.jx=a;this.XH=b;this.qp=c;this.cck=d;OKs.G(this)}};var NKs=parseInt("24px",10)||24;var yNs=({gL:a,config:b,Vf:c,hR:d,Bbj:e=!0})=>{const f=b.mwe,g=c.mnb,h=()=>d.clear();c=hV(()=>fV(g,{navigation:d,open:!!d.screen,oa:h}));const k=(n,p)=>{d.$g({hf:()=>fV(p,{}),options:{sg:n}})},l=hV(({fill:n})=>{const [p,q]=qV({XQ:!1,NGk:!1,B7e:!1}),r=lV(void 0);kV(()=>()=>{r.current&&clearTimeout(r.current)},[]);const t=jV(()=>{r.current&&(clearTimeout(r.current),r.current=void 0);p.B7e||q(L=>({...L,XQ:!0}))},[p.B7e]),v=jV(()=>{r.current||p.B7e||(r.current=setTimeout(()=>{q(L=>({...L,XQ:!1}));r.current=
void 0},250))},[p.B7e]),w=jV(L=>{q(N=>L?{...N,NGk:!0,B7e:!0}:{...N,NGk:!1,B7e:!1,XQ:!1})},[]);var x=Vb();const y=x||p.XQ||p.B7e||p.NGk,z=[f.Ifg].filter(sb);var B=z.length>0;const C=b.Tpe;if(!B&&!C)return null;var G=n.transition.ref!=null;x=y&&B&&(!x||G);G=[];let H=null,K=!1;B&&(H=z[0],B=H?.isDisabled(n)||!1,G=z.map(L=>({get label(){return L.getLabel(n)},get disabled(){return L.isDisabled(n)||!a.mO},onClick:()=>L.onClick(n),pa:({iq:N})=>fV(L.pa,{fill:n,iq:N,cvr:L===H})})),K=!B&&n?.transition?.ref!==
void 0);return mV("div",{className:"grI1Wg",onMouseEnter:t,onMouseLeave:v,children:[y&&C&&fV("div",{className:"e3804w",children:fV(C,{size:"s",shape:"round",fill:n,L4k:w})}),x&&fV("div",{className:"e3804w",children:fV(O2s,{hidden:!1,pwo:K,ui:!1,label:M("v4jmbQ"),hQn:k,items:G,RXj:0,iq:p.XQ,Bbj:e})})]})});return{dEh:c,jqe:l}};var SLs=class{QSj(a){const b=m(a.video.ref),c=this.od;return RKs({type:0,key:this.generateKey(),fill:a,H9:b,get trim(){return __c.qm(b.trim,this.LU)},get durationUs(){return c.KL(this.fill)||5E6},get LU(){return c.yik(b)||c.KL(this.fill)||5E6}},{trim:oV,durationUs:oV,LU:oV})}generateKey(){return this.KWr++}constructor(a){this.od=a;this.KWr=0}};var cLs=hV(({scene:a,hidden:b})=>{const c=aLs(a);return fV(R,{display:"flex",flexWrap:"wrap",justifyContent:"start",alignItems:"end",position:"absolute",inset:"0",Lb:"1u",Pc:"0.5u",className:DV("D1oVlw",{_0DR3Cg:b,qtAvWg:c.textColor==="white"}),zug:{"--5EXqpQ":c.textShadow},children:fV(Q,{size:"small",weight:"bold",tone:cr,children:fV(__c.ID,{seconds:a.durationUs/1E6,format:"short"})})})});var bLs=parseInt("2px",10)||2;var sLs=hV(({connectDropTarget:a,store:b,children:c})=>{const d=jV(e=>{b.Nyg=e??void 0},[b]);return a(fV("div",{ref:d,className:DV("rFk8Ow",{buvpww:b.ZWb}),style:{minWidth:b.minWidth},children:c}))});var jLs="image/jpeg image/png image/heic image/heif image/webp image/svg+xml video/mp4 video/quicktime video/x-m4v video/webm video/x-matroska video/avi video/x-msvideo video/mpeg".split(" "),rLs=class{static G(a){O(a,{onDragEnter:iV.bound,onDragOver:iV.bound,onDragLeave:iV.bound,onDrop:iV.bound})}ZWb(){this.store.ZWb=!0}j0j(){pLs(this.store);this.store.ZWb=!1;this.Pia.AVg=!1}onDragEnter(a){const b=this.store.Nyg;if(gLs(this,a)&&b){this.store.Rhe=iLs(this,a);this.store.cAc={top:this.qp.scrollTop,
left:this.qp.scrollLeft};var {top:c,left:d}=b.getBoundingClientRect();this.store.lXc={top:c,left:d};this.Pia.AVg=!0}}onDragOver(a){this.store.gWa={x:a.Uy.x,y:a.Uy.y};a.start?this.store.Jbh=a.start.VEa.x:this.Pia.lEe&&(this.store.Jbh=this.Pia.lEe.x)}onDragLeave(){this.Pia.AVg=!1;pLs(this.store)}async onDrop(a,b){const c=this.NHa.scenes[b.index];switch(a.type){case "timelineItems":if(a.fh.length){var d=a.fh.map(f=>this.NHa.tbi(f)).filter(sb);yLs(this.xza,d,c);break}if(!a.elements.every(f=>hLs(this,
f)))throw Error("Received unsupported elements on drop");const e=await ALs(this.xza,a.elements);rV(()=>{if(b.type==="replace"){__c.ta(e.length,1);var f=this.xza,g=c.durationUs,h=f.page.Hc.replace(c.fill,e[0]);f=f.od.KL(h);g=h.video.ref?Math.min(f,g):g;f!==g&&(h.durationUs=g,h=h.video.ref)&&(f=h.trim?.startUs||0,h.trim={startUs:f,endUs:f+g})}else this.xza.page.Hc.vfa(c?.fill,e);h=this.NHa.page;for(const k of a.elements)h.ia.elements.has(k)&&h.ia.elements.delete(k)});break;case "video":return b.type===
"replace"?kLs(this.xza,c,a.video):lLs(this.xza,a.video,c,"object_panel_drag");case "searchMedia":return d=Xef(a.media),b.type==="replace"?mLs(this.xza,c,d):nLs(this.xza,d,c,"object_panel_drag");case "file":oLs(this,a.files,b);break;default:throw new u(a);}}constructor(a,b,c,d,e,f,g,h,k){this.Qa=a;this.dc=b;this.qp=c;this.store=d;this.kjh=e;this.Pia=f;this.NHa=g;this.xza=h;this.qh=k;this.veq=(rLs.G(this),l=>{l=m(this.NHa.tbi(l));this.xza.BBb(l)||CLs(this.xza,l);this.store.Rhe=this.NHa.B5e;return{page:this.NHa.page,
elements:[],fh:[l.fill]}})}};var qLs=class{static G(a){O(a,{cAc:zV.struct,lXc:zV.ref,gWa:zV.struct,Jbh:zV.ref,Rhe:zV.ref,ZWb:zV.ref,PTa:oV,nJd:oV,Uvd:oV,EQb:oV,nEd:oV,qAi:oV,can:oV,minWidth:oV,VRg:oV,ENf:oV,lan:oV,n3j:oV})}get PTa(){if(this.nJd){var {x:a,y:b}=this.nJd;this.Jbh&&(a-=this.Jbh);return{x:Math.max(0,a),y:b}}}get nJd(){if(this.gWa&&this.Uvd)return{x:this.gWa.x-this.Uvd.x,y:this.gWa.y-this.Uvd.y}}get Uvd(){if(this.lXc)return{x:this.lXc.left-this.EQb.left,y:this.lXc.top-this.EQb.top}}get EQb(){return this.cAc?{top:this.qp.scrollTop-
this.cAc.top,left:this.qp.scrollLeft-this.cAc.left}:{top:0,left:0}}get ZHc(){return this.NHa.scenes}get nEd(){if(this.Pia.xY)return this.ZHc.filter(a=>this.Pia.Emn(a.fill))}get qAi(){return this.Rhe?.filter(a=>a.type===4||!this.nEd?.includes(a))}get can(){return!!this.qAi?.length}get minWidth(){const a=this.e3b.trk(this.ZHc),b=this.qAi?.length?this.e3b.trk(this.qAi):0;return a+b+50}get VRg(){const a=this.PTa?.x;if(a!=null){var b=this.e3b.v4m(this.ZHc),c=this.e3b.trk(this.ZHc),d=0,e="insertBefore";
a>=c?d=this.ZHc.length:(d=b.findIndex(f=>f>a),d=d<0?b.length-1:Math.max(0,d-1),b=b[d],c=this.e3b.hib(this.ZHc[d]),b=(a-b)/c,this.can?b>.2&&b<.8?e="replace":b>=.8&&d++:b>.5&&d++);return{index:d,type:e}}}get ENf(){if(this.Pia.Ytc&&this.nEd?.length)return this.ZHc.filter(c=>!this.nEd?.includes(c));var a=this.VRg;if(a==null||a.type==="replace")return this.ZHc;var b=a.index;a=this.ZHc.slice(0,b);b=this.ZHc.slice(b);this.nEd?.length&&(a=a.filter(c=>!this.nEd?.includes(c)),b=b.filter(c=>!this.nEd?.includes(c)));
return[...a,...(this.Rhe||[]),...b]}get lan(){return this.ENf?.length&&this.NHa.scenes!==this.ENf?this.NHa.scenes.length!==this.ENf.length?!0:!this.NHa.scenes.every((a,b)=>a===this.ENf?.[b]):!1}get n3j(){const a=this.VRg;if(a?.type==="replace")return[this.ZHc[a.index]];if(this.Rhe)return this.Rhe;if(this.nEd?.length&&!this.Pia.Ytc)return this.nEd}constructor(a,b,c,d){this.qp=a;this.NHa=b;this.Pia=c;this.e3b=d;this.Nyg=(qLs.G(this),void 0);this.ZWb=!1;FV(e=>!!this.Rhe?.includes(e));this.W4q=FV(e=>
this.e3b.OKg(this.ENf,e))}};var tLs=["video","searchMedia","file","timelineItems"];var vLs=class{static G(a){O(a,{eUk:zV.ref,qRk:zV.ref,Iyi:zV.ref,HLf:zV.ref,tUo:iV,lTo:iV})}tUo(a,b){this.Iyi=Math.min(a,this.Iyi);this.HLf=Math.max(b,this.HLf);this.eUk=a;this.qRk=b}lTo(a){this.HLf=Math.max(a,this.HLf)}constructor(){this.eUk=(vLs.G(this),0);this.qRk=0;this.Iyi=Number.MAX_VALUE;this.HLf=20;this.H9q=FV(a=>({isVisible:a>=this.eUk&&a<=this.qRk,LWs:a>=this.Iyi&&a<=this.HLf}))}};var ULs=class{static G(a){O(a,{T$g:oV,hKe:oV({equals:nV.structural})})}get page(){return this.store.page.ia}get Xe(){return this.store.page}get scenes(){return this.store.scenes}get B5e(){return this.store.B5e}get T$g(){return sg(4,this.store.Kg)}get hKe(){return Oj({top:0,left:0,width:this.T$g.width,height:this.T$g.height})}constructor(a,b,c,d,e,f,g,h,k){this.store=a;this.od=b;this.qc=c;this.km=d;this.Qa=e;this.dc=f;this.vg=g;this.T4b=h;this.fB=k;this.BBb=(ULs.G(this),FV(l=>!!this.store.$l?.oc(this.page,
l.fill)))}},BLs=class{constructor(a,b,c){this.lr=a;this.fill=b;this.$q=c;this.type=0;this.allow={background:!0,kYd:!0};this.bleed=0}};var TLs=class{static G(a){O(a,{AEf:zV.ref,scenes:oV,B5e:oV({equals:nV.shallow}),Wta:oV({equals:nV.shallow}),$l:oV})}get Kg(){return sg(4,this.hb.kl(this.page.ia))}get scenes(){return this.page.ia.Hc.map(this.lUj)}get B5e(){const a=this.$l;return a?this.scenes.filter(b=>a.oc(this.page.ia,b.fill)):[]}get Wta(){return this.B5e.map(a=>a.fill)}get $l(){const a=this.vg.Ma?.inner;if(a?.container.type!=="section-marker"&&a?.type==="background"&&a.container.ia===this.page.ia)return a}constructor(a,b,c,d,e){this.Ai=
a;this.page=b;this.hb=c;this.kjh=d;this.vg=e;this.AEf=(TLs.G(this),void 0);this.tbi=FV(f=>this.scenes.find(g=>g.fill===f));this.Svr=FV(f=>!!this.tbi(f));this.lUj=FV(f=>WKs(this.kjh,f))}};var WLs=class{constructor(a,b){this.tcf=a;this.Qhe=b;this.hib=FV(c=>{if(c.type===4)return this.tcf.hRd(c.durationUs);c=this.Qhe.bMe(c);return this.tcf.hRd(c.durationUs)});this.n6m=FV(c=>c.map(d=>this.hib(d)));this.trk=FV(c=>this.n6m(c).reduce((d,e)=>d+e,0));this.v4m=FV(c=>{const d=[0];for(let e=0;e<c.length-1;++e)d.push(d[e]+this.hib(c[e]));return d});this.OKg=LV((c,d)=>{const e=this.v4m(c);c=c.indexOf(d);return e[c]||0});this.t7q=FV(c=>{c=c.reduce((d,e)=>{const f=this.Qhe.bMe(e).trim;return d+Math.max(0,
f.startUs-e.trim.startUs)},0);return this.tcf.hRd(c)})}};var GLs=hV(({bAa:a,NHa:b,Q7q:c,y9q:d,fill:e,Twr:f,oc:g})=>{const {iIl:h,g9h:k}=d(e),[l,n]=qV(!1),[p,q]=qV(!1);kV(()=>{var r=a.$ri?.get()&&b.Wta.length>0?b.Wta:void 0,t=b.AEf?b.AEf:void 0;r=[...(r?r:[]),t];t=c(e);n(t?r.includes(t):!1);q(f(e)?!1:r?.includes(e))},[a,b.Wta,b.AEf,e,f,c]);return mV(uV,{children:[fV(h3s,{position:"end",width:k,isVisible:p,oc:g,GXa:!1}),fV(h3s,{position:"start",width:h,isVisible:l,oc:g,GXa:!1})]})});var JLs=({color:a})=>fV("div",{className:"_1Uh6vA",style:{backgroundColor:a}});var ILs=({isPending:a=!1,EJ:b=!1})=>a?fV("div",{className:"rPORHQ",children:fV(__c.Co,{tone:"primary",background:"secondary",Icon:__c.Wq,size:"small"})}):b?fV("div",{className:"rPORHQ",children:fV(__c.Co,{tone:"critical",background:"secondary",Icon:Xt,size:"small"})}):fV("div",{className:"rPORHQ"});var KLs=({gradient:a,height:b,width:c})=>fV(__c.K2g,{className:"o9ZNbg",fh:[a],height:b,width:c});var PLs=class{constructor(a){this.bMe=a;this.lzr=FV(b=>b.some(c=>this.bMe(c).xNb));this.rSp=FV(b=>b.some(c=>this.bMe(c).moa.isVisible));this.qSp=FV(b=>b.some(c=>this.bMe(c).Ygk.show))}};var OLs=class{static G(a){O(a,{Ika:iV.bound,VDa:iV.bound,fIa:iV.bound,CUn:iV.bound,Zsb:iV.bound,$sb:iV.bound})}Ika({type:a}){a!=="fullWidth"&&(this.fB?.L6e({direction:a}),this.Heb.RNb={startUs:this.scene.trim.startUs,endUs:this.scene.trim.endUs},this.Heb.Tvb=a,this.Heb.hsh=this.Heb.PTa)}VDa(a){this.Heb.RNb&&(this.Heb.RNb.startUs=a-this.Heb.k4e+this.scene.trim.startUs)}fIa(a){this.Heb.RNb&&(this.Heb.RNb.endUs=a-this.Heb.k4e+this.scene.trim.startUs)}CUn(){if(this.Heb.RNb&&this.Heb.Tvb){this.fB?.j3e();
var a=this.Heb.RNb;a.endUs=Math.max(a.startUs+1E5,a.endUs);a=a.endUs-a.startUs;var b=this.scene.fill.video.ref;if(b){const c=this.od.aYb(b);gJe({od:this.od,zRc:c,fill:b,e_d:a-c,direction:this.Heb.Tvb,Kne:!1});this.scene.fill.durationUs=this.od.aYb(b)}else this.scene.fill.durationUs=a;this.Heb.RNb=void 0;this.Heb.Tvb=void 0;this.Heb.hsh=void 0}}Zsb(){this.Heb.XQ=!0}$sb(){this.Heb.XQ=!1}constructor(a,b,c,d){this.od=a;this.scene=b;this.Heb=c;this.fB=d;OLs.G(this)}};var NLs=class{static G(a){O(a,{RNb:zV.shallow,Tvb:zV.ref,XQ:zV.ref,hsh:zV.ref,xNb:oV,trim:oV,k4e:oV,Afo:oV,gQa:oV,yza:oV,durationUs:oV,isDisabled:oV,moa:oV,Ygk:oV,PTa:oV,width:oV,pyd:oV,eEl:oV,oc:oV})}get xNb(){return!!this.Tvb&&!!this.RNb}get trim(){return this.RNb??this.scene.trim}get k4e(){let a=0;for(const b of this.xza.scenes){if(b===this.scene)break;a+=b.durationUs}return a}get Afo(){const a=(this.RNb?.startUs??0)-this.scene.trim.startUs;return this.Tvb==="start"?this.k4e+a:this.k4e}get gQa(){return this.scene.LU<
Infinity?this.k4e-this.scene.trim.startUs:-Infinity}get yza(){return this.k4e+this.scene.LU-this.scene.trim.startUs}get durationUs(){return this.RNb?this.RNb.endUs-this.RNb.startUs:this.scene.durationUs}get isDisabled(){return this.oXa.uK||this.ui.get()&&(!this.oc||this.xza.B5e.length>1)}get moa(){if(Ic.E$){const a=this.xNb&&this.hsh?this.hsh:this.PTa;return{type:"pointer",PTa:a,isVisible:!this.isDisabled&&(a==="outside"||this.pyd&&(this.XQ||this.xNb)),$Eg:this.hsh!==a||!this.pyd,ucj:this.oc?2:void 0,
vEf:this.oc?2:void 0,borderRadius:this.oc?6:void 0,UAh:!0}}return{type:"touch",isVisible:this.oc}}get Ygk(){return{show:!this.isDisabled&&this.eEl,appearance:Ic.E$?"dark":"light"}}get PTa(){return this.eEl?"outside":"inside"}get width(){return this.tcf.hRd(this.durationUs)}get pyd(){return this.width>50}get eEl(){return this.xza.BBb(this.scene)&&!this.pyd}get oc(){return this.xza.BBb(this.scene)}constructor(a,b,c,d,e){this.scene=a;this.xza=b;this.oXa=c;this.tcf=d;this.ui=e;this.RNb=(NLs.G(this),void 0);
this.XQ=!1}};var VLs=class{ddl(a){return a/this.oXa.WDa*1E6}hRd(a){return a/1E6*this.oXa.WDa}constructor(a){this.oXa=a}};var c7s,d7s,e7s,cMs;
new (c7s=class extends JV{constructor(){super(cMs);d7s()}},(()=>{class a extends(e7s=IV){static G(b){O(b,{wrm:oV,ewc:iV})}get wrm(){return bc().width/2}render(){const b=this.props.y6b,c=this.props.Ynd,d=this.props.gL,e=this.props.mtb,f=this.props.vMg,g=this.props.jx,h=this.props.IH;return mV("div",{className:DV("tVFZ0A",{CHptUg:tb.rd}),style:{width:d.ui&&g.Rib?this.wrm:"auto"},children:[fV("div",{className:DV("M0SWqA",{AehUnQ:g.isLinear}),onClick:k=>k.stopPropagation(),children:fV(b,{isDragging:!!d.BQa,
transition:tb.rd?"height 300ms":void 0,dimensions:f,HQ:e.HQ(),Jh:e.Jh,$5b:this.props.$5b,$be:this.ewc,SC:d.SC,IH:h})}),fV(c,{page:void 0,pLm:"fixed",FHg:!0})]})}constructor(...b){super(...b);this.ewc=(cMs.G(this),()=>{const c=this.props.ewc,d=this.props.fB;c();d&&(d.stop(),d.rmc=!1)})}}({c:[cMs,d7s]}=KV(a,[],[Lb],e7s))})(),c7s);var f7s,g7s,h7s,i7s=parseInt("24px",10),$Ls;
new (f7s=class extends JV{constructor(){super($Ls);g7s()}},(()=>{class a extends(h7s=IV){static G(b){O(b,{uad:oV,xqi:oV,cKn:iV,bKn:iV,dKn:iV,DUg:oV})}get uad(){const b=this.props.Ja,c=this.props.page.page;return!!b.pages.last()&&b.pages.last()===c}get xqi(){const b=this.props.j_q;return this.uad||!!b}get DUg(){return this.props.aXp===this.props.Yb}render(){const b=this.props.gL,c=this.props.On,d=this.props.page,e=this.props.Yb,f=this.props.ICc,g=this.props.Omh,h=this.props.cDl,k=this.props.eDc,l=
this.props.kRe,n=this.props.onContextMenu,p=this.props.qQa,q=this.props.o8e,r=this.props.Phe,t=this.props.GXa,v=()=>g(void 0),w=()=>g(d.page);return mV("div",{className:"m_zkbg",children:[fV(this.props.uFh,{bsl:this.props.bsl,page:d.page,L4:this.props.L4,dimensions:r,hzq:r.height,NLd:this.props.NLd,yic:q?h(d.page):!0,children:fV(k,{page:d,Bd:e+1,isDragging:l,visible:q,Llu:l,dimensions:r,onClick:p,onContextMenu:n,On:c})}),f&&mV("div",{className:DV("deszfw",{iQZevg:this.xqi}),onMouseLeave:this.bKn,
style:{width:this.DUg?void 0:0},children:[fV("div",{className:DV("_2mudww",{JMhm4Q:this.DUg,_3sjdIg:q&&b.isDragging,ca0eiA:t}),onMouseEnter:this.cKn}),fV("div",{onMouseDown:this.z_k,onMouseEnter:w,onMouseLeave:v,className:DV({_1ZO3Mg:!this.xqi,u1Xjlw:!this.xqi&&tb.rd}),style:{width:!t&&this.DUg?i7s:0},children:fV(f,{page:d.page,XQ:this.DUg,o4k:this.dKn})})]})]})}constructor(...b){super(...b);this.z_k=($Ls.G(this),()=>{const c=this.props.Omh;(0,this.props.z_k)?.();c(this.props.page.page)});this.cKn=
()=>{const c=this.props.A0f;c(this.props.Yb)};this.bKn=()=>{const c=this.props.A0f;c(void 0)};this.dKn=c=>{const d=this.props.A0f,e=this.props.Yb;d(c.iq?e:void 0,c.immediate)}}}({c:[$Ls,g7s]}=KV(a,[],[Lb],h7s))})(),f7s);var j7s,k7s,l7s,bMs;
new (j7s=class extends JV{constructor(){super(bMs);k7s()}},(()=>{class a extends(l7s=IV){static G(b){O(b,{Phe:oV.struct,rJo:oV,kgo:oV.struct,Wwo:oV,qQa:iV,A0f:iV,eom:oV.struct,Cpi:oV,zCl:oV,odg:oV,ndg:oV,b3l:oV,lbg:oV,o8e:oV})}get Phe(){this.props.NWg&&this.Isn||(this.Isn=this.pIj(this.props.page.page));return this.Isn}get rJo(){const b=this.props.jx,c=this.props.Kg;return this.props.tZa||!b.Bib?0:b.I5c.reduce((d,{width:e,paddingRight:f})=>d+Math.min(e,c.width)+f,0)}get kgo(){const b=this.props.jx;
if(!this.props.tZa&&b.Bib)return Oj({top:0,left:this.props.yld-(this.props.qp.clientWidth||0)/2,width:this.rJo,height:0})}get Wwo(){const b=this.props.jx;var c=this.props.Ja;const d=this.props.page.page,e=this.props.Yb,f=this.props.XH;if(b.isLinear&&QMs(b,e))return!0;c=b.jcf===d||b.jcf===c.pages.next(d);return b.y0e&&!f.GJ&&c}get eom(){var b=this.props.page.page,c=this.props.Ja.pages.previous(b);c=c&&this.pIj(c);b=this.pIj(b);return{left:c?-c.width/2:-b.width/2,right:b.width/2}}get Cpi(){return this.props.store.Ebi===
this.props.page.page}get zCl(){const b=this.props.store,c=this.props.page.page;return!b.a9d(c)&&this.Cpi&&b.Ihi(c).length>=1&&b.h7q(c)+b.g7q(c)>4}get odg(){const b=this.props.pg;return this.props.XH.GJ&&this.Cpi&&b.odg||EMs}get ndg(){const b=this.props.store,c=this.props.page,d=this.props.pg;return this.props.XH.GJ&&b.mCd(c.page)&&d.ndg||EMs}get b3l(){const b=this.props.pg;return this.zCl&&b.c3l||EMs}get lbg(){const b=this.props.pg;return this.zCl&&b.lbg||EMs}get o8e(){const b=this.props.kRe;return this.props.akb===
"visible"||b}render(){const b=this.props.store,c=this.props.MEp,d=this.props.ICc,e=this.props.eDc,f=this.props.Ynd,g=this.props.cAp,h=this.props.On,k=this.props.jx,l=this.props.page,n=this.props.Yb,p=this.props.Sms,q=this.props.MWs;return mV("div",{ref:this.Mka,className:"KyZmNQ",style:!q&&p||k.isLinear?{width:p,height:"100%"}:{},children:[q&&mV(uV,{children:[fV(this.odg,{}),fV(this.ndg,{}),fV(this.lbg,{}),fV(this.b3l,{}),fV(c,{page:l,Yb:n,ICc:this.o8e?d:void 0,j_q:this.Wwo,On:h,A0f:this.A0f,eDc:e,
onContextMenu:this.onContextMenu,L4:this.L4,o8e:this.o8e,qQa:this.qQa,Phe:this.Phe,NLd:b.oc(l.page)?this.kgo:void 0}),this.o8e&&(!b.ui||k.Bib)&&fV(f,{page:l.page,Kzq:this.eom,FHg:!0})]}),!this.o8e&&fV(g,{page:l.page,Bd:n+1,qga:this.qQa})]})}constructor(...b){super(...b);this.Mka=(bMs.G(this),pV());this.pIj=c=>{const d=this.props.Kg,e=this.props.jx,f=this.props.tZa,g=e.U_d,h=this.props.XH.GJ,k=e.pba(c).scale;c=e.VWd(c,!0);return{width:h||g==null||f?c:Math.min(c,d.width),height:CV,scale:k}};this.onContextMenu=
c=>{const d=this.props.onContextMenu,e=this.props.page,f=this.props.K7a;d&&(this.props.fB?.pause(),f(c,!0),d(c,e.page))};this.L4=(c,d)=>{const e=this.props.Kg,f=this.props.jx,g=this.props.fB,h=this.props.store.ui,k=this.props.jmb.current.getBoundingClientRect();f.$Jn(c,d.x-k.x,e.width);g?.stop();h&&g&&(g.jph=!1)};this.qQa=async()=>{const c=this.props.qQa,d=this.props.store,e=this.props.jx,f=this.props.page.page;e.y0e?d.oc(f)&&d.$Ua?e.a3f(f):e.wAl(!0):this.props.fB&&e.wmh(!0);await c?.(f)};this.hover=
iV(c=>{this.props.jx.Ayl(this.props.store.BQa?void 0:c)});this.toq=Db(this.hover,500);this.uoq=Db(this.hover,200);this.A0f=(c,d)=>{const e=this.props.jx;var f=this.props.store;f.mO&&!f.ui&&(f=this.props.Ja.pages.count(),c!=null&&c>=f-1||(d?e.Ayl(c):e.isLinear?this.uoq(c):this.toq(c)))}}}({c:[bMs,k7s]}=KV(a,[],[Lb],l7s))})(),j7s);var m7s=class{constructor(a,b,c,d,e,f){this.page=a;this.direction=b;this.Qks=c;this.pJr=d;this.Ilt=e;this.Nng=f}},fMs=class{static G(a){O(a,{trim:zV.ref})}constructor(){this.trim=(fMs.G(this),void 0)}},n7s=class{static G(a){O(a,{jte:zV.ref,FIl:iV.bound,Eak:iV.bound})}get AQd(){return this.jte}FIl(a){this.jte?.isRecording()&&this.jte.end("unset");this.jte=this.V.wb("trim_scene",{Hb:{name:"editor.editing.page_navigator.timeline.trim_scene",performance:{NU:!0},type:a}})}Eak(){this.jte?.end("ok");this.jte=
void 0}tKg(a,b){var c=b==null;const {fh:d,durationUs:e}=__c.jJe(this.nz,a,c);if(!d.length||c)return{fill:d[0],durationUs:e};a=f=>this.od.aYb(f.trim?{...f,trim:b?{startUs:b==="start"?0:f.trim.startUs,endUs:b==="end"?Infinity:f.trim.endUs}:void 0}:f);c=Di(d,a);return{fill:c,durationUs:a(c)}}constructor(a,b,c,d,e){this.store=a;this.od=b;this.nz=c;this.If=d;this.V=e;this.jte=(n7s.G(this),void 0)}},jMs=class extends n7s{static G(a){O(a,{Ika:iV.bound,NHi:iV.bound,gqa:iV.bound})}Ika(a,b){this.FIl(b);const c=
lJe(this.nz,a);this.selection.BEb(a);const d=om.oy(a);this.store.trim=new m7s(a,b,c,this.tKg(d,b).fill,0,()=>{});this.nz.aNd(c);this.If.rL();this.K_.jhn([a]);this.vie(d);this.Wk?.tO?.(new ap)}NHi(a){const b=this.store.trim;b?(this.nz.aNd(a),this.K_.kuo(a,b.direction,c=>{if(b.direction==="end")return!0;const d=this.If.getDuration(c),e=__c.AAg(this.K_,c);return c===b.pJr||a<=d||e<d}),this.vie(om.oy(b.page))):this.Eak()}gqa(a,b,c){const d=this.store.trim;d&&(this.K_.Cwm({location:"page_navigator",mb:c}),
this.nz.JXd({pages:[d.page],HMf:a,JLf:b,Knf:{location:"page_navigator",mb:c},va:this.AQd}),this.vie(om.oy(d.page)),this.store.trim=void 0,this.nz.reset())}vie(a){const b=this.store.trim?.direction==="end"&&this.nz.jXa||0;a.forEach(c=>__c.Fde(this.If,c,b,this.K_.vCf(c)))}constructor(a,b,c,d,e,f,g,h){super(a,b,c,d,e);this.K_=f;this.selection=g;this.Wk=h;jMs.G(this)}},iMs=class extends n7s{BZh(a,b,c,d){if(c===d)return __c.Af({pages:[a]}).xb(a);var e=An.snapshot(a);e=An.create(e);const f=__c.Af({pages:[e]}).xb(e);
switch(f.type){case "fixed-page":return sa(a.type==="fixed"),this.xec.addAlias(e,a),__c.hJe({If:this.If,nz:this.nz,od:this.od,page:f.page,direction:b,r4g:c,W2g:d,Eld:!1}),f;case "concatenated-fixed-page":case "responsive-page":return f;default:throw new u(f);}}Ika(a,b){this.FIl(b);this.nd.I3i();this.Wk?.tO?.(new ap);this.selection.BEb(a);const c=lJe(this.nz,a),d=c*1E6,e=hMs(this,a,b)*1E6;this.sBe=this.BZh(a,b,d,e);this.store.trim=new m7s(a,b,c,void 0,e,this.nd.configure({Bj:!0,page:this.sBe}));this.nz.aNd(c);
this.nd.seek((b==="start"?e-d:d)/1E6)}NHi(a){if(this.store.trim){var b=this.store.trim.Ilt,c=a*1E6;this.nd.seek((this.store.trim.direction==="start"?b-c:c)/1E6);this.nz.aNd(a)}}gqa(a,b,c){const d=this.store.trim;if(d){d.Nng();var e=d.page;this.nz.JXd({pages:[e],HMf:a,JLf:b,Knf:{location:"page_navigator",mb:c},direction:d.direction,va:this.AQd});this.vie(om.oy(e));this.nd.stop();if(this.sBe)switch(this.sBe.type){case "fixed-page":this.xec.store.E$g.delete(this.sBe.page);this.sBe=void 0;break;case "concatenated-fixed-page":case "responsive-page":this.sBe=
void 0;break;default:throw new u(this.sBe);}this.store.trim=void 0;this.nz.reset();this.nd.j9h()}else this.Eak()}vie(a){const b=this.store.trim?.direction==="end"&&this.nz.jXa||0;a.forEach(c=>__c.Fde(this.If,c,b))}constructor(a,b,c,d,e,f,g,h,k){super(a,b,c,d,e);this.nd=f;this.selection=g;this.xec=h;this.Wk=k}};var mMs=class{Lxe(a,b){if(a=!!this.If.canPlay(a)&&!!this.If.getDuration(a))b=b.length,this.document.pages.count()+(b-1)>this.Jh?(b=this.IUa.QF,b.p0a({icon:Xt,message:b.Uha.render(M("PZbDsA")),tone:"critical"}),b=!0):b=!1,a=!b;return a}get ya(){return m(this.viewport.ya)}jZi(a,b,c){this.nz.aNd(b);this.nz.JXd({pages:[a],direction:c,HMf:.1,JLf:Math.max(600,__c.jJe(this.nz,om.oy(a)).durationUs/1E6),Knf:{location:"highlights",mb:"shortcut"}});this.nz.reset()}kgh(a){a.transition.set(void 0)}constructor(a,
b,c,d,e,f){this.IUa=a;this.nz=b;this.If=c;this.viewport=d;this.document=e;this.Jh=f}};var o7s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path stroke="currentColor" stroke-width="1.5" stroke-linecap="round" d="M8 1.75v12.5"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8 3.333H3a2 2 0 0 0-2 2v5.334a2 2 0 0 0 2 2h5v-1.5H3a.5.5 0 0 1-.5-.5V5.333a.5.5 0 0 1 .5-.5h5v-1.5ZM10.334 12.667h2.667a2 2 0 0 0 2-2V5.333a2 2 0 0 0-2-2h-2.667v1.5h2.667a.5.5 0 0 1 .5.5v5.334a.5.5 0 0 1-.5.5h-2.667v1.5Z" fill="currentColor"/></svg>';var p7s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 3.75a.75.75 0 0 0-1.5 0V6H5a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h5.5v2.25a.75.75 0 0 0 1.5 0V3.75ZM10.5 16.5v-9H5a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h5.5Z" fill="currentColor"/><path d="M14 18h5a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-5v1.5h5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-5V18Z" fill="currentColor"/></svg>';var vMs=Uq({small:o7s,medium:p7s});var tMs=class{static G(a){O(a,{zCn:iV.bound,CTh:oV,b3i:iV.bound,OCo:iV.bound,a3i:iV.bound})}get bvb(){const a=(this.fB.bvb??this.pXa.currentTime).toFixed(6);return Number.parseFloat(a)}zCn(){try{if(!this.jr.CS?.length&&this.CTh)return this.b3i();if(pMs(this))return this.a3i()}catch(a){}}get CTh(){if(!this.PEl.get()||this.Pa.mode<40||!this.Dx.Rib||this.Dx.GJ||this.document.pages.count()>=this.Jh)return!1;const a=qMs(this,this.bvb)?.page;var b;if(!(b=!a||a.locked)&&(b=this.Lk.Yu)){var c=this.bvb;b=
this.Dx.tLg(c,!0);b?.page&&b.page.type==="fixed"?(c=(c-b.Ofa/1E6)*1E6,b=!!rMs(this,b.page.Hc.toArray(),c)):b=!1;b=!b}if(b)return!1;switch(a.type){case "fixed":return!a.dimensions||!ug(a.dimensions);case "concatenated-fixed":case "responsive":return!1;default:throw new u(a);}}b3i(){const a=this.V.wb("split_scene",{Hb:{name:"editor.editing.page_navigator.timeline.split_scene"}});this.fB.stop();if(this.Lk.Yu){const {page:g}=m(qMs(this,this.bvb));if(g.type==="fixed"){var {fill:b,ZUq:c,bVq:d}=m(rMs(this,
g.Hc.toArray(),this.bvb*1E6)),e=c+d,f={...qqs(Cs,Pn.snapshot(b)),durationUs:d};b.durationUs=Math.min(Math.max(Math.max(c),1E5),6E8);f=g.Hc.FJ(b,f);b.transition.set(void 0);b.video.ref&&gJe({od:this.od,zRc:e,fill:b.video.ref,e_d:-d,direction:"end",Kne:!0});f.video.ref&&gJe({od:this.od,zRc:e,fill:f.video.ref,e_d:-c,direction:"start",Kne:!0});this.fB.seek(this.bvb,"start")}}else this.OCo();this.fB.mhe();a.qe()}OCo(){const {page:a,durationUs:b,z3s:c}=m(qMs(this,this.bvb)),d=Cs.HR(An.snapshot(a),{sIa:!0});
this.kgh(a);this.jZi(a,c,"end");const e=this.document.pages.FJ(a,d);this.jZi(e,b/1E6-c,"start");requestAnimationFrame(()=>{this.fB.lL(e);this.fB.seek(this.bvb,"start")})}a3i(){const a=this.bvb;this.fB.stop();this.fB.mhe();const b=this.jr.CS?.map(c=>sMs(this,c,a)).filter(sb);b?.length&&this.jr.select(...b);this.fB.seek(a,"start")}jZi(a,b,c){this.nz.aNd(b);this.nz.JXd({pages:[a],direction:c,HMf:.1,JLf:Math.max(600,__c.jJe(this.nz,om.oy(a)).durationUs/1E6),Knf:{location:"page_navigator",mb:"shortcut"},
Eld:!0})}kgh(a){a.transition.set(void 0)}constructor(a,b,c,d,e,f,g,h,k,l,n,p,q){this.document=a;this.Pa=b;this.nz=c;this.jr=d;this.EA=e;this.Dx=f;this.Lk=g;this.od=h;this.V=k;this.Jh=l;this.fB=n;this.pXa=p;this.PEl=q;tMs.G(this)}};var uMs=hV(({yi:a,q9e:b,disabled:c,onClick:d})=>{const e=jV(()=>{b.b3i();d?.()},[b,d]);return fV(a,{tooltip:M("GiOiNA"),icon:vMs,disabled:c,zh:"icon",onClick:e,children:M("nHEHOg")})}),wMs=hV(({yi:a,q9e:b,disabled:c,To:d,onClick:e})=>{const f=jV(()=>{b.a3i();e?.()},[b,e]);return fV(a,{tooltip:M("W417Fg"),disabled:c,icon:vMs,zh:d?"icon-and-label":"icon",onClick:f,children:M("nHEHOg")})});var q7s,r7s,s7s,t7s;
new (q7s=class extends JV{constructor(){super(t7s);r7s()}},(()=>{class a extends(s7s=IV){static G(b){O(b,{A0a:iV.bound,WLa:iV.bound,NVa:iV.bound})}A0a(b){const c=this.props.XH;c?.MEb(!0);c?.s1b({wbh:"pinch_centre",Li:b.Li});this.props.sLu?.()}WLa(b){const c=this.props.XH,d=this.props.xz;c?.Zgn!=null&&(c.HC(c.Zgn*b.scale),d(J("MEzq1g",[c.LW])))}NVa(){this.props.XH?.zna("pinch")}render(){return fV("div",{ref:this.XB.Gq,className:"Dx9Tuw",children:this.props.children})}constructor(...b){super(...b);this.Xda=
(t7s.G(this),[new __c.Wzc({yt:this.A0a,IF:this.WLa,tx:this.NVa})]);this.XB=new __c.dd(this.Xda)}}({c:[t7s,r7s]}=KV(a,[],[Lb],s7s))})(),q7s);var u7s=hV(({enabled:a,XH:b,...c})=>{c.VAh();return a.get()&&!b.GJ?fV(t7s,{...c,XH:b}):c.children});var v7s,w7s,x7s,y7s=parseInt("4px",10)*2,z7s=parseInt("16px",10),A7s=parseInt("8px",10)*2,B7s=parseInt("12px",10)||12,BNs;
new (v7s=class extends JV{constructor(){super(BNs);w7s()}},(()=>{class a extends(x7s=IV){static G(b){O(b,{Vhe:zV.ref,nJo:oV,vMg:oV,kPo:oV,yld:oV,gym:oV,K7a:iV,Apg:iV,onTouchStart:iV,onTouchEnd:iV,onScroll:iV,QGi:iV})}get nJo(){return this.jmb?.current?.getBoundingClientRect().x||0}get Xct(){const b=this.jmb?.current;return b?b.offsetTop+b.offsetHeight:0}get vMg(){return{width:this.props.jx.$hi,height:CV}}get kPo(){const b=this.props.jx,c=this.vMg.width+y7s+2*A7s;return b.zla==="end"?b.iPo+c:this.props.store.ui&&
b.zla==="start"?b.jPo+c:b.tPd+c}get yld(){const b=this.props.jx,c=this.props.store;if(!b.Rib)return 0;const d=b.Cgb,e=b.zla==="start"?b.lcf+b.t$i:0,f=b.Fcb?b.aza(b.Fcb).offsetWidth:c.ui?0:d-e;return c.ui?Math.max(d-(A7s+e),-d-f):b.lcf!==0?Math.max(d-e,-f):d}get gym(){var b=this.props.qp;const c=this.props.jx,d=this.props.store,e={"--aABeBw":`${this.yld}px`,"--0ljhFQ":`${d.wjm}px`,"--5t4xnw":`${d.yjm}px`};return c.zla?{...e,minWidth:this.kPo}:this.props.tZa||d.ui||c.dragOffset===0?this.props.Lk.Yu&&
d.ui?(b=bc().width/2,{...e,paddingRight:b}):e:{...e,paddingRight:b.clientWidth-(this.vMg.width+A7s)}}componentDidMount(){const b=this.props.store,c=this.props.jx,d=this.props.ev;gss(()=>!!d.current,()=>{d.current?.addEventListener("touchstart",this.onTouchStart)});const e=[gV(()=>({Dg:b.Dg,focused:b.$Ua}),({Dg:f,focused:g})=>{c.y0e&&(g?(c.a3f(f.length===1&&c.Ddj?f[0]:void 0),c.wAl(!1)):c.Ddj||c.a3f(void 0))})];Gb(this,e)}componentWillUnmount(){cancelAnimationFrame(this.ZKh);this.props.ev.current?.removeEventListener("touchstart",
this.onTouchStart)}render(){const b=this.props.ICc,c=this.props.$5b,d=this.props.eDc,e=this.props.Isj,f=this.props.y6b,g=this.props.ewc,h=this.props.qQa,k=this.props.On,l=this.props.Kg,n=this.props.F4c,p=this.props.rjc,q=p.f4l,r=p.n8l,t=p.T1l,v=p.r9l,w=p.tse,x=this.props.jx,y=this.props.XH,z=this.props.wut,B=this.props.M3s,C=this.props.measureRef,G=this.props.Dse;return fV(u7s,{enabled:this.props.TQm,XH:y,VAh:this.props.VAh,xz:this.xz,children:mV("div",{className:DV("PLXBxQ",{skT6fg:p.a7c,_4h2Low:x.DIf,
_7XBsHg:this.props.Lk.Yu}),style:this.gym,onClick:this.i4r,ref:(0,CTs["default"])(C,n.Gq,B,y.GJ?void 0:z),children:[n.anchor,v&&fV(v,{duc:!!this.Vhe,K7a:this.K7a}),fV("div",{className:"T5cLig",children:!y.GJ&&fV(e,{})}),mV("div",{className:"_8BtP1w",children:[q&&fV("div",{className:"jyrvhQ",children:fV(q,{On:k,K7a:this.K7a,QXt:this.yld+z7s})}),fV("div",{ref:this.jmb,className:"_5peejg",children:r&&fV(r,{yld:this.yld,On:k,Kg:l,jmb:this.jmb,eDc:d,ICc:b,$5b:c,y6b:f,ewc:g,qQa:h,K7a:this.K7a,tse:w})}),
fV(G,{}),t&&fV("div",{className:DV("lJ_R_Q",{qZEbqg:x.DIf}),children:fV(t,{K7a:this.K7a})})]})]})})}constructor(...b){super(...b);this.iet=(BNs.G(this),Symbol("TimelineContent"));this.jmb=pV();this.Vhe=void 0;this.touchEnd=!1;this.K7a=(c,d)=>{const e=this.props.fB,f=this.props.pXa,g=this.props.jx;var h=this.props.XH,k=this.props.store,l=this.props.Vf;k.PG==="single"&&!h.GJ&&e&&f&&this.jmb.current&&!k.AAd&&!l.isOpen&&(h=this.jmb.current.getBoundingClientRect(),{clientX:c=0}=c,c<h.left||(c-=h.left,
h=g.x5d(c,{Txb:!this.props.Lk.Yu}),k=g.Ezd(h),l=g.vpk(c),d&&l===g.Ezd(f.currentTime)?(d=g.MLe(f.currentTime),Math.abs(d-c)>B7s&&(e.bvb=h)):(e.pause(),this.props.store.ui||e.seek(this.props.Lk.Yu?h:Math.min(h,g.rOl-.001)),e.lL(l),k!==l&&e.stop())))};this.Apg=()=>{this.Vhe!=null&&(clearTimeout(this.Vhe),this.Vhe=void 0)};this.onTouchStart=()=>{const c=this.props.fB,d=this.props.pXa,e=this.props.store,f=this.props.ev;e.ui&&!e.BQa&&c&&d&&f.current&&(this.props.jx.wmh(!0),c.pause(),this.Apg(),this.touchEnd=
!1,document.addEventListener("touchend",this.onTouchEnd),f.current?.addEventListener("scroll",this.onScroll))};this.onTouchEnd=()=>{this.touchEnd=!0;this.Vhe||this.QGi()};this.onScroll=()=>{var c=this.props.store,d=this.props.fB;const e=this.props.pXa,f=this.props.jx,g=this.props.XH;var h=this.props.EA;const k=this.props.qp;c.BQa||g.uK?(this.QGi(),this.Apg()):(h.csi?(c=f.x5d(k.scrollLeft),d?.L6e({time:c})):f.W4f&&(h=f.x5d(k.scrollLeft),h=Math.min(h,f.rOl-.001),d?.seek(h),f.Rib&&c.ui&&g.GJ&&(d=f.Ezd(h),
c.VL===1&&c.oc(d)||(c.Uta(d),f.Dda()))),this.Apg(),this.Vhe=window.setTimeout(()=>{if(this.touchEnd||e?.Qf)this.QGi(),this.Apg();else this.onScroll()},500))};this.QGi=()=>{const c=this.props.ev;var d=this.props.jx;const e=this.props.pXa,f=this.props.fB;this.props.jx.wmh(!1);e&&d.Rib&&(this.Vhe&&(d=d.Ezd(e.currentTime,f?.rmc??!1),f?.lL(d)),document.removeEventListener("touchend",this.onTouchEnd),c.current?.removeEventListener("scroll",this.onScroll),this.touchEnd=!1)};this.ZKh=0;this.i4r=c=>{cancelAnimationFrame(this.ZKh);
this.ZKh=requestAnimationFrame(()=>{this.ZKh=requestAnimationFrame(()=>{const d=this.props.jx;this.K7a(c);d.wmh(!1)})})};this.xz=c=>{this.props.vc.Ib({Db:c,group:this.iet})}}}({c:[BNs,w7s]}=KV(a,[],[Lb],x7s))})(),v7s);var HMs=GV(({onClick:a,Qf:b,xa:c,mH:d})=>{const e=jV(f=>{a();f.nativeEvent.stopImmediatePropagation()},[a]);return fV("div",{className:DV("OH498g",{EfX0rQ:d}),children:fV(ir,{variant:"tertiary",size:"large",Qc:"medium",PWb:!0,onClick:d?void 0:e,loading:c,icon:b?__c.Cu:__c.Du,className:"Vb2WBg",ariaLabel:b?M("8Pbkhg"):M("Y/SEvA")})})});var BMs=hV(function({currentTime:a,totalTime:b}){a=qo(a());b=qo(b());return fV(Q,{size:"medium",tone:"primary",weight:"bold",children:fV(DMs,{b0m:a.padStart(b.length,b.replace(/\d/g,"0"))})})}),CMs=hV(function({totalTime:a}){return fV(Q,{size:"medium",tone:"tertiary",children:fV(DMs,{b0m:qo(a())})})});var FMs=.5*Uc+5*Uc,GMs=GV(function({vss:a,EQq:b}){return fV(R,{padding:"0.5u",children:mV(ar,{columns:b?3:1,spacing:"0",Fa:"center",children:[b&&fV(R,{display:"flex",justifyContent:"start",children:b}),fV(R,{display:"flex",justifyContent:"center",children:a})]})})});var C7s,D7s,E7s,JMs;new (C7s=class extends JV{constructor(){super(JMs);D7s()}},(()=>{class a extends(E7s=IV){static G(b){O(b,{CB:oV,onClick:iV.bound})}get CB(){return!this.props.XH.GJ}render(){return fV(this.props.tF,{onClick:this.onClick,CB:this.CB,children:M("2e2XZw")})}onClick(){const b=this.props.oa,c=this.props.onClick,d=this.props.XH;d.qje(!d.GJ,"click");d.GJ||(this.props.Gj.fq="thumbnail");c&&c();b&&b()}constructor(...b){super(...b);a.G(this)}}({c:[JMs,D7s]}=KV(a,[],[Lb],E7s))})(),C7s);var KMs=hV(a=>{const b=a.ib;return fV(Wi,{variant:"tertiary",size:"small",active:a.active,onClick:a.onClick,icon:__c.XC,tk:!0,LI:a.LI,ib:b,ariaLabel:b,children:M("Jajjyg")})});var MMs=({Tpe:a,ui:b})=>fV("div",{className:"XsiM7A",children:a&&mV(uV,{children:[fV(a,{size:"m",shape:"square"}),fV(Q,{size:"xsmall",tone:cr,children:b.get()?M("fg/MLw"):M("nvHInw")})]})});var F7s=parseInt("8px",10)||8,G7s=parseInt("68px",10)||60,H7s=CV*16/9,I7s=10.5*Uc,OMs=parseInt("16px",10)||16,PMs=parseInt("24px",10)*2,tNs=class{static G(a){O(a,{Bib:zV.ref,U_d:zV.ref,t$i:zV.ref,z0j:zV.ref,Ddj:zV.ref,lyi:zV.ref,ati:zV.ref,yvj:zV.ref,ori:zV.ref,isLinear:oV,G7e:oV,dLm:oV({equals:nV.shallow}),WDa:oV,dragOffset:oV,Cgb:oV,$hi:oV,hPo:oV,lcf:oV,KRd:oV,i$b:oV({equals:ek(nV.shallow)}),I5c:oV({equals:ek(nV.shallow)}),Drl:oV,PYn:oV,tPd:oV,G7i:oV,qti:oV,iPo:oV,jPo:oV,srf:oV,Lem:oV,$Jn:iV.bound,
IJn:iV.bound,y0e:oV,a3f:iV.bound,jcf:oV,NWg:oV,GJ:oV,DIf:oV,W4f:oV,wmh:iV.bound,wAl:iV.bound,Ayl:iV.bound,fyk:zV.ref,Omh:iV,pJo:oV})}get d$g(){return this.I.r$i.trim?.Qks||0}get Fcb(){return this.I.r$i.trim?.page}get zla(){return this.I.r$i.trim?.direction}get IKc(){return this.I.IKc}get O6f(){return this.isLinear?0:F7s*2}get isLinear(){return!this.I.XH.GJ}get Qkd(){const a=this.I.viewport.Vg;return this.I.Lk.Yu&&EV(this,a.ia)?this.I.od.xb(a.ia):this.I.od.oAb(this.I.document)}get rOl(){return this.Qkd/
1E6}get G7e(){if(BV.AHm)return!1;const a=this.I.hb;return this.I.document.pages.some(b=>b?!a.i_(b,c=>c?.pGe)&&IHs(this,b):!1)}get dLm(){const a=sg(4,this.I.document.dimensions);return{width:a.width/a.height*CV,height:CV}}get WDa(){return this.I.XH.LW*40}get dragOffset(){const a=this.I.XH;return this.I.tZa||!this.Bib||!this.U_d||a.GJ?0:Math.max(this.Bib-this.U_d,0)}get Cgb(){var a=this.I.kBg;if(!this.Rib)return this.dragOffset;a=this.I.ui.get()?bc().width/2:a?0:I7s;return this.dragOffset+a}get $hi(){var a=
this.I.document;this.I.XH.GJ?(a=a.pages.last(),a=Math.min(H7s,Math.max(this.pba(a).width,G7s))):a=96;return a}get hPo(){const a=this.I.nz;return this.Fcb&&a.jXa?a.jXa-this.d$g:0}get lcf(){const a=this.Fcb;if(!a)return 0;const b=this.VWd(a,!1);return this.VWd(a,!0)-b}get KRd(){return{start:Math.max(this.I.qp.scrollLeft-100-this.Cgb,0),end:this.I.qp.scrollLeft+this.I.qp.clientWidth+100-this.Cgb}}get i$b(){const a=this.I.viewport.Vg;return this.I.Lk.Yu&&EV(this,a.ia)?this.ISh([a.ia]):this.ISh(this.I.document.pages.toArray())}get I5c(){const a=
this.I.viewport.Vg;return this.I.Lk.Yu&&EV(this,a.ia)?this.ISh([a.ia],{withTrim:!0}):this.ISh(this.I.document.pages.toArray(),{withTrim:!0})}get Drl(){const a=this.I5c.map(!this.I.tZa&&this.U_d?({width:b,page:c})=>Math.min(b,this.pba(c).width)+this.O6f:({width:b})=>b+this.O6f);a.length>0&&(a[0]+=this.Cgb);return a}get PYn(){return Math.max(this.WDa,G7s)/this.WDa}pba(a){const b=this.I.document;return a.type==="concatenated-fixed"?M4s:this.I.hb.i_(a,c=>c?.MGa)?N4s(b.dimensions):a.type==="responsive"?
M4s:N4s(a.dimensions||b.dimensions)}get tPd(){const a=this.i$b[this.i$b.length-1];return a?.offsetWidth+a?.width||0}get G7i(){const a=this.qti;return(a?.offsetWidth||0)+(a?.width||0)}get qti(){var a=this.I.viewport.Vg;return this.I.Lk.Yu&&EV(this,a.ia)?this.aza(a.ia):(a=this.I.document.pages.jUa(b=>b.type!=="responsive").last(b=>EV(this,b)))&&this.aza(a)}get iPo(){return this.tPd+this.ati}get jPo(){return this.tPd+this.lcf}get srf(){return this.I.nz.jXa}get Lem(){return this.i$b.reduce((a,{durationUs:b})=>
a+b,0)}onDrop(){this.rEe=void 0}$Jn(a,b,c){this.Bib=b;b=0;const d=this.I.document.pages.toArray();for(const [f,g]of d.entries()){var e=f===d.length-1||d.length===1?0:this.O6f;e=Math.min(this.VWd(g,!0),c)+e;if(g===a){b+=e/2;break}else b+=e}this.U_d=b;this.Dda()}IJn(){this.U_d=this.Bib=void 0}get Rib(){return this.I.Xri()}get y0e(){return this.I.ui.get()||Vb()}a3f(a){this.yvj=a}get jcf(){if(!this.I.XH.GJ&&this.Bib==null)return this.Fcb||this.yvj}get NWg(){return!!this.Fcb}get GJ(){return this.I.XH.GJ}get uK(){return this.I.XH.uK}get pur(){return this.lyi!=
null}get DIf(){return this.GJ&&!this.I.ui.get()}get W4f(){return this.I.ui.get()&&!this.GJ}get pJo(){const a=this.I.qp.clientWidth;if(a!=null)return a-Math.max(this.Cgb-this.I.qp.scrollLeft,0)-120}constructor(a){this.I=a;this.Bib=(tNs.G(this),void 0);this.U_d=void 0;this.t$i=0;this.Ddj=this.z0j=!1;this.lyi=void 0;this.ati=0;this.yvj=void 0;this.ori=!1;this.Jih=e=>this.isLinear?Math.round(e*10)/10:Math.round(e);this.Dda=()=>{this.I.Wk?.tO?.(new ap)};this.ISh=(e,f={})=>{const g=this.I.document,h=this.I.od;
let k=0,l=0,n=0,p=0;return e.map((q,r)=>{var t=r===e.length-1,v=f.withTrim&&q===this.Fcb;const w=h.xb(q),x=h.Q3d(g,q),y=(EV(this,q)?x:w)+(v?this.hPo*1E6:0);t=t?0:this.O6f;v=this.VWd(q,v);const z=k,B=l;l+=v+t;EV(this,q)&&(k+=y);const C=z-n;n=w-x-n;r=p?this.Jih(B-p-(r===0?0:this.O6f)):B;p=v/x*n;return{page:q,durationUs:y,width:v,Ofa:z,uZk:C,iJn:r,offsetWidth:B,paddingRight:t}})};this.VWd=(e,f)=>{var g=this.I.nz;if(this.I.XH.GJ)return Math.min(H7s,Math.max(this.pba(e).width,G7s));e=(f=f&&this.Fcb===
e)&&this.srf!==void 0?this.srf:lJe(g,e);g=this.Jih(e*this.WDa);if(this.isLinear)return g;e=Math.max(this.WDa,G7s);g=f&&this.d$g!==0&&this.d$g<this.PYn?g+e-this.Jih(this.d$g*this.WDa):g;return f?g:Math.max(g,e)};this.aza=e=>m(this.i$b.find(f=>f.page===e));this.tLg=(e,f,g)=>{const h=(g?this.I5c:this.i$b).filter(({page:l})=>EV(this,l)),k=Math.round(e*1E6);return h.find(({durationUs:l,Ofa:n},p)=>{l=n+l;return f||p===h.length-1?k<=l:k<l})};this.MLe=(e,f={})=>{const g=f.Hfh?.draft?this.tPd:this.G7i;return this.Jih(Math.min(SMs(this,
e*1E6,f),g))};this.x5d=(e,{Txb:f=!0,...g}={})=>{const h=(g.Hfh?.draft?this.Lem:this.Qkd)/1E6;return f?Math.min(VMs(this,e,g)/1E6,h):VMs(this,e,g)/1E6};this.iLa=(e,{Txb:f=!0,...g}={})=>f?this.MLe(e/1E6,g):SMs(this,e,g);this.hib=(e,f,{Txb:g=!1,...h}={})=>this.iLa(f,{Txb:g,...h})-this.iLa(e,{Txb:g,...h});this.gMg=(e,{Txb:f=!0,...g}={})=>f?this.x5d(e,{Txb:f,...g})*1E6:VMs(this,e,g);this.vpk=e=>this.i$b.find(({width:f,offsetWidth:g})=>e>=g&&e<=g+f)?.page;this.Ezd=(e,f)=>{({page:e}=this.tLg(e,f)||this.i$b[0]);
return e};this.wmh=e=>{this.z0j=e};this.wAl=e=>{this.Ddj=e};this.Ayl=e=>{this.lyi=e};this.Omh=e=>{this.fyk=e};this.cDl=LV(e=>!tb.rd||this.Fcb===e||this.U_d!=null||this.I.XH.uK);this.Npo=e=>{this.ori=e};const b=a.XH,c=a.r$i,d=a.nz;a=a.Pa;gV(()=>b.GJ,this.Dda);gV(()=>c.trim?Math.max(this.ati,this.lcf):0,e=>this.ati=e,{fireImmediately:!0});gss(()=>!this.GJ,()=>{d.O2f=!0});a.etf(()=>this.ori)}};var jNs=({qFk:a})=>fV("div",{className:DV("pAiVJA",a&&"Xk_37w"),children:fV(er,{label:M("xhtG7g"),children:fV(R,{tagName:"span",background:"neutralLow",borderRadius:"elementSoftest",ariaHidden:!1,className:"VzkBcA",ariaLabel:M("xhtG7g"),children:fV(Q,{size:"small",className:"_3ubtlQ",children:M("SI6VaA")})})})});var dNs=class{static G(a){O(a,{VC:zV.ref,iJd:zV.ref,S_:zV.ref,gHe:zV.ref,pages:oV({equals:nV.shallow})})}get pages(){var a=this.gHe?.page;if(a&&__c.pm(a.page))return sa(a.type==="fixed-page"),[a];a=[];for(const b of this.document.pages)__c.pm(b,this.document)&&a.push(this.Ai.xb(b));return a}r_j(){this.VC?.dispose();this.gHe=this.iJd=this.VC=void 0}rma(){this.gHe=this.configuration;const a=this.pages,{ff:b,S_:c}=this.vja({X$a:__c.wye(()=>a,()=>this.document),override:this.GQp,aub:oV(()=>this.sAa?.isEnabled)});
this.iJd=b;this.S_=c;return this.VC=new __c.$1g(this.sq,this.If,b,this.od)}get GQp(){const a=this.configuration;if(a&&a.Bj)return a.Bj===!0?{type:"page",animation:"none"}:{type:"element",animation:"static",elements:a.Bj,timing:{startUs:void 0,durationUs:void 0}}}hxm(a,b){nV.shallow(a.Bj,this.configuration?.Bj)&&a.page===this.configuration?.page||(this.configuration=a,this.VC&&(b(),this.rma()));const c=this.configuration;return()=>{this.configuration===c&&(this.configuration=void 0)}}constructor(a,
b,c,d,e,f,g){this.vja=a;this.document=b;this.Ai=c;this.sAa=d;this.sq=e;this.If=f;this.od=g;this.type=(dNs.G(this),"ANIMATE")}};var J7s=class{get currentTime(){return this.store.currentTime}get duration(){return this.store.duration}get H0a(){return this.store.volume}get paused(){return!this.store.Qf}get loading(){return this.store.xa}get EJ(){return this.store.EJ}get errorMessage(){return this.store.errorMessage}get seeking(){return this.store.IJ}get playbackRate(){return 1}dispose(){this.pause();this.controller.stop();clearTimeout(this.akh);this.akh=void 0;this.Lbl?.();this.Lbl=void 0}pause(){this.controller.onPause()}play(){this.If.rL();
this.Oua.xga(()=>this.pause());this.Lbl||(this.Lbl=gV(()=>this.currentTime>=this.duration,()=>this.pause()));this.controller.onPlay()}resume(){}seek(a,b={}){this.store.currentTime===a||b.NHf||(this.akh||this.controller.Qfa(),this.controller.HX(a),WMs(this))}eid(){}XQb(a){this.controller.onVolumeChange(a)}constructor(a,b,c,d){this.controller=a;this.store=b;this.Oua=c;this.If=d}};var lNs=class{static G(a){O(a,{VC:zV.ref,iJd:zV.ref})}hxm(){return function(){}}rma(){this.VC||(this.VC=new J7s(this.WWh,this.kyb,this.Oua,this.If),this.Ukb=[...this.oXa.I5c]);this.iJd={GLe:a=>{const b=this.Ukb.find(c=>c.page===a);return b?b.Ofa/1E3:0},ya:this.ya,nextPage:void 0};return this.VC}r_j(){this.VC?.dispose();this.iJd=this.VC=void 0}get spe(){return this.kyb.spe}get ya(){const a=this.kyb.currentTime*1E6,b=this.Ukb,c=b.length-1;return b.find((d,e)=>{const f=d.Ofa;d=f+d.durationUs;e=e===c;
return a>=f&&(a<d||e&&a===d)})?.page}constructor(a,b,c,d,e){this.WWh=a;this.kyb=b;this.Oua=c;this.If=d;this.oXa=e;this.Ukb=(lNs.G(this),[]);this.type="COMPOSITE"}};var fNs=class{static G(a){O(a,{vla:zV.ref,Overlay:oV})}get djf(){return this.vla.type}get ya(){return this.vla.iJd?.ya}get nextPage(){return this.vla.iJd?.nextPage}get VC(){return this.vla.VC}get configuration(){return this.vla.configuration}get gHe(){return this.vla.gHe}get Overlay(){if(this.vla&&this.vla.VC)return this.vla.type==="ANIMATE"?this.m0o:this.o5o}destroy(){this.vla.r_j()}GLe(a){return this.vla.iJd?.GLe(a)}setActive(a){a=a==="COMPOSITE"&&this.dPj?this.dPj:this.AQp;const b=a.type===this.vla.type;
b||(this.vla.r_j(),this.vla=a);return!b}constructor(a,b){this.AQp=a;this.m0o=b;fNs.G(this);this.vla=a}};var K7s=hV(({tDh:a,store:b,children:c})=>b.box?mV("div",{className:"fW2NvA",style:{left:b.box.left,top:b.box.top,width:b.box.width,height:b.box.height},children:[c({box:b.box}),a&&fV("div",{className:"_57TYTg",children:fV(a,{})})]}):null),eNs=hV(({uc:a,S_:b,L:c,Wnb:d,wAa:e,...f})=>{kV(()=>{c.eSk()},[c]);return fV(K7s,{...f,children:({box:g})=>fV(b,{Wnb:d,uc:a,dia:g,Nfe:1,Bfd:1,wAa:e})})}),mNs=hV(({SEh:a,L:b,...c})=>{kV(()=>{b.eSk()},[b]);return fV(K7s,{...c,children:({box:d})=>fV(a,{X3b:!1,width:d.width,
height:d.height})})});var L7s=class{reaction(a,b){sa(!this.L_a,"Cannot call BufferingTracker::reaction() twice");this.L_a=!0;this.Nqc=a;this.effect=b;this.ox.push(gV(a,c=>{c?this.KIl=Date.now():this.FNk+=Date.now()-this.KIl}),gV(a,c=>{if(this.isBuffering!==c){var d=Date.now(),e=this.gSh,f=0,g=()=>{this.isBuffering=c;XMs(this,e);YMs(this,d,f++)};c?(g(),this.gSh=window.setInterval(g,this.heartbeatInterval)):this.gSh=window.setTimeout(()=>{clearTimeout(this.Pwk);g()},this.oHj)}}));return()=>{this.dispose()}}dispose(){for(const a of this.ox)a();
XMs(this);clearTimeout(this.Pwk)}constructor(){this.zd={};this.Bf=this.zd.Bf??Qb();this.rlo=this.zd.rlo??Date.now();this.oHj=this.zd.oHj??1E3;this.heartbeatInterval=this.zd.heartbeatInterval??5E3;this.Pwk=this.gSh=this.FNk=this.KIl=0;this.L_a=this.isBuffering=!1;this.ox=[]}},M7s=(a,b)=>{(new L7s).reaction(a,b)};var hNs=class{static G(a){O(a,{rmc:zV.ref,bvb:zV.ref,stop:iV.bound,VRa:iV.bound,play:iV.bound,eSk:iV.bound,pause:iV.bound,Jbl:iV.bound,oRe:oV,L6e:iV.bound,j3e:iV.bound,seek:iV.bound,ESk:iV.bound,IQc:iV.bound,mhe:iV.bound,gxl:iV.bound})}get Stf(){return this.od.oAb(this.document)}configure(a={}){return this.nI.vla.hxm(a,()=>this.stop())}create(){const a=this.nI.vla.rma();this.JUe();this.disposables=[gV(()=>a.currentTime,b=>{const c=this.nI.ya;c&&(bNs(this,c,this.viewport.ya)||this.lL(c));this.IQc(b);
b>a.duration&&(this.FIf.get()||this.Jbl({ended:!0}))})];return a}stop(){if(this.nI.VC){$Ms(this);var a=this.uPa();this.t_?.HSm({ff:a});this.Sfe?.stop(this.store.currentTime,this.nI.VC.duration,2);this.disposables.forEach(b=>b());this.disposables=[];this.Sqi=this.C7e=!1;this.nI.destroy()}}lL(a){var b=this.selection.Ma?.Rz;b=a||b?.page||this.Dx.Ezd(this.store.currentTime,this.rmc);this.viewport.ya===b||a===void 0&&!this.nI.VC||this.viewport.Uw(b)}VRa(a,b=!1){this.u4a.track(EKs,{...a,action:this.nI.VC&&
this.store.Qf?"pause":"play"});this.rmc=!1;this.nI.VC?this.store.Qf||this.store.xa?(this.pause(),b=this.Dx.Ezd(this.store.currentTime,this.rmc),this.lL(b)):(aNs(this,"COMPOSITE"),ZMs(this),this.JUe(),this.Gyl(b),this.play(),this.Sfe?.Cgk(this.store.currentTime)):(aNs(this,"COMPOSITE"),this.t_?.v3i(),this.t_?.t3i({ff:this.uPa()}),this.C7e=!0,a=this.create(),this.Gyl(b),a.resume(),this.nI.VC&&!EV(this.Dx,this.viewport.ya)&&((this.store.currentTime*1E3|0)>=(this.nI.VC.duration*1E3|0)-1?(this.seek(0),
this.lL(this.Dx.Ezd(0))):this.lL(this.Dx.Ezd(this.store.currentTime))),this.Sfe?.Cgk(this.store.currentTime))}Gyl(a){const b=this.nI.vla.VC;b&&b.XQb(a?0:1)}play(){const a=this.nI.vla.VC;a&&(this.FIf.get()&&a.currentTime>a.duration&&a.seek(0),this.t_?.v3i(),this.store.Qf||this.t_?.t3i({ff:this.uPa()}),a.resume(),a.play(),this.Sqi=!1)}JUe(){this.nI.vla.VC?.duration===this.store.currentTime&&this.IQc(0);this.nI.vla.VC?.currentTime!==this.store.currentTime&&this.seek(this.store.currentTime)}eSk(){this.C7e&&
(this.C7e=!1,aNs(this,"COMPOSITE"),this.JUe(),this.play())}pause(a={seeking:!1,ended:!1}){this.nI.VC?.pause({seeking:a.seeking});this.C7e=!1;a.seeking||(this.t_?.eHe({i0:a.ended?"ended":"paused",ff:this.uPa()}),this.Sfe?.stop(this.store.currentTime,this.nI.vla.VC?.duration||0));this.Sqi=a.seeking}Jbl(a={ended:!1}){this.seek(this.nI.vla.VC!=null?Math.min(this.nI.vla.VC.currentTime,this.nI.vla.VC.duration):0);this.rmc=!1;this.pause({ended:a.ended,seeking:!1})}get rfd(){return this.boa.rfd.get()}get oRe(){return this.boa.rfd.get()!=
null}L6e(a){this.boa.rfd.set(Math.floor((a?.time??this.store.currentTime)*1E6));a?.direction&&(this.rmc=a.direction==="end")}j3e(a){this.oRe&&(this.boa.rfd.set(void 0),this.nI.vla.VC&&this.IQc(this.nI.vla.VC.currentTime,a))}aMi(){const a=this.boa.rfd.get();if(a){var b=this.boa.pjd;return{TEa:a,Ljd:a===0?0:b,j7c:b}}}seek(a,b){this.nI.vla.VC&&this.t_?.SHl({ff:this.uPa()});aNs(this,"ANIMATE");a=Math.max(a,0);this.Sfe?.seek(this.store.currentTime,a);ZMs(this);this.IQc(a,b);(this.nI.vla.VC||this.create()).seek(a,
{NHf:this.C7e})}ESk(a,b,c){const d=this.nI.vla.VC||this.create();this.seek(Math.max(0,Math.min(this.store.currentTime+(b==="forwards"?1:-1)*a,d.duration)));this.u4a.track(EKs,{action:"seek",mb:c})}IQc(a,b){this.oRe||(this.store.fH=a*1E6,b&&(this.rmc=b==="end"))}FSk(a,b){const {Ofa:c,durationUs:d}=this.Dx.aza(a);this.IQc((b==="end"?c+d:c)/1E6,b)}mhe(){this.bvb=null}uPa(){return this.nI.djf==="COMPOSITE"?"composite_player":"document_animation_engine"}I3i(a){const b=this.oRe?"trim":"playhead_drag";a?.dNm?
this.t_?.BNn({hw:b}):this.t_?.RHl({ff:this.uPa(),hw:b})}j9h(){this.t_?.iEg({ff:this.uPa(),i0:"ended"})}gxl(a){this.store.rpi=a}constructor(a,b,c,d,e,f,g,h,k,l,n,p,q,r,t,v,w,x){this.store=a;this.document=b;this.od=c;this.viewport=d;this.selection=e;this.Dx=f;this.nI=g;this.AVb=h;this.gO=k;this.u4a=l;this.boa=n;this.ui=p;this.vQe=q;this.pg=r;this.Sfe=t;this.t_=v;this.yV=w;this.FIf=x;this.disposables=(hNs.G(this),[]);this.eHk=this.Sqi=this.C7e=!1;this.jph=!0;this.rmc=!1;this.bvb=null;gV(()=>!a.xa&&!a.Qf,
y=>{!this.Sqi&&y&&(this.eHk=!0)});gV(()=>!a.xa&&a.Qf,y=>{y&&this.t_?.YDg()});gV(()=>d.uh&&{Hg:e.Ma?.Hg,ya:d.ya},(y,z)=>{if(this.jph&&f.Rib&&y){var B=y.Hg;if(B){if(y=e.Ma?.inner,z=y?.type==="group"?y?.group:void 0,y=e.Ma?.Rz)switch(y.type){case "fixed-page":var C=z;y=y.page;var G=this.store.fH;const {Ofa:H,durationUs:K}=this.Dx.aza(y);z=H+K;const {startUs:L,durationUs:N}=eXa(B,y,K,C);C=(this.FIf.get()?0:this.od.Iac(this.document,y))+L;B=Math.max(H,Math.min(C,z));C=Math.max(H,Math.min(C+N-1,z));if(B>=
G||G>=C)B=Math.abs(B-G)<Math.abs(C-G)?B:C,this.IQc(B/1E6,B<z?"start":"end"),this.lL(y);break;case "concatenated-fixed-page":case "responsive-page":break;default:throw new u(y);}}else if(y.ya!==(z&&z.ya)){B=this.store.currentTime;G=this.store.fH;y=this.viewport.ya;const {Ofa:H,durationUs:K}=this.Dx.aza(y);!(G>=this.Stf&&this.document.pages.last()===y)&&(y=G<H||G>H+K||!this.rmc&&G===H+K,z=!1,this.ui.get()&&this.vQe.get()&&(y=G<=H,z=G>=H+K),G=this.nI.ya&&!this.document.pages.has(this.nI.ya),y||z||G)&&
(this.stop(),y?this.IQc(H/1E6,"start"):z?this.IQc((H+K)/1E6,"end"):this.IQc(B,"start"))}}});gV(()=>{if(!this.nI.gHe?.page)return this.Stf,a.pages},y=>y&&cNs(this,y.map(z=>z.page)));gV(()=>this.Stf,y=>{if(a.fH>y){const z=this.document.pages.last(B=>EV(this.Dx,B));if(z!=null){const {durationUs:B,Ofa:C}=f.aza(z);a.fH=Math.min(B+C,y)}this.stop()}});gV(()=>!a.xa&&!a.IJ||!this.nI.vla.VC,y=>{y&&this.t_?.t2d({ff:this.uPa(),i0:this.nI.vla.VC?"ended":"disrupted"})});gV(()=>a.xa,y=>{y?(this.Sfe?.startBuffering(this.store.currentTime),
this.t_?.u3i({ff:this.uPa()})):(this.Sfe?.h8a(),this.t_?.ZDg())});gV(()=>a.Pdf,y=>{if(y){this.Sfe?.error();var z=this.nI.djf==="COMPOSITE";this.t_?.eNn({uWs:z,ff:this.uPa(),aLc:y});z&&(a.VNg=z,aNs(this,"ANIMATE"),ZMs(this),this.JUe(),this.nI.dPj?.spe&&this.play())}});gV(()=>this.AVb?.isSupported(),async y=>{y=await y;a.Zoi=!!y},{fireImmediately:!0});M7s(()=>a.xa,y=>{this.u4a.track(VSs,{...y,location:"timeline_canvas_preview"})})}};var gNs=class{static G(a){O(a,{rpi:zV.ref,fH:oV,VC:oV,Qf:oV,xa:oV,IJ:oV,pages:oV({equals:nV.shallow}),box:oV.struct,Pdf:oV,IVj:oV})}get currentTime(){return this.fH/1E6}get fH(){return this.timing.drf}set fH(a){this.timing.drf=a}get pbf(){const a=this.viewport.Vg;return this.Lk.Yu&&a.type==="fixed-page"?this.od.xb(a.ia):this.od.oAb(this.document)}get VC(){return this.nI.VC}get Qf(){return this.VC?.paused===!1}get xa(){return!!this.VC?.loading}get IJ(){return!!this.VC?.seeking}get pages(){const a=
this.nI.configuration;return a?.page?[a.page]:this.document.pages.filter(b=>__c.pm(b,this.document)).map(b=>this.Ai.xb(b))}get box(){if(this.viewport.uh&&this.viewport.ya&&this.document.pages.has(this.viewport.ya)){var a=this.viewport.lS(this.viewport.Vg);return a&&a.transform(this.viewport.jda()).Nb()}}get Pdf(){return this.VC?.errorMessage??void 0}get IVj(){return this.nI.djf}constructor(a,b,c,d,e,f,g){this.document=a;this.Ai=b;this.viewport=c;this.od=d;this.timing=e;this.Lk=f;this.nI=g;this.rpi=
(gNs.G(this),void 0);this.VNg=this.Zoi=!1}};var ANs=(a,b,c)=>{const d=lV(null),e=lV(b),f=lV(c),g=lV(0);wTs(()=>{var h=b!==e.current||c!==f.current;e.current=b;f.current=c;h&&(h=g.current,h=(d.current?.getBoundingClientRect().left??0)-h,h!==0&&a.scrollBy({XXg:h,behavior:"instant"}))},[a,b,c]);kV(()=>gV(()=>[a.scrollLeft,a.clientWidth],Db(()=>{g.current=d.current?.getBoundingClientRect().left??0},50)),[a]);return d};var pNs=class{static G(a){O(a,{DKh:zV.ref,oLh:zV.ref,s0c:zV.ref,vKh:zV.ref,MEb:iV.bound,qje:iV.bound,s1b:iV.bound,HC:iV.bound,zna:iV.bound})}get LW(){return this.oLh}get Zgn(){return this.vKh}get uK(){return this.DKh}get isActive(){return this.s0c}MEb(a){this.s0c=a}get GJ(){return this.Lk.mode==null||this.Lk.mode===1}set GJ(a){a=a?1:__c.Yvg(this.Lk)?3:2;this.Lk.gR(a)}qje(a,b){if(a!==this.GJ){var c=this.V.wb("set_fixed_width");this.gag.s1b({wbh:"current_page"});this.GJ=a;setTimeout(()=>{c.addEvent("timeline_zoomed");
this.gag.nsl();this.gag.zna();c.qe({tx:({Oi:d})=>qHs(this.N,{GJ:a,Tb:d(),mb:b})})},0)}}s1b(a){if(!this.disabled){this.vKh=this.LW;this.DKh=!0;this.MEb(!0);a&&this.gag.s1b(a);var b=this.zCc?.isRecording()?this.zCc:this.V.wb("zoom",{Hb:{name:"timeline.zoom",performance:{NU:!0}}});setTimeout(()=>b.addEvent("zoom_start"));this.zCc=b}}HC(a){this.oLh=Math.min(Math.max(Math.round(a*100)/100,.1),5);BV.m6j&&this.gag.nsl()}zna(a){if(!this.disabled){this.DKh=!1;this.gag.zna();var b=m(this.vKh);this.vKh=void 0;
var c=Math.round(this.oLh*100),d=Math.round(b*100);if(c===d)this.zCc?.end();else{var e=c>d?"zoom_in":"zoom_out";this.zCc?.addEvent("zooming");this.zCc?.ob().wk(({Oi:f})=>oHs(this.N,{action:e,previous:d,current:c,mb:a,Tb:f()}));this.zCc?.qe()}}}get disabled(){return this.Gwo.value}KOa(a){return this.Gwo.add(a)}constructor(a,b,c,d){this.Lk=a;this.V=b;this.N=c;this.gag=d;this.DKh=(pNs.G(this),!1);this.oLh=.6;this.s0c=!1;this.Gwo=new __c.vk;this.min=.1;this.max=5}};var qNs=class{static G(a){O(a,{Nkf:iV.bound})}QDg(){this.container?.addEventListener("wheel",this.b9g)}rxg(){this.container?.removeEventListener("wheel",this.b9g)}Nkf({delta:a,Li:b}){const c=this.XH,d=c.HC,e=c.LW,f=c.s1b;c.uK?d(e*N7s**-Math.min(25,Math.max(-25,a))):f({wbh:"cursor",Li:b});this.c9g()}constructor(a){this.XH=a;this.container=(qNs.G(this),void 0);this.PCd=!1;this.Gq=b=>{b?(this.container=b,this.container.addEventListener("wheel",this.l7g,{passive:!0}),this.QDg()):(this.container?.removeEventListener("wheel",
this.l7g),this.rxg(),this.container=void 0)};this.l7g=b=>{if(!b.ctrlKey&&!b.metaKey||this.PCd)this.rxg(),this.PCd=!0,this.y4k()};this.y4k=Db(()=>{this.PCd=!1;this.QDg()},80);this.b9g=b=>{!b.ctrlKey&&!b.metaKey||this.PCd||(b.preventDefault(),this.Nkf({delta:b.deltaY,Li:b.clientX}))};this.c9g=Db(()=>this.XH.zna("scroll"),200)}},N7s=2**.01;var nNs=class{};var rNs=a=>{const b=a.wNs,c=a.fwt.LW,[d,e]=qV(c);kV(()=>{d!==c&&(!BV.m6j&&b.nsl(),e(c))},[d,c,b])};var oNs=class{constructor(a,b){this.config=a;this.qp=b;this.xbh=this.bdl=0;this.s1b=c=>{c.wbh==="cursor"&&m(this.config.O9q).hide();var d=m(this.config.msl);const e=m(this.config.timeline);d=d.scrollLeft;a:{const {scrollLeft:g,clientWidth:h,g3b:k}=m(this.config.msl),{N7q:l,x5d:n,q9q:p,MLe:q,sXq:r}=m(this.config.timeline);switch(c.wbh){case "playhead_or_center":c=l()||0;var f=q(c);c=g<=f&&f<g+h?c:n(g+h/2-k);break a;case "pinch_centre":case "cursor":c=n(c.Li-r.get())||0;break a;case "current_page":c=
p();f=q(c);c=g<=f&&f<g+h?c:n(g);break a;default:throw new u(c);}}this.xbh=c;this.bdl=e.MLe(this.xbh)-d};this.nsl=()=>{if(this.xbh){var c=m(this.config.msl),d=m(this.config.timeline).MLe(this.xbh)-this.bdl,e=Math.abs(d-this.qp.scrollLeft)>500,f=d+this.qp.clientWidth>this.qp.scrollWidth;BV.FFq&&e||f?requestAnimationFrame(()=>c.scrollTo(d)):c.scrollTo(d)}};this.zna=()=>{this.bdl=this.xbh=0}}};var vNs=Uc*2;var ENs=({xa:a,Qfa:b,Oda:c,HX:d,currentTime:e,totalTime:f})=>fV(R,{Lb:"3u",children:fV(__c.Iu,{step:"any",onChange:d,onDragStart:b,onDragEnd:c,fillColor:"var(--v7HVIg)",disabled:a,min:0,max:f,value:e,ariaLabel:M("0sE/Rg"),eK:"none"})});var FNs=({f4i:a,LEp:b,LAp:c})=>mV(__c.xmh,{peh:["onTouchMove","onClick"],xyg:["touchmove","click"],TRc:a,children:[fV(R,{display:"flex",justifyContent:"center",width:"full",children:fV(b,{})}),fV(c,{})]});var DNs=class{static G(a){O(a,{x7e:zV.ref,u6f:iV.bound,f4i:iV.bound,HX:iV.bound,Qfa:iV.bound,Oda:iV.bound,bvo:iV.bound,IEb:iV.bound,bof:iV.bound})}u6f(){this.selection.deselectAll();this.Qia.Qf?this.onPause():this.onPlay()}f4i(){this.rfl?this.rfl=!1:(this.TDf=!0,this.Qia.stop())}HX(a){this.selection.deselectAll();this.Qia.seek(a,"start")}Qfa(){this.UIk=!0;this.Qia.Eza(!0);this.Qia.n6f("pause")}Oda(){this.UIk=!1;this.Qia.Eza(!1);if(!this.TDf)this.onPlay()}bvo(){this.fEj?.();this.fEj=gV(()=>({Qf:this.Qia.Qf,
x7e:this.x7e,$l:this.selection.Ma}),({Qf:a,x7e:b,$l:c})=>{if(!(!(b||Math.abs(this.Qia.pbf-this.Qia.fH)<1E3)||a||this.UIk||this.TDf||c&&c.type!=="audio"))this.onPlay()},{fireImmediately:!0,delay:200})}IEb(a){this.Qia.n6f("pause");a&&(this.HX(0),this.fEj?this.rfl=!0:this.bvo(),this.TDf=!1);this.x7e=a}bof(){this.fEj?.()}onPlay(){this.TDf=!1;this.Qia.n6f("play",Math.abs(this.Qia.pbf-this.Qia.fH)<1E3?0:this.Qia.fH/1E6)}onPause(){this.TDf=!0;this.Qia.n6f("pause")}constructor(a,b){this.selection=a;this.Qia=
b;this.x7e=(DNs.G(this),!1);this.rfl=this.UIk=this.TDf=!1}};var JNs=()=>({Mhf:oc(),Nfg:oc(),jDc:oc(),lnb:oc(),Dag:oc(),Transition:oc()});var O7s=()=>M("xaQmSA"),P7s=()=>M("9k0wIg"),Q7s=()=>M("BKisJQ"),R7s=()=>M("GbsBKQ"),S7s=()=>M("qp1Uvw"),T7s=()=>M("+EMFFg");var LNs=({items:a,size:b="m",shape:c="square",fill:d,L4k:e})=>{const [f,g]=qV(!1),h=lV(!1);kV(()=>{h.current!==f&&e&&(e(f),h.current=f)},[f,e]);const k=jV(p=>{p.stopPropagation();g(q=>!q)},[]),l=jV(()=>{g(!1)},[]),n=jV(p=>()=>{g(!1);setTimeout(()=>{p()},0)},[]);return a.length===0?null:fV("div",{className:"NtPcOw",children:fV(R,{padding:b==="s"?"0":"1u",display:"flex",alignItems:"center",children:fV(__c.Ho,{width:"auto",open:f,placement:"top-center",oa:l,reference:()=>fV(__c.Pt,{onClick:k,padding:b===
"s"?"0.5u":"1u",border:c==="round"?"standard":void 0,className:b==="s"?"GQqDkg":"_2QMtvg",ib:f?void 0:M("s8P06Q"),ek:"top",children:fV(Gu,{size:b==="s"?"small":"medium"})}),arrow:!0,children:fV(Qo,{role:"menu",children:a.map(p=>p.kyi?fV(U7s,{...p.kyi,onClick:q=>n(()=>p.kyi?.onClick(q,d))(q)},p.id):null)})})})})},V7s=a=>{switch(a){case "photoIcon":return"O0iITQ";case "videoIcon":return"P9852A";case "uploadIcon":return"D_Js0Q";case "mediaIcon":return"AllClQ";case "blankIcon":return"AllClQ";case "transitionIcon":return"AllClQ";
default:return""}},U7s=({icon:a,$nc:b,label:c,onClick:d})=>fV(St,{start:fV("div",{className:DV("ekUHwg",V7s(b)),children:fV(a,{size:"medium"})}),onClick:d,children:c});var HNs={get jDc(){return{icon:__c.Ku,FBf:O7s,$nc:"photoIcon"}},get Nfg(){return{icon:__c.XC,FBf:P7s,$nc:"videoIcon"}},get Mhf(){return{icon:__c.wz,FBf:Q7s,$nc:"uploadIcon"}},get lnb(){return{icon:__c.nKn,FBf:R7s,$nc:"mediaIcon"}},get Dag(){return{icon:__c.QA,FBf:S7s,$nc:"blankIcon"}},get Transition(){return{icon:Ops,FBf:T7s,$nc:"transitionIcon"}}},W7s=class{static G(a){O(a,{config:oV,kyi:oV,PR:oV})}get config(){return this._config.get()}get kyi(){const a=this.config;if(a){var b=INs(this);if(b)return{icon:b.icon,
label:b.FBf(),onClick:a.onClick,$nc:b.$nc}}}get PR(){return!!this.config}constructor(a){this.id=(W7s.G(this),void 0);this.id=a.id;this._config=a.eUa;this.priority=a.priority??0}};var KNs=class{static G(a){O(a,{s4:oV.struct})}get s4(){return Object.values(this.iXg).filter(a=>a.PR).sort((a,b)=>a.priority-b.priority)}constructor(a){this.config=a;this.iXg=(KNs.G(this),void 0);this.iXg={Mhf:new W7s({id:"Uploads",eUa:oV(()=>a.Mhf),priority:0}),Nfg:new W7s({id:"Videos",eUa:oV(()=>a.Nfg),priority:1}),jDc:new W7s({id:"Photos",eUa:oV(()=>a.jDc),priority:2}),lnb:new W7s({id:"Media",eUa:oV(()=>a.lnb),priority:3}),Dag:new W7s({id:"Blank",eUa:oV(()=>a.Dag),priority:4}),Transition:new W7s({id:"Transition",
eUa:oV(()=>a.Transition),priority:5})}}};var X7s=()=>{const a=jV(b=>{b.stopPropagation();b.preventDefault()},[]);return fV("div",{className:"QTiwOg",onClick:a,onPointerMove:a,onPointerLeave:a,onPointerMoveCapture:a,onTouchMove:a,onTouchStart:a,onTouchEnd:a,onTouchStartCapture:a,onTouchMoveCapture:a,onTouchEndCapture:a})};var Y7s=hV(a=>{const b=a.yi,c=a.store,d=a.L;a=c.F$?J("TGjIVQ",[c.VL]):M("dC44Ug");return fV(b,{onClick:()=>d.GKo(c),icon:__c.aAj,zh:"icon",disabled:!c.mO,pressed:c.F$,tooltip:a,XEa:a,children:a})});var Z7s=({document:a,Jd:b,selection:c,P:d,store:e,L:f,jx:g,Gj:h,Kc:k})=>{const l=()=>{const p=!g.GJ&&h.fq==="thumbnail",q=c.Ma&&c.Ma.type==="pages"&&!c.Ma?.inner&&c.Ma?.Ri();return(p||e.ui)&&q&&!k.DNa},n={document:a,store:e,P:d,L:f};gV(l,p=>{b.plugins.$Hb=p?()=>({Sd:()=>!(!l()||!e.ui),Button:q=>fV(Y7s,{...q,...n})}):void 0})};var $7s=hV(({Q2a:a,fq:b,pg:c,onClick:d,onMouseDown:e,onMouseUp:f})=>{const g=c.gfj;c=c.Uag;a=mV(uV,{children:[g&&fV(g,{}),fV(a,{active:b==="thumbnail",tk:!0,icon:__c.Sdr,onClick:d,ib:b==="thumbnail"?M("L7Dryw"):M("6ds0BA"),onMouseDown:e,onMouseUp:f,children:M("Te3Qhw")})]});return c&&b==="thumbnail"?fV(c.Om,{children:a}):a});var a8s=class{static G(a){O(a,{gTg:zV.ref,isMouseDown:zV.ref,KLn:iV.bound,vLn:iV.bound,pNj:iV,iUn:iV.bound,jUn:iV.bound})}KLn(){const a=this.V.wb("view_mode_changed",{Hb:{name:"editor.view_mode_changed"}});this.gTg=!1;this.viewport.uE(this.viewport.Vg);this.Gj.fq="thumbnail";this.SKm.set(!0);this.pg.Uag?.rh();a.ob().wk(({Oi:b})=>{lHs(this.kCc,{fq:"thumbnail_view",txc:"scrolling_view",mb:"click",Tb:b()})});tb.rd?(a.setAttribute("use_animations",!0),setTimeout(()=>{a.qe()},S4s)):(a.setAttribute("use_animations",
!1),a.qe())}vLn(){const a=this.V.wb("view_mode_changed",{Hb:{name:"editor.view_mode_changed",performance:{NU:!0}}});this.pg.Uag?.rh();a.ob().wk(({Oi:b})=>{lHs(this.kCc,{fq:"scrolling_view",txc:"thumbnail_view",mb:"click",Tb:b()})});tb.rd?(a.setAttribute("use_animations",!0),this.gTg=!0,setTimeout(()=>{this.pNj();a.qe()},S4s)):(a.setAttribute("use_animations",!1),this.pNj(),a.qe())}pNj(){this.Gj.fq="scroll";this.SKm.set(!0);this.gTg=!1}iUn(){this.isMouseDown=!0}jUn(){this.isMouseDown=!1}constructor(a,
b,c,d,e,f){this.viewport=a;this.Gj=b;this.pg=c;this.Pa=d;this.kCc=e;this.V=f;this.gTg=(a8s.G(this),!1);this.isMouseDown=!1;this.SKm=zV.box(!1);this.Pa.etf(()=>this.isMouseDown)}};var b8s=class{aNo({mb:a,ob:b,Vke:c}){__c.ONs(this,{action:"add",mb:a,ob:b,Vke:c,U$e:c})}vRl(){this.N.track(__c.uWg,{location:"page_manager"})}bNo({Yb:a,mb:b}){this.N.track(__c.Nlh,{Yb:a.toString(),mb:b})}constructor(a){this.N=a}};var c8s,d8s,e8s,f8s;
new (c8s=class extends JV{constructor(){super(f8s);d8s()}},(()=>{class a extends(e8s=IV){static G(b){O(b,{onClick:iV.bound})}render(){return fV(this.props.tF,{onClick:this.onClick,CB:this.props.config.active,wZ:__c.JBr,children:M("PMajWQ")})}onClick(){const b=this.props.config;var c=this.props.Gj;const d=this.props.onClick,e=this.props.oa,f=this.props.N;d();c=c.fq==="thumbnail"?"thumbnail_view":"scrolling_view";lHs(f,{fq:b.active?c:"grid_view",txc:b.active?"grid_view":c,mb:"file_menu"});e&&e()}constructor(...b){super(...b);
a.G(this)}}({c:[f8s,d8s]}=KV(a,[],[Lb],e8s))})(),c8s);var g8s,h8s,i8s=class extends IV{componentDidMount(){Gb(this,Sus(()=>{const a=this.props.config.active,b=this.Wi.current;a&&(this.XYn=!0);b&&!a&&this.XYn&&b.focus()},{scheduler:requestAnimationFrame}))}render(){const a=this.props.config,b=this.props.pg,c=this.props.Q2a,d=this.props.onClick,e=this.props.loading,f=this.props.disabled;return mV("div",{className:"IEWxtg",children:[b?.JJh&&fV(b.JJh,{}),fV(c,{Wi:this.Wi,ib:a.active?M("uOeEsg"):M("Agz4jg"),className:DV("pnGOPw"),icon:__c.JBr,loading:e,onClick:d,
active:a.active,tk:!0,disabled:f})]})}constructor(...a){super(...a);this.Wi=pV();this.XYn=!1}};({c:[h8s,g8s]}=KV(i8s,[],[Lb],IV));g8s();var j8s=class{static G(a){O(a,{$5b:zV.ref})}constructor(){this.$5b=(j8s.G(this),void 0)}},k8s=class extends j8s{static G(a){O(a,{active:zV.ref,OLi:zV.ref,Overlay:zV.ref})}constructor(...a){super(...a);this.active=(k8s.G(this),!1);this.OLi=0}};var l8s=class{fqo(a){this.Zod=a}constructor(a){this.config=a;this.Zod=void 0;this.O8a=async b=>{this.Zod&&await this.Zod();rV(()=>{this.config.OLi=b})};this.Lme=async()=>{const b=!this.config.active;b&&this.Zod&&await this.Zod();rV(()=>{b&&this.O8a(0);this.config.active=b})}}};var m8s=({isActive:a,Jzr:b})=>fV("span",{className:DV("Wo8dEg",{znpHJQ:a,fxZSqw:b})}),QNs=({hs:a,tJa:b,onNext:c,tYe:d})=>{const [e,f]=qV(1);kV(()=>{a<e?f(a):a>=e+5&&f(a-5+1)},[e,a]);const g=AV(()=>Array.from({length:Math.min(e+5-1,b)-e+1},(h,k)=>e+k),[e,b]);return mV(ar,{columns:3,Fa:"center",children:[mV(R,{display:"flex",justifyContent:"start",children:[fV(Wi,{variant:"tertiary",icon:lr,onClick:d,disabled:a<=1,size:"small",ariaLabel:M("a9/EUw")}),fV(Wi,{variant:"tertiary",icon:mr,onClick:c,disabled:a>=
b,size:"small",ariaLabel:M("OmU55Q")})]}),fV(R,{display:"flex",alignItems:"center",justifyContent:"center",children:g.map((h,k)=>{const l=h===a;k=k===0||k===g.length-1;return fV(m8s,{isActive:l,Jzr:!l&&k&&b>5},h)})}),fV(R,{display:"flex",justifyContent:"end",children:fV(Q,{size:"small",weight:"bold",children:J("PSmC9g",[a,b])})})]})};var PNs=class{static G(a){O(a,{O6m:iV.bound,R6m:iV.bound,hs:oV,tJa:oV})}O6m(){this.Sha(this.OVj+1)}R6m(){this.Sha(this.OVj-1)}get hs(){return this.OVj+1}get tJa(){return this.document.pages.toArray().length}Sha(a){const b=this.document.pages.toArray();a>=0&&a<b.length&&this.viewport.uE(this.Ai.xb(b[a]))}get OVj(){return this.document.pages.toArray().indexOf(this.viewport.ya)}constructor(a,b,c){this.document=a;this.Ai=b;this.viewport=c;PNs.G(this)}};var n8s=hV(a=>{const b=a.uc,c=a.page;var d=a.Tc;const e=sg(4,a.hb.kl(c.page));if(ug(e))return null;a=e.width*d.scale;d=e.height*d.scale;return fV("div",{className:"_4zNepg",children:mV("div",{className:"QqGjMw",children:[fV(b,{page:c,vd:a,Df:d,jeb:!0}),fV(b,{page:c,vd:a,Df:d,jeb:!0})]})})});var o8s=class{static G(a){O(a,{vge:zV.ref,nXa:zV.ref,$Xc:zV.ref,Ade:zV.ref})}constructor(){this.vge=(o8s.G(this),void 0)}};var p8s=class{async vge(a){var b=a.selection;const c=a.vge;a=Tqs(this.document,a.selection.container.page,this.kb,b.elements,this.Fma,this.SF);const {wC:d,Gv:e}=await zqs(this.jQb,b.elements);b=this.document.pages.toArray().indexOf(b.Rz.page);c({Ja:a,wC:d,Gv:e},b+1);this.d5c.aBa({Xc:"export_selection",fW:[b]})}constructor(a,b,c,d,e,f,g,h){this.config=a;this.document=b;this.kb=c;this.selection=d;this.jQb=e;this.Fma=f;this.SF=g;this.d5c=h}},SNs=["https://app.flourish.studio/","https://public.flourish.studio/",
"https://flourish-user-preview.com/","https://flo.uri.sh/"];var XNs='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><defs><filter id="_1037106200__a" width="250%" height="250%" x="-75%" y="-66.7%" filterUnits="objectBoundingBox"><feMorphology in="SourceAlpha" operator="dilate" radius=".5" result="shadowSpreadOuter1"/><feOffset in="shadowSpreadOuter1" result="shadowOffsetOuter1"/><feColorMatrix in="shadowOffsetOuter1" result="shadowMatrixOuter1" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.20 0"/><feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter2"/><feGaussianBlur in="shadowOffsetOuter2" result="shadowBlurOuter2" stdDeviation="2.5"/><feColorMatrix in="shadowBlurOuter2" result="shadowMatrixOuter2" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/><feMerge><feMergeNode in="shadowMatrixOuter1"/><feMergeNode in="shadowMatrixOuter2"/></feMerge></filter><path id="_1037106200__b" d="M10 18.95a2.51 2.51 0 0 1-3-2.45v-7a2.5 2.5 0 0 1 2.74-2.49L10 7h6a3 3 0 0 1 3 3h-9v8.95z"/></defs><use fill="0d1216" filter="url(#_1037106200__a)" xlink:href="#_1037106200__b"/><use fill="currentColor" xlink:href="#_1037106200__b"/></svg>';var q8s=16/9,r8s=class{static G(a){O(a,{region:zV.ref,jhg:zV.ref,Jte:zV.ref,sfh:oV,lFd:oV({equals:__c.gk(nV.shallow)}),BEd:oV({equals:__c.gk(nV.shallow)}),aspectRatio:oV})}get sfh(){return this.config.$Xc?.get(this.viewport.ya)}get lFd(){if(hf(this.viewport.ya))return{x:0,y:0};if(this.sfh)return this.sfh.tl}get BEd(){if(!hf(this.viewport.ya)&&this.sfh)return this.sfh.br}get aspectRatio(){if(hf(this.viewport.ya))return q8s}constructor(a,b){this.config=a;this.viewport=b;this.region=(r8s.G(this),Lj(0,
0,0,0))}},s8s=class{static G(a){O(a,{aJo:oV,s9m:iV.bound,r9m:iV.bound,q9m:iV.bound,P9m:iV.bound,O9m:iV.bound,N9m:iV.bound})}get aJo(){if(this.config.Ade&&this.config.nXa){var a=this.config.nXa.get(this.viewport.ya);if(a){rV(()=>{this.store.region=a});var b=this.config.Ade;return{Ade:c=>{b(this.viewport.ya,c)},hm:()=>this.viewport.hm(this.viewport.Vg)}}}}s9m(a){this.store.jhg=a}r9m(a){if(this.store.jhg){var [b,c,d,e]=this.store.region.Ah(),f=b.x,g=b.y,h=e.x,k=e.y;switch(this.store.jhg){case "top-left":f=
a.x;g=a.y;a=e;break;case "top-right":h=a.x;g=a.y;a=d;break;case "bottom-left":f=a.x;k=a.y;a=c;break;case "bottom-right":h=a.x;k=a.y;a=b;break;default:throw new u(this.store.jhg);}this.store.lFd!=null&&(f=Math.max(f,this.store.lFd.x),g=Math.max(g,this.store.lFd.y));this.store.BEd!=null&&(h=Math.min(h,this.store.BEd.x),k=Math.min(k,this.store.BEd.y));h<=f+this.minWidth&&(a===b||a===d?h=f+this.minWidth:f=h-this.minWidth);var l=this.minWidth/(this.store.aspectRatio??1);k<=g+l&&(a===b||a===c?k=g+l:g=k-
l);f=Lj(f,g,h,k);if(this.store.aspectRatio!=null){let n;if(a===d||a===e)n=a.y;g=Math.max(f.width,this.minWidth);h=g/(this.store.aspectRatio??1);n&&h>n&&(h=n,g=h*(this.store.aspectRatio??1));f=f.resizeTo(a,g,h)}this.store.region=f}}q9m(a){this.store.jhg=void 0;a(this.store.region)}P9m(a,b){this.store.Jte={Oqa:a,Kia:b}}O9m(a){if(this.store.Jte){var b=this.store.Jte.Oqa;b=this.store.region.translate(a.x-b.x,a.y-b.y);var c=b.tl,d=b.br;this.store.lFd!=null&&(c.x<this.store.lFd.x&&(b=b.translate(this.store.lFd.x-
c.x,0)),c.y<this.store.lFd.y&&(b=b.translate(0,this.store.lFd.y-c.y)));this.store.BEd!=null&&(d.x>this.store.BEd.x&&(b=b.translate(this.store.BEd.x-d.x,0)),d.y>this.store.BEd.y&&(b=b.translate(0,this.store.BEd.y-d.y)));this.store.region=b;this.store.Jte.Oqa=a}}N9m(a){this.store.Jte&&(this.store.Jte.Kia(),this.store.Jte=void 0,a(this.store.region))}constructor(a,b,c,d=100){this.store=a;this.config=b;this.viewport=c;this.minWidth=d;s8s.G(this)}};var YNs=class{static G(a){O(a,{BCh:zV.shallow,Q6a:iV.bound})}async Q6a(a){this.BCh?this.BCh.L.X0k(a):this.mQc||(this.mQc=this.ZHr().then(b=>{rV(()=>{this.BCh=b;this.BCh.L.X0k(a)})}))}constructor(a){this.ZHr=a;this.BCh=(YNs.G(this),void 0)}};var t8s=Pb("51b692ce",!1);var u8s=Pb("5a89daf5",!1),v8s=Pb("2cd7bf1",!1);var w8s,x8s,y8s,z8s,A8s,B8s,C8s;
new (w8s=class extends JV{constructor(){super(C8s);y8s()}},(()=>{class a extends(z8s=IV){static G(b){O(b,{Oql:zV.ref,AHa:oV,ya:oV,B4c:oV,Ixo:oV})}componentDidMount(){const b=this.props.viewport,c=this.props.L;Gb(this,[gV(()=>b.uh&&b.nO?b.ey():void 0,d=>d&&c.lVb()),gV(()=>b.uh&&b.nO?b.ya:void 0,d=>{d&&((d=c.SKg(c.viewport.ya))&&c.Fmb(c.viewport.ya,d),d=void 0);return d},{scheduler:c.Frl})])}get AHa(){return this.props.direction==="horizontal"}get ya(){return this.props.viewport.ya}get B4c(){return this.props.L.SKg(this.ya)}get Ixo(){return bk(this.ya,this.props.document.dimensions)||
this.props.viewport.nO&&!hf(this.ya)}render(){const b=this.props.document,c=this.props.viewport,d=this.props.Uo,e=this.props.L,f=this.props.canDrag,g=this.props.tT,h=this.props.Fzp;if(!c.uh)return null;const k=this.ya,l=this.B4c,n=`${l}-${this.Oql}`,p=this.props.direction==="horizontal",q=DV("Jenr8g",{L_t7dw:p,aLiuUA:!p,hMlp2g:xc.SV,[this.mKa.get()]:f});return fV(__c.aPf,{canDrag:this.canDrag,onDragStart:this.onDragStart,pe:this.pe,onDragEnd:this.onDragEnd,ux:this.ux,Rze:!0,mKa:f?this.mKa:void 0,
children:({onTouchStart:r,onMouseDown:t})=>fV(ETs,{onResize:this.onResize,bounds:!0,children:({measureRef:v})=>mV("button",{ref:v,className:q,onTouchStart:r,onMouseDown:t,children:[p||c.nO?l&&this.Ixo&&fV(D8s,{document:b,viewport:c,L:e,id:l,page:k,AHa:p,l3g:!1,tT:g},n):b.pages.map((w,x)=>{const y=parseInt(x,10)===b.pages.count()-1;return bk(w,b.dimensions)&&fV(D8s,{document:b,viewport:c,Uo:d,L:e,id:x,page:w,AHa:p,l3g:y,tT:g},x)}),h&&fV(h,{})]})})})}constructor(...b){super(...b);this.Oql=(C8s.G(this),
0);this.isDragging=!1;this.onResize=c=>{if(!bk(this.ya,this.props.document.dimensions)){const d=m(c.bounds);rV(()=>{this.Oql=this.AHa?d.width:d.height;this.props.L.lVb()})}};this.onDragStart=c=>{var d=this.props.Dbc,e=this.props.direction==="horizontal"?1:2;const f=d.L.GIl();e=d.L.wMh(new pj(c.clientX,c.clientY),e,"drag_from_ruler");d.L.onDragStart(c,e,f);this.isDragging=!0};this.canDrag=()=>this.props.canDrag;this.pe=c=>{this.isDragging&&this.props.Dbc.pe(c)};this.ux=c=>{this.isDragging&&this.props.Dbc.ux(c)};
this.onDragEnd=()=>{this.isDragging&&this.props.Dbc.onDragEnd();this.isDragging=!1};this.mKa=oV(()=>__c.Xx(new __c.E6g(this.AHa?0:90)))}}({c:[C8s,y8s]}=KV(a,[],[Lb],z8s))})(),w8s);var D8s;
new (x8s=class extends JV{constructor(){super(D8s);A8s()}},(()=>{class a extends(B8s=IV){static G(b){O(b,{visible:zV.ref,IR:iV.bound,BLd:oV,increment:oV,XZf:oV({equals:nV.shallow}),zeo:oV,nkm:oV,NIl:oV,segments:oV,A8d:oV})}componentDidMount(){const b=this.props.page,c=this.props.id,d=this.props.viewport,e=this.props.document,f=this.props.L,g=bk(b,e.dimensions);Gb(this,[gV(()=>({dimensions:this.BLd,qf:e.pages.count(),Qq:d.Qq,fTg:!this.props.tT.get()}),()=>{f.Fmb(b,c)},{scheduler:g?f.Frl:void 0,equals:nV.structural})]);
this.props.Uo?Gb(this,[this.props.Uo.observe(this.yeo.current,this.IR)]):this.IR(!0)}get BLd(){var b=this.props.L,c=this.props.page;const d=ck(c,b.document.dimensions);if(bk(c,b.document.dimensions))b={...d,top:0,left:0,zoom:b.viewport.lT(c),HUg:!1};else if(b.HIq)if(b.store.IRg!==void 0){const {width:e=0,height:f=0,top:g=0,left:h=0}=b.store.NR?.Nb()??{};c=b.viewport.zoom.scale;b={width:e/c,height:f/c,units:d.units,top:g,left:h+(b.fj?e||0:0),zoom:c,HUg:!1}}else b=fOs(b,c,d);else b=fOs(b,c,d);return b}get increment(){a:{var b=
this.BLd;var c=b.units;b=b.zoom;for(const d of E8s)if(b*d*Bv(c)>=34){c=d;break a}c=E8s[0]}return c}get XZf(){{var b=this.BLd;var c=this.increment,d=b.width,e=b.height;const f=b.units;e=this.props.AHa?d:e;e===0?b={WZf:0,S4e:0}:(d=Math.floor(e/c),c=d===0?34:c*Bv(f)*b.zoom,b={WZf:Math.max(e*Bv(f)*b.zoom-d*c>c/2?d+1:d,1)+1,S4e:c})}return b}get zeo(){return aOs(this.props.L,{...this.XZf,AHa:this.props.AHa,BLd:this.BLd,l3g:this.props.l3g})}get nkm(){return this.XZf.S4e>51?4:1}get NIl(){var b=this.BLd,c=
this.increment;const d=this.props.AHa?b.left:b.top;return b.HUg?Math.floor(d/c)*c:0}get segments(){return this.props.L.getSegments(this.NIl,this.increment,this.XZf.WZf,this.XZf.S4e)}get A8d(){return this.props.L.A8d}render(){const b=this.nkm,c=this.zeo,d=this.segments,e=this.props.AHa,f=this.XZf.S4e;var g=bOs(this.props.L,this.props.page,this.props.id,this.BLd,this.NIl,e);const h=e?g:0;g=e?0:g;const k=DV("_2FlpPA",{_9gZ9sA:this.A8d,Mfjqtw:this.props.l3g}),l={width:e?f:void 0,height:e?void 0:f};return fV("span",
{ref:this.yeo,className:"s_6adA",style:{transform:`translate(${h}px, ${g}px)`,width:e?c:void 0,height:e?void 0:c},children:this.visible&&fV("span",{className:"j_ppcA",children:d.map((n,p)=>mV("span",{className:k,style:l,children:[fV("span",{className:"ZCbumA nbfwjw",style:{visibility:n.visible?"visible":"hidden"},children:fV("span",{className:"Wv5dfA",children:n.label})}),mV("span",{className:"u5M_pQ",children:[rc(b).map(q=>fV("span",{className:"FrC_Jg"},q)),fV("span",{className:"BN56bQ"}),rc(b).map(q=>
fV("span",{className:"FrC_Jg"},q))]})]},p))})})}constructor(...b){super(...b);this.yeo=(D8s.G(this),pV());this.visible=!1;this.IR=c=>this.visible=c}}({c:[D8s,A8s]}=KV(a,[],[Lb],B8s))})(),x8s);
var F8s=class extends IV{componentDidMount(){Gb(this,[Sus(()=>{var a=this.props.NR,b=this.props.blh,c=this.props.SKg,d=this.props.UKg;const e=this.props.direction==="horizontal";a=this.props.IRg.get()?.Nb()??a.get()?.Nb();c=(b=b.get())?c(b):void 0;a&&b&&c&&(c=d(b,c,e),d=e?a.width:a.height,a=e?c+a.left:c+a.top,c=this.L0d.current)&&(b=e?d:void 0,d=e?void 0:d,b&&(c.style.width=`${b}px`),d&&(c.style.height=`${d}px`),c.style.transform=e?`translateX(${a}px)`:`translateY(${a}px)`)},{scheduler:requestAnimationFrame})])}render(){return fV("span",
{className:"MORSCw",ref:this.L0d})}constructor(...a){super(...a);this.L0d=pV()}};var cOs={eventType:"editor_ruler_view_toggled",Oa(a){return jf({previous:a.previous,value:a.value,control_context:a.mb,design_id:a.designId,doctype_id:a.Ea,category_id:a.eb,page_width:a.Bq,page_height:a.ss,num_pages_in_document:a.rz,editing_context:a.Ca==null?void 0:mf(a.Ca)})}};var E8s=[1,2,5,10,20,50,100,200,500,1E3,2E3,5E3],G8s=class{static G(a){O(a,{$3e:zV.deep,lVb:iV.bound,A8d:oV})}lVb(){this.$3e=new Map}get A8d(){return this.store.A8d}SKg(a){return this.document.pages.has(a)?this.document.pages.Wha(a):void 0}getPosition(a,b,c){var d=this.$3e.get(b);if(d)return c?this.fj?d.x*-1:d.x:d.y;if(this.viewport.nO)return this.Fmb(a,b),(d=this.$3e.get(b))?c?this.fj?d.x*-1:d.x:d.y:0;this.Frl(iV(()=>this.Fmb(a,b)));return 0}Fmb(a,b){if(this.document.pages.has(a)){if(this.viewport.uh){switch(a.type){case "fixed":case "responsive":var c=
zf(this.document).xb(a);break;case "concatenated-fixed":c=zf(this.document).xb(a).xb(m(a.pages.first()));break;default:throw new u(a);}a=(bk(a,this.document.dimensions)?this.viewport.hm(c).invert():eOs(this,a).invert()).then(this.viewport.jda()).transform(0,0)}else a=void 0;a&&((c=this.$3e.get(b))&&c.x===a.x&&c.y===a.y||this.$3e.set(b,a))}}getSegments(a,b,c,d){if(c<=0||b<=0||d<=0)return[];const e=Math.max(1,Math.ceil(8*Math.max(`${a}`.length,`${a+b*(c-1)}`.length)/d));return rc(c).map(f=>{f=a+b*f;
return{label:f,visible:Math.round(f/b)%e===0}})}Frl(a){requestAnimationFrame(()=>setTimeout(a,0))}constructor(a,b,c,d,e,f,g,h){this.store=a;this.canvas=b;this.viewport=c;this.document=d;this.Dbc=e;this.fj=f;this.N=g;this.HIq=h;this.$3e=(G8s.G(this),void 0);this.$3e=new Map}};var H8s=class{static G(a){O(a,{enabled:oV,WCl:oV,z2c:oV,A8d:oV,NR:oV,IRg:oV,blh:oV,yAo:oV})}get enabled(){return this.Dbc.Q7m}get WCl(){return this.la.layout===1&&this.viewport.uh&&!(this.viewport.nO&&hf(this.viewport.ya))&&(this.KNq||this.viewport.DU)}get z2c(){return bk(this.viewport.ya,this.document.dimensions)&&this.Dbc.z2c}get A8d(){return this.canvas.WVa==="none"}get NR(){const a=this.selection.Ma;if(a?.type==="elements"&&a.box)return Nj(a.box).transform(gOs(this,a.Fp)).transform(Fj(this.viewport.zoom.scale))}get IRg(){const a=
this.selection.Ma;if(a?.type==="elements"&&this.NR&&a.inner?.box){var b=a.elements.find(f=>f.type==="group"||f.type==="table"||f.type==="grid");if(b){var c=b.type==="grid"?1:b.height/b.Wb,d={x:b.width/2,y:b.height/2},e=b.rotation*Math.PI/180;b=Nj(Oj({top:0,left:0,width:b.width,height:b.height,rotation:0}).transform(Fj(this.viewport.zoom.scale)).transform(Ij(d,e)));return Nj(a.inner.box.transform(Fj(c)).transform(gOs(this,a.Fp)).transform(Fj(this.viewport.zoom.scale)).transform(Ij(d,e)).transform(Ej(-b.tl.x,
-b.tl.y)).translate(this.NR.tl.x,this.NR.tl.y))}}}get blh(){const a=this.selection.Ma;return a&&a.type==="elements"?a.Fp:void 0}get yAo(){return this.Pa.mode>10&&!!this.blh}constructor(a,b,c,d,e,f,g,h,k){this.canvas=a;this.viewport=b;this.document=c;this.Pa=d;this.selection=e;this.Dbc=f;this.la=g;this.fj=h;this.KNq=k;H8s.G(this)}};var I8s=class extends IV{static G(a){O(a,{onClick:iV.bound})}onClick(){const a=this.props.oa,b=this.props.onClick;(0,this.props.VBa)?.();b();a?.()}render(){return fV(this.props.tF,{onClick:this.onClick,Dm:this.props.Dm,CB:this.props.isEnabled,children:M("P76q1Q")})}constructor(...a){super(...a);I8s.G(this)}};var J8s='<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M21 5v5H10v11H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2Zm-2-.5h-3.5v4h4V5a.5.5 0 0 0-.5-.5Zm-9 0h4v4h-4v-4Zm-5 0h3.5v4h-4V5a.5.5 0 0 1 .5-.5ZM4.5 14v-4h4v4h-4Zm0 5v-3.5h4v4H5a.5.5 0 0 1-.5-.5Z"/><path d="M20.86 15.498a.75.75 0 0 0-1.014-.31l-1.543.82V14.25a.75.75 0 0 0-1.5 0v1.762l-1.55-.825a.75.75 0 1 0-.704 1.325l1.403.746-1.404.746a.75.75 0 1 0 .704 1.325l1.551-.825v1.746a.75.75 0 0 0 1.5 0v-1.742l1.544.82a.75.75 0 1 0 .704-1.324l-1.404-.746 1.403-.746a.75.75 0 0 0 .31-1.014Z"/></svg>';var xOs=Uq({medium:J8s});var pOs=({Rc:a})=>fV(Ck,{tone:"warn",Icon:Xt,dismissible:!0,Rc:a,children:M("JYYaOw")}),nOs=({Rc:a})=>fV(Ck,{tone:"warn",Icon:Xt,dismissible:!0,Rc:a,children:M("iXG+DQ")}),kOs=({uog:a,Rc:b})=>fV(Ck,{tone:"critical",Icon:Xt,dismissible:!0,Rc:b,children:J("GKdAGA",[a])}),jOs=({uog:a,Rc:b})=>fV(Ck,{tone:"critical",Icon:Xt,dismissible:!0,Rc:b,children:J("Dl7Bhw",[a])});var wOs=class{constructor(a,b,c,d,e){this.kb=a;this.dF=b;this.P=c;this.V=d;this.alert=e}};var vOs=class{static G(a){O(a,{jeo:oV,Tum:oV,qeo:oV,Vum:oV,gIg:oV,Ryh:oV,x1a:oV})}get jeo(){return this.gIg?.find(a=>a.type==="row")}get Tum(){return this.gIg?.find(a=>a.type==="column")}get qeo(){return this.Ryh?.find(a=>a.type==="row")}get Vum(){return this.Ryh?.find(a=>a.type==="column")}X8c(a){return a.view.freeze.DMa?a.layout.OG.get(a.view.freeze.DMa):void 0}W8c(a){return a.view.freeze.bCa?a.layout.EH.get(a.view.freeze.bCa):void 0}get gIg(){var a=this.selection.Ma,b=this.selection.Kb;switch(b?.type){case void 0:break;
case 4:return a=b.container.sheet.config,tOs(a,b.rows,b.columns,b.cells,this.X8c(a),this.W8c(a)).filter(c=>c.type==="column");case 0:case 1:case 2:case 3:case 5:break;default:throw new u(b);}switch(a?.type){case void 0:break;case "elements":break;case "pages":if(!a.inner)break;if(this.Ac.nS(a.container.xb(a.inner.page)))break;switch(a.inner.type){case "sheet":return b=a.inner.page.sheet,tOs(b,a.inner.rows,a.inner.columns,a.inner.cells,this.X8c(b),this.W8c(b));case "background":case "pages":case "sheet-cell-media":break;
default:throw new u(a.inner);}break;case "audio":break;default:throw new u(a);}}get Ryh(){var a=this.selection.Ma;const b=this.selection.Kb;switch(b?.type){case void 0:break;case 4:return a=b.container.sheet.config,uOs(a,this.X8c(a),this.W8c(a));case 0:case 1:case 2:case 3:case 5:break;default:throw new u(b);}switch(a?.type){case void 0:break;case "elements":break;case "pages":if(!a.inner)break;switch(a.inner.type){case "sheet":return a=a.inner.page.sheet,uOs(a,this.X8c(a),this.W8c(a));case "background":case "pages":case "sheet-cell-media":break;
default:throw new u(a.inner);}break;case "audio":break;default:throw new u(a);}}get x1a(){const a=this.selection.Ma,b=this.selection.Kb;switch(b?.type){case void 0:break;case 4:return{sheet:b.container.sheet.config,cells:b.cells,rows:b.rows,cols:b.columns,wz:new Zz(b.container.container.ew(b.container.sheet),this.pd,this.viewport)};case 0:case 1:case 2:case 3:case 5:break;default:throw new u(b);}switch(a?.type){case void 0:break;case "pages":switch(a.inner?.type){case "sheet":return{sheet:a.inner.page.sheet,
cells:a.inner.cells,rows:a.inner.rows,cols:a.inner.columns,wz:new Xz(a.container.xb(a.inner.page),this.viewport,this.Pa)};case "background":case "pages":case "sheet-cell-media":case void 0:return;default:throw new u(a.inner);}case "elements":switch(a.inner?.type){case "sheet":return{sheet:a.inner.sheet.config,cells:a.inner.cells,rows:a.inner.rows,cols:a.inner.columns,wz:new Wz(a.container.Me(a.inner.sheet),this.viewport)};case "grid":case "table":case "shape":case "group":case "layout":case "layout-cell":case "sheet-cell-media":case void 0:return;
default:throw new u(a.inner);}case "audio":break;default:throw new u(a);}}constructor(a,b,c,d,e){this.selection=a;this.Ac=b;this.viewport=c;this.pd=d;this.Pa=e;vOs.G(this)}};var K8s=({Rc:a})=>fV(Ck,{tone:"critical",Icon:Xt,dismissible:!0,Rc:a,children:M("3qZXBg")}),L8s=({Rc:a})=>fV(Ck,{tone:"critical",Icon:Xt,dismissible:!0,Rc:a,children:M("7TGn1w")});var AOs=class{static G(a){O(a,{mergeCells:iV.bound,Kld:iV.bound})}mergeCells(a){const b=a.sheet;a=a.cells;var c=new __c.iB;for(var d of a){var e=b.layout.cells.get(d.row,d.column)?.span??{$b:d.row,ec:d.column,df:d.row,jf:d.column};c.add([e.$b,e.ec]);c.add([e.$b,e.jf]);c.add([e.df,e.ec]);c.add([e.df,e.jf])}d=c.map(([g,h])=>({row:g,column:h}));if(!(d.length<1)){if(c=this.X8c(b)){e=b.layout.rows.dj(d[0].row,c)>0?"after":"before";for(var f of d)if((b.layout.rows.dj(f.row,c)>0?"after":"before")!==e){const g=
this.alert.Vq(()=>fV(L8s,{Rc:g}));return}}if(f=this.W8c(b)){c=b.layout.cols.dj(d[0].column,f)>0?"after":"before";for(const g of d)if((b.layout.cols.dj(g.column,f)>0?"after":"before")!==c){const h=this.alert.Vq(()=>fV(K8s,{Rc:h}));return}}this.hj?.mergeCells(b,a.map(g=>g))}}Kld(a){const b=a.sheet;a=a.tb;this.hj?.Kld(b,a)}X8c(a){return a.view.freeze.DMa?a.layout.OG.get(a.view.freeze.DMa):void 0}W8c(a){return a.view.freeze.bCa?a.layout.EH.get(a.view.freeze.bCa):void 0}constructor(a,b){this.hj=a;this.alert=
b;AOs.G(this)}};var zOs=class{static G(a){O(a,{FDn:oV,FQo:oV})}get FDn(){var a=this.selection.Ma,b=this.selection.Kb;if(this.hj){switch(b?.type){case void 0:break;case 4:return a=b.container.sheet.config,b=b.cells,this.hj.fXd(a,b.map(c=>c))?{sheet:a,cells:b}:void 0;case 0:case 1:case 2:case 3:case 5:break;default:throw new u(b);}switch(a?.type){case void 0:break;case "elements":if(!a.inner)break;const c=a.container;if(a.elements.some(d=>this.Ac.Tr({element:d,container:c})))break;switch(a.inner.type){case "sheet":return b=
a.inner.sheet.config,a=a.inner.cells,this.hj.fXd(b,a.map(d=>d))?{sheet:b,cells:a}:void 0;case "grid":case "table":case "shape":case "group":case "layout":case "layout-cell":case "sheet-cell-media":break;default:throw new u(a.inner);}break;case "pages":if(!a.inner)break;if(this.Ac.nS(a.container.xb(a.inner.page)))break;switch(a.inner.type){case "sheet":return b=a.inner.page.sheet,a=a.inner.cells,this.hj.fXd(b,a.map(d=>d))?{sheet:b,cells:a}:void 0;case "background":case "sheet-cell-media":case "pages":break;
default:throw new u(a.inner);}break;case "audio":break;default:throw new u(a);}}}get FQo(){var a=this.selection.Ma,b=this.selection.Kb;if(this.hj){switch(b?.type){case void 0:break;case 4:return a=b.container.sheet.config,(b=b.anchor)&&__c.Tps(a,b)?{sheet:a,tb:b}:void 0;case 0:case 1:case 2:case 3:case 5:break;default:throw new u(b);}switch(a?.type){case void 0:break;case "elements":if(!a.inner)break;switch(a.inner.type){case "sheet":return b=a.inner.sheet.config,(a=a.inner.anchor)&&__c.Tps(b,a)?
{sheet:b,tb:a}:void 0;case "grid":case "table":case "shape":case "group":case "layout":case "layout-cell":case "sheet-cell-media":break;default:throw new u(a.inner);}break;case "pages":if(!a.inner)break;switch(a.inner.type){case "sheet":return b=a.inner.page.sheet,(a=a.inner.anchor)&&__c.Tps(b,a)?{sheet:b,tb:a}:void 0;case "background":case "sheet-cell-media":case "pages":break;default:throw new u(a.inner);}break;case "audio":break;default:throw new u(a);}}}constructor(a,b,c){this.selection=a;this.Ac=
b;this.hj=c;zOs.G(this)}};var FOs=class{static G(a){O(a,{M3k:iV.bound,L3k:iV.bound})}M3k(a){if(a&&a.type==="row"){var b=this.V.wb("move_row_clicked",{Hb:{name:"editor.editing.tabulating.moving"}}),c=a.content.sheet,d=a.content.rows,e=a.content.target;a=a.direction==="up"?"before":"after";this.hj?.LVe(c,d,e,a,b,"contextual_menu");b.end()}}L3k(a){if(a&&a.type==="column"){var b=this.V.wb("move_col_clicked",{Hb:{name:"editor.editing.tabulating.moving"}}),c=a.content.sheet,d=a.content.columns,e=a.content.target;a=c.direction===
"rtl"?a.direction==="left"?"after":"before":a.direction==="left"?"before":"after";this.hj?.HVe(c,d,e,a,b,"contextual_menu");b.end()}}constructor(a,b){this.hj=a;this.V=b;FOs.G(this)}};var EOs=class{static G(a){O(a,{cFn:oV,bFn:oV,ZEn:oV,$En:oV,GVe:oV})}get cFn(){return this.GVe?.find(a=>a.type==="row"&&a.direction==="up")}get bFn(){return this.GVe?.find(a=>a.type==="row"&&a.direction==="down")}get ZEn(){return this.GVe?.find(a=>a.type==="column"&&a.direction==="left")}get $En(){return this.GVe?.find(a=>a.type==="column"&&a.direction==="right")}get GVe(){const a=this.selection.Ma,b=this.selection.Kb;switch(b?.type){case void 0:break;case 4:return DOs(b.container.sheet.config,b.rows,
b.columns,this.hj);case 0:case 1:case 2:case 3:case 5:break;default:throw new u(b);}switch(a?.type){case void 0:break;case "elements":if(!a.inner)break;const c=a.container;if(a.elements.some(d=>this.Ac.Tr({element:d,container:c})))break;switch(a.inner.type){case "sheet":return DOs(a.inner.sheet.config,a.inner.rows,a.inner.columns,this.hj);case "grid":case "table":case "shape":case "group":case "layout":case "layout-cell":case "sheet-cell-media":break;default:throw new u(a.inner);}break;case "pages":if(!a.inner)break;
if(this.Ac.nS(a.container.xb(a.inner.page)))break;switch(a.inner.type){case "sheet":return DOs(a.inner.page.sheet,a.inner.rows,a.inner.columns,this.hj);case "background":case "pages":case "sheet-cell-media":break;default:throw new u(a.inner);}break;case "audio":break;default:throw new u(a);}}constructor(a,b,c){this.selection=a;this.Ac=b;this.hj=c;EOs.G(this)}};var JOs={[0]:1,[1]:2,[2]:3,[3]:4,[4]:5,[5]:6},IOs={bma:!0,ama:!0,dma:!0,cma:!0,Ira:!0,Hra:!0,Kra:!0,Jra:!0,YSa:!0,XSa:!0,$Sa:!0,ZSa:!0},WOs=class{Gtd(a){switch(a.type){case "formula":return __c.iNc.snapshot(a);case "boolean":return __c.jNc.snapshot(a);case "number":return __c.lNc.snapshot(a);case "plaintext":return __c.mNc.snapshot(a);case "media":return __c.oNc.snapshot(a);case "mention":return __c.pNc.snapshot(a);case "embed":return __c.rNc.snapshot(a);case "text2":return __c.BSc.snapshot(a);case "text3":return __c.VUc.snapshot(a);
default:throw new u(a);}}dGc(a,b,c){const d=a.kL(b.row);b=a.zL(b.column);const e=a.kL(c.row);a=a.zL(c.column);if(![d,b,e,a].some(f=>f===-1))return{Pt:e-d,xT:a-b}}constructor(a,b,c,d,e,f,g){this.vn=a;this.Mma=b;this.sE=c;this.Nma=d;this.fd=e;this.dRb=f;this.hj=g}};var MOs=({uog:a,Rc:b})=>fV(Ck,{tone:"critical",Icon:Xt,dismissible:!0,Rc:b,children:J("4G5hmA",[a])}),LOs=({Rc:a})=>fV(Ck,{tone:"critical",Icon:Xt,dismissible:!0,Rc:a,children:M("6PpZ0g")});var VOs=class{wxl(a,b,c){a.RLh=c?b:void 0}g8i(a,b){const c=a.Qze;if(c!=null){var d=this.hj.Xya(c.sheet);if(d!=null||c.range.$b!==c.range.df&&c.range.ec!==c.range.jf)var e=c.range;else{e=c.sheet;var f=c.range;const h=__c.lZa(e,{start:{column:f.ec,row:f.$b},end:{column:f.jf,row:f.df}});let k;var g=-1;for(const l of xk(h.start.row,h.end.row,e.layout.rows)){let n=0;for(const p of xk(h.start.column,h.end.column,e.layout.cols)){const q=e.layout.cells.get(l,p);q!=null&&q.span.$b===l&&q.span.ec===p&&q.ref?.content.ref!=
null&&n++}if(g===n){(g=e.layout.rows.previous(l))&&e.layout.rows.dj(f.$b,g)>=0&&(k=g);break}g=n}e={ec:h.start.column,$b:k??h.start.row,jf:h.end.column,df:h.end.row}}this.hj.lje(c.sheet,d==null?{range:e}:void 0);a.CJf=b?.Pcn?a.Qze?.fjg:void 0}}v2i(a,b){if(a!=null){var c=this.V.wb("sort_asc_clicked",{Hb:{name:"editor.editing.tabulating.sorting"}});switch(a.type){case "sheet":const e=a.sheet;var d=a.fjg;const f=a.range;if(b?.nbk){b=e.rows.next(f.$b);if(b==null)return;d=KOs(this.p_i,e,{...f,$b:b},d,"asc")}else d=
KOs(this.p_i,e,f,d,"asc");c?.ob().wk(({Oi:g})=>{const h=e.kL(f.df)-e.kL(f.$b)+1,k=e.zL(f.jf)-e.zL(f.ec)+1;this.P.track(__c.W8g,{action:"sorted",type:"cell",Xcd:h*k,Dzc:{Pt:e.layout.rows.count(),UL:e.layout.cols.count()},mb:"click",Tb:g()})});break;default:throw new u(a.type);}NOs(this,a.sheet,d);c?.qe()}}w2i(a,b){if(a!=null){var c=this.V.wb("sort_desc_clicked",{Hb:{name:"editor.editing.tabulating.sorting"}});switch(a.type){case "sheet":const e=a.sheet;var d=a.fjg;const f=a.range;if(b?.nbk){b=e.rows.next(f.$b);
if(b==null)return;d=KOs(this.p_i,e,{...f,$b:b},d,"desc")}else d=KOs(this.p_i,e,f,d,"desc");c?.ob().wk(({Oi:g})=>{const h=e.kL(f.df)-e.kL(f.$b)+1,k=e.zL(f.jf)-e.zL(f.ec)+1;this.P.track(__c.W8g,{action:"sorted",type:"cell",Xcd:h*k,Dzc:{Pt:e.layout.rows.count(),UL:e.layout.cols.count()},mb:"click",Tb:g()})});break;default:throw new u(a.type);}NOs(this,a.sheet,d);c?.qe()}}constructor(a,b,c,d,e){var f=new __c.mu;this.p_i=a;this.hj=b;this.dF=f;this.alert=c;this.P=d;this.V=e}};var YOs=class{static G(a){O(a,{CJf:zV.ref,RLh:zV.ref,Fte:oV,Qze:oV})}get Fte(){var a=this.selection.Ma;const b=this.selection.Kb;if(b)return OOs(this,b);if(a){a:{switch(a.type){case "elements":a=SOs(this,a);break a;case "pages":a=TOs(this,a);break a;case "audio":break;default:throw new u(a);}a=void 0}return a}}get Qze(){var a=this.Fte;if(a!=null)switch(a.type){case "sheet":var b=a.sheet;a=a.cells;a.length!==0&&__c.Afe(b,a)?(a={ec:a[0].column,$b:a[0].row,jf:a[a.length-1].column,df:a[a.length-1].row},
b={type:"sheet",sheet:b,fjg:a.ec,range:a}):b=void 0;return b;default:throw new u(a.type);}}constructor(a,b,c,d,e,f,g){this.selection=a;this.Ac=b;this.viewport=c;this.pd=d;this.Pa=e;this.hj=f;this.nBa=g;this.CJf=(YOs.G(this),void 0)}};var XOs=a=>{const b=a.n_q;var c=a.RLh;const d=a.v6q,e=a.wxl,f=a.G2r,g=a.M2r,[h,k]=qV(void 0),l=lV(Qb()),[n,p]=qV(()=>d()),q=c===l.current;kV(()=>{b&&e(l.current,!0)},[]);c=jV(()=>{e(l.current,!1)},[e]);const r=jV(z=>{z.stopPropagation();q||p(d());e(l.current,!q)},[d,e,q]),t=jV(()=>{k("asc");f();e(l.current,!1)},[f,e]),v=jV(()=>{k("desc");g();e(l.current,!1)},[g,e]),w=jV(()=>{var z=fV(__c.VUi,{size:"medium"});a:switch(n){case "number":var B=M("mfqxRw");break a;case "date":B=M("O3E9rg");break a;case "default":B=
M("qo5gzA");break a;default:throw new u(n);}z=fV(St,{start:z,onClick:t,children:B},"asc");B=fV(__c.XUi,{size:"medium"});a:switch(n){case "number":var C=M("sZxJdg");break a;case "date":C=M("o/SCog");break a;case "default":C=M("8IXZeg");break a;default:throw new u(n);}return mV(Qo,{role:"menu",spacing:"0.5u",variant:"rounded",children:[z,fV(St,{start:B,onClick:v,children:C},"desc")]})},[n,t,v]);let x=fV(__c.Qdr,{size:"small"});h==="asc"&&a.Pri?x=fV(__c.VUi,{size:"small"}):h==="desc"&&a.Pri&&(x=fV(__c.XUi,
{size:"small"}));const y=x&&UOs(a.bgColor)==="#000000"?"kfFFEg":"VWiWEA";return fV(__c.nv,{open:q,placement:"bottom-start",padding:"compact",pa:w,oa:c,children:fV(hr,{onMouseDown:r,className:DV(y,"bzZMqA",{SRhh0A:a.Pri}),selected:a.Pri,children:x})})};var $Os=hV(({A3f:a,wz:b,L2a:c,page:d})=>{const e=a.sheet,f=a.columns,g=a.headerRow,{left:h,top:k,width:l,height:n}=a.P2s.Nb(),p=b.gd,q=e.direction==="rtl";return mV(__c.Yz,{wz:b,page:d,children:[fV("div",{style:{width:l*p,height:n*p,transform:`translate(${h*p*(q?-1:1)}px, ${k*p}px)`},className:DV("o0A8CA",{_08uVeQ:!q,yzKoag:q})}),f.map(r=>fV(M8s,{scale:p,ko:q,sheet:e,row:g,column:r,L2a:c},r.id))]})}),M8s=hV(({scale:a,ko:b,sheet:c,column:d,row:e,L2a:f})=>{const g={_08uVeQ:!b,yzKoag:b};b=c.yd(d)*a*
(b?-1:1);c=c.ld(e)*a;return fV("div",{style:{width:d.width,height:e.height,transform:`translate(${b}px, ${c}px) scale(${a})`},className:DV("ItYpOA",g),children:fV("div",{style:{paddingInlineEnd:__c.uu},children:fV(f,{column:d})})})});var ZOs=class{static G(a){O(a,{A3f:oV})}get A3f(){var a=this.R2s.Fte;if(a!=null){var b=this.hj.Xya(a.sheet)?.range;if(b!=null&&(a=a.sheet,a.layout.rows.has(b.$b)&&a.layout.cols.has(b.ec)&&a.layout.rows.has(b.df)&&a.layout.cols.has(b.jf))){var c=a.yd(b.ec),d=a.ld(b.$b);c=Oj({left:c,top:d,width:a.yd(b.jf)+b.jf.width-c,height:a.ld(b.df)+b.df.height-d});d=[];for(let e=b.ec;e!=null&&a.layout.cols.dj(e,b.jf)<=0;e=a.layout.cols.next(e))d.push(e);return{sheet:a,columns:d,headerRow:b.$b,P2s:c}}}}constructor(a,
b){this.R2s=a;this.hj=b;ZOs.G(this)}};var N8s=class{static G(a){O(a,{Kzo:oV})}get Kzo(){return this.Czi.GVe!=null&&this.Czi.GVe.length>0}constructor(a,b){this.Czi=a;this.HDn=b;N8s.G(this)}};var O8s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.023 14.057v-.024h6a2 2 0 0 1 2 2V20.5h4a.5.5 0 0 0 .5-.5v-5.525a4.575 4.575 0 0 0 1.5-.092V20a2 2 0 0 1-2 2H9.845a2 2 0 0 1-1.406-.577l-5.821-5.75a2 2 0 0 1-.595-1.423v-.193ZM16.023 4v1.617a4.512 4.512 0 0 0-1.5-.092V4a.5.5 0 0 0-.5-.5h-10a.5.5 0 0 0-.5.5v8.5h-1.5V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2ZM4.611 15.533l3.912 3.865v-3.365a.5.5 0 0 0-.5-.5H4.611Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M9 10a6 6 0 1 0 12 0 6 6 0 0 0-12 0Zm10.5 0a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M18.532 13.47a.75.75 0 0 1 1.06 0l2.94 2.939a.75.75 0 0 1-1.06 1.06l-2.94-2.939a.75.75 0 0 1 0-1.06Z" fill="currentColor"/></svg>';var P8s=Uq({medium:O8s});var bPs={eventType:"text_find_and_replace_toggled",Oa(a){return jf({source:a.source,is_opened:a.fyr,text_find_session_id:a.e7i,editing_context:a.Ca==null?void 0:mf(a.Ca)})}},Q8s={eventType:"text_find_and_replace_searched",Oa(a){return jf({matches_found:a.zwi,page_index_transitioned_from:a.sns,page_index_transitioned_to:a.tns,text_elements_matched:a.lbt,table_elements_matched:a.i9s,shape_elements_matched:a.yUs,sheet_cells_matched:a.Boh,is_match_case:a.IHf,performance_context:a.Tb==null?void 0:pf(a.Tb),
editing_context:a.Ca==null?void 0:mf(a.Ca)})}},xPs={eventType:"text_find_and_replace_focus_changed",Oa(a){return jf({matches_found:a.zwi,page_index_transitioned_from:a.sns,page_index_transitioned_to:a.tns,match_index_from:a.cAn,match_index_to:a.dAn,editing_context:a.Ca==null?void 0:mf(a.Ca)})}},dPs={eventType:"text_find_and_replace_text_replaced",Oa(a){return jf({number_of_replacements:a.qBi,is_replace_all:a.kri,number_of_elements_replaced:a.pBi,number_of_text_elements_replaced:a.vBi,number_of_table_cells_replaced:a.uBi,
number_of_sheet_cells_replaced:a.tBi,number_of_shape_elements_replaced:a.sBi,performance_context:a.Tb==null?void 0:pf(a.Tb),is_match_case:a.IHf,replace_string_length:a.YRi,editing_context:a.Ca==null?void 0:mf(a.Ca)})}};var R8s=class{constructor({N:a}){this.YDm=Db((b,c,d,e,f,g,h)=>{Uo({ob:h,P:this.N,event:Q8s,props:{zwi:b,lbt:c,i9s:d,yUs:e,Boh:f,IHf:g}})},300);this.N=a;this.e7i=Qb()}};var S8s=class{static G(a){O(a,{isMounted:zV.ref,X_b:zV.ref,query:zV.ref,replaceWith:zV.ref,xy:zV.ref})}constructor(){this.isMounted=(S8s.G(this),!1);this.X_b=!1;this.replaceWith=this.query="";this.xy=void 0}};var sQs="zh ko ar ja th hi mr gu ta bn pa".split(" ");var T8s=class{Uc(){this.fdb==null&&(this.fdb=gV(()=>{const a=this.L.MLa,b=this.store.xy;return a===0?!1:b==null||b>=a},a=>{a&&this.L.rkl()}))}Wh(){this.fdb?.();this.fdb=void 0}constructor(a,b){this.store=a;this.L=b}};var U8s=a=>{if(a.substring.length===0)return[];let b=a.X_b?a.source:a.source.toLowerCase();b=b.replace(/[\u201c\u201d]/g,'"').replace(/[\u2018\u2019]/g,"'");const c=a.X_b?a.substring:a.substring.toLowerCase(),d=[];for(var e;;){e=b.indexOf(c,e);if(e===-1)break;if(a.Hmt)return[0];d.push(e);e+=c.length}return d};var W8s=class{create(a){const b=this.I.fd;var c=this.I.Pa;const d=this.I.viewport,e=this.I.Ac;switch(a.type){case "sheet-page-cell":return c=new Xz(a.container.container.xb(a.container.page),d,c),new V8s(b,e,c,a);case "sheet-element-cell":if(a.container.container.type!=="fixed-page")throw new __c.kJd;c=new Wz(a.container.container.Me(a.Kqa),d);return new V8s(b,e,c,a);default:throw new u(a);}}constructor(a){this.I=a}},Y8s=class{create(a){const b=this.I.fd;var c=this.I.viewport;const d=this.I.pd;c=
new Zz(a.container.container.ew(a.Kqa),d,c);return new X8s(b,c,a)}constructor(a){this.I=a}},Z8s=class{static G(a){O(a,{axc:oV,KKj:oV({equals:Qj}),rog:oV({equals:Qj})})}equals(a){return this.container.equals(a.container)}get axc(){return this.fd.getContent(this.sheet,this.container.row,this.container.column)?.hU??""}get KKj(){var a=this.sheet,b=this.container.row,c=this.container.column,d=a.layout.cells.get(b,c);if(d!=null){var e=d.span.$b;c=d.span.jf;b=d.span.df;d=a.yd(d.span.ec);e=a.ld(e);c=a.yd(c)+
c.width;a=a.ld(b)+b.height;return Lj(d,e,c,a)}d=a.yd(c);a=a.ld(b);return Lj(d,a,d+c.width,a+b.height)}get rog(){return this.KKj.transform(Tj(this.gBl))}constructor(){this.type=(Z8s.G(this),"sheet-cell")}},V8s=class extends Z8s{static G(a){O(a,{sheet:oV,replace:oV,L0a:oV})}get Kqn(){const a=this.container;switch(a.type){case "sheet-page-cell":return!this.Ac.nS(a.container);case "sheet-element-cell":return!this.Ac.Tr({element:a.Kqa,container:a.container.container});default:throw new u(a);}}get sheet(){return this.container.sheet}get gBl(){return this.FE.gM}get replace(){const a=
this.sheet.layout.cells.get(this.container.row,this.container.column)?.ref.content.ref;if(a)return a.type==="text2"?(b,c,d,e)=>{const f=Fg.snapshot(a.value);c=jPs(f,c,d,e);c=Fg.create(c);b.KEb(this.sheet,{row:this.container.row,column:this.container.column},c,{IWe:"merge",uWe:!1})}:lPs(this,a)}get L0a(){const a=this.container.container;switch(a.type){case "fixed-page":return a;case "sheet-element":if(a.container.type!=="fixed-page")throw new __c.kJd;return a.container;default:throw new u(a);}}constructor(a,
b,c,d){super();this.fd=a;this.Ac=b;this.FE=c;this.container=d;V8s.G(this)}},X8s=class extends Z8s{static G(a){O(a,{gBl:oV({equals:Qj}),replace:oV})}get Kqn(){return!0}get sheet(){return this.container.sheet}get gBl(){try{return this.FE.gM}catch{return Oj({top:0,left:0,width:this.sheet.width,height:this.sheet.height})}}get L0a(){return this.container.container.container}get replace(){const a=this.sheet.layout.cells.get(this.container.row,this.container.column)?.ref.content.ref;if(a)return a.type===
"text3"?(b,c,d,e)=>{const f=Qk.snapshot(a.value);c=kPs(f,c,d,e);c=Qk.create(c);b.Khc(this.sheet,{row:this.container.row,column:this.container.column},c,{IWe:"merge",uWe:!1})}:lPs(this,a)}constructor(a,b,c){super();this.fd=a;this.FE=b;this.container=c;X8s.G(this)}};var kQs=Symbol("responsive-root-text-symbol"),$8s=class{get page(){const a=this.el.container;return a.type==="fixed-page"?a:a.container}get Sc(){return this.el.ia.text}get writingMode(){return this.el.ia.writingMode??1}get E8d(){const a=this.el.ia.hl.ref?.Lc?.first(b=>b.type==="curved");return a?Number(a.parameters.get("curvature"))!==0:!1}get hl(){return this.el.ia.hl.ref}get rotation(){const a=this.el.container;return YVa((a.type==="fixed-page"?0:a.ia.rotation)+this.el.ia.rotation)}constructor(a){this.el=
a;this.type="text";this.Ka="fixed"}},a9s=class{get page(){return this.tb.container.container}get el(){return this.tb.container}get Sc(){return this.tb.ia.content.text}get rotation(){return this.el.ia.rotation}constructor(a,b){this.tb=a;this.UCa=b;this.type="table";this.Ka="fixed";this.E8d=!1;this.writingMode=1;this.group=this.hl=void 0}},b9s=class{get page(){const a=this.el.container;return a.type==="fixed-page"?a:a.container}get Sc(){return this.el.ia.ed.first().text}get rotation(){const a=this.el.container;
return YVa((a.type==="fixed-page"?0:a.ia.rotation)+this.el.ia.rotation)}constructor(a){this.el=a;this.type="shape";this.Ka="fixed";this.E8d=!1;this.writingMode=1;this.hl=void 0}},c9s=class{get page(){const a=this.el.container;return a.type==="fixed-page"?a:a.container}get Sc(){return this.el.ia.ed.first().text}get rotation(){const a=this.el.ia;var b=this.el.container;b=b.type==="fixed-page"?0:b.ia.rotation;const c=(new __c.Jn(this.ue,a)).textBox?.rotation??0;return YVa(b+a.rotation+c)}constructor(a,
b){this.ue=a;this.el=b;this.type="line";this.Ka="fixed";this.E8d=!1;this.writingMode=1;this.hl=void 0}};var rPs=class{async navigateTo(a){if(!(uPs(this.dfe?.match,a)||uPs(this.Ztg?.match,a)&&this.dfe==null)){this.dfe!=null&&(this.dfe?.cancel(),this.dfe=void 0);var b=(this.Ztg!=null?Math.max(this.Ztg.YOq-this.now(),0):0)+this.I.XDm,c=this.setTimeout(()=>{vPs(this)},b);this.dfe={match:a,cancel:()=>this.clearTimeout(c)}}}xvh(a){return this.ZFn.xvh(a)}constructor(a,b,c=()=>Date.now(),d=(f,g)=>window.setTimeout(f,g),e=f=>window.clearTimeout(f)){this.ZFn=a;this.I=b;this.now=c;this.setTimeout=d;this.clearTimeout=
e}},d9s=class{static G(a){O(a,{navigateTo:iV.bound})}async navigateTo(a){if(a.type==="richtext3"||mPs(a)){const f=a.type==="richtext3"?__c.sf(a.container):a.item.L0a;ra(f.type==="responsive-page");var b=this.viewport.Vg;if(f.ia.id!==b.ia.id){const g=m(this.document.pages.filter(h=>h.id===f.ia.id)[0]);this.viewport.Uw(g,{animate:{from:b.page}});await gss(()=>this.viewport.ya===g,{timeout:1E3}).catch(()=>{})}rV(()=>this.$Is.navigateTo(a))}else{var c=a.item,d=c.type==="sheet-cell"?c.L0a:c.page;b=this.viewport.ya;
var e=d.page;b!==e&&(this.viewport.Uw(this.mzd(d),{animate:{from:b},o8a:e}),await gss(()=>this.viewport.ya===e,{timeout:1E3}).catch(()=>{}));rV(()=>{if(!bk(e,this.document.dimensions)){const g=c.type==="sheet-cell"?c.rog:Oj(pPs(c.el));var f=this.viewport.ey();f=Math.min(f.width*.6/g.width,f.height*.6/g.height,this.viewport.lT(e));this.viewport.HC(e,f,{center:{x:g.c.x,y:g.c.y},animate:!0})}c.type!=="sheet-cell"&&this.selection.Jl(d,c.el.ia)})}}xvh(a){a=a.item;switch(a.type){case "sheet-cell":case "text":case "table":case "shape":case "line":a=
a.type==="sheet-cell"?a.L0a:a.page;if(a.type==="responsive-page"||a.type==="body")return 0;a=this.mzd(a);return bk(a,this.document.dimensions)?0:600;default:return 0}}mzd(a){return a.container?.type==="concatenated-fixed-page"?a.container.page:a.page}constructor(a,b,c,d,e){this.viewport=a;this.document=b;this.selection=c;this.hb=d;this.$Is=e;d9s.G(this)}},sPs=class{async navigateTo(a){this.viewport.MF&&(a=a.type==="sheet-cell"?[a.item.rog]:this.UJd.vKg(a),a=Sj(0,a),await this.viewport.gaa(a.tl.y,
"auto"))}xvh(){return 600}constructor(a,b){this.UJd=a;this.viewport=b}};var e9s=class{static G(a){O(a,{Uc:iV,Wh:iV,OA:iV,MLa:oV,WGg:iV,matches:oV,Pem:oV,iAn:oV,Awi:oV})}static create({store:a,document:b,Pa:c,selection:d,mc:e,viewport:f,ue:g,fj:h,zf:k,hb:l,gz:n,V:p,LQk:q,Vgc:r}){d=new rPs(new d9s(f,b,d,l,r.wwi),{XDm:100});return new e9s(a,b,c,e,f,k,l,g,q,h,n,p,d,r)}get zqh(){return this.Pa.mode===40}cRl(a,b){cPs(this.gz,a,b)}Uc(){var a=this.store;a.isMounted=!0;a=a.query;var b=this.mc.state;if(b?.type==="focused"){const c=b.range;b=b.Sc.Ya.slice(c.index,c.index+c.length);
b.length&&(a=this.fj?b.split("").reverse().join(""):b)}this.OA(a)}Wh(){this.store.isMounted=!1;this.BSh?.destroy();this.BSh=void 0}OA(a){var b=this.store;b.query=a;if(a.length===0)this.WGg(wPs(this));else{a=this.V.wb("text.find",{Hb:{name:"editor.text.find",type:"fixed"}});this.WGg(wPs(this));var c=this.matches,{MNl:d,KLl:e,WAl:f,Boh:g}=fPs(c),h=this.gz;c=c.length;b=b.X_b;var k=a.ob();h.YDm(c,d,e,f,g,b,k);a.qe()}}get MLa(){return this.matches.length}rkl(){this.WGg(wPs(this))}ohk(){const a=this.store,
b=this.MLa;a.xy!=null&&b>1&&yPs(this,(a.xy+1)%b)}shk(){var a=this.store;const b=this.MLa;a.xy!=null&&b>1&&(a=a.xy,yPs(this,a===0?b-1:a-1))}WGg(a){const b=this.store,c=this.matches[a];c&&(this.wwi.navigateTo(c),b.xy=a)}get matches(){return this.store.query.length===0?[]:this.Pem.flatMap(a=>this.OWq(a))}get Pem(){const a=[],b=zf(this.document);this.document.pages.forEach(c=>{a.push(...this.wbt(b.xb(c)))});return a}kok(){this.BSh||(this.BSh=this.zf.ZW());return this.BSh}get iAn(){const a=this.viewport.Vg.page;
return this.Awi.filter(b=>b.type==="richtext2"||nPs(b)).filter(({item:b})=>b.type==="sheet-cell"?b.L0a.Rcc(a):b.page.Rcc(a))}get Awi(){return this.matches.map((a,b)=>({...a,focused:b===this.store.xy}))}constructor(a,b,c,d,e,f,g,h,k,l,n,p,q,r,t=()=>Date.now()){this.store=a;this.document=b;this.Pa=c;this.mc=d;this.viewport=e;this.zf=f;this.hb=g;this.ue=h;this.LQk=k;this.fj=l;this.gz=n;this.V=p;this.wwi=q;this.Vgc=r;this.now=t;this.OWq=(e9s.G(this),LV(v=>{if(v.type==="sheet-cell"&&"item"in v||v.type===
"richtext3")return[v];var w=this.store.X_b;const x=this.store.query,y=v.type==="sheet-cell"?v.axc:w?APs(v.Sc):v.Sc.Ya;w=U8s({source:y,substring:x,X_b:w});return w.length===0?[]:v.type==="sheet-cell"?[{type:"sheet-cell",item:v,ccd:w}]:w.map(z=>({type:"richtext2",item:v,startIndex:z}))}));this.wbt=LV(v=>{switch(v.type){case "fixed-page":return this.v3m(v);case "concatenated-fixed-page":return v.pages.flatMap(w=>this.v3m(v.xb(w)));case "responsive-page":return this.Vgc.MQk(v);default:throw new u(v);
}});this.v3m=v=>{const w=[];v.elements.forEach(z=>{if(z.type==="text")w.push(new $8s(v.Me(z)));else if(z.type==="group"){const B=v.Me(z);z.pb.forEach(C=>{C.type==="text"?w.push(new $8s(B.Me(C))):C.type==="shape"?C.ed.first()&&w.push(new b9s(B.Me(C))):C.type==="line"&&C.ed.first()&&w.push(new c9s(this.ue,B.Me(C)))})}else if(z.type==="table"){const B=v.Me(z);z.cells.forEach(C=>{C.content.text.charLength>1&&w.push(new a9s(B.MLl.VP(C),()=>this.z_p(z).get(C).u8))})}else z.type==="shape"?z.ed.first()&&
w.push(new b9s(v.Me(z))):z.type==="line"?z.ed.first()&&w.push(new c9s(this.ue,v.Me(z))):z.type==="sheet"&&w.push(...this.tIo(v.Me(z)))});__c.rf(v)&&w.push(...this.tIo(v));const x=this.hb.kl(v.page),y=ug(x)?0:sg(4,x).width;return w.sort((z,B)=>zPs(this,z,y,this.fj)-zPs(this,B,y,this.fj))};this.tIo=v=>{const w=this.LQk;if(w==null)return[];const x=[];(v.type==="fixed-page"?v.page.sheet:v.ia.config).layout.cells.forEach((y,{ec:z,$b:B})=>{y=v.XZ(z,B);x.push(w.create(y))});return x};this.z_p=oPs(v=>__c.du(__c.Ul,
v));this.Z6p=LV(v=>this.iAn.filter(w=>w.type==="richtext2").filter(w=>w.item.Sc===v));this.MQk=LV(v=>this.Awi.filter(w=>w.type==="richtext3"||mPs(w)).filter(w=>w.type==="richtext3"?w.L0a.equals(v):mPs(w)?w.item.L0a.equals(v):!1).map(w=>({...w,jU:this.Vgc.vKg(w)})))}};var YPs=hV(({matches:a,scale:b})=>{a=jj(a,({item:c})=>c.sheet);return fV("div",{className:"m3qpUA",children:[...a.entries()].map(([c,d])=>{const e=d[0].item.L0a;return fV(__c.Yz,{wz:d[0].item.FE,page:e.type==="fixed-page"?e.page:void 0,children:d.map(({item:f,focused:g})=>fV(f9s,{box:f.KKj.scale(b),focused:g},g9s.get(f)))},g9s.get(c))})})}),f9s=({box:a,focused:b})=>{const {top:c,left:d,width:e,height:f,rotation:g}=a.Nb();a=`translate(${d}px, ${c}px) rotate(${g}deg)`;return fV("div",{className:DV("wOT31Q",
b&&"NaCHKw"),style:{width:e,height:f,transform:a}})},g9s=class{static get(a){var b=h9s.get(a);if(b)return b;b=`${i9s++}`;h9s.set(a,b);return b}},h9s=new WeakMap,i9s=0;var KPs=new Set([" ","\t","\n","\r"]),FPs=class{$of(a,b,c){a=MPs(a,b,c);return NPs(a)}},GPs=class{$of(a,b,c){var d=a.length-1,e=m(this.Tlk(b));if(a.length===1||e===0)return this.Rlr.$of(a,b.writingMode,c);b=c.every(h=>h==="rtl")?[...a].reverse():a;const f=OPs(b[0].tl,b[0].tr,b[2]?b[2].tr:b[1].tr);let g;c=[...b.map(h=>tj(h.Tn,f)),...b.map(h=>tj(h.tl,f))];a=Math.min(...c);c=Math.max(...c);e>0?(e=PPs(b[0].tl,f)*180/nj,g=PPs(b[d].tr,f)*180/nj):(g=PPs(b[0].tl,f)*180/nj,e=PPs(b[d].tr,f)*180/nj);d=(h,k)=>
this.lUf(f,k,h);b=RPs(b,f)>180;return __c.le([new __c.Kk(0,d(e,c)),new Lk(0,d(e,a)),new __c.E0a(0,new __c.s0a(a,a,0,b?1:0,1,this.lUf(f,a,g))),new Lk(0,d(g,c)),new __c.E0a(0,new __c.s0a(c,c,0,b?1:0,0,this.lUf(f,c,e)))])}lUf(a,b,c){c=oj(c);return{x:a.x+b*Math.cos(c),y:a.y+b*Math.sin(c)}}constructor(a){this.Tlk=SPs;this.Rlr=a}};var l9s=class{Vhb(a,b,c){const d=(new j9s).Vhb(a);return b===0?d:d.map((e,f)=>{const g=UPs(this.mmm,e.boundingBox,b,{ETm:()=>{var h=d[f].fbk();h!=null?h*=c:({boundingBox:h}=d[f],h=Math.sqrt(h.width**2+h.height**2)*.7*c);return h}});return{...e,boundingBox:g}})}constructor(){this.mmm=new k9s}},k9s=class{lUf(a){a=oj(a);return{x:Math.cos(a),y:Math.sin(a)}}},j9s=class{Vhb(a){const b=[];for(var c of a){a=document.createRange();a.setStartBefore(c);for(const d of this.Caf(c)){const e=(d.textContent??"").length;
for(let f=0;f<e;f++){a.setStart(d,f);a.setEnd(d,f+1);const g=a.getClientRects();let h;for(const k of g)if(h==null||k.width>h.width)h=k;b.push({character:a.toString(),boundingBox:Oj(m(h)),fbk:()=>{try{return parseFloat(window.getComputedStyle(d.parentElement).getPropertyValue("font-size"))}catch{}}})}}}c=b.map(d=>d.character).join("");c=cm(c);return b.length===c.length?b:VPs(b,c)}*Caf(a){if(a.nodeType===Node.TEXT_NODE)yield a;else if(a.nodeType===Node.ELEMENT_NODE)for(let b=0;b<a.childNodes.length;b++)yield*this.Caf(a.childNodes[b])}};var m9s=class{constructor(a,b,c){this.mKm=new l9s;this.viewport=a;this.kok=b;this.errorService=c;this.$of=JPs;this.r4q=FV(d=>{const e=d.el.ia;return this.kok().Vhb(d.Sc,d.hl,d.writingMode,e.gb??e.width,e.Wb??e.height)});this.I3q=LV((d,e,f,g,h,k)=>{const l=d.getBoundingClientRect();let n;try{n=this.mKm.Vhb([d],f,k)}catch(t){this.errorService.error(t,{La:"Error: failed to measure character boxes via DOM"});return}d=UPs(this.mKm.mmm,Oj(l),f,{FTm:()=>h});const p=d.Fn().then(Fj(g/d.width)),q=cm(e.Ya);
let r=0;return new Map(n.map(t=>{for(;q[0]!==t.character&&q.length>0;)r++,q.shift();q.shift();t=t.boundingBox.transform(p);return[r++,t]}).filter(sb))})}},XPs=({Zda:a,store:b,L:c,viewport:d,Oph:e,errorService:f})=>{const g=new m9s(d,()=>c.kok(),f),h=k=>e.get()?c.Z6p(k):[];rV(()=>{a.Dhf=hV(({children:k,text:l,enabled:n})=>{const p=h(l),q=lV(null),r=lV(null),t=lV(void 0);kV(()=>{const v=r.current;if(q.current==null||v==null||p.length===0)v!=null&&(v.innerHTML="");else{var w=()=>{var y=q.current;const z=
r.current;var B=h(l);if(y==null||z==null||B.length===0)z!=null&&(z.innerHTML="");else{var C=B[0].item;if(C.E8d)if(sa(C.type==="text"),y=g.r4q(C),y==null)g.errorService.error("could not measure curved text character boxes"),C=void 0;else{C=C.Sc.Ya;var G=cm(C);C=DPs(y,C,G)}else{G=g.viewport.lT(g.viewport.ya);switch(C.type){case "text":var H=C.el.ia.gb;var K=C.el.ia.width;var L=(H?K/H:1)*G;H=H??K;G*=K;break;case "table":L=C.el.ia.gb;H=C.el.ia.width;L=(L?H/L:1)*G;H=C.UCa().width;G*=C.UCa().width;break;
case "shape":H=C.el.ia.ed;K=C.el.ia.width;L=G;H=H.first().box.width;G*=K;break;case "line":H=C.el.ia.ed;K=C.el.ia.width;L=G;H=H.first().width;G*=K;break;default:throw new u(C);}C=g.I3q(y,l,C.rotation,H,G,L)}if(C==null||C.size===0)z.innerHTML="";else{y=b.query.length;G=[];for(const {item:N,startIndex:P,focused:T}of B)(B=g.$of({item:N,G3p:{from:P,to:P+y},UOp:C}))&&G.push({igr:B,focused:T});WPs(G,z)}}};w();t.current?.();var x=p[0].item.Sc.Oea(GTs).subscribe(()=>setTimeout(w));t.current=()=>x.unsubscribe();
return()=>{t.current?.()}}},[q,r,p,l]);return mV("div",{ref:q,style:{position:"relative"},children:[n&&fV("div",{ref:r}),k]})})})};var n9s=(a,b)=>J("+7TiJw",[a,b]);var qQs=GV(({Hhj:a,onClose:b,mode:c})=>{var d=AV(()=>["Escape",e=>{e.stopPropagation();b()}],[b]);({ref:d}=__c.Ab([d],{Hr:!0}));return mV("div",{className:DV("hD99Kg",{UkHtoA:c==="canvas-overlay",_6iuQhg:c==="sheet"}),ref:d,tabIndex:0,children:[c==="canvas-overlay"&&fV(o9s,{onClose:b}),mV(R,{Lb:"2u",children:[fV(Tc,{spacing:"2u",children:fV(a,{})}),fV(jd,{direction:"vertical",size:"2u"})]})]})}),o9s=GV(({onClose:a})=>fV("div",{className:"fk8tPA",children:fV(Wi,{variant:"tertiary",icon:__c.nr,onClick:a,
ariaLabel:M("ilwjXw")})})),pQs=GV(({QNs:a,HZr:b,search:c,yTs:d,j$q:e,bii:f,xvc:g,Ffd:h})=>{const k=lV(null),l=lV(!1);kV(()=>{requestAnimationFrame(()=>{k.current?.focus();k.current?.select()})},[]);const n=jV(q=>{q.key==="Enter"&&(l.current?e?.():f?.());q.key==="Shift"&&(l.current=!0)},[f,e]),p=jV(q=>{q.key==="Shift"&&(l.current=!1)},[l]);return mV(Tc,{spacing:"1u",children:[fV(Q,{size:"small",weight:"bold",children:M("QeSW7g")}),mV($q,{Fa:"start",spacing:"0.5u",children:[fV(Yq,{children:fV(__c.rv,
{ariaLabel:M("otJcdA"),value:c,end:a!=null&&fV(R,{Lb:"1u",children:fV(Q,{size:"small",tone:"tertiary",margins:"legacy",children:mV("span",{className:"i4ICDA",children:[a,"/",b]})})}),onChange:d,ref:k,onKeyDown:n,onKeyUp:p})}),fV(Yq,{width:"content",children:fV(Wi,{variant:"tertiary",icon:lr,onClick:e,ib:M("EWLe2w"),disabled:h})}),fV(Yq,{width:"content",children:fV(Wi,{variant:"tertiary",icon:mr,onClick:f,ib:M("dQoayg"),disabled:g})})]})]})}),uQs=GV(({replace:a,oTs:b,C0a:c,yGi:d,wsp:e,kGs:f,gGs:g})=>
mV(Tc,{spacing:e==null?"2u":"0",children:[mV(Tc,{align:"start",spacing:"1u",children:[fV(Q,{size:"small",weight:"bold",children:M("/ptrSg")}),fV(__c.rv,{ariaLabel:"replace",value:a,onChange:b})]}),e&&fV(e,{}),mV($q,{Fa:"start",spacing:"2u",children:[fV(Yq,{children:fV(Wi,{variant:"secondary",stretch:!0,disabled:g,onClick:d,children:M("+kNphg")})}),fV(Yq,{children:fV(Wi,{variant:"primary",stretch:!0,disabled:f,onClick:c,children:M("2CtBAA")})})]})]})),tQs=GV(({checked:a,onChange:b})=>fV(__c.ur,{label:M("WVqlVg"),
checked:a,onChange:b,size:"small"})),vQs=GV(({state:a,A_g:b})=>{switch(a.type){case "all-locked":return fV(p9s,{A_g:b});case "some-locked":return fV(q9s,{A_g:b,Z6a:a.DZn});default:throw new u(a);}}),p9s=GV(({A_g:a})=>fV(Ck,{tone:"critical",size:"small",children:J("nShGxw",[a])})),q9s=GV(({A_g:a,Z6a:b})=>{const c=AV(()=>{var d=b.length;if(d===0)return J("iAnQBA",[a]);if(d===1)return J("ffdFTw",[a,b[0]]);d=$Ps(b).map(e=>e.length>1?J("UzUiGA",[e[0],e[1]]):e[0].toString());d.length>2&&(d=[d.slice(0,d.length-
1).join(M("qUEeSw")),d[d.length-1]]);return n9s(a,d.join(M("JFKt9A")))},[b,a]);return fV(Ck,{tone:"warn",size:"small",children:c})});var r9s=GV(a=>{const b=a.label,c=a.Dm,d=a.tF,e=a.onClick,f=a.oa,g=a.VBa;a=jV(()=>{g?.();e();f?.()},[f,g,e]);return fV(d,{onClick:a,Dm:c,wZ:__c.vo,children:b})});var aQs=class{static G(a){O(a,{dso:iV,lqo:iV,eao:iV,replaceAll:iV,dOk:oV,bao:oV,Z$n:oV,qZn:oV,ywn:oV})}static create({store:a,Q4b:b,Vgc:c,document:d,Ac:e,undo:f,errorService:g,gz:h,V:k,kd:l,Vi:n,ma:p,fd:q}){l=fQs({kd:l,Vi:n});return new aQs(a,b,d,e,f,g,h,k,bQs(p),gQs({Zml:l,fd:q}),hQs({Zml:l,fd:q,Vgc:c}))}dso(a){this.store.replaceWith=a}lqo(a){this.store.X_b=a;this.Q4b.rkl()}eao(){const a=this.store,b=this.V.wb("text.replace",{Hb:{name:"editor.text.replace"}}),c=a.xy!=null?this.Q4b.matches[a.xy]:
void 0;c&&!this.lu(c)&&(this.mGs({match:c,YPb:a.query.length,L0:a.replaceWith}),this.Q4b.MLa===0&&(a.xy=void 0),a.xy!=null&&a.xy>=this.Q4b.MLa&&(a.xy%=this.Q4b.MLa),ePs(this.gz,{qBi:1,kri:!1,pBi:1,vBi:c.item.type==="text"?1:0,uBi:c.item.type==="table"?1:0,sBi:c.item.type==="shape"?1:0,tBi:c.item.type==="sheet-cell"?1:0,IHf:a.X_b,YRi:a.replaceWith.length},b.ob()),b.qe())}replaceAll(){const a=this.store,b=this.V.wb("text.replace_all",{Hb:{name:"editor.text.replace_all"}}),c=this.Q4b.matches.filter(t=>
this.jHk(t)),d=this.dOk;if(c.length===d.length)b.abort();else{var e=new Set;c.forEach(t=>{t.type==="sheet-cell"?e.add(t.item):t.item.Ka==="responsive"?e.add(t.item.item):e.add(t.item.el)});var f=c.length,g=new Set(d),h=c.filter(t=>!g.has(t)),k=a.replaceWith,l=this.undo.startBuffering();try{this.hGs({matches:h,YPb:a.query.length,L0:k}),a.xy=void 0}catch(t){this.errorService.error(t,{La:"Error replacing all matches"});b.end("error");return}finally{l.stop()}d.length===0?this.yGi({type:"replace-all",
Cwh:f}):this.yGi({type:"replace-some",PLo:d.length,Cwh:f});var {MNl:n,KLl:p,WAl:q,Boh:r}=fPs(c);ePs(this.gz,{qBi:f,kri:!0,pBi:e.size,vBi:n,uBi:p,sBi:q,tBi:r,IHf:a.X_b,YRi:a.replaceWith.length},b.ob());b.qe()}}get dOk(){return this.Q4b.matches.filter(a=>this.lu(a))}get bao(){var a=this.Q4b.matches;const b=this.store.xy;if(a.length===0||b==null||b<0||b>=a.length)return!0;a=a[b];return this.lu(a)||!this.jHk(a)}get Z$n(){return!this.Q4b.matches.some(a=>!this.lu(a)&&this.jHk(a))}get qZn(){const a=this.document;
return a.Ka!=="fixed"||a.pages.count()===1&&a.pages.first()?.type==="responsive"?new Map:new Map(a.pages.toArray().map((b,c)=>[b,c+1]))}get ywn(){const a=this.dOk,b=a.length;if(b!==0){if(b===this.Q4b.MLa)return{type:"all-locked"};if(a.some(d=>d.type!=="sheet-cell"&&d.item.Ka==="responsive"))return{type:"some-locked",DZn:[]};var c=this.qZn;return{type:"some-locked",DZn:md(a.map(({item:d})=>d.type==="sheet-cell"?d.L0a.type==="fixed-page"?d.L0a:void 0:d.Ka==="fixed"?d.page:void 0).map(d=>d&&c.get(this.mzd(d))).filter(sb))}}}mzd(a){return a.container?.type===
"concatenated-fixed-page"?a.container.page:a.page}constructor(a,b,c,d,e,f,g,h,k,l,n){this.store=a;this.Q4b=b;this.document=c;this.Ac=d;this.undo=e;this.errorService=f;this.gz=g;this.V=h;this.yGi=k;this.mGs=l;this.hGs=n;this.jHk=(aQs.G(this),LV(p=>p.item.type==="responsive-inline-item"||p.type==="sheet-cell"&&p.item.replace==null?!1:!0));this.lu=LV(p=>p.type==="sheet-cell"?!p.item.Kqn:p.item.Ka==="responsive"?!1:this.sBq(p.item.el));this.sBq=this.Ac!=null?LV(({ia:p,container:q})=>this.Ac.Tr({element:p,
container:q,aspect:Ol.Sw})):()=>!1}};var u9s=class{static G(a){O(a,{Rcj:oV.struct,lUe:oV.struct,OA:iV,OR:iV,Uc:iV,Wh:iV,vKs:oV})}static create({store:a,Pa:b,document:c,Za:d,SX:e,viewport:f,gz:g,V:h,pd:k,xwi:l}){e=e.jc(n=>new s9s(a,n,l));c=new t9s(a,c,e,k);return new u9s(a,c,b,f,d,g,h,tPs({UJd:c,viewport:f}))}get Rcj(){const a=this.viewport.h8,b=this.viewport.scrollingContainer?.getBoundingClientRect();if(b!=null&&a!=null){const c=b.top-a.tl.y;return Lj(a.tl.x,Math.round((c-1E3)/400)*400,a.br.x,Math.round((c+b.height+1E3)/400)*400)}}get lUe(){if(this.Rcj==
null)return[];const a=this.Rcj.tl.y,b=this.Rcj.br.y;return this.xNr.filter(c=>c.jU.some(d=>d.Tn.y>a&&d.tl.y<b))}OA(a){var b=this.store;b.query=a;a.length===0&&this.OR(void 0);a=this.V.wb("text.find",{Hb:{name:"editor.text.find",type:"responsive"}});this.OR(this.MLa>0?0:void 0);var c=this.matches;const {MNl:d,KLl:e,WAl:f,Boh:g}=fPs(c);var h=this.gz;c=c.length;b=b.X_b;var k=a.ob();h.YDm(c,d,e,f,g,b,k);a.qe()}OR(a){const b=this.store.xy??0;this.store.xy=a;if(a!=null){var c=this.matches[a];c&&this.wwi.navigateTo(c);
this.gz.N.track(xPs,{zwi:this.MLa,cAn:b,dAn:a})}}ohk(){const a=this.store;a.xy==null||this.MLa===0?this.OR(void 0):this.OR((a.xy+1)%this.MLa)}shk(){const a=this.store;a.xy==null||this.MLa===0?this.OR(void 0):this.OR(a.xy===0?this.MLa-1:a.xy-1)}rkl(){const a=this.store;this.MLa===0?this.OR(void 0):(a.xy==null||a.xy>=this.MLa)&&this.OR((a.xy??0)%this.MLa)}cRl(a,b){cPs(this.gz,a,b)}Uc(){this.store.isMounted=!0}Wh(){this.store.isMounted=!1;this.Za.focus()}get zqh(){return this.Pa.mode===40}get MLa(){return this.matches.length}get matches(){return this.UJd.lUe}get vKs(){return this.matches.map((a,
b)=>({...a,focused:b===this.store.xy}))}MQk(a){return this.UJd.yNr(a)}get xNr(){const a=this.store.xy;return this.UJd.hAn.map((b,c)=>({...b,focused:c===a}))}vKg(a){return this.UJd.vKg(a)}replaceAll(a){this.UJd.replaceAll(a)}constructor(a,b,c,d,e,f,g,h){this.store=a;this.UJd=b;this.Pa=c;this.viewport=d;this.Za=e;this.gz=f;this.V=g;u9s.G(this);this.wwi=h}},t9s=class{static G(a){O(a,{MLa:oV,kRh:oV,eAn:oV,lUe:oV,hAn:oV.struct})}get MLa(){return this.lUe.length}get kRh(){const a=this.document;if(a.Ka===
"responsive"){const b=m(a.Nl.first());return __c.vf(__c.yf(a),b)}}get eAn(){if(!this.kRh)return[];const a=this.geh.Grb(this.kRh.text);return a?jQs(this,a,this.kRh):[]}get lUe(){const a=[];for(const b of this.eAn)a.push(...lQs(b));return a}get hAn(){return this.lUe.map(a=>({...a,jU:this.vKg(a)}))}vKg(a){return a.type==="sheet-cell"?[a.item.rog]:this.pd.w5d(a.item.Sc,Gw.of({index:a.startIndex,length:a.length||this.store.query.length}))}replaceAll(a){for(const b of this.geh.instances)b.VYf.my.type!==
"sheet-item-cell-richtext"&&b.replaceAll(a)}constructor(a,b,c,d){this.store=a;this.document=b;this.geh=c;this.pd=d;this.yNr=(t9s.G(this),LV(e=>{var f=this.geh.Grb(e.text);if(!f)return[];e=jQs(this,f,e);f=[];for(const g of e)f.push(...lQs(g));return f}))}},s9s=class{static G(a){O(a,{pi:oV.struct,DKj:oV})}get pi(){const a=this.VYf,b=a.my,c=[];let d=0;a.text.forEach({Ya:(e,f,g)=>{mQs(this,g)||((f=c[c.length-1])&&f.type==="characters"&&f.startIndex+f.Ya.length===d?f.Ya+=e:c.push({type:"characters",Ya:e,
startIndex:d,container:b}));d+=e.length},item:(e,f,g)=>{if(!mQs(this,g))switch(e.type){case "pill":c.push({type:"inline-item",Ya:e.Sh.text,startIndex:d,item:e,container:b});break;case "table":__c.SVc(b)&&c.push({type:"table-item",container:b.ew(e)});break;case "layout":RVc(b)&&c.push({type:"layout-item",container:b.ew(e)});break;case "sheet":__c.TVc(b)&&c.push({type:"sheet-item",container:b.ew(e)});break;case "controlled":case "rect":case "shape":case "break":case "separator":case "embed":case "chart":case "design":c.push({type:"non-text-item"});
break;default:throw new u(e);}d+=1}});return c}get DKj(){const a=this.store.query,b=this.store.X_b;return this.pi.flatMap(c=>{if(c.type==="non-text-item")return[];if(c.type==="table-item"||c.type==="layout-item")return[c];if(c.type==="sheet-item"){const f=this.xwi;if(f==null)return[];const g=[];c.container.ia.config.layout.cells.forEach((h,{ec:k,$b:l})=>{h=c.container.XZ(k,l);h=f.create(h);k=U8s({X_b:b,source:h.axc,substring:a});k.length>0&&g.push({type:"sheet-cell",ccd:k,item:h})});return g}const d=
U8s({X_b:b,source:c.Ya,substring:a,Hmt:c.type==="inline-item"}).map(f=>f+c.startIndex),e=c.container;return c.type==="inline-item"?[{type:"inline-item-indices",indices:d,item:c.item,container:e}]:[{type:"indices",indices:d,container:e}]})}get lVi(){return this.VYf.text}replace(a,b){const c=this.VYf.pp;a=Gw.of({index:a,length:this.store.query.length});__c.aB(c,a,b)}replaceAll(a){var b=this.DKj.flatMap(e=>e.type==="indices"?e.indices:[]);if(b.length!==0){var c=this.VYf.pp,d=this.store.query.length;
b=Gw.list(b.map(e=>({index:e,length:d})));Lqs(c,b,a)}}constructor(a,b,c){this.store=a;this.VYf=b;this.xwi=c;s9s.G(this)}};var v9s=window.navigator?.userAgent??"",w9s=v9s.match(/AppleWebKit\//)&&!v9s.match(/(Chrome|Chromium)\//),nQs=GV(({matches:a})=>fV("div",{children:a.flatMap(({jU:b,focused:c})=>b.map(d=>fV(x9s,{box:d,focused:c},d.Tn.toString())))})),x9s=GV(({box:a,focused:b})=>{const {width:c,height:d,top:e,left:f,rotation:g}=a.Nb();return fV("div",{className:"_4a1KIg",style:{width:c,height:d,transform:`translate(${f}px, ${e}px) rotate(${g}deg)`,backgroundColor:b?"hsla(262,  94%, 79%, 1)":"hsla(260, 100%, 93%, 1)",
opacity:w9s?.5:1}})});var y9s=class extends IV{static G(a){O(a,{onClick:iV})}render(){return fV(this.props.tF,{onClick:this.onClick,CB:this.props.CB,children:M("YSZmvA")})}constructor(...a){super(...a);this.onClick=(y9s.G(this),()=>{const b=this.props.onClick,c=this.props.oa,d=this.props.yPl;d();b&&b();c&&c()})}};var z9s=class{constructor(a,b,c,d){this.store=a;this.config=b;this.P=c;this.oDb=d;this.yPl=()=>{const e=this.store.fq;this.config.fq=e!=="thumbnail_view"?"thumbnail":"scroll";const f=this.config.fq==="thumbnail"?"thumbnail_view":"scrolling_view";this.oDb?.nNj();this.P.track(__c.b8g,{fq:f,txc:e,mb:"file_menu"})}}};var A9s=class{static G(a){O(a,{xzo:oV,CB:oV,fq:oV})}get xzo(){return this.la.layout===2}get CB(){return this.config.fq==="thumbnail"&&!this.Kc.DNa}get fq(){return this.Kc.DNa?"grid_view":this.config.fq==="thumbnail"?"thumbnail_view":"scrolling_view"}constructor(a,b,c){this.config=a;this.Kc=b;this.la=c;A9s.G(this)}};var B9s=rc(6),C9s=()=>fV("div",{className:"_9G1iSw",children:B9s.map(a=>fV(Xi,{shape:"square",index:a},a))}),D9s=({Tbc:a})=>mV("div",{children:[a?null:fV("div",{className:"XX4SVA",children:fV(__c.Vt,{})}),fV("div",{className:"ysWVVg",children:B9s.map(b=>fV(Xi,{index:b,shape:"square"},b))})]});var E9s=__webpack_require__.p+"images/c1d3752055f3dd9727467a61aedbe1af.svg",F9s=__webpack_require__.p+"images/4cae76430b90372678b1e905bdcca3db.svg",G9s=__webpack_require__.p+"images/8176a64e87bfc9e9615e16a102bfc579.svg",H9s=__webpack_require__.p+"images/74d2b4f0782eb2b75e1650848e9c1644.svg",I9s=__webpack_require__.p+"images/f92bd9d9003a11a4b6a7f9403088f861.svg",J9s=__webpack_require__.p+"images/d747c381a37b344ebd5e7ccab9924101.svg",K9s=__webpack_require__.p+"images/c149f74cacb6894eb927573b8933ce2c.svg",
L9s=__webpack_require__.p+"images/ebbe273cc23a6791b453e61fd5940c1e.svg",M9s=__webpack_require__.p+"images/fa3bc38ce9b70594b8edaad3cfc61b36.svg",N9s=__webpack_require__.p+"images/116f0695785a0951166ccaf14a21716b.svg";var O9s=[{type:void 0,label:M("9e7qCw"),xha:0,thumbnail:E9s},{type:"cross-dissolve",label:M("UC2hsg"),xha:5E5,thumbnail:I9s},{type:"slide",label:M("nQVX1w"),xha:5E5,thumbnail:L9s},{type:"wipe-circle",label:M("IsoSzQ"),xha:5E5,thumbnail:G9s},{type:"color-wipe",label:M("K3o8tQ"),xha:1E6,thumbnail:H9s},{type:"wipe-line",label:M("TeLvcQ"),xha:5E5,thumbnail:K9s},{type:"match",label:M("9eUSmA"),description:M("0LipfA"),xha:5E5,thumbnail:N9s},{type:"flow",label:M("Y8dVVQ"),xha:15E5,thumbnail:J9s},{type:"stack",
label:M("XPz/Dw"),xha:5E5,thumbnail:M9s},{type:"chop",label:M("ghebZg"),xha:5E5,thumbnail:F9s}],P9s=[{type:void 0,label:M("9e7qCw"),xha:0,thumbnail:E9s},{type:"cross-dissolve",label:M("UC2hsg"),xha:5E5,thumbnail:I9s},{type:"slide",label:M("nQVX1w"),xha:5E5,thumbnail:L9s},{type:"wipe-circle",label:M("IsoSzQ"),xha:5E5,thumbnail:G9s},{type:"color-wipe",label:M("K3o8tQ"),xha:1E6,thumbnail:H9s},{type:"wipe-line",label:M("TeLvcQ"),xha:5E5,thumbnail:K9s},{type:"stack",label:M("XPz/Dw"),xha:5E5,thumbnail:M9s},
{type:"chop",label:M("ghebZg"),xha:5E5,thumbnail:F9s}];var Q9s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.75 7.098V4.5a.75.75 0 0 0-1.5 0v4c0 .966.784 1.75 1.75 1.75h4a.75.75 0 0 0 0-1.5H5.517A7.252 7.252 0 0 1 19.25 12a7.25 7.25 0 0 1-13.604 3.495.75.75 0 0 0-1.313.724 8.75 8.75 0 1 0 .417-9.12Z" fill="currentColor"/></svg>';var R9s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm0 1.5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V5a.5.5 0 0 0-.5-.5H5Z" fill="currentColor"/><path d="M7.5 18a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill="currentColor" fill-opacity=".8"/></svg>';var S9s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm0 1.5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V5a.5.5 0 0 0-.5-.5H5Z" fill="currentColor"/><path d="M16.5 18a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill="currentColor" fill-opacity=".8"/></svg>';var T9s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M19.25 7.098V4.5a.75.75 0 0 1 1.5 0v4A1.75 1.75 0 0 1 19 10.25h-4a.75.75 0 0 1 0-1.5h3.483A7.252 7.252 0 0 0 4.75 12a7.25 7.25 0 0 0 13.604 3.495.75.75 0 0 1 1.314.724 8.75 8.75 0 1 1-.418-9.12Z" fill="currentColor"/></svg>';var U9s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm0 1.5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V5a.5.5 0 0 0-.5-.5H5Z" fill="currentColor"/><path d="M7.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill="currentColor" fill-opacity=".8"/></svg>';var V9s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm0 1.5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V5a.5.5 0 0 0-.5-.5H5Z" fill="currentColor"/><path d="M16.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill="currentColor" fill-opacity=".8"/></svg>';var W9s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.134 6.673a1.01 1.01 0 0 1 .536-1.315l7.822-3.328a.99.99 0 0 1 1.304.532l2.024 4.865a1.01 1.01 0 0 1-.536 1.315L5.462 12.07a.99.99 0 0 1-1.304-.532L2.134 6.673Z" stroke="currentColor" stroke-width="1.25" stroke-linejoin="round"/><path d="M9.5 13.28h2.861a1 1 0 0 0 1-1v-.53" stroke="currentColor" stroke-width="1.25" stroke-linecap="round"/></svg>';var X9s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="2.125" stroke="currentColor" stroke-width="1.25"/><circle cx="8" cy="8" r="5.375" stroke="currentColor" stroke-width="1.25"/></svg>';var Y9s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.993 5.457 9.55 5.9l.442-.442Zm1.992 4.644-6.5-6.5-.884.884 6.5 6.5.884-.884ZM2.75 4.375h1.586v-1.25H2.75v1.25Zm-.375 6.875v-6.5h-1.25v6.5h1.25Zm8.46.375H2.75v1.25h8.086v-1.25Zm-.135-7.25h2.55v-1.25H10.7v1.25Zm2.925.375V7.3h1.25V4.75h-1.25ZM9.551 5.899l2.55 2.55.884-.884-2.55-2.55-.884.884ZM13.625 7.3a.375.375 0 0 1-.64.265l-.884.884c1.024 1.024 2.774.299 2.774-1.149h-1.25Zm-.375-2.925c.207 0 .375.168.375.375h1.25c0-.897-.727-1.625-1.625-1.625v1.25Zm-2.55-1.25c-1.448 0-2.173 1.75-1.15 2.774l.885-.884a.375.375 0 0 1 .265-.64v-1.25ZM1.125 11.25c0 .898.728 1.625 1.625 1.625v-1.25a.375.375 0 0 1-.375-.375h-1.25ZM2.75 3.125c-.897 0-1.625.728-1.625 1.625h1.25c0-.207.168-.375.375-.375v-1.25Zm2.735.476a1.625 1.625 0 0 0-1.15-.476v1.25c.1 0 .196.04.266.11l.884-.884Zm5.616 7.384a.375.375 0 0 1-.265.64v1.25c1.447 0 2.172-1.75 1.149-2.774l-.884.884Z" fill="currentColor"/></svg>';var Z9s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.496 8.089 3.25 5.924v4.33l3.247-2.165Zm3.007 0 3.247-2.165v4.33L9.503 8.089Zm-2.058.87a1 1 0 0 1 1.11 0l3.89 2.594A1 1 0 0 0 14 10.72V5.457a1 1 0 0 0-1.555-.832L8.555 7.22a1 1 0 0 1-1.11 0L3.554 4.625a1 1 0 0 0-1.555.832v5.264a1 1 0 0 0 1.555.832l3.89-2.594Z" fill="currentColor"/></svg>';var $9s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.75 6.5h5.157m-4.157 3H5" stroke="currentColor" stroke-width="1.25" stroke-linecap="round"/><path d="M5 3.5h8.408c.549 0 .992.443.992.993v7c0 .555-.452 1.007-1.007 1.007H3.749" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/></svg>';var a$s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="2.625" y="3.625" width="5.25" height="8.75" rx="1.375" stroke="currentColor" stroke-width="1.25"/><rect x="10.125" y="3.625" width="3.25" height="8.75" rx="1.375" stroke="currentColor" stroke-width="1.25"/></svg>';var b$s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.25" d="M10.5 6s.608 1.78 1.388 2.645c.78.866 2.612 1.317 2.612 1.317s-1.783.46-2.612 1.419c-.552.64-1.015 1.512-1.388 2.619-.46-1.171-.956-2.044-1.489-2.62-.533-.574-1.37-1.114-2.511-1.618 1.027-.12 1.864-.493 2.511-1.117C9.981 7.71 10.5 6 10.5 6zm-5-4s.531 1.173.927 1.635C6.824 4.097 8 4.45 8 4.45s-1.315.728-1.573 1.02c-.172.194-.472.704-.9 1.53-.238-.662-.521-1.173-.848-1.53C4.35 5.112 3.792 4.772 3 4.45c.647-.198 1.147-.47 1.499-.815C5.026 3.117 5.5 2 5.5 2z"/></svg>';var c$s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="2.625" y="3.625" width="10.75" height="8.75" rx="1.375" stroke="currentColor" stroke-width="1.25"/><path d="M7.675 6.175 9.5 8 7.675 9.825" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/></svg>';var d$s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.25 3.75a1 1 0 0 1 1-1h9.5a1 1 0 0 1 1 1V8.5a1 1 0 0 1-1 1h-9.5a1 1 0 0 1-1-1V3.75Z" stroke="currentColor" stroke-width="1.25"/><path d="M3.5 12v0c0 .531.43.961.962.961h7.077c.53 0 .961-.43.961-.961v0" stroke="currentColor" stroke-width="1.25" stroke-linecap="round"/></svg>';var yQs=Uq({small:W9s}),FQs=Uq({small:X9s}),zQs=Uq({small:Y9s}),AQs=Uq({small:Z9s}),BQs=Uq({small:$9s}),GQs=Uq({small:a$s}),CQs=Uq({small:b$s}),DQs=Uq({small:c$s}),EQs=Uq({small:d$s}),JQs=Uq({medium:Q9s}),IQs=Uq({medium:T9s}),OQs=Uq({medium:U9s}),PQs=Uq({medium:V9s}),QQs=Uq({medium:R9s}),RQs=Uq({medium:S9s});var e$s=({transition:a,wqi:b,unn:c,Jr:d})=>{a=HQs(a)||(b?Ops:Gu);return d&&b?fV(Ops,{size:"medium"}):fV(a,{size:"small",className:DV({QinT_w:c})})};var f$s={eventType:"editor_transition_panel_opened",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),page_number:a.Bd,location:a.location,control_context:a.mb})}},YQs={eventType:"editor_transition_applied",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),page_number:a.Bd,transition_name:a.v7f,previous_transition_name:a.Yvs,did_apply_between_all_pages:a.ttq})}},g$s={eventType:"editor_transition_adjusted",Oa(a){return jf({editing_context:a.Ca==null?void 0:mf(a.Ca),page_number:a.Bd,
transition_name:a.v7f,property:a.property,original_value:a.jtb,current_value:a.uya})}};var h$s=class{static G(a){O(a,{sfb:zV.ref,seg:zV.ref,Ge:zV.ref,title:zV.ref})}constructor(){this.sfb=(h$s.G(this),void 0);this.title=this.Ge=this.seg=void 0}},i$s=class{static G(a){O(a,{panel:oV({keepAlive:!0}),yBl:oV({keepAlive:!0}),abl:oV,xYc:oV({equals:nV.shallow}),acf:oV({equals:nV.shallow}),i9g:zV.ref,cCn:iV,xVn:iV,wVn:iV,close:iV})}get panel(){return{pa:m(this.config.sfb),header:this.config.title?{title:this.config.title}:void 0}}get yBl(){return{hf:m(this.config.seg),options:{sg:this.config.Ge}}}get abl(){const a=
m(this.config.sfb);return{hf:()=>fV(a,{}),options:{sg:this.config.Ge}}}get hR(){return this.DHl.Hte}get xYc(){const a=this.selection.Ma;return a?.type!=="pages"||a.inner!=null&&a.inner.type!=="background"?[]:a.pages.filter(b=>this.wBc.hgb(b))}get acf(){const a=this.selection.Ma;return a?.type!=="pages"||a.inner!=null&&a.inner.type!=="background"?[]:a.inner?.Hc.filter(b=>!this.pOo.wNb(b))||[]}open(a){const b=a.page,c=this.V.wb("open_transition_panel",{Hb:{name:"editor.editing.transitions.open_transition_panel",
type:a.mb}});this.cCn(a.DSl,b);this.xVn(b??this.wBc.ya?.page,a.mb,a.entryPoint);c.qe()}cCn(a,b){b&&(this.viewport.Uw(b),a.length===0||this.i9g!=null?this.selection.BEb(b):this.selection.PLf(b))}xVn(a,b,c){a&&this.wBc.hgb(a)&&(this.P.track(f$s,{location:"page_navigator",mb:b,Bd:this.Ja.pages.toArray().indexOf(a)+1}),b=this.DHl,b.active!==c&&b.Hte.clear(),b.active=c,this.hR.clear(),this.i9g=a,this.la.layout===2?this.hR.$g(this.yBl):c==="toolbar"?this.hR.$g(this.abl):this.eo.open(this.panel,{Fa:"top"}))}wVn(a,
b,c){this.pOo.wNb(a)||(this.P.track(f$s,{location:"page_navigator",mb:b,Bd:1}),a=this.DHl,a.active!==c&&a.Hte.clear(),a.active=c,this.hR.clear(),this.la.layout===2?this.hR.$g(this.yBl):c==="toolbar"?this.hR.$g(this.abl):this.eo.open(this.panel,{Fa:"top"}))}close(){this.i9g=void 0;this.eo.close(this.panel);this.hR.clear()}constructor(a,b,c,d,e,f,g,h,k,l,n){this.Ja=a;this.config=b;this.eo=c;this.selection=d;this.viewport=e;this.wBc=f;this.pOo=g;this.P=h;this.DHl=k;this.V=l;this.la=n;this.i9g=(i$s.G(this),
void 0)}};var j$s='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.561 16.5h7.19a.75.75 0 1 1 0 1.5h-8A1.75 1.75 0 0 1 6 16.25v-8a.75.75 0 0 1 1.5 0v7.19l9.2-9.2a.75.75 0 0 1 1.06 1.06l-9.2 9.2z" fill="currentColor"/></svg>';var MQs=Uq({medium:j$s});var k$s='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16.48 15.439v-7.19a.75.75 0 1 1 1.5 0v8A1.75 1.75 0 0 1 16.23 18h-8a.75.75 0 0 1 0-1.5h7.19l-9.2-9.2a.75.75 0 0 1 1.06-1.06l9.2 9.2z" fill="currentColor"/></svg>';var LQs=Uq({medium:k$s});var l$s='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 8.581v7.19a.75.75 0 1 1-1.5 0v-8c0-.967.783-1.75 1.75-1.75h8a.75.75 0 0 1 0 1.5H8.56l9.2 9.2a.75.75 0 0 1-1.06 1.06l-9.2-9.2z" fill="currentColor"/></svg>';var KQs=Uq({medium:l$s});var m$s=class{static G(a){O(a,{Fqd:zV.ref,animation:zV.ref,ya:oV,WO:oV,lBe:oV,bpb:oV,n0h:oV,Iid:oV,directions:oV,origins:oV,ta:oV,Eke:oV,xH:iV,zuo:iV,QXi:iV,setDirection:iV,Oyl:iV,Lwl:iV,r7:iV,wkb:iV,dgc:iV,fgc:iV,FRb:iV,jve:iV})}get ya(){return this.selection.Ma?.pages?.length===1?this.Ai.xb(this.selection.Ma.pages[0]):this.viewport.uh?this.Ai.xb(this.viewport.ya):void 0}get WO(){return this.ya?.page.transition.ref}get lBe(){return this.ya?.page.transition.ref?.durationUs}get bpb(){return this.WO?.type}get n0h(){if(this.bpb)return this.Yq.get().find(a=>
a.type===this.bpb)}get Iid(){return this.Ja.pages.count()>2&&this.Ja.pages.filter(a=>!this.wNb(a)).some(a=>a.transition.ref&&this.WO?a.transition.ref.type!==this.bpb||a.transition.ref.durationUs!==this.lBe||this.TCa(a.transition.ref)!==this.TCa(this.WO)||this.Xhb(a.transition.ref)!==this.Xhb(this.WO)||this.TZa(a.transition.ref)!==this.TZa(this.WO):!this.WO&&a.transition.ref?!0:a.transition.ref?.type!==this.bpb)}TCa(a){switch(a.type){case "color-wipe":return a.ta;case "chop":case "cross-dissolve":case "flow":case "match":case "slide":case "stack":case "wipe-circle":case "wipe-line":break;
default:throw new u(a);}}Xhb(a){switch(a.type){case "chop":case "color-wipe":case "flow":case "slide":case "stack":case "wipe-circle":case "wipe-line":return a.direction;case "cross-dissolve":case "match":break;default:throw new u(a);}}TZa(a){switch(a.type){case "chop":return a.origin;case "cross-dissolve":case "color-wipe":case "flow":case "match":case "slide":case "stack":case "wipe-circle":case "wipe-line":break;default:throw new u(a);}}get directions(){return NQs(this.WO?.type)}get origins(){return SQs(this.WO?.type)}get ta(){switch(this.WO?.type){case "color-wipe":return this.T0c(this.WO)}}T0c(a){switch(a.type){case "color-wipe":return a?.ta}}init(){mTs(oV(()=>
new Map(this.Ja.pages.map(a=>[a,this.Wab(a)])),{equals:nV.shallow}),a=>{a.newValue.forEach((b,c)=>{c.transition.ref&&b!==a.oldValue?.get(c)&&this.QXi(c.transition.ref,this.Fzd(c),Math.min(c.transition.ref.durationUs,this.Wab(c)))})});gV(()=>this.Ja.pages.filter(a=>a.type!=="fixed"||this.Ja.pages.last()===a?!1:!!a.transition.ref&&!UQs(this,a)),a=>{a.length!==0&&this.xH(a,void 0)},{equals:nV.shallow})}hgb(a){return!this.wNb(a)}wNb(a){if(a.type!=="fixed")return!0;const b=UQs(this,a)?.page;return a.locked||
b==null||b.locked||!1}get Eke(){return!!this.WO?.type}xH(a,b){const c=this.V.wb("select_transition_type",{Hb:{name:"editor.editing.transitions.select_transition_type",type:b}});if(a.length!==0){if(this.Vqc){const d=this.Yq.get().find(e=>e.type===b);d&&__c.hDe(this.Vqc,d)}a.forEach(d=>{var e=d.transition.ref;if(e?.type!==b){if(b!=null){e=e?e.durationUs:VQs(this,b,this.Wab(d));var f=this.Ja;f=car({Ja:f,Ft:this.Ft,Tqf:d.Hc.first(),INf:__c.dar(d,f)?.Hc.first()});f=XQs({type:b,durationUs:e,Qtd:f})}ZQs(this,
d,f,d.transition.ref);d.transition.set(f)}});c.qe()}}Wab(a){if(!a||a.type!=="fixed")return 0;var b=this.od.xb(a);b=(a=UQs(this,a)?.page)?Math.min(b,this.od.xb(a)):b;return Math.min(b/2,5E6)}zuo(a,{durationUs:b,direction:c,ta:d,origin:e}){const f=this.WO;if(f){var g=$Qs(f);this.xH(a,f.type);a.forEach(h=>{b&&this.QXi(f,this.Fzd(h),Math.min(b||f.durationUs,this.Wab(h)));if(c)if(g?.direction)this.setDirection(f,this.Fzd(h),c||g.direction);else throw Error(`No direction for transition type: ${f.type}`);
if(e)if(g?.origin)this.Oyl(f,this.Fzd(h),e||g.origin);else throw Error(`No origin for transition type: ${f.type}`);if(d)if(g?.ta)this.Lwl(f,this.Fzd(h),d||g.ta);else throw Error(`No color for transition type: ${f.type}`);})}}QXi(a,b,c){ra(c>0);c!==a.durationUs&&(this.P.track(g$s,{Bd:b,v7f:a.type,property:"duration_ms",jtb:String(a.durationUs/1E3),uya:String(c/1E3)}),a.durationUs=c)}setDirection(a,b,c){switch(a.type){case "chop":case "color-wipe":case "flow":case "stack":case "slide":case "wipe-circle":case "wipe-line":if(c!==
a.direction){var d=this.directions||[];const e=d.find(f=>f.value===a.direction);d=d.find(f=>f.value===c);this.P.track(g$s,{Bd:b,v7f:a.type,property:"direction",jtb:e?.name,uya:d?.name||""});a.direction=c}break;case "cross-dissolve":case "match":throw Error(`No direction for transition type: ${a.type}`);default:throw new u(a);}}Oyl(a,b,c){a.type==="chop"&&c!==a.origin&&(this.P.track(g$s,{Bd:b,v7f:a.type,property:"origin",jtb:String(a.origin),uya:String(c)}),a.origin=c)}Lwl(a,b,c){switch(a.type){case "color-wipe":nV.structural(c,
a.ta)||(a.ta=c,this.P.track(g$s,{Bd:b,v7f:a.type,property:"colors",jtb:c.join(","),uya:a.ta.join(",")}));break;default:throw Error(`No colors for transition type: ${a.type}`);}}r7(a){this.animation=a}get Dss(){if(this.animation&&this.animation.ff.Qf)return this.animation}wkb(a,b){const c=a?.page;if(c&&this.hgb(c)){sa(a.type==="fixed-page");var d=UQs(this,c);if(b!==void 0&&d){if(c.transition.ref?.type===b)b=c.transition.ref;else{var e=this.Ja;e=car({Ja:e,Ft:this.Ft,Tqf:c.Hc.first(),INf:__c.dar(c,e)?.Hc.first()});
b=XQs({type:b,durationUs:VQs(this,b,this.Wab(c)),Qtd:e})}this.rma({pages:[a,d],transition:b})}}}dgc(a,b){var c=a?.page;if(c&&this.hgb(c)){sa(a.type==="fixed-page");var d=UQs(this,c);if(d){c={...m(c.transition.ref)};switch(c.type){case "chop":case "color-wipe":case "flow":case "slide":case "stack":case "wipe-line":case "wipe-circle":c.direction=b;break;case "cross-dissolve":case "match":break;default:throw new u(c);}this.rma({pages:[a,d],transition:c})}}}fgc(a,b){var c=a?.page;if(c&&this.hgb(c)){sa(a.type===
"fixed-page");var d=UQs(this,c);d&&(c={...m(c.transition.ref)},c.type==="chop"&&(c.origin=b,this.rma({pages:[a,d],transition:c})))}}FRb(){this.animation&&this.animation.ff.stop()}rma({pages:a,transition:b}){const {ff:c,S_:d}=this.vja({X$a:__c.wye(()=>a,()=>this.Ja),override:{type:"page",animation:"none"},uee:b});var e=c.HLe(a[0].page);e?(b=b.durationUs/1E3,e=e.duration-b,c.seek(e),c.k0e(e+b*2)):c.play();this.animation={ff:c,S_:d}}jve(a){if(a&&this.hgb(a)){var b=this.Ft,c=this.Ja;ZQs(this,a,this.WO,
void 0,!0);c.pages.toArray().forEach(d=>{if(this.hgb(d)){var e=car({Ft:b,Ja:c,Tqf:d.Hc.first(),INf:__c.dar(d,c)?.Hc.first()});e=this.WO?XQs({type:this.WO.type,durationUs:Math.min(this.WO.durationUs,this.Wab(d)),Qtd:e,options:$Qs(this.WO)}):void 0;d.transition.set(e)}});this.ZXs()}}Fzd(a){return this.Ja.pages.toArray().indexOf(a)+1}TUa(a){return bk(a,this.Ja.dimensions)}Prb(a){return a.ABb!=null&&this.qud<a.ABb&&this.Vqc!=null&&!__c.gDe(this.Vqc,a)}constructor(a,b,c,d,e,f,g,h,k,l,n,p,q){this.Ja=a;
this.Ft=b;this.vja=c;this.viewport=d;this.od=e;this.P=f;this.V=g;this.pg=h;this.selection=k;this.qud=l;this.Vqc=n;this.ZXs=p;this.Yq=q;this.Fqd=(m$s.G(this),!1);this.Ai=zf(this.Ja);gV(()=>this.Fqd,r=>r&&this.jve(this.ya?.page))}};var n$s=class{static G(a){O(a,{ta:oV,origins:oV,directions:oV,DTa:oV,ya:oV,Hc:oV,Wta:oV,WO:oV,bpb:oV,Eke:oV,xH:iV,yuo:iV,kgh:iV,wkb:iV,dgc:iV,fgc:iV})}get ta(){switch(this.WO?.type){case "color-wipe":return this.wBc.T0c(this.WO)}}get origins(){return SQs(this.WO?.type)}get directions(){return NQs(this.WO?.type)}get DTa(){const a=this.viewport.uh?this.Ai.xb(this.viewport.ya):void 0;if(a?.type==="fixed-page")return a}get ya(){const a=this.viewport.uh?this.Ai.xb(this.viewport.ya):void 0;if(a?.type===
"fixed-page")return a.ia}get Hc(){return this.ya?.Hc}get Wta(){if(this.selection.Ma?.inner?.type==="background")return this.selection.Ma?.inner.Hc[0]}wNb(a){return this.Hc?.last()===a}get WO(){return this.Wta?.transition.ref}get bpb(){return this.WO?.type}get Eke(){return!!this.WO?.type}xH(a,b){(this.Hc?.count()||0)!==0&&a.forEach(c=>{var d=c.transition.ref;if(d?.type!==b){if(b!=null&&(d=d?d.durationUs:(d=this.wBc.Yq.get().find(f=>f.type===b))?d.xha:1E6,this.ya)){var e=car({Ja:this.Ja,Ft:this.Ft,
Tqf:c,INf:this.Hc?.next(c)});e=XQs({type:b,durationUs:d,Qtd:e})}e?c.transition.set(e):c.transition.set(void 0)}})}yuo(a,{durationUs:b,direction:c,ta:d,origin:e}){const f=this.WO;if(f){var g=$Qs(f);this.xH(a,f.type);a.forEach(h=>{b&&this.wBc.QXi(f,void 0,Math.min(b||f.durationUs,this.Wab(h)));if(c)if(g?.direction)this.wBc.setDirection(f,void 0,c||g.direction);else throw Error(`No direction for transition type: ${f.type}`);if(e)if(g?.origin)this.wBc.Oyl(f,void 0,e||g.origin);else throw Error(`No origin for transition type: ${f.type}`);
if(d)if(g?.ta)this.wBc.Lwl(f,void 0,d||g.ta);else throw Error(`No color for transition type: ${f.type}`);})}}kgh(a){a.transition.set(void 0)}rma({transition:a,fill:b}){const c=this.DTa;if(c){var {ff:d,S_:e}=this.vja({X$a:__c.wye(()=>[c],()=>this.Ja),override:{type:"page",animation:"none"},uee:a}),f=this.Hc&&__c.IRd(this.od,this.Hc);(f=(f=f&&f.find(g=>g.fill===b))&&f.startUs+f.durationUs)?(a=a.durationUs/1E3,f=f/1E3-a/2,d.seek(f),d.k0e(f+a*2)):d.play();this.wBc.r7({ff:d,S_:e})}}wkb(a){const b=this.Wta;
if(b&&!this.wNb(b)){var c=this.Hc?.next(b);a!==void 0&&c&&(b.transition.ref?.type===a?a=b.transition.ref:(c=car({Ja:this.Ja,Ft:this.Ft,Tqf:b,INf:this.Hc?.next(b)}),a=XQs({type:a,durationUs:VQs(this.wBc,a,this.Wab(b)),Qtd:c})),this.rma({transition:a,fill:b}))}}dgc(a,b){if(a&&!this.wNb(a)){var c={...m(a.transition.ref)};switch(c.type){case "chop":case "color-wipe":case "flow":case "slide":case "stack":case "wipe-line":case "wipe-circle":c.direction=b;break;case "cross-dissolve":case "match":break;default:throw new u(c);
}this.rma({fill:a,transition:c})}}fgc(a,b){if(a&&!this.wNb(a)){var c={...m(a.transition.ref)};c.type==="chop"&&(c.origin=b,this.rma({fill:a,transition:c}))}}Wab(a){if(!a)return 0;var b=this.od.KL(a);b=(a=this.Hc?.next(a))?Math.min(b,this.od.KL(a)):b;return Math.min(b/2,5E6)}constructor(a,b,c,d,e,f,g){this.Ja=a;this.Ft=b;this.viewport=c;this.selection=d;this.wBc=e;this.vja=f;this.od=g;this.Ai=(n$s.G(this),void 0);this.Ai=zf(this.Ja)}};var o$s=class{static G(a){O(a,{active:zV.ref,Hte:oV})}get Hte(){return m(this.EHl.get(this.active))}constructor(a,b){this.active=(o$s.G(this),"pageNavigator");this.EHl=new Map;this.EHl.set("pageNavigator",a);this.EHl.set("toolbar",b)}};var p$s=class{static G(a){O(a,{QCm:oV,ya:oV,$Ua:oV})}get QCm(){switch(this.selection.Ma?.type){case "pages":return this.ya&&this.ya.transition.ref!=null;default:return!1}}get ya(){return this.viewport.uh?this.viewport.ya:void 0}get $Ua(){const a=this.selection.Ma;return a?.type==="pages"&&!a.inner}constructor(a,b){this.selection=a;this.viewport=b;p$s.G(this)}};var q$s={eventType:"editor_element_opacity_changed",Oa(a){return jf({selected_element_types:a.LIa,previous:a.previous,value:a.value,design_id:a.designId,doctype_id:a.Ea,category_id:a.eb,page_width:a.Bq,page_height:a.ss,num_pages_in_document:a.rz,num_elements_in_page:a.eF,page_index:a.Yb,editing_context:a.Ca==null?void 0:mf(a.Ca)})}};var r$s={rz:0,Bq:0,ss:0},s$s=class{static G(a){O(a,{mWi:oV,J_f:oV,zUn:iV})}get CM(){return!!this.selection.Ma}get mWi(){return cRs(this,this.selection.Ma)}get J_f(){return this.mWi?100-Math.round(this.mWi.get()*100):void 0}constructor(a,b,c){this.controller=a;this.selection=b;this.N=c;this.zUn=(s$s.G(this),d=>{d=(100-Math.round(d))/100;this.mWi?.set(d)});this.mgs=d=>{d!=null&&this.J_f&&this.WIr(d,100-Math.round(this.J_f*100))};this.Ruc=()=>{const d=m(this.selection.Ma),e=d.Rz;e&&e.type==="fixed-page"&&
this.N.track(__c.qmh,{...r$s,eF:e.page.elements.count(),LIa:d.elements?.map(f=>f.type),menu:"opacity"})};this.WIr=(d,e)=>{const f=m(this.selection.Ma),g=f.Rz;g&&g.type==="fixed-page"&&this.N.track(q$s,{...r$s,eF:g.page.elements.count(),LIa:f.elements?.map(h=>h.type),previous:d.toString(),value:e.toString()})}}},aRs=class{get(){return this.objects.reduce((a,b)=>Math.min(a,b.get()),1)}set(a){for(const b of this.objects)b.set(a)}constructor(a){this.objects=a}};var t$s=a=>{const b=a.open,c=a.yi,d=a.disabled,e=a.onClick,f=a.Nh;a=jV(()=>{b||f();e?.()},[b,e,f]);return fV(c,{tooltip:M("qwymYg"),className:"pyufWg",pressed:b,disabled:!!d,onClick:a,zh:"icon",icon:__c.eJm,children:M("esjKOA")})},u$s=({Zh:a,value:b,onChange:c,kh:d,We:e,jg:f})=>{a=fV("div",{className:"_1eG0uQ",children:fV(a,{min:0,max:100,step:1,dz:0,onChange:c,kh:d,value:b,label:M("esjKOA")})});return f?a:fV(__c.Ofh,{We:e,children:a})};var v$s=class{open(){return this._open()}constructor(a){this._open=a}};var fRs={eventType:"editor_version_history_clicked",Oa(a){return jf({document_id:a.ka,source:a.source,editing_context:a.Ca==null?void 0:mf(a.Ca)})}};var sRs={eventType:"copy_paste_styles_applied",Oa(a){return jf({style:a.style,source_element_type:a.TNd,target_element_type:a.ROd,control:a.control,design_id:a.designId,doctype_id:a.Ea,category_id:a.eb,page_width:a.Bq,page_height:a.ss,editing_context:a.Ca==null?void 0:mf(a.Ca)})}},lRs={eventType:"copy_paste_styles_paste",Oa(a){return jf({source_element_count:a.rjd,source_element_types:a.sjd,target_element_count:a.kkd,target_element_types:a.lkd,control:a.control,design_id:a.designId,doctype_id:a.Ea,
category_id:a.eb,page_width:a.Bq,page_height:a.ss,editing_context:a.Ca==null?void 0:mf(a.Ca)})}},iRs={eventType:"copy_paste_styles_copy",Oa(a){return jf({elements_selected:a.b6h,element_types:a.mE,control:a.control,design_id:a.designId,doctype_id:a.Ea,category_id:a.eb,page_width:a.Bq,page_height:a.ss,editing_context:a.Ca==null?void 0:mf(a.Ca)})}};var w$s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 3.5H5a.5.5 0 0 0-.5.5v1.5A.5.5 0 0 0 5 6h11a.5.5 0 0 0 .5-.5V4a.5.5 0 0 0-.5-.5ZM5 2a2 2 0 0 0-2 2v1.5a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-.25h.5a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-.75.75h-5.75a2.25 2.25 0 0 0-2.25 2.25v1.563A2 2 0 0 0 9 15v5a2 2 0 0 0 2 2h.5a2 2 0 0 0 2-2v-5a2 2 0 0 0-1.5-1.937V11.5a.75.75 0 0 1 .75-.75h5.75a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25h-.515A2 2 0 0 0 16 2H5Zm7 13a.5.5 0 0 0-.5-.5H11a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h.5a.5.5 0 0 0 .5-.5v-5Z" fill="currentColor"/><path fill="currentColor" d="M4 3h13v4H4z"/></svg>';var x$s=Uq({medium:w$s});var y$s=hV(({rl:a,L:b,oa:c})=>{const d=b.Qrg;return fV(a,{label:M("bUbLwQ"),disabled:!d,onClick:iV(()=>d?.()),Icon:__c.MMf,qg:b.Kpf.status===Jx.ei?fV(__c.Bx,{size:"small"}):fV(__c.Ax,{size:"small"}),oa:c})}),z$s=hV(({rl:a,L:b,oa:c})=>{if(!b.Puk)return null;const d=b.LKi;return fV(a,{label:M("Vr4D+Q"),disabled:!d,onClick:iV(()=>d?.()),Icon:x$s,qg:b.Kpf.status===Jx.ei?fV(__c.Bx,{size:"small"}):fV(__c.Ax,{size:"small"}),oa:c})}),A$s=class{static G(a){O(a,{style:zV.ref,Qrg:oV,LKi:oV,Puk:oV,nkh:oV})}get Qrg(){if(this.nkh.length!==
0)return()=>{this.Kpf.status!==Jx.ei?this.Kpf.Rd("copy_page_styles","paywall",{QVa:()=>{this.style=XKs(kRs(this))}}):(this.style=XKs(kRs(this)),this.Cm.Ib({Db:M("6jw2AQ")}))}}get LKi(){if(this.style?.state==="fulfilled")return this.nkh.filter(a=>!this.Ac.nS(a)).length?()=>mRs(this):void 0}get Puk(){return this.style!=null}get nkh(){const a=this.nF.Ma;return a?.type!=="pages"||(a.inner?.type==="pages"?a.inner.inner:a.inner)!=null?[]:a.pages.flatMap(b=>{switch(b.type){case "fixed":return ug(b.dimensions??
this.document.dimensions)?[]:[a.container.xb(b)];case "concatenated-fixed":return b.pages.map(c=>a.container.xb(c));case "responsive":return[];default:throw new u(b);}})}constructor(a,b,c,d,e,f,g,h,k,l,n,p){this.document=a;this.Ac=b;this.nF=c;this.Cm=d;this.eD=e;this.CE=f;this.qtb=g;this.yW=h;this.undo=k;this.N=l;this.Kpf=n;this.logger=p;this.style=(A$s.G(this),void 0)}},jRs=class{constructor(a,b,c,d){this.kq=a;this.gyb=b;this.text=c;this.backgroundImage=d}};var B$s=Pk(Po("c")),C$s=Pk(Po("v")),HRs=a=>{const {yi:b,Fbb:c,ZB:d,variant:e,...f}=a;a=c?M("1TaVQA"):M("o2WVfA");const g=c?C$s:B$s;a=fV(b,{...f,tooltip:d?a:void 0,LI:d?g:void 0,children:a,icon:c?x$s:__c.MMf,zh:d?"icon":"icon-and-label",selected:c});switch(e){case "magic":return fV(__c.Pu,{tone:"critical",bfb:"0",children:a});case "monochrome":return a;default:throw new u(e);}},D$s=a=>{const {rl:b,Fbb:c,cbq:d,kqs:e,...f}=a,{Dm:g,tooltip:h,icon:k}=c?{Dm:e,tooltip:M("1TaVQA"),icon:x$s}:{Dm:d,tooltip:M("o2WVfA"),
icon:__c.MMf};return fV(b,{...f,label:h,Icon:k,Dm:g})};var E$s=class{gUa(a){return Jqs(this.lp,a,Pb("98c2ecd9",!1))}OKa(a){return Kqs(this.lp,a.ia,Pb("98c2ecd9",!1))}i3a(a,b){if(!a||a.length===0||a[0]?.Lcb==null)return!1;const c=this.Pai(b).map(d=>d.image.ref);if(Pb("98c2ecd9",!1)&&a.some(d=>d?.Lcb?.ej?.some(e=>e.type==="style_transfer")))return nRs(this,a,b),!0;Hqs(this.lp,a,c);return!0}NW(a,b){if(!a||a.length===0)return!1;const c=a[0];b=b.ia.Hc.first()?.image.ref;if(!b||!c?.Lcb)return!1;Hqs(this.lp,a,[b]);return!0}constructor(a,b){var c=__c.au.JO;this.lp=
a;this.Qa=b;this.Pai=c}};var F$s=class{static G(a){O(a,{copy:iV,paste:iV,Fbb:oV,aJc:oV,Dvd:oV,zxg:oV,qPf:iV.bound})}copy(a){if(this.selection.Kb)return this.d2.copy(a);this.store.control=a;var b=this.selection.Ma;if(b)switch(b.type){case "audio":break;case "pages":b.inner?.type==="background"?(b=b.inner.container,b.type!=="section-marker"&&pRs(this,b,a)):b.inner?.type==="pages"&&b.inner.inner?.type==="background"?pRs(this,b.inner.inner.container,a):b.inner?.type==="sheet"&&this.wYh(b.inner.cells,b.inner.page.sheet,a);break;
case "elements":b.inner?.type==="sheet"?this.wYh(b.inner.cells,b.inner.sheet.config,a):rRs(this,b.inner&&b.inner.type==="group"?b.inner.pb:b.elements,b.container,a);break;default:throw new u(b);}}wYh(a,b,c){this.N.track(iRs,{b6h:a.size,mE:"sheet",control:c});if(a.size!==0){this.store.clipboard.ava=[];a=a.map(g=>g);var {P2i:d,O2i:e,uUh:f}=ARs(a,b);d.forEach((g,h)=>{e.forEach((k,l)=>{if(k=f.get(g)?.get(k))k=this.Nwc.Ava(k,b),this.store.clipboard.ava?.push({styles:k,$2b:h,uVb:l})})});this.Cm.Ib({Db:M("6jw2AQ")})}}paste(a){if(this.selection.Kb)return this.d2.paste();
var b=this.selection.Ma;if(b&&b.Ri()){if(this.store.clipboard.xoc?.Cal!=null&&(b.pages?.length??0)>0){const c=zf(this.document);b.pages?.flatMap(d=>{switch(d.type){case "fixed":return[c.xb(d)];case "concatenated-fixed":const e=c.xb(d);return d.pages.map(f=>e.xb(f));case "responsive":return[];default:throw new u(d);}})?.forEach(d=>tRs(this,this.store.clipboard,d,a))}else switch(b.type){case "audio":return;case "pages":if(b.inner?.type==="background"){b=b.inner.container;if(b.type==="section-marker")return;
tRs(this,this.store.clipboard,b,a)}else if(b.inner?.type==="pages"&&b.inner.inner?.type==="background")tRs(this,this.store.clipboard,b.inner.inner.container,a);else if(b.inner?.type==="sheet")this.Cah(this.store.clipboard,b.inner.cells.map(c=>c),b.inner.page.sheet,a);else return;break;case "elements":if(b.inner?.type==="sheet")this.Cah(this.store.clipboard,b.inner.cells.map(c=>c),b.inner.sheet.config,a);else{const c=uRs(this,b),[d,e]=__c.bp(c,g=>g.type==="sheet"),f=this.store.clipboard.clone();wRs(this,
f,e,b.Fp,a);d.forEach(g=>{sa(g.type==="sheet");this.Cah(f,g.config.layout.rows.flatMap(h=>g.config.layout.cols.map(k=>({row:h,column:k}))),g.config,a)})}break;default:throw new u(b);}yRs(this)}}Cah(a,b,c,d){if(a.xoc)this.N.track(lRs,{rjd:1,sjd:"page",kkd:b.length,lkd:"sheet",control:d}),b.length&&this.Nwc.Kkf(a.xoc,b,c,l=>this.N.track(sRs,{style:l,TNd:"page",ROd:"sheet",control:d}));else if(a.x$a){const l=[...a.x$a.keys()];this.N.track(lRs,{rjd:l.length,sjd:qRs(l),kkd:b.length,lkd:"sheet",control:d});
l.length!==0&&b.length!==0&&b.forEach((n,p)=>{const q=l[p%l.length];p=m(a.x$a);p=m(p.get(q));this.Nwc.Kkf(p,[n],c,r=>this.N.track(sRs,{style:r,TNd:q.type,ROd:"sheet",control:d}))})}else if(a.ava){const l=a.ava;this.N.track(lRs,{rjd:l.length,sjd:"sheet",kkd:b.length,lkd:"sheet",control:d});if(l.length!==0&&b.length!==0){var e=[];a.ava.forEach(({$2b:n,uVb:p,styles:q})=>{e[n]||(e[n]=[]);e[n][p]=q});var {P2i:f,O2i:g,uUh:h}=ARs(b,c),k=new Map;f.forEach((n,p)=>{g.forEach((q,r)=>{if(q=h.get(n)?.get(q)){var t=
e[p%e.length];t&&(r=t[r%e[0].length])&&ij(k,r,q)}})});b=n=>this.N.track(sRs,{style:n,TNd:"sheet",ROd:"sheet",control:d});for(const [n,p]of k)this.Nwc.Kkf(n,p,c,b)}}}get Fbb(){return this.selection.Kb?this.d2.Fbb:!this.store.clipboard.isEmpty}get aJc(){return this.selection.Kb?this.d2.aJc:this.Fbb&&(this.store.control==="contextual_menu"||this.store.control==="toolbar_button")}get Dvd(){if(this.selection.Kb)return this.d2.Dvd;if(!zRs(this))return!1;var a=this.document.pages.filter(c=>c.type!=="responsive");
if(a.length>1)return!0;let b=0;for(const c of a){if(hf(c)&&(c.sheet.layout.cols.count()>1||c.sheet.layout.rows.count()>1))return!0;a=__c.$t.oy(c).flatMap(d=>d.elements.toArray());b+=a.length;if(b>1||a.some(d=>d.type==="sheet"&&(d.config.layout.cols.count()>1||d.config.layout.rows.count()>1)))return!0}return!1}get zxg(){if(!Pb("98c2ecd9",!1)||!this.Dvd)return!1;if(this.store.clipboard.nwk)return!0;if(this.selection.Kb)return this.d2.zxg;const a=this.selection.Ma;return a&&a.type==="elements"&&a.elements.length===
1?__c.yFb.JO(a.elements[0]).length>0:!1}qPf(a){if(this.selection.Kb)return this.d2.qPf(a);if(this.Fbb)this.paste(a),this.store.control==="keyboard_shortcut"&&xRs(this);else{this.copy(a);const b=this.selection.Ma;let c=!1;const d=zV.box(!1),e=iV(()=>d.set(!0)),f=iV(()=>d.set(!1));document.addEventListener("mousedown",e,{capture:!0});document.addEventListener("mouseup",f,{capture:!0});this.AMd&&this.AMd();this.AMd=gV(()=>({state:this.selection.Ma,isMouseDown:d.get()}),({state:g,isMouseDown:h})=>{h||
g===b||g==null&&c||(c=g?.type==="pages"&&g?.inner==null,c||(zRs(this)?this.Fbb&&this.paste(a):yRs(this),this.AMd&&this.AMd(),document.removeEventListener("mousedown",e,{capture:!0}),document.removeEventListener("mouseup",f,{capture:!0})))},{equals:nV.structural})}}constructor(a,b,c,d,e,f,g,h,k,l,n){this.d2=a;this.sNr=b;this.tNr=c;this.Nwc=d;this.store=e;this.document=f;this.Ac=g;this.selection=h;this.Pa=k;this.Cm=l;this.N=n;this.DLf=(F$s.G(this),50)}},G$s=class{static G(a){O(a,{aJc:oV,Dvd:oV,zxg:oV,
Fbb:oV,qPf:iV,copy:iV,paste:iV,l9n:iV})}get aJc(){return this.Fbb&&(this.store.control==="contextual_menu"||this.store.control==="toolbar_button")}get Dvd(){if(this.Pa.mode<=20)return!1;const a=this.Za.state;switch(a?.type){case "RANGE":return!a.oB||a.oB.display===2;case "TABLE_CELL":case "SHEET_CELL":case "LAYOUT_CELL":return!0;default:return!1}}get zxg(){return!1}get Fbb(){return!this.store.clipboard.isEmpty}qPf(a){BRs(this)?(this.paste(),this.store.control==="keyboard_shortcut"&&xRs(this)):this.Dvd&&
(this.l9n(),this.copy(a))}copy(a){this.store.control=a;if(a=this.Za.state)switch(a.type){case "RANGE":a=this.uyc.oac(a.Sc);this.store.clipboard.y$a=a;break;case "TABLE_CELL":[a]=a.cells;a=this.uyc.Rqc(a);this.store.clipboard.y$a=a;break;case "SHEET_CELL":this.wYh(a.cells,a.sheet.config);break;case "LAYOUT_CELL":[a]=a.cells,a=this.uyc.Qqc(a),this.store.clipboard.y$a=a}}wYh(a,b){if(a.length!==0){var c=[],{P2i:d,O2i:e,uUh:f}=ARs(a,b);d.forEach((g,h)=>{e.forEach((k,l)=>{if(k=f.get(g)?.get(k))k=this.uyc.Ava(k,
b),c.push({styles:k,$2b:h,uVb:l})})});this.store.clipboard.ava=c}}paste(){const a=this.store.clipboard,b=this.Za.state;if(b)switch(b.type){case "RANGE":CRs(this,a,b.Sc);break;case "TABLE_CELL":ERs(this,a,b.cells);break;case "SHEET_CELL":this.Cah(a,b.cells,b.sheet.config);break;case "LAYOUT_CELL":GRs(this,a,[...b.cells])}yRs(this);this.AMd?.();this.AMd=void 0}Cah(a,b,c){if(a.y$a)this.uyc.Kkf(a.y$a,b,c,()=>{});else if(a.ava&&a.ava.length!==0&&b.length!==0){var d=[];a.ava.forEach(({$2b:h,uVb:k,styles:l})=>
{d[h]||(d[h]=[]);d[h][k]=l});var {P2i:e,O2i:f,uUh:g}=ARs(b,c);e.forEach((h,k)=>{f.forEach((l,n)=>{(l=g.get(h)?.get(l))&&(n=d[k%d.length][n%d[0].length])&&this.uyc.Kkf(n,[l],c,()=>{})})})}}l9n(){this.AMd?.();let a=!1;const b=zV.box(!1),c=iV(()=>b.set(!0)),d=iV(()=>{b.set(!1);a&&BRs(this)&&setTimeout(()=>{this.paste();e()})}),e=()=>{document.removeEventListener("mousedown",c,{capture:!0});document.removeEventListener("mouseup",d,{capture:!0})};document.addEventListener("mousedown",c,{capture:!0});document.addEventListener("mouseup",
d,{capture:!0});this.AMd=this.Za.SYe(()=>{a=!0;!b.get()&&BRs(this)&&(this.paste(),e())},{fireImmediately:!1})}constructor(a,b,c,d){this.uyc=a;this.store=b;this.Za=c;this.Pa=d;this.AMd=(G$s.G(this),void 0)}};var H$s=class{static G(a){O(a,{ava:zV.ref,y$a:zV.ref})}constructor(){this.ava=(H$s.G(this),void 0)}},I$s=class extends H$s{static G(a){O(a,{x$a:zV.ref,xoc:zV.ref,isEmpty:oV,nwk:oV})}get isEmpty(){return this.ava==null&&this.x$a==null&&this.xoc==null&&this.y$a==null}clear(){this.y$a=this.xoc=this.x$a=this.ava=void 0}clone(){const a=new I$s;a.ava=this.ava;a.x$a=this.x$a;a.xoc=this.xoc;a.y$a=this.y$a;return a}get nwk(){return this.x$a&&this.x$a.size!==0?Array.from(this.x$a.values()).some(a=>a.Bh?.some(b=>
b?.Lcb?.ej.some(c=>c.type==="style_transfer"))):!1}constructor(...a){super(...a);this.x$a=(I$s.G(this),void 0)}},J$s=class extends H$s{static G(a){O(a,{isEmpty:oV})}get isEmpty(){return this.ava==null&&this.y$a==null}clear(){this.y$a=this.ava=void 0}clone(){const a=new J$s;a.ava=this.ava;a.y$a=this.y$a;return a}get nwk(){return!1}constructor(...a){super(...a);J$s.G(this)}},K$s=class{static G(a){O(a,{control:zV.ref})}constructor(a){this.clipboard=a;this.control=(K$s.G(this),void 0)}};var L$s=class{OKa(a){return a.ia.animation!=null?{RSf:a.ia.animation}:void 0}NW(a,b){if(!a||!a.RSf||!this.E9a)return!1;this.E9a.xOh([b.ia],a.RSf);return!0}gUa(a){if(a.animation)return{r4j:{T7b:a.animation.type!=="none"?a.animation.animation:"static",configuration:a.animation.type!=="none"?a.animation.Oz:void 0}}}i3a(a,b,c){if(!a||!a.r4j||!this.E9a)return!1;this.E9a.zqd([[b,c.ia]],a.r4j.T7b,a.r4j.configuration);return!0}constructor(a){this.E9a=a}};var M$s=class{OKa(){}NW(){return!1}Ava(a,b){a=__c.gde(__c.lId,b,a.column,a.row);a=[a?.ld,a?.sf,a?.je,a?.yd].map(c=>({Mb:c?.color,rg:c?__c.wfe(c.uD):void 0,Zl:!1,weight:c?.weight,qb:0})).filter(sb);if(a.length)return{FA:a}}gUa(a,b){if(gf(a)||a.type==="controlled"){var c=this.ik?.Cqb(a,b,["border"]);c=c?.border.length?c.border[0]:void 0;c=c?.Gl?.length?c.Gl[0]:c?.Uv?.length?c.Uv[0]:void 0;a=this.Aca.Me(a,b);return a.length===0?{FA:[WRs]}:{FA:[{Mb:c,...XRs(a[0])}]}}switch(a.type){case "shape":return QRs(this,
a,b);case "rect":return c=(c=a.stroke.ref)?__c.qn.snapshot(c):void 0,PRs(this,a,b,c);case "layout":return c=(c=a.border.all.ref)?__c.qn.snapshot(c):void 0,PRs(this,a,b,c);case "table":return RRs(a);case "grid":return c=a.cells.get(a.layout.template[0][0]),c=c?.stroke.ref?__c.qn.snapshot(c.stroke.ref):void 0,PRs(this,a,b,c)}}VJa(a,b,c){if(!a||a.FA.length===0)return!1;var d=a.FA;a=c.direction==="rtl"?d[1]??d[0]:d[3]??d[1]??d[0];const e=c.direction==="rtl"?d[3]??d[1]??d[0]:d[1]??d[0],f=d[0];d=d[2]??
d[0];const g={};if(a.Mb==null||a.Mb.type==null)g.Kra=a.Mb;g.dma=__c.xfe(a.weight);g.$Sa=yfe(a.rg);if(e.Mb==null||e.Mb.type==null)g.Jra=e.Mb;g.cma=__c.xfe(e.weight);g.ZSa=yfe(e.rg);if(f.Mb==null||f.Mb.type==null)g.Ira=f.Mb;g.bma=__c.xfe(f.weight);g.YSa=yfe(f.rg);if(d.Mb==null||d.Mb.type==null)g.Hra=d.Mb;g.ama=__c.xfe(d.weight);g.XSa=yfe(d.rg);c.layout.attrs.set(Ee.ht,{$b:b.row,ec:b.column},g);return!0}i3a(a,b,c){if(!a||a.FA.length===0)return!1;a=a.FA[0];if(gf(b)||b.type==="controlled"){var d=TRs(a),
e=this.ik?.Cqb(b,c,["border"]);e=e?.border.length?e.border[0]:void 0;d.color&&e?.pj(d.color);(d=d.fill.gradient)&&e?.hz?.(d);URs(this,a,b,c);return!0}switch(b.type){case "shape":e=TRs(a);URs(this,a,b,c);for(d of b.paths)d.stroke.ref!=null&&(d.stroke.ref.color=e.color,d.stroke.ref.fill.gradient.set(e.fill.gradient));return!0;case "rect":return d=TRs(a),URs(this,a,b,c),b.stroke.ref&&(b.stroke.ref.color=d.color,b.stroke.ref.fill.gradient.set(d.fill.gradient)),!0;case "layout":return d=TRs(a),URs(this,
a,b,c),b.border.all.ref&&(b.border.all.ref.color=d.color,b.border.all.ref.fill.gradient.set(d.fill.gradient)),!0;case "table":return SRs(a,b),!0;case "grid":return VRs(this,a,b,c),!0;default:return!1}}constructor(a,b){this.Aca=a;this.ik=b}},WRs={...ls,Mb:ls.color,weight:0,qb:0};var N$s=class{Ava(a,b){return{ta:[{type:"solid",color:b.layout.attrs.get(Ee.ht,a.row,a.column)?.n1??Ee.Nf.n1}],Rm:"sheet-cell"}}Rqc(a){return YRs({tb:a,type:"table-cell"})}Qqc(a){return YRs({tb:a,type:"layout-cell"})}gUa(a,b){if(a.type==="rect"){b=this.ik?.C_m(a,b);const c=b?.jT?[b.jT]:[];b=b?b.ARr.concat(c):c}else a.type==="layout"?(b=this.ik?.x_m(a,b),b=b?.jT?[b.jT]:[]):b=gf(a)?ZRs(this,a,b):this.ik?.Me(a,b)||[];return{ta:b.flatMap(c=>{const d=c.Uv?.flatMap(e=>({type:"gradient",gradient:e}))??[];
c=c.Gl.flatMap(e=>({type:"solid",color:e}))??[];return d.concat(c)}),Rm:a.type}}OKa(a){a=a.ia.Hc.first();if(a?.gradient.ref!=null)return{Rm:"page",ta:[{type:"gradient",gradient:__c.Tr.snapshot(a.gradient.ref)}]};if(a?.color!=null)return{ta:[{type:"solid",color:a.color}],Rm:"page"}}VJa(a,b,c){a=a?.ta.find(d=>d.type==="solid");if(!a)return!1;c.layout.attrs.set(Ee.ht,{$b:b.row,ec:b.column},{n1:a.color});return!0}m1c(a,b){return $Rs(a,b)}l1c(a,b){return $Rs(a,b)}i3a(a,b,c){if(!a||a.ta.length===0||a.Rm===
"text"&&(b.type==="shape"||b.type==="table"))return!1;c=gf(b)?ZRs(this,b,c):this.ik?.Me(b,c)||[];if(c.length===0)return!1;let d=a.ta;b.type==="chart"&&(a=aSs(a.ta.flatMap(e=>e.type==="solid"?[e.color]:e.gradient.stops.map(f=>f.color))),d=this.xsr(a,c.length).flatMap(e=>({type:"solid",color:e})));this.pj(d,c);return!0}NW(a,b){const c=b.ia.Hc.first();if(!a||a.ta.length===0||c==null)return!1;const d=a.ta[0];if(d.type==="gradient"){const e=d.gradient;rV(()=>{c.image.set(void 0);c.color=void 0;c.gradient.set(e)});
return!0}rV(()=>{c.image.set(void 0);c.gradient.set(void 0);c.color=d.color});return!0}pj(a,b){const c=a[a.length-1];b.forEach((d,e)=>{e=a[e]??c;e.type==="gradient"?d.hz?.(e.gradient):d.pj(e.color)})}constructor(a){var b=bSs;this.ik=a;this.xsr=b}};var O$s=class{gUa(a){a=a.Lc?.toArray()??[];if(a.length!==0)return{aBq:a.map(b=>__c.TRc.snapshot(b))}}i3a(a,b,c){if(!a)return!1;c=c.Me(b);if(!this.SKb.BMm(c))return!1;b.Lc.Er();a.aBq.forEach(d=>{b.Lc.append(d)});return!0}constructor(a){this.SKb=a}};var P$s=class{gUa(a){switch(a.type){case "rect":case "shape":return{image:__c.au.JO(a).map(b=>b.image.ref).filter(sb).flatMap(b=>cSs(this,b)).filter(sb)[0]}}}OKa(a){if(a=a.ia.Hc.first()?.image.ref)return{image:cSs(this,a),EVp:a.yb!=null?__c.fWa(a.yb):void 0,bob:a.za}}i3a(a,b,c){if(!a||!a.image)return!1;b=xy.fromElement(b,c);if(!b||b.fill.image.ref||b.fill.video.ref)return!1;this.km.n1a(b,a.image);return!0}NW(a){if(!a||!a.image)return!1;const b=this.Mi.rnc();if(!b)return!1;a.image.type==="image"&&
b.fill.image.set({...__c.js,media:{id:a.image.image.id,version:a.image.image.version},za:a.bob??0,yb:a.EVp});return!0}constructor(a,b,c){this.Mi=a;this.km=b;this.Qa=c}};var Q$s=class{gUa(a){switch(a.type){case "grid":case "rect":case "shape":const {A5a:b,JBh:c}=dSs(this,a);return{vli:eSs(b),KBh:fSs(c),LBh:iSs(c)};default:return{vli:[],KBh:[],LBh:[]}}}OKa(a){const {Cy:b,H9:c}=jSs(this,a);a=b?eSs([b]):[];const d=c?fSs([c]):[],e=c?iSs([c]):[];return{vli:a,KBh:d,LBh:e}}i3a(a,b){switch(b.type){case "grid":case "rect":case "shape":const {vli:c,...d}=a,{A5a:e,JBh:f}=dSs(this,b);b=!1;c.length>0&&(kSs(c,e),b=!0);if(a.KBh.length>0||a.LBh.length>0)lSs(d,f),b=!0;return b;default:return!1}}NW(a,
b){if(!a)return!1;const {vli:c,...d}=a,{Cy:e,H9:f}=jSs(this,b);if(e&&c.length>0)kSs(c,[e]);else if(f&&(a.KBh.length>0||a.LBh.length>0))lSs(d,[f]);else return!1;return!0}constructor(a){this.xn=a;this.Ymn=b=>this.xn.nfa(b)===1}};var R$s=class{gUa(a){if(a.type==="line")return{weight:a.weight,rg:a.rg,Zl:a.Zl,xRb:a.start.marker,Ahb:a.end.marker}}i3a(a,b){if(!a||b.type!=="line")return!1;b.weight=a.weight;b.rg=a.rg;b.Zl=a.Zl;b.start.marker=a.xRb;b.end.marker=a.Ahb;return!0}};var S$s=class{Ava(a,b){a={...b.layout.attrs.get(Ee.ht,a.row,a.column)};a=__c.EUf({...Ee.Nf,...a});delete a.link;return{Ae:a}}gUa(a,b){switch(a.type){case "text":var c=b.ia;b={};a.text.Ya.length===0?c=b:(mSs(b,a.text),b["font-size"]=pSs(ge(Be,b,"font-size"),a,c),c=he(Be,b));return{Ae:c,Kuh:__c.sqa.snapshot(a.text.fh),no:a.no,c7i:a.hl.ref?__c.fSc.HZ(__c.no.snapshot(a.hl.ref).Lc):void 0};case "chart":return c=__c.Ce(a.Ae),c["font-size"]=pSs(ge(Be,c,"font-size"),a),{Ae:c};case "shape":return(c=a.ed.first())&&
c.text.Ya.length!==0?(a={},mSs(a,c.text),a={Ae:he(Be,a),Kuh:__c.sqa.snapshot(c.text.fh)}):a=void 0,a;case "table":a:{a=__c.Ek(a);for(c of a.keys())if(c.content.text.charLength>1){a={};mSs(a,c.content.text);a={Ae:he(Be,a),Kuh:__c.sqa.snapshot(c.content.text.fh)};break a}a=void 0}return a}}VJa(a,b,c,d){if(!a)return!1;a=a.Ae;const e=__c.DUf(a),f=c.layout.cells.get(b.row,b.column)?.ref.content.ref;d.setAttributes(c,b,e);if(!f)return!0;switch(f.type){case "text2":a=__c.lfg(Fg.snapshot(f.value),a);d.KEb(c,
b,Fg.create(a));break;case "plaintext":e.Mk&&(a=Fg.qd().attrs(a).Xb(f.value+(f.value.endsWith("\n")?"":"\n")).build(),d.KEb(c,b,Fg.create(a)))}return!0}i3a(a,b,c){if(!a)return!1;switch(b.type){case "text":return this.fFc(a,b,c),!0;case "chart":a=he(Be,a.Ae);var d=__c.Ce(b.Ae);d=Math.max(16,ge(Be,d,"font-size"));c=qSs(a["font-size"],b);a["font-size"]=Math.min(d,c);b.Ae=__c.Uce(a);this.NE.VF(b);return!0;case "shape":d=he(Be,a.Ae);c=ge(Be,d,"fill-id");a=a.Kuh?.get(c);var e=b.ed.first();e&&(e.text.setAttributes(d),
a&&e.text.fh.set(c,a),this.kd.Wka(b));return!0;case "table":c=he(Be,a.Ae);e=ge(Be,c,"fill-id");a=a.Kuh?.get(e);for(d of b.cells.values())d.content.text.setAttributes(c),a&&d.content.text.fh.set(e,a);a=this.Vi.Kgb(b.cells.values());try{this.kd.w2b(b,a)}finally{a.destroy()}return!0;default:return!1}}fFc(a,b,c){const d={...a.Ae},e=ge(Be,d,"fill-id"),f=a.Kuh?.get(e);d["font-size"]=qSs(ge(Be,d,"font-size"),b,c.ia);b.text.setAttributes(d);f&&b.text.fh.set(e,f);a.no&&(b.no=a.no);__c.Tne(c.ia,[b]).forEach((g,
h)=>{h?this.kd.I5(c,h,g):g.forEach(k=>this.kd.K0(c,k))});b.hl.set(a.c7i?{Lc:a.c7i}:void 0)}constructor(a,b,c){this.NE=a;this.Vi=b;this.kd=c}};var T$s=class{Ava(a,b){const c=b.layout.cells.get(a.row,a.column);a=b.layout.attrs.get(Ee.ht,a.row,a.column);return{Cb:c?.ref.Cb.ref?__c.PNc.snapshot(c.ref.Cb.ref):void 0,UK:a?.UK??Ee.Nf.UK,textAlign:a?.textAlign??Ee.Nf.textAlign,Ki:a?.Ki??Ee.Nf.Ki}}VJa(a,b,c){if(!a)return!1;const d=c.layout.cells.get(b.row,b.column);d||a.Cb==null?d&&d.ref.Cb.set(a.Cb):c.layout.cells.set({$b:b.row,ec:b.column},{content:void 0,Cb:a.Cb,Qj:[]});c.layout.attrs.set(Ee.ht,{$b:b.row,ec:b.column},{UK:a.UK,textAlign:a.textAlign,
Ki:a.Ki});return!0}};var U$s=class{gUa(a){return{za:a.za}}OKa(a){a=a.ia.Hc.first()?.image.ref;return{za:a?a.za:void 0}}i3a(a,b){if(!a||!a.za)return!1;b.za=a.za;return!0}NW(){return!1}};var V$s=class{static create(a){return new V$s(new U$s,new N$s(a.ik),new P$s(a.Mi,a.km,a.Qa),new Q$s(a.Qa),new S$s(a.NE,a.Vi,a.kd),new R$s,new T$s,new M$s(a.Aca,a.ik),new L$s(a.E9a),a.lp?new E$s(a.lp,a.Qa):void 0,new O$s(a.SKb),a.fd)}Ava(a,b){return{za:this.vSb.Ava?.(a,b),color:this.PJb.Ava?.(a,b),tac:this.LLb.Ava?.(a,b),filter:this.OLb.Ava?.(a,b),chd:this.PTi.Ava?.(a,b),line:this.pdc.Ava?.(a,b),$hc:this.eRb.Ava?.(a,b),border:this.q8b.Ava?.(a,b),animation:this.skf.Ava?.(a,b),Bh:this.rPb?.Ava?.(a,b),
Lc:this.Iuf.Ava?.(a,b)}}gUa(a,b){return{za:this.vSb.gUa?.(a,b),color:this.PJb.gUa?.(a,b),tac:this.LLb.gUa?.(a,b),filter:this.OLb.gUa?.(a,b),chd:this.PTi.gUa?.(a,b),line:this.pdc.gUa?.(a,b),$hc:this.eRb.gUa?.(a,b),border:this.q8b.gUa?.(a,b),animation:this.skf.gUa?.(a,b),Bh:this.rPb?.gUa?.(a,b),Lc:this.Iuf.gUa?.(a,b)}}OKa(a){return{Cal:void 0,za:this.vSb.OKa?.(a),color:this.PJb.OKa?.(a),tac:this.LLb.OKa?.(a),filter:this.OLb.OKa?.(a),$hc:this.eRb.OKa?.(a),animation:this.skf.OKa?.(a),Bh:this.rPb?.OKa?.(a),
Lc:this.Iuf.OKa?.(a)}}Kkf(a,b,c,d){const e=new Set;this.fd.Ew(f=>{b.forEach(g=>{this.vSb.VJa?.(a.za,g,c,f)&&e.add("base");this.PJb.VJa?.(a.color,g,c,f)&&e.add("color");this.LLb.VJa?.(a.tac,g,c,f)&&e.add("fillMedia");this.OLb.VJa?.(a.filter,g,c,f)&&e.add("filter");this.PTi.VJa?.(a.chd,g,c,f)&&e.add("text");this.pdc.VJa?.(a.line,g,c,f)&&e.add("line");this.eRb.VJa?.(a.$hc,g,c,f)&&e.add("sheetCell");this.q8b.VJa?.(a.border,g,c,f)&&e.add("border");this.skf.VJa?.(a.animation,g,c,f)&&e.add("animation");
this.rPb?.VJa?.(a.Bh,g,c,f)&&e.add("photo");this.Iuf.VJa?.(a.Lc,g,c,f)&&e.add("effects")})});for(const f of e)d(f)}NW(a,b,c){this.vSb.NW?.(a.za,b)&&c("transparency");this.PJb.NW?.(a.color,b)&&c("color");this.LLb.NW?.(a.tac,b)&&c("fillMedia");this.OLb.NW?.(a.filter,b)&&c("filter");this.eRb.NW?.(a.$hc,b)&&c("sheetCell");this.skf.NW?.(a.animation,b)&&c("animation");this.rPb?.NW?.(a.Bh,b)&&c("photo");this.Iuf.NW?.(a.Lc,b)&&c("effects")}constructor(a,b,c,d,e,f,g,h,k,l,n,p){this.vSb=a;this.PJb=b;this.LLb=
c;this.OLb=d;this.PTi=e;this.pdc=f;this.eRb=g;this.q8b=h;this.skf=k;this.rPb=l;this.Iuf=n;this.fd=p}};var W$s=Object.keys({fontFamily:void 0,fontSize:void 0,fontWeight:void 0,fontStyle:void 0,color:void 0,backgroundColor:void 0,Dra:void 0,Cra:void 0,decoration:void 0,rv:void 0,letterSpacing:void 0,lineHeight:void 0,textAlign:void 0,FEa:void 0}),X$s=[...W$s,...Object.keys({Dk:void 0,Mk:void 0,marginInlineStart:void 0,textIndent:void 0})],Y$s=class{Ava(a,b){a=b.layout.attrs.get(Ee.ht,a.row,a.column);a=__c.CA({...Ee.Nf,...a});return{Ae:Ae.pick(c=>X$s.includes(c),a)}}Rqc(){return this.oac()}Qqc(){return this.oac()}oac(){const a=
this.Za.attributes,b=Ae.pick(c=>W$s.includes(c),Ae.Nf);return{Ae:__c.ie(Ae,b,(c,d)=>a[d].values().next().value??c)}}VJa(a,b,c,d){if(!a)return!1;a=a.Ae;const e=__c.CUf(a),f=c.layout.cells.get(b.row,b.column)?.ref.content.ref;d.setAttributes(c,b,e);if(!f)return!0;switch(f?.type){case "text3":a=__c.mfg(Qk.snapshot(f.value),a);d.Khc(c,b,Qk.create(a));break;case "plaintext":e.Mk&&(a=Qk.qd().attrs(a).Xb(f.value+(f.value.endsWith("\n")?"":"\n")).build(),d.Khc(c,b,Qk.create(a)))}return!0}m1c(a){return this.tUb(a)}l1c(a){return this.tUb(a)}tUb(a){if(!a)return!1;
a=Ae.pick(b=>W$s.includes(b),a.Ae);this.Za.y1a({...a});return!0}constructor(a){this.Za=a}};var Z$s=class{static create(a){return new Z$s(new U$s,new N$s,new P$s(a.Mi,a.km,a.Qa),new Q$s(a.Qa),new Y$s(a.Za),new R$s,new T$s,new M$s(a.Aca),a.lp?new E$s(a.lp,a.Qa):void 0,a.fd)}Ava(a,b){return{za:this.vSb.Ava?.(a,b),color:this.PJb.Ava?.(a,b),tac:this.LLb.Ava?.(a,b),filter:this.OLb.Ava?.(a,b),gRa:this.Dhe.Ava?.(a,b),line:this.pdc.Ava?.(a,b),$hc:this.eRb.Ava?.(a,b),border:this.q8b.Ava?.(a,b),Bh:this.rPb?.Ava?.(a,b)}}Rqc(a){return{za:this.vSb.Rqc?.(a),color:this.PJb.Rqc?.(a),tac:this.LLb.Rqc?.(a),
filter:this.OLb.Rqc?.(a),gRa:this.Dhe.Rqc?.(a),line:this.pdc.Rqc?.(a),$hc:this.eRb.Rqc?.(a),border:this.q8b.Rqc?.(a),Bh:this.rPb?.Rqc?.(a)}}Qqc(a){return{za:this.vSb.Qqc?.(a),color:this.PJb.Qqc?.(a),tac:this.LLb.Qqc?.(a),filter:this.OLb.Qqc?.(a),gRa:this.Dhe.Qqc?.(a),line:this.pdc.Qqc?.(a),$hc:this.eRb.Qqc?.(a),border:this.q8b.Qqc?.(a),Bh:this.rPb?.Qqc?.(a)}}oac(a){return{za:this.vSb.oac?.(a),color:this.PJb.oac?.(a),tac:this.LLb.oac?.(a),filter:this.OLb.oac?.(a),gRa:this.Dhe.oac?.(a),line:this.pdc.oac?.(a),
$hc:this.eRb.oac?.(a),border:this.q8b.oac?.(a),Bh:this.rPb?.oac?.(a)}}Kkf(a,b,c,d){this.fd.Ew(e=>{b.forEach(f=>{this.vSb.VJa?.(a.za,f,c,e)&&d("base",f);this.PJb.VJa?.(a.color,f,c)&&d("color",f);this.LLb.VJa?.(a.tac,f,c,e)&&d("fillMedia",f);this.OLb.VJa?.(a.filter,f,c)&&d("filter",f);this.Dhe.VJa?.(a.gRa,f,c,e)&&d("text",f);this.pdc.VJa?.(a.line,f,c)&&d("line",f);this.eRb.VJa?.(a.$hc,f,c)&&d("sheetCell",f);this.q8b.VJa?.(a.border,f,c)&&d("border",f);this.rPb?.VJa?.(a.Bh,f,c)&&d("photo",f)})})}tUb(a,
b,c){b.forEach(d=>{this.vSb.tUb?.(a.za,d)&&c("base",d);this.PJb.tUb?.(a.color,d)&&c("color",d);this.LLb.tUb?.(a.tac,d)&&c("fillMedia",d);this.OLb.tUb?.(a.filter,d)&&c("filter",d);this.Dhe.tUb?.(a.gRa,d)&&c("text",d);this.pdc.tUb?.(a.line,d)&&c("line",d);this.eRb.tUb?.(a.$hc,d)&&c("sheetCell",d);this.q8b.tUb?.(a.border,d)&&c("border",d);this.rPb?.tUb?.(a.Bh,d)&&c("photo",d)})}constructor(a,b,c,d,e,f,g,h,k,l){this.vSb=a;this.PJb=b;this.LLb=c;this.OLb=d;this.Dhe=e;this.pdc=f;this.eRb=g;this.q8b=h;this.rPb=
k;this.fd=l}};var MSs=__c.z2d.Lc[0].parameters;var NSs=__c.zu.Lc[0].parameters;var JSs=__c.w2d.Lc[0].parameters;var KSs=__c.x2d.Lc[0].parameters;var FSs=__c.s2d.Lc[0].parameters;var GSs=__c.t2d.Lc[0].parameters;var LSs=__c.y2d.Lc[0].parameters;var ISs=__c.v2d.Lc[0].parameters;var ESs=__c.r2d.Lc[0].parameters;var HSs=__c.u2d.Lc[0].parameters;var $$s=["shape-element","group-element","controlled-element","layout-element","grid-element"],aat=class{BMm(a){if(this.e8s.includes(a.type)&&!__c.zv(this.FLa,a,Ol.Bnd))return a.type==="text-element"?(a=a.ia,a={type:"text",style:ASs(a),shape:DSs(this,a)}):a={type:"universal",style:xSs(a.ia)},a}Vlh(a){const b=m(this.mc.state?.type==="multi-config"?__c.$A(this.mc.state):this.mc.state);b.contentType===0&&(b.type==="focused"?[b.element]:b.elements).forEach(c=>{c.no=a})}constructor(a,b,c){this.FLa=a;this.mc=
b;(this.uM=c)&&$$s.push("text-element");this.e8s=$$s}},vSs=new Map([["shadow",function(a){const b=m(a.Lc.first());return{type:"shadow",offset:{get:()=>b.offset,set:c=>{b.offset=c}},angle:{get:()=>b.direction,set:c=>{b.direction=tSs(c)}},blur:{get:()=>b.blur,set:c=>{b.blur=c}},za:{get:()=>rSs(1-b.fill.za),set:c=>{b.fill.za=1-sSs(c)}},color:DA({supports:[0],get:()=>m(b.fill.color),set:c=>{b.fill.color=c}})}}],["glow",function(a){const b=m(a.Lc.first());return{type:"glow",Fd:{get:()=>rSs(sSs(b.blur,
12,90)),set:c=>{b.blur=rSs(sSs(c),12,90);b.fill.za=rSs(sSs(c),.95,.4)}},color:DA({supports:[0],get:()=>m(b.fill.color),set:c=>{b.fill.color=c}})}}],["echo",function(a){const [b,c]=a.Lc.toArray();m(b);m(c);return{type:"echo",offset:{get:()=>b.offset,set:d=>{b.offset=d;c.offset=d}},angle:{get:()=>b.direction,set:d=>{b.direction=tSs(d);c.direction=tSs(d)}},color:DA({supports:[0],get:()=>m(b.fill.color),set:d=>{b.fill.color=d;c.fill.color=d}})}}],["glitch",function(a){const [b,c]=a.Lc.toArray();m(b);
m(c);return{type:"glitch",offset:{get:()=>b.offset,set:d=>{b.offset=d;c.offset=d}},angle:{get:()=>b.direction,set:d=>{b.direction=tSs(d);c.direction=tSs(d+180)}},ta:[DA({supports:[0],get:()=>m(b.fill.color),set:d=>{b.fill.color=d}}),DA({supports:[0],get:()=>m(c.fill.color),set:d=>{c.fill.color=d}})]}}]]),ySs=new Map([["shadow",function(a){const {offset:b,angle:c,blur:d,transparency:e,color:f}=ko(a.parameters,__c.r2d.Lc[0].parameters);return{type:"shadow",offset:{get:()=>ESs.offset.Gs.$Ma(b),set:g=>
{a.parameters.set("offset",ESs.offset.Gs.rZ(g).toString())}},angle:{get:()=>ESs.angle.Gs.$Ma(c),set:g=>{a.parameters.set("angle",ESs.angle.Gs.rZ(g).toString())}},blur:{get:()=>ESs.blur.Gs.$Ma(d),set:g=>{a.parameters.set("blur",ESs.blur.Gs.rZ(g).toString())}},za:{get:()=>ESs.transparency.Gs.$Ma(e),set:g=>{a.parameters.set("transparency",ESs.transparency.Gs.rZ(g).toString())}},color:DA({supports:[0],get:()=>f,set:g=>{a.parameters.set("color",g)}})}}],["lift",function(a){const {intensity:b}=ko(a.parameters,
__c.s2d.Lc[0].parameters);return{type:"glow",Fd:{get:()=>FSs.intensity.Gs.$Ma(b),set:c=>{a.parameters.set("intensity",FSs.intensity.Gs.rZ(c).toString())}},color:void 0}}],["hollow",function(a){const {thickness:b}=ko(a.parameters,__c.t2d.Lc[0].parameters);return{type:"hollow",Pu:{get:()=>GSs.thickness.Gs.$Ma(b),set:c=>{a.parameters.set("thickness",GSs.thickness.Gs.rZ(c).toString())}}}}],["splice",function(a){const {thickness:b,offset:c,angle:d,color:e}=ko(a.parameters,__c.u2d.Lc[0].parameters);return{type:"splice",
Pu:{get:()=>HSs.thickness.Gs.$Ma(b),set:f=>{a.parameters.set("thickness",HSs.thickness.Gs.rZ(f).toString())}},offset:{get:()=>HSs.offset.Gs.$Ma(c),set:f=>{a.parameters.set("offset",HSs.offset.Gs.rZ(f).toString())}},angle:{get:()=>HSs.angle.Gs.$Ma(d),set:f=>{a.parameters.set("angle",HSs.angle.Gs.rZ(f).toString())}},color:DA({supports:[0],get:()=>e,set:f=>{a.parameters.set("color",f)}})}}],["outline",function(a){const {thickness:b,color:c}=ko(a.parameters,__c.v2d.Lc[0].parameters);return{type:"outline",
Pu:{get:()=>ISs.thickness.Gs.$Ma(b),set:d=>{a.parameters.set("thickness",ISs.thickness.Gs.rZ(d).toString())}},color:DA({supports:[0],get:()=>c,set:d=>{a.parameters.set("color",d)}})}}],["echo",function(a){const {offset:b,angle:c,color:d}=ko(a.parameters,__c.w2d.Lc[0].parameters);return{type:"echo",offset:{get:()=>JSs.offset.Gs.$Ma(b),set:e=>{a.parameters.set("offset",JSs.offset.Gs.rZ(e).toString())}},angle:{get:()=>JSs.angle.Gs.$Ma(c),set:e=>{a.parameters.set("angle",JSs.angle.Gs.rZ(e).toString())}},
color:DA({supports:[0],get:()=>d,set:e=>{a.parameters.set("color",e)}})}}],["glitch",function(a){const {offset:b,angle:c,colors:d}=ko(a.parameters,__c.x2d.Lc[0].parameters);return{type:"glitch",offset:{get:()=>KSs.offset.Gs.$Ma(b),set:e=>{a.parameters.set("offset",KSs.offset.Gs.rZ(e).toString())}},angle:{get:()=>KSs.angle.Gs.$Ma(c),set:e=>{a.parameters.set("angle",KSs.angle.Gs.rZ(e).toString())}},ta:[DA({supports:[0],get:()=>d[0],set:e=>{a.parameters.set("colors",[e,d[1]].join())}}),DA({supports:[0],
get:()=>d[1],set:e=>{a.parameters.set("colors",[d[0],e].join())}})]}}],["neon",function(a){const {intensity:b}=ko(a.parameters,__c.y2d.Lc[0].parameters);return{type:"neon",Fd:{get:()=>LSs.intensity.Gs.$Ma(b),set:c=>{a.parameters.set("intensity",LSs.intensity.Gs.rZ(c).toString())}}}}],["background",function(a){const {roundness:b,spread:c,transparency:d,color:e}=ko(a.parameters,MSs);return{type:"background",HIa:{get:()=>MSs.roundness.Gs.$Ma(b),set:f=>{a.parameters.set("roundness",MSs.roundness.Gs.rZ(f).toString())}},
spread:{get:()=>MSs.spread.Gs.$Ma(c),set:f=>{a.parameters.set("spread",MSs.spread.Gs.rZ(f).toString())}},za:{get:()=>MSs.transparency.Gs.$Ma(d),set:f=>{a.parameters.set("transparency",MSs.transparency.Gs.rZ(f).toString())}},color:DA({supports:[0],get:()=>e,set:f=>{a.parameters.set("color",f)}})}}]]),BSs=new Map([["curved",function(a,b,c){const {curvature:d}=ko(a.parameters,__c.zu.Lc[0].parameters);return{type:"curved",MZ:{get:()=>NSs.curvature.Gs.$Ma(d),set:e=>{a.parameters.set("curvature",NSs.curvature.Gs.rZ(e).toString());
c(e);b()}}}}]]);JB=__c.JB={};JB.b4l=USs;JB.Feq=function({Ac:a,mc:b,uM:c}){return{SKb:new aat(a,b,c)}};JB.xkq=function({Ac:a}){return{HSl:new HTs(a)}};
JB.gjn=function(a){var b=a.R9,c=a.zZ,d=a.mr;const e=a.l9g,f=a.y6c,g=a.Kc,h=a.Pa,k=a.ea,l=a.ma,n=a.P,p=a.la,q=a.ee,r=a.lLa,t=a.viewport,v=a.Sca;var w=a.Ka;const x=a.he,y=a.selection,z=a.Za,B=a.pd;var C=a.Kh;const G=a.Jd,H=a.Ha,K=a.Qa,L=a.dc,N=a.gx,P=a.YX,T=a.fa,V=a.G6c,W=a.Cwf,aa=a.Tde,ba=k.undo;switch(w){case "fixed":w=a.Kd;const da=a.eo,la=a.tAg,ja=a.Wl,oa=a.iY;({KZc:C}=Yss({zZ:c,Ka:"fixed",selection:y,Kh:C,Jd:G,la:p,ma:l,P:n,Ha:H,Qa:K,dc:L,gx:N,YX:P,AKb:a.AKb,undo:ba,fa:T,he:x,G6c:V,Tde:aa}));uss({mr:d,
l9g:e,y6c:f,tAg:la,Ka:"fixed",P:n,la:p,ee:q,ea:k,Kc:g,Pa:h,selection:y,Za:z,pd:B,viewport:t,ma:l,he:x,Sca:v,lLa:r,fa:T,Cwf:W,KZc:C,Wl:ja,iY:oa});Pb("eb935326",!1)&&({Haf:d}=cts({Ka:["fixed","responsive"],mc:a.mc,Kd:w}),Fss({ee:q,eo:da,R9:b,la:p,Pa:h,selection:y,viewport:t,Kd:w,zZ:c,Haf:d,Wl:ja,P:a.P}));break;case "responsive":b=a.Hod;a=a.Cwf;({KZc:c}=Yss({zZ:c,Ka:"responsive",selection:y,Kh:C,Jd:G,la:p,ma:l,P:n,Ha:H,Qa:K,dc:L,gx:N,YX:P,undo:ba,fa:T,G6c:V,Tde:aa}));uss({mr:d,l9g:e,y6c:f,Ka:"responsive",
la:p,ee:q,Kc:g,Pa:h,pd:B,ea:k,Za:z,ma:l,he:x,Sca:v,lLa:r,fa:T,selection:y,viewport:t,P:n,KZc:c,Hod:b,Cwf:a});break;default:throw new u(w);}q.jc(({vM:da})=>{da&&(da.Uej={Button:hV(la=>fV(la.tF,{wZ:Tzj,children:M("u7+XyA")}))})})};
JB.hjn=function(a){if(a.Ka!=="responsive"){var {Rpd:b}=XUs({canvas:a.canvas,viewport:a.viewport,selection:a.selection,nq:a.nq,undo:a.session.undo});Avs(a);Dvs(a);Hvs(a);Pus({...a,Rpd:b});Fvs(a);Evs(a);ivs({Aeb:a.Aeb,qJa:a.qJa,Rpd:b,viewport:a.viewport,mc:a.mc,qc:a.qc,fea:a.fea,la:a.la,P:a.P,C4a:a.C4a});irs({Aeb:a.Aeb,qJa:a.qJa,Rpd:b,viewport:a.viewport,mc:a.mc,qc:a.qc,la:a.la,P:a.P,C4a:a.C4a});zvs({Aeb:a.Aeb,qJa:a.qJa,Rpd:b,viewport:a.viewport,mc:a.mc,kd:a.kd,qc:a.qc,P:a.P,C4a:a.C4a});!a.n0j&&a.Se&&
a.he&&pts({kb:a.kb,qc:a.qc,Se:a.Se,he:a.he,toolbar:a.toolbar,wq:a.wq});rVs(a.Jd,a.selection,a.qc,a.session)}a.cba.Wda==null&&$us(a);Rus(a);Kus(a,(f,g)=>a.qc.A9a(f,g));lts(a);b=a.Se;const c=a.he,d=a.hj,e=a.qc;vvs(a,(f,g,h)=>e.addTable(f,g,h));qvs(a,(f,g)=>e.JIb(f,g));d&&mvs({...a,hj:d});b&&c&&ots({wL:async f=>{await e.wL(f,{Xc:"quick_actions"})},Se:b,he:c})};JB.ijn=function({AKa:a,ZFa:b}){gV(()=>b.Bc.Nc?.id,c=>a.xd=c,{fireImmediately:!0})};
JB.jjn=function(a){if(a.Ka==="responsive"){const Se=a.toolbar,ad=a.Jd,se=a.Pa,De=a.Kh,sd=a.qc,Ne=a.selection,Fe=a.K5,Zd=a.Gg,Kd=a.pS,Nd=a.QRa,Rd=a.hj,Sd=a.ea.undo,Ud=a.Jb,ng=a.P,Ie=a.zKc;$vs({Ka:"responsive",Jd:ad,Pa:se,K5:Fe,la:a.la,selection:Ne});Fys({Ka:"responsive",toolbar:Se,Kh:De,Pa:se,selection:Ne,P:ng,QRa:Nd,hj:Rd});mys({Ka:"responsive",qc:sd,Pa:se,selection:Ne,K5:Fe,Gg:Zd,pS:Kd,undo:Sd,Kh:De,Jd:ad,Jb:Ud,zKc:Ie,P:ng});return{iWh:void 0}}const b=a.toolbar,c=a.Jd,d=a.pg,e=a.Pa,f=a.Kc,g=a.ea,
h=g.document,k=g.undo,l=a.qc,n=a.Ap,p=a.c_a,q=a.keyboardShortcuts,r=a.Gj,t=a.X,v=a.viewport,w=a.selection,x=a.ya,y=a.Vf,z=a.Kh,B=a.K5,C=a.Gg,G=a.pS,H=a.Jb,K=a.zKc,L=a.he,N=a.K7d,P=a.Ra,T=a.Rj,V=a.la,W=a.hb,aa=a.P,ba=a.Ha,da=a.tme,la=a.isDragging,ja=a.Wc,oa=a.Yba,ma=a.kd,na=a.Swa,qa=a.Wr,ua=a.errorService,za=a.Ac,va=a.ue,xa=a.JZ,Ba=a.zf,pa=a.gg,ia=a.qeb,wa=a.nq,Ca=a.QRa,Ha=a.hj,Oa=a.Ih,Ka=a.j2,Ua=a.iaa,cb=a.K1e,ab=a.gkc,Ta=a.ma,mb=a.Ga,pb=a.alert,xb=a.TGe,nb=a.jg,{Hcg:qb,Icg:Ob}=Jxs({selection:w,hb:W,
ya:x,la:V,P:aa,Ha:ba,isDragging:la,keyboardShortcuts:q,Pa:e,viewport:v,Jd:c,Kh:z,he:L,l2:a.l2,pT:a.pT,Wk:a.Wk,Wl:a.Wl,Rt:a.Rt,pg:d}),{aqd:Rb,pag:Va}=$vs({Ka:["fixed","responsive"],selection:w,Pa:e,Wr:qa,kd:ma,hb:W,ue:va,la:V,P:aa,Kh:z,Jd:c,K5:B,he:L,keyboardShortcuts:q}),{iWh:yb}=Tws({selection:w,ya:x,X:t,Kc:f,la:V,qc:l,Ap:n,c_a:p,hb:W,undo:k,toolbar:b,Jd:c,document:h,Kh:z,K7d:N,Ra:P,Rj:T,errorService:ua.Ef("clustering"),P:aa,Ha:ba,ma:Ta,Ga:mb,alert:pb,pg:d,zf:Ba,gg:pa,K1e:cb,jg:nb}),{kse:Jb}=fzs({selection:w,
Wr:qa,keyboardShortcuts:q,la:V,P:aa,aqd:Rb,Jd:c,Kh:z,TGe:xb}),{uxd:Nb,nuj:ub,ouj:Yb,trj:hc,urj:jc,Ujj:Ec,Vjj:Qc}=mys({Ka:["fixed","responsive"],Pa:e,selection:w,hb:W,Gj:r,Wr:qa,toolbar:b,Jd:c,ue:va,qc:l,JZ:xa,nq:wa,K5:B,Gg:C,pS:G,Jb:H,zKc:K,undo:k,Kh:z,j2:Ka,iaa:Ua,P:aa});UWs({canvas:r,undo:k,Wr:qa,Ac:za,selection:w,nq:wa,Ih:Oa,gkc:ab,toolbar:b,tme:da,isDragging:la,P:aa,Ha:ba});const {guj:bd,llj:sc,Gmj:dc}=Fys({Ka:["fixed","responsive"],selection:w,Pa:e,j2:Ka,Wc:ja,Yba:oa,hb:W,toolbar:b,Kh:z,nq:wa,
QRa:Ca,hj:Ha,qeb:ia,P:aa,Gj:r,viewport:v,uxd:Nb}),{Zpj:vb}=Kys({selection:w,Swa:na,j2:Ka,toolbar:b,nq:wa,JZ:xa,P:aa}),fc=hV(({$Wc:Se})=>fV(AWs,{guj:bd,llj:sc,Gmj:dc,nuj:ub,ouj:Yb,trj:hc,urj:jc,Ujj:Ec,Vjj:Qc,Zpj:vb,IV:yc.IV,$Wc:Se})),wc=hV(()=>fV(uV,{children:V.layout===2?fV(zWs,{Vf:y,Hcg:qb,pag:Va.get(),kse:Jb.get(),mag:fc}):fV(yWs,{Hcg:qb,pag:Va.get(),kse:Jb.get(),mag:fc})})),yc=new RVs(w,V,b,e),Fc=new SVs(yc,w,b,aa),cd=hV(({ev:Se})=>fV(DWs,{ED:yc.ED,oYc:Fc.oYc,wVi:Fc.wVi,Y4e:Fc.Y4e,Vvp:wc,Icg:Ob,
ev:Se})),wd={Sd:()=>yc.Rrd,Button:Se=>{const ad=Se.onClick,se=Se.open,De=jV(()=>{ad?.();if(!se&&V.layout===1){const sd=Fc.selection.Ma;sd&&sd.type==="elements"&&sd.Ri()||Fc.Y4e()}},[se,ad]);return fV(xWs,{...Se,onClick:De,oYc:Fc.oYc})},vv:{sg:()=>M("AXgBkw")},pa:hV(({ev:Se})=>V.layout===1?fV(cd,{ev:Se}):fV(wc,{}))},ce={Sd:()=>yc.Rrd&&V.layout===2,Button:Se=>fV(BWs,{...Se}),vv:{sg:()=>M("Y2VUFg")},pa:()=>fV(CWs,{mag:fc})};yc.lxa=wd;c.plugins.VHb=()=>wd;c.plugins.Cdg=()=>ce;q.register([cWs,iV(()=>{Fc.Scc?
Fc.store.ED==="layers"?Fc.hE():(Fc.Y4e(),Fc.oYc()):aws(Fc)}),M("1PXGVQ"),["edit"]]);L?.ym(()=>yc.Rrd,{type:"simple",key:"layers",name:M("rx7oXA"),Icon:__c.xdr,Dm:cWs,execute:async()=>aws(Fc)});const xe=()=>aws(Fc);z.jc(()=>yc.Exo,(Se,ad)=>{Se.lra=ad?{Button:se=>fV(dWs,{...se,onClick:xe})}:void 0});return{iWh:yb}};
JB.$mr=({Uh:a,canvas:{viewport:b,Gj:c},$s:{ee:d,fV:e},fa:{P:f},haa:g,hb:h,xD:k})=>{const l=new $Ws({hb:h,Uh:a,haa:g});d.wv(()=>Czs(l,b),({vM:n},p)=>{n&&(n.wSd=p?{Button:q=>fV(ZWs,{...q,P:f,xD:k})}:void 0)});__c.Nl(e.wl,n=>{const p=iV(()=>{const q=b.ya;q.type==="fixed"&&__c.ede(a,q,!a.OZd.has(q))});n.gAo=()=>({label:"Toggle current page print danger zone",CB:oV(()=>b.ya.type==="fixed"&&a.OZd.has(b.ya)),Fq:p})});c.jc(()=>a.eca,(n,p)=>n.Bg.wSd=p?hV(({page:q})=>rqs(a,q.ia)||a.aib(q.ia)===0?null:fV(Azs,
{})):void 0);c.Bg.uij=hV(n=>Bzs(l,n.page.ia)?fV(aXs,{...n,Uh:a}):null)};
JB.pjn=function(a){const b=a.Ka,c=a.lq;var d=a.fa;const e=d.Ha,f=d.errorService,g=a.ma;d=a.E9;const h=a.Jb,k=a.QTi.Za,l=a.C8c.Zn,n=a.r0d,{qh:p}=a.VT??{},q=e.Vd(`editor.editing.clipboard.${b==="responsive"?"responsive":"fixed"}`),r={rca(){h.b_k?.();return{audio:Promise.resolve([]),images:Promise.resolve([]),Dc:Promise.resolve([])}}},t=()=>b==="responsive"?{}:{"font-family":a.wq.HV},v=()=>{const z=tef(k);return z?Ae.pick(B=>__c.ze(Ae,z,B)!=null,z):l.a2??{}},w=dCs(a,t,v,r),x=new dXs(new iTs(d,w),d),
y=jCs(a,new fXs(c,()=>t()["font-family"],()=>v().fontFamily),x,t,v,q);n.Hdo={ukr:async z=>{Dzs(z)!=="proto"&&await y.copy(void 0,z)},PRp:async z=>{const B=q.wb("editor_clipboard_paste_drop",{Hb:{name:"editor.paste",attrs:new Map([["control_context","drag"]])}}),C=Dzs(z);C?(B.ob().xH(C),f.Tu({category:"dropping",data:{dataType:C}}),(z=await x.paste(null,z))&&await y.paste(z,B,"drag",p?.rca||r.rca,void 0)):(B.ob().xH("not_data"),B.end())},canDrop:z=>Dzs(z)!=null,H4f:z=>{({PQa:z}=x.getData(z));return(z=
z?w.j_d(z):void 0)?y.H4f(z):{items:new Set}}};lCs(a,q,y,x,r,p);__c.Nl(a.$s.fV.wl,z=>z.jzm=()=>({label:"Copy Clipboard Proto",Icon:tD,Fq:async()=>{const B=await y.copy(void 0,void 0);let C;if(B)try{await window.navigator.clipboard.writeText(JSON.stringify(zXs.serialize(B.qVb))),C="Successfully copied selection to clipboard."}catch(G){C="Failed to copy selection to clipboard."}else C="Failed to copy. Do you have an selection on the page?";g.Ib({Db:C})}}))};
JB.sjn=function(a){var b=a.Pa;const c=a.Ka;var d=a.toolbar;const e=a.Jd,f=a.Kh,g=a.keyboardShortcuts,h=a.eRa,k=a.Gj,l=a.nq;var n=a.Qa,p=a.Mi,q=a.Za;const r=a.km,t=a.lp,v=a.fd,w=Z$s.create({Mi:p,Aca:a.Aca,km:r,Qa:n,Za:q,fd:v,lp:t});let x,y;if(c!=="responsive"){var z=a.document;const C=a.Ac,G=a.selection,H=a.ma,K=a.undo,L=a.N,N=a.eD,P=a.CE,T=a.qtb,V=a.yW,W=a.Kpf,aa=a.hua;n=V$s.create({NE:a.NE,Mi:p,km:r,Qa:n,Vi:a.Vi,kd:a.kd,ik:a.ik,Aca:a.Aca,lp:t,E9a:a.E9a,SKb:a.SKb,fd:v});x=p=new K$s(new I$s);q=new G$s(w,
x,q,b);y=new F$s(q,NRs,JRs,n,p,z,C,G,b,H,L);if(N==null)throw Error("styleExtractor is required for copy-paste styles");if(W.status!==Jx.fs){const ba=new A$s(z,C,G,H,N,P,T,V,K,L,W,aa);f.jc(()=>G.Ma?.type==="pages"&&G.Ma?.inner==null,(da,la)=>{da.Phj=la?{Button:hV(ja=>fV(y$s,{...ja,L:ba}))}:void 0});f.jc(()=>G.Ma?.type==="pages"&&G.Ma.inner==null&&G.Ma.Ri()&&ba.Puk,(da,la)=>{da.joj=la?{Button:hV(ja=>fV(z$s,{...ja,L:ba}))}:void 0})}}else z=new K$s(new J$s),b=new G$s(w,z,q,b),x=z,y=b;const {g6o:B}=IRs({L:y});
e.plugins.uwb=()=>({Sd:()=>y.Dvd,Button:C=>fV(B,{...C,ZB:!1})});e.plugins.Ikc=()=>({Sd:()=>y.Dvd,Button:C=>fV(B,{...C,ZB:!0})});d.BF?.mS(()=>y.Fbb&&x.control!=="keyboard_shortcut");l.controls.TNe(()=>y.Fbb&&x.control!=="keyboard_shortcut");f.jc(()=>y.Dvd,(C,G)=>{C.uwb=G?{Button:hV(H=>{const K=jV(()=>y.qPf("contextual_menu"),[]);return fV(D$s,{...H,onClick:K,Fbb:y.Fbb,cbq:B$s,kqs:C$s})})}:void 0});d=[[B$s,()=>y.copy("keyboard_shortcut"),M("o2WVfA"),["edit","suggest"]],[C$s,()=>y.paste("keyboard_shortcut"),
M("1TaVQA"),["edit","suggest"]]];g.register(...d);h.register(...d);c!=="responsive"&&a.sqb.register(...d);gV(()=>y.aJc,C=>{k.dva=C?__c.Xx(__c.G6g):void 0});return{Rrg:y}};
JB.ujn=function(a){const b=a.pd,c=a.X,d=a.viewport,e=a.Pa,f=a.kb,g=a.vn,h=a.la,k=a.eo,l=a.qc,n=a.NE,p=a.Se,q=a.he,r=a.lU,t=a.errorService,v=a.Ra,w=a.Brf,x=a.ma,y=a.P,z=a.pAb,B=a.sE,C=a.kla,G=a.fd,H=a.aic,K=a.cua,L=a.selection,N=a.wD,P=a.ZFa,T=a.Ob;if(G&&C&&w.status!==Jx.fs){var V=new __c.Xps(a.session.document);a.YHg.then(W=>{let aa;switch(a.Ka){case "fixed":aa=new WYs(L,H,e,d,b,V);break;case "responsive":aa=new XYs(L,H,b,d,V);break;default:throw new u(a);}const ba=new __c.jv,da=hV(({formula:wa})=>
{const Ca=pa.Lsn?.sheet;return Ca&&fV(W.mTb,{formula:wa,sheet:Ca,YLj:"xSmall"})}),la=tYs(da,(wa,Ca)=>{ia.mzm(wa,"formula",Ca)});var ja=c?.user.locale.startsWith("en")||!1;const oa=ja?void 0:KCs({X:c,Ra:v}),ma=zYs.qIq&&zYs.vtn!==""&&zYs.mLk!==""?DDs({X:c,Ra:v,Ob:T,Aa:y,l5d:()=>pa.session.id}):void 0,na=(wa,Ca,Ha)=>{ia.Vdd(pa,wa,Ca,Ha)},qa=hV(()=>fV(GYs,{Cvd:pa.Cvd,cEi:ia.uGa,bei:ia.bei,E7r:ia.jWm,Abs:ia.Kro,k1e:pa.k1e,k1i:ia.k1i,nXq:pa.qSe==null,DEa:void 0,Flq:fV(uYs,{quota:pa.quota,TIk:pa.TIk,yWl:ia.yWl}),
kWg:ia.kWg,Vdd:na})),ua=hV(()=>zYs.gFq?fV(qYs,{input:fV(qa,{}),igj:oa,zgf:ma?.zgf,error:pa.error?fV(yYs,{error:pa.error}):void 0,ZRg:pa.pza,VGd:ia.VGd,M2e:pa.M2e,oUc:pa.qSe?.oUc,Kce:N.MDl,Nph:pa.qSe!=null,icg:la,ydd:ia.ydd,gPf:ia.gPf}):fV(mYs,{input:pa.pza?null:fV(qa,{}),error:pa.error?fV(yYs,{error:pa.error}):void 0,gIc:fV(ZYs,{gIc:pa.gIc,Aka:ia.Uaq,gIa:ia.a5r}),oCk:fV(dZs,{f0p:za!=null,R3p:pa.mye,gIa:ia.gPf}),$ik:fV(bZs,{aMb:pa.aMb,Aka:ia.mzm,ydd:ia.ydd,jre:da,ui:h.layout===2}),zgf:ma?.zgf,igj:oa,
Nph:pa.qSe!=null,ZRg:pa.pza,oUc:pa.qSe?.oUc,VGd:ia.VGd,Kce:N.MDl}));ja={header:{title:fV(pYs,{U8:!ja})},pa:hV(function(){return fV(__c.mv,{navigation:ba,height:"fill",zSa:({hf:wa})=>fV(wa,{We:"fill",oa:ia.a6p})})})};const za=l.$M!=null?wa=>l.$M(wa,{location:"visualize_panel",Xc:"recommended_charts",q9:"none"},{template:{type:"fixed",dimensions:{width:1920,height:1080,units:4},re:{type:"inline",hH:void 0}}}):void 0,{Bc:va}=P.mr("none"),xa=new __c.ZHb(g),Ba=new __c.mu,pa=new SYs(w),ia=new UYs(pa,ba,
f,h,k,p,l,ja,n,L,aa,H,G,r,y,w,Ba,C,z,B,t,x,N,xa,window.navigator.clipboard,d,wa=>{ba.$g({hf:()=>fV(Vn,{children:fV(ua,{})}),options:{sg:()=>fV(R,{children:wa})}})},za,va,ma?.z5r);q&&["data-insights","data-insights-action"].forEach(wa=>q.ym(()=>ia.C_s(wa),{type:"simple",key:wa,name:M("lp4Iiw"),Icon:__c.Zps,hI:!0,execute:async()=>{ia.JVn()}}));K.H8k=()=>ia.JVn()}).catch(W=>{t.ra(W,{La:"Failed to load data insights"})})}};
JB.vjn=function(a){var b=a.Ap;const c=a.QZ,d=a.BJi;var e=a.Pa,f=a.selection;const g=a.Jd,h=a.Kh,k=a.P;var l=a.Za,n=a.vza;const p=a.j2,q=a.Ha.Vd("editor.editing.deleting_ui");let r;e=new XXs(b,c,f,l,n,e);if(a.Ka!=="responsive"){f=a.document;l=a.Qa;n=a.hb;const H=a.pg,K=a.selection,L=a.mc,N=a.Gg,P=a.Hbi,T=a.Zo,V=a.Ga,W=a.la,aa=new jYs,ba=new eYs(f,K,b,P,T,k,aa,la=>{V(()=>fV(iYs,{...la}))});r=new WXs(e,b,c,ba,L,K,N,l,n,H,q,k,W);const da={Sd:()=>Qus(ba),Button:hV(la=>fV(dYs,{...la,onClick:()=>{r.vR("toolbar",
y("floating_toolbar",{type:"page"}),"outer")},disabled:()=>!r.fng(),Dg:ba.Dg.length})),vv:{sg:()=>J("JwjLTA",[ba.Dg.length])}};g.plugins.qHb=()=>da}else r=e;b=iV(H=>r.tYj("keyboard_shortcut",H));a.Ka!=="responsive"&&a.keyboardShortcuts.register(["Backspace",b,M("k6m7gA"),["edit"]],["Delete",b,M("k6m7gA"),["edit"]]);__c.Ro(p,["Backspace",b,M("k6m7gA"),["edit","suggest"]],["Delete",b,M("k6m7gA"),["edit","suggest"]]);const {kYp:t}=pCs({QZ:c,cYp:d}),v=H=>t.bmh(H),w=()=>t.sVh(),x=hV(H=>{const K=H.mb,L=
H.Syb;H=H.oa;const N=jV((P,T)=>{t.sVh();return r.vR(K,P,T)},[K]);return fV(cYs,{Syb:L,V:q,disabled:r.Ird,yXe:N,oa:H,onMouseEnter:v,onMouseLeave:w,onFocus:v,onBlur:w})}),y=(H,K)=>{switch(K.type){case "background":return q.wb(`delete_background_${H}`,{Hb:{name:"editor.delete_background"}});case "page":return q.wb(`delete_page_${H}`,{Hb:{name:"editor.delete_page"}});default:return q.wb(`delete_element_${H}`,{Hb:{name:"editor.delete_element"}})}},z={Button:aYs,vv:{sg:()=>M("eLUEGw")},pa:H=>fV(x,{...H,
Syb:r.Pme}),onClose:w},B={Button:hV(H=>{const K=H.mb,L=H.onClick,N=jV(()=>{rV(()=>{var P=r.Pme;if(P.length!==0){L&&L();var T=P[0];P=y("floating_toolbar",T);T=ACs(T);return r.vR(K,P,T.mode)}})},[K,L]);return fV($Xs,{...H,onClick:N,disabled:r.Ird})})},C=oV(()=>r.Pme.length);g.plugins.yFa=()=>{const H=C.get();return{Sd:()=>H>0,...(H>1?z:B)}};g.plugins.m6b=()=>{const H=r.Pme.filter(K=>K.type==="background");return{Sd:()=>H.length>0,...(H.length>1?z:B)}};g.plugins.Mkc=()=>{const H=r.Pme.filter(K=>K.type===
"scrollable-design");return{Sd:()=>H.length>0,...(H.length>1?z:B)}};const G=(H,K)=>{const L=ACs(H,K),N=iV(()=>{t.sVh();const T=y("contextual_menu",H);return r.vR("contextual_menu",T,L.mode)}),P=()=>t.bmh(H);return{Button:T=>{kV(()=>w,[]);return fV(T.rl,{Icon:L.Icon,label:L.message,Dm:L.Dm,onClick:N,oa:T.oa,onMouseEnter:P,onMouseLeave:w,onFocus:P,onBlur:w})}}};h.jc(()=>r.Epf,(H,K)=>{H.m6b=void 0;H.zDc=void 0;H.HGh=void 0;H.YZc=void 0;H.ADc=void 0;H.IGh=void 0;H.ZZc=void 0;H.Lkc=void 0;K.forEach(L=>
{const N=G(L,r.kEl);switch(L.type){case "background":H.m6b=N;break;case "column":if(!r.K$a)break;switch(r.K$a.type){case "table-element":case "table-item":H.zDc=N;break;case "sheet-element":case "sheet-item":case "sheet-page-content":H.YZc=N;break;case "layout-element":case "layout-item":H.HGh=N}break;case "row":if(!r.K$a)break;switch(r.K$a.type){case "table-element":case "table-item":H.ADc=N;break;case "sheet-element":case "sheet-item":case "sheet-page-content":H.ZZc=N;break;case "layout-element":case "layout-item":H.IGh=
N}break;default:H.Lkc=N}})});h.jc(()=>r.nYj,(H,K)=>{H.Fij=K?{Button:L=>fV(L.rl,{label:BCs(K),Icon:Ix,Dm:"Delete",onClick:iV(()=>r.uFm("contextual_menu",y("contextual_menu",{type:"page"})))})}:void 0});return{M9b:r}};
JB.xjn=function({Xf:a,ee:b,Pa:c,cfa:d,Jb:e,t6c:f,mGe:g,T7h:h,R9:k}){const {Qe:l,Ve:n}=__c.qc(kZs),p=new mZs(d,a,c,g,!!f,h),{JKk:q}=LDs(d),r=k.tvg(M("nykDAw"),"medium");gV(()=>p.nXc,B=>{switch(B){case 6:k.G9a(M("LtzRdg"),"critical");break;case 5:k.G9a(M("ZK0snA"),"high");break;case 0:k.G9a(M("FXfIUQ"),"high");break;case 4:k.G9a(M("YLfGCA"),"medium")}});const t=hV(({oa:B,We:C})=>fV(lZs,{Bse:m(l.Bse),JKk:q.get(),oa:B,We:C})),v=oV(()=>{const B=e.kFh,C=e.mFh;if(p.nXc==="view"&&C)return C;if(p.nXc==="comment"&&
B)return B}),w=oV(()=>{const B=v.get();if(B)return B;if(l.Bse)return t}),x=hV(({BH:B,open:C,...G})=>{const H=m(p.nXc),K=w.get();kV(()=>{r()},[]);return fV(hZs,{...G,Button:K?B:void 0,active:C,Xf:a,nXc:H,Ds:"comfortable"})}),y=hV(({BH:B,open:C,...G})=>{const H=m(p.nXc);return fV(hZs,{...G,Button:B,active:C,Xf:a,nXc:H,Ds:"compact"})}),z=hV(({oa:B,We:C})=>{const G=m(w.get());return fV(G,{oa:B,We:C})});b.wv(()=>({pa:w.get(),h5o:v.get(),nXc:p.nXc}),({header:B},{pa:C,h5o:G,nXc:H})=>{H==null||h&&(H==="view"||
H==="comment")?(B.Abg=void 0,B.lFh=void 0):H==="playground"?B.Abg={Button:jZs}:(B.Abg={Button:x,pa:C?z:void 0},G&&(B.lFh={Button:y,pa:z}))},{equals:nV.shallow});return{hwg:n}};
JB.Vnr=function(a){const b=a.Kh,c=new fZs(a.kb,a.Mi,a.Ac,a.session,a.Qa,a.viewport,a.selection);b?.jc(()=>{a:{const e=c.Mi.rnc();if(e&&e.type!==2){var d=EDs(c,e.$q);if(d==null||!c.Ac||!c.Ac.nS(d)){d=!e.fill.image.ref&&!e.fill.video.ref||e.type===1&&e.$q.type==="rect-element"?void 0:e;break a}}d=void 0}return d},(d,e)=>{if(e){var f=!!e.fill?.image.ref,g=e.type===0?f?M("H1K9KQ"):M("1K2IFQ"):f?M("q5+BLg"):M("gkGP9w"),h=()=>{c.QGm(e)};d.Tff={Button:k=>fV(k.rl,{Icon:__c.QA,label:g,onClick:h,oa:k.oa})}}else d.Tff=
void 0})};JB.yjn=function(a){const b=a.selection;var c=a.Pa;const d=a.Jd;var e=a.V1a,f=a.Ka;let g,h;const k=Pb("920e6751",!1);c=new xZs(c,b,k,e);a=new tZs(c,a.Za);f==="responsive"?(h=a,g=c):(f=new wZs(b,k,e),e=new yZs(b,f,c,e),f=new sZs(f),h=new uZs(b,f,a),g=e);d.plugins.Okc=()=>({Sd:()=>!!g.direction,Button:hV(({yi:l})=>{const n=m(g.direction);return fV(l,{icon:n.value==="rtl"?qZs:oZs,zh:"icon",onClick:h.zce,tooltip:zZs[n.selection]})})})};
JB.Xnr=function({canvas:a,hb:b,selection:c,pT:d,HH:e,cUe:f,nq:g,oea:h}){const k=zV.box(!1);var l=iV(p=>{k.set(p.altKey);p.key==="Alt"&&p.type==="keyup"&&p.preventDefault()});window.document.addEventListener("keydown",l);window.document.addEventListener("keyup",l);window.addEventListener("blur",iV(()=>k.set(!1)));l=oV(()=>k.get()&&(!e.isDragging()||!!e.Xxb)&&!__c.ouf(f)&&!g.controls.isDragging());const n=new EZs(b,c,e,l,d);a.jc(p=>p===40,(p,q)=>{p.Bg.Vff=q?r=>fV(DZs,{...r,hb:b,L:n}):void 0});a=()=>
!!n.lines.length;g.controls.FMb(a);h.BF?.mS(a);d.SNe(a)};
JB.Ajn=function(a){const b=a.selection,c=a.Ka,d=a.Jd,e=a.Mgb,f=a.tyd,g=a.Qa,h=a.he,k=a.jg,l=a.la,n=a.N;let p=new JZs(e,f,g,n,a.Pa,b);if(c!=="responsive"){const r=new IZs(e,f,g,n,a.selection);p=new KZs(b,r,p);h?.ym(()=>!!r.r8c,{type:"simple",key:"flip-vertical",name:M("d1wsgA"),Icon:__c.f6g,execute:iV(async()=>{const t=r.r8c;t&&r.x3d(t)})});h?.ym(()=>!!r.r8c,{type:"simple",key:"flip-horizontal",name:M("+k16yw"),Icon:__c.d6g,execute:iV(async()=>{const t=r.r8c;t&&r.w3d(t)})})}const q=hV(r=>{const t=
r.fh;r=r.We;const v=iV(()=>p.w3d(t)),w=iV(()=>p.x3d(t));return fV(GZs,{b7r:v,c7r:w,We:r,f1g:k&&l.layout===2?"horizontal":"vertical"})});d.plugins.AHb=()=>({Sd:()=>!!p.r8c,Button:GV(r=>fV(FZs,{...r,onClick:()=>{r.open||p.Ruc("flip",m(p.r8c));r.onClick&&r.onClick()},Lj:a.pg?.tkj})),vv:{sg:()=>M("09kiuA")},pa:r=>fV(q,{...r,fh:m(p.r8c)})})};
JB.tor=function({document:a,kb:b,viewport:c,$H:d,selection:e,nq:f,Wr:g,Jdb:h,JZ:k,ue:l,mc:n,la:p,Kh:q,toolbar:r,Jd:t,dda:v,Ih:w,Gj:x,Ha:y,P:z,NN:B,Wk:C,jg:G}){y=y.Vd("editor.editing.flowcharts");const H=__c.ec();var K=H?.getItem("flowcharts.show_connect_handles");K=K!=null?K==="true"?!0:!1:void 0;const L=__c.bs.create({...__c.Bs,dimensions:a.dimensions,doctype:a.doctype}),N=new __c.frb(L);x.jc(W=>W===40?P.Yzd:void 0,(W,aa)=>{W.Bg.ngf=aa?hV(ba=>ba.page.page!==c.Vg.page||P.E_i?null:mV(uV,{children:[fV(PZs,
{$H:d,UB:B,Tc:ba.Tc,ue:N,Yzd:aa}),fV(__c.Ltf,{...ba,target:P.connectTarget?.target})]})):void 0});r.BF?.mS(()=>P.bph);const P=new XZs(a,c,e,n,p,K,L),T=new WZs(P,a,b,Cs,c,e,g,h,k,l,n,w,x,y,z,C,N);H&&gV(()=>P.Lid,W=>W!=null&&H.setItem("flowcharts.show_connect_handles",W.toString()));const V=()=>{if(P.Kid)return{top:MZs,bottom:MZs,left:MZs,right:MZs}};f.jc(W=>{W.shape.WCa=V});f.wv(()=>{if(P.Kid&&e.Ma&&e.Ma.type==="elements"&&e.Ma.Pd&&e.Ma.Pd.type==="shape")return{element:e.Ma.Pd,dh:e.Ma.container}},
(W,aa)=>{if(aa){const ba=YDs({Rtr:!Wj(aa.element),onClick:da=>T.jMn(aa.element,aa.dh,da),onMouseEnter:p.layout===1?da=>T.nMn(aa.element,aa.dh,da):void 0,onMouseLeave:p.layout===1?T.oMn:void 0,onDragStart:(da,la)=>T.mMn(aa.element,aa.dh,da,la),pe:(da,la)=>T.lMn(aa.element,aa.dh,da,la),onDragEnd:(da,la)=>T.kMn(aa.element,aa.dh,da,la)});W.shape.USd=()=>fV(NZs,{z5o:ba})}else gEs(T),W.shape.USd=void 0});f.controls.TNe(()=>P.isDragging);q.jc(()=>P.tTh,(W,aa)=>{W.Q6b=aa?{Button:hV(ba=>fV(ba.rl,{Icon:__c.Gdr,
label:P.Kid?M("muYbPQ"):M("E2C8sA"),onClick:T.bRn,oa:ba.oa}))}:void 0});if(G)t.plugins.Q6b=()=>({Sd:()=>P.tTh,Button:hV(({yi:W,onClick:aa,...ba})=>{const da=jV(()=>{aa&&aa();T.dRn()},[aa]);return fV(W,{...ba,onClick:da,selected:P.Kid,icon:__c.Gdr,zh:"icon",children:P.Kid?M("muYbPQ"):M("E2C8sA")})})});else{const W={Button:aa=>fV(aa.yi,{selected:!0,tooltip:M("muYbPQ"),zh:"icon",icon:__c.Gdr,onClick:T.cRn})};v?v.Q6b=()=>({Sd:()=>P.Kid,...W}):r.BF?.jc(()=>P.Kid,(aa,ba)=>{aa.Q6b=ba?()=>W:void 0})}};
JB.Gor=function({c_a:a,keyboardShortcuts:b,selection:c,mc:d,toolbar:e,Jd:f,dda:g,Kh:h,he:k,P:l,Ha:n}){n=n.Vd("editor.editing.group");const p=new $Zs(c,a,d),q=new ZZs(p,c,n,l);b.register([a_s,z=>{q.$Mg("keyboard_shortcut");z.preventDefault()},M("4WCqzw"),["edit"]]);b.register([b_s,z=>{q.Syh("keyboard_shortcut");z.preventDefault()},M("TBBSXA"),["edit"]]);const r=()=>q.$Mg("toolbar"),t=()=>q.Syh("toolbar"),v={Button:z=>fV(c_s,{...z,onClick:r})};f.plugins.BNa=()=>({Sd:()=>p.eXd,...v});g?g.BNa=()=>({Sd:()=>
p.eXd,...v}):e.BF?.jc(()=>p.eXd,(z,B)=>{z.BNa=B?()=>v:void 0});const w={Button:hV(z=>fV(d_s,{...z,onClick:t}))};f.plugins.HNa=()=>({Sd:()=>p.lXd,...w});g?g.HNa=()=>({Sd:()=>p.lXd,...w}):e.BF?.jc(()=>p.lXd,(z,B)=>{z.HNa=B?()=>w:void 0});const x=()=>q.$Mg("contextual_menu"),y=()=>q.Syh("contextual_menu");h.jc(()=>p.eXd,(z,B)=>{z.BNa=B?{Button:C=>fV(e_s,{...C,onClick:x})}:void 0});h.jc(()=>p.lXd,(z,B)=>{z.HNa=B?{Button:C=>fV(f_s,{...C,onClick:y})}:void 0});k?.ym(()=>p.eXd,{type:"simple",key:"group",
name:M("bUJF+g"),Dm:a_s,Icon:JIn,execute:async()=>{q.$Mg("quick_actions")}});k?.ym(()=>p.lXd,{type:"simple",key:"ungroup",name:M("BK2j6g"),Dm:b_s,Icon:__c.fB,execute:async()=>{q.Syh("quick_actions")}})};
JB.Hor=function({Pa:a,canvas:b,viewport:c,selection:d,session:{document:e,undo:f},la:g,header:h,Kh:k,Vf:l,Dfa:n,keyboardShortcuts:p,P:q,hrh:r,iaa:t,haa:v,ma:w,fj:x}){const y=new g0s(a,c,e,d,v,g,n?.initialSettings?.zNd);n?.pOc(()=>y.enabled,(N,P)=>N.M3b({zNd:P}));const z=new f0s(b,c,e,f,y,q,x,w,t);b.jc(()=>y.tpm,(N,P)=>{N.dKa.nTb=P?K:void 0;N.Bg.nTb=P?L:void 0});const {Hmp:B,B8q:C,navigation:G,iNi:H}=MEs({viewport:c,document:e,header:h,la:g,Vf:l,P:q,ma:w,Rsk:y,dNg:z});a={Button:hV(N=>{const P=jV(()=>
{N.onClick?.();G.$g({hf:B,options:C()})},[N]);return fV(i_s,{...N,onClick:P,We:g.layout===2?"fill":"fixed"})}),navigation:G,onClose:G.clear};h0s(h,p,z,y,a);i0s(k,z,y);j0s(r,e,y);const K=()=>fV(y_s,{store:y,L:z}),L=hV(({page:N,Tc:P})=>{const T=H?.get();return T?fV(A_s,{L:z,canvas:b,page:N.page,viewport:c,zy:T}):fV(z_s,{canvas:b,store:y,page:N.page,viewport:c,L:z,scale:P.scale})});return{Dbc:new g_s(y,z)}};
JB.Ejn=function({canvas:a,toolbar:b,Za:c,la:d}){const e=iV(()=>{const f=d.layout===2;b.d5&&f&&b.Y9()});a.jc(f=>f>=30,(f,g)=>{a.Bn.bTd=g?hV(()=>c.Y7a?fV(WEs,{onClick:e}):null):void 0})};
JB.Fjn=function(a){var b=a.session,c=a.Auc;const d=a.P;var e=a.rm;const f=a.n5h;var g=a.Ih;const h=a.toolbar,k=a.Jd;var l=a.Kh;const n=a.selection,p=a.Pa,q=a.pd,r=a.canvas;var t=a.ps;const v=a.nq,w=a.puf;var x=a.eua;const y=a.V2b,z=a.viewport,B=a.Za,C=a.Zn,G=a.isDragging,H=a.Ka!=="responsive"?a.z1d:!1,K=new y0s(n),L=new C0s(n,q,r.Bn);GFs(L,w,B,y,n,e,q);e=a.Ka!=="responsive"?a.Auc.element:void 0;const N=c.item;({QAr:c}=ZEs({Ka:a.Ka,Kh:l,pd:q,$Re:L,szg:K,vza:N,SBb:H?e:void 0,Zn:C,Za:B,Pa:p}));l=new F0s(q,
r.Bn);t.d$d.Nei=l.Nei;t.d$d.Ymk=l.Ymk;t.d$d.fgi=l.fgi;const P=new L0s(n,L,q,v,G);t=uFs(b.undo,z,g,x,P);xFs({selection:n,nq:v,CSe:P,pd:q});({Zlj:x}=AFs(b.undo,n,g,d,P));const {BBq:T,aJf:V,Ljj:W,DGh:aa}=nFs({...(a.Ka!=="responsive"?{Ka:["fixed","responsive"],szg:K,SBb:a.Auc.element,z1d:H}:{Ka:"responsive"}),$Re:L,vza:N,KDr:P,Ih:g,selection:n,Za:B,viewport:z,pd:q,Icc:G}),ba=new E0s(L,q,z);g=cFs({pd:q,$Re:L,vza:N,YA:ba,CSe:P,aJf:V,Zn:C,Icc:G});gFs({...(H&&a.Ka!=="responsive"&&W?{Ka:["fixed","responsive"],
viewport:a.viewport,szg:K,Ljj:W}:{Ka:"responsive"}),canvas:r,$Re:L,pd:q,Spp:t,YAr:P,Zlj:x,DGh:aa,aJf:V,Ppp:g});FFs({Jd:k,es:__c.ALe(b.undo),P:d,Hpf:c,AJ:L});Pb("7f91870e",!1)&&__webpack_require__.me(455054).then(()=>__c.bat).then(iV(({Uor:da})=>{da({Jd:k,AJ:L})}));h.BF?.PQi(()=>ba.Frg);h.BF?.mS(()=>P.YUa||V.d_b||(T?.d_b??!1));if(a.Ka!=="responsive"&&H){const da=a.Auc.element;a.QZ.ltn={deleteRows:da.deleteRows,deleteColumns:da.deleteColumns,uvg:da.uvg};f.ftn={qNn:(la,ja)=>da.tLm(K.selected.LJf,la,
ja),Mom:()=>K.selected.LJf==="row"||K.selected.LJf==="column"}}f.R5r=(da,la,ja)=>{Bqs(N,da,la,C,ja)};f.t0p=(da,la)=>__c.tff(N,da,la);if(a.Ka!=="responsive"){const da=a.Auc.element;a.canvas.afa.dTd=hV(oa=>fV(__c.ZIb,{...oa,Z7:a.Rt,B5l:la}));let la;class ja extends(b=IV){render(){return fV(__c.YIb,{...this.props,lPa:this.XB.Gq,Z7:a.Rt})}constructor(...oa){super(...oa);this.Z8r=ma=>{ma.ctrlKey||ma.altKey||ma.metaKey||ma.shiftKey||(ma=v.ojb?.F$?"multi":"single",da.DCi(this.props.page.ia,__c.$ra(this.props.container,
this.props.BG,this.props.tb),ma))};this.XB=new __c.dd([new __c.fqf({onSelect:this.Z8r})])}}({c:[la,b]}=KV(ja,[],[Lb],b));b()}};JB.Jjn=function(a){const {FK:b}=RGs(a);JFs(a);return{FK:b}};
JB.jpr=function({document:a,Ac:b,Pa:c,selection:d,mc:e,la:f,P:g,Ha:h,toolbar:k,Jd:l,dda:n,Kh:p,keyboardShortcuts:q,he:r,zZa:t,jg:v}){h=h.Vd("editor.editing.locking_ui");const w=new D1s,x=new E1s(w,a,c,d,e,b,g,h,t),y=Po(Oo("l"));q.register([y,()=>x.yrf("keyboard_shortcut"),M("7Dt6hg"),["edit"]]);const z={Button:C=>{const G=C.onClick,H=jV(()=>{G&&G();x.yrf("toolbar")},[G]);return fV(O1s,{...C,onClick:H,L:x})}};v||(n?n.Lock=()=>({Sd:()=>x.dEl,...z}):k.BF?.jc(()=>x.dEl,(C,G)=>{C.Lock=G?()=>z:void 0}),
l.plugins.Lock=()=>({Sd:()=>x.mRb&&f.layout===1,...z}));v&&(SGs(x),l.plugins.Lock=()=>({Sd:()=>x.mRb,...z}),l.plugins.uTb=()=>({Sd:()=>x.mRb&&w.$qi,...z}),l.plugins.Llc=()=>({Sd:()=>x.SAo,...z}));const B=()=>x.yrf("context_menu");p.jc(()=>({xXl:f.layout===2,mRb:x.mRb&&(f.layout!==2||!t),yer:x.D_e&&!x.lu}),(C,{xXl:G,mRb:H,yer:K})=>{C.Lock=H?{Button:L=>fV(T1s,{...L,onClick:K?void 0:B,L:x,Dm:y,xXl:G})}:void 0},{equals:nV.structural});r?.ym(()=>!x.lu&&x.mRb,{type:"simple",key:"set-lock",name:M("7Dt6hg"),
Dm:y,Icon:Ux,execute:async()=>x.w2k("quick_actions")});r?.ym(()=>x.D_e&&!x.lu&&x.mRb,{type:"simple",key:"set-partial-lock",name:M("ou4BGA"),Dm:y,Icon:Adr,execute:async()=>x.yrf("quick_actions")});r?.ym(()=>x.Itc&&x.mRb,{type:"simple",key:"set-unlock",name:M("X5CkxQ"),Dm:y,Icon:BHh,execute:async()=>x.W7k("quick_actions")});r?.ym(()=>x.Gon&&x.mRb,{type:"simple",key:"set-partial-unlock",name:M("416rFw"),Dm:y,Icon:BHh,execute:async()=>x.W7k("quick_actions")});t&&p.jc(()=>({mRb:x.mRb&&!x.lu,m_s:x.mRb&&
x.D_e&&!x.lu}),(C,{mRb:G,m_s:H})=>{C.ncg=G?{Button:K=>fV(U1s,{...K,L:x})}:void 0;C.qdg=H?{Button:K=>fV(V1s,{...K,L:x,Dm:y})}:void 0})};
JB.Epr=function({document:a,Gj:b,viewport:c,toolbar:d,Jd:e,selection:f,la:g,Ap:h,qc:k,Fvc:l,he:n,Se:p,P:q,ne:r,hb:t,jg:v}){const w=new __c.bvf(q),x=new c2s(g),y=new b2s(x,a,c,f,t,h,k,l,w,d),z=[{value:"${pageNumberOnly}",label:M("v/osVw"),description:M("9rPF5w")},{value:"${pageNumber}",label:M("8Cdj8w"),description:M("KhZwaQ")},{value:"${pageNumberOfTotal}",label:M("tVBkBA"),description:M("w/RsHA")}],B=()=>uqs(w,"page_numbers_format"),C=hV(()=>fV(__c.lz,{value:y.Cns,options:z,Nh:B,onChange:l.tTo,stretch:!0,
className:"WvDsqA"})),G=WGs({document:a,viewport:c,ne:r}),H=hV(()=>fV(G,{pages:y.Km,Ek:y.Dg,onChange:y.VKn,y0k:()=>uqs(w,"page_numbers_shown")})),K=()=>fV($1s,{onClick:y.Pgm}),L=()=>fV(Z1s,{Dhp:C,Uq:H,XCp:K,jg:v}),N=()=>fV(a2s,{onClick:y.tFm});n?.ym(()=>Wqs(c.ya,t),{type:"simple",key:"page-numbers",name:M("3WjEsQ"),Icon:X1s,execute:async()=>{p?.QK({});k.L0c?.(void 0,{mDl:!0});p?.close({trigger:"shortcut"})}});const P={Sd:()=>y.Vdb,Button:hV(T=>{const V=T.yi,W=T.onClick,aa=T.open,ba=jV(()=>{W&&W();
!aa&&w.pYc("toolbar")},[W,aa]);return fV(V,{...T,zh:"icon-and-label",pressed:aa,icon:__c.$x,onClick:ba,children:M("Ql1UUg")})}),vv:{sg:()=>M("3WjEsQ")},pa:()=>fV(Y1s,{Hhj:L,sb:N}),onClose:y.GX};gV(()=>y.Vdb,T=>{!T&&x.Bee?(d.BV(x.Bee),x.Bee=void 0):x.Bee=P});e.plugins.xBa=()=>P;b.DGa.xBa={onDoubleClick(T,V){Yv(V.element.ia)&&y.OBn("double_click")}};gV(()=>!!x.PJe&&(f.Ma?.type!=="pages"||f.Ma.Pd!==x.PJe),()=>y.GX());vqs(l,()=>{setTimeout(y.vQn)})};
JB.Pjn=function({Ka:a,la:b,Pa:c,oDb:d,cba:e,ee:f,eo:g,Za:h,CMa:k,eSb:l,P:n,pd:p,viewport:q,Jb:r}){const t=new f2s(n),v=new __c.R7d,w=oV(()=>{if(a==="responsive")return!0;const C=q.uh&&!q.nO,G=q.ya.type==="responsive";return!d?.isActive&&!C&&G}),x=hV(()=>{const C=jV(H=>{B.focusNode(H);t.P.track(e2s,{})},[]),G=jV(()=>{const H=q.ya;h.focused||a==="responsive"||H.type!=="responsive"||h.qv(H.text,Gw.end());l.fFc("heading");v.clear();f.Y9()},[]);return fV(m2s,{nodes:z.nodes,layout:b.layout,a7g:C,NXs:c.mode===
40,AJn:G})}),y=()=>{v.$g({hf:x,options:{sg:()=>M("uJG1/Q"),bcl:"collapsed"}})};n={pa:x,header:{title:M("uJG1/Q")}};const z=new q2s(b.layout,v,g,n),B=new p2s(z,g,h,k,p,q,t,n,r);e.L1a.install("outline",{Sd:()=>w.get(),Component:hV(({Q2a:C})=>{C=fV(g2s,{Q2a:C,active:z.zae,onClick:B.cLo});const G=r.Mqa.Wff;return G?fV(G,{children:C}):C})});gV(()=>w.get(),C=>!C&&z.zae&&B.Vye());f.wv(()=>({layout:b.layout,Xls:w.get()}),({vM:C},{layout:G,Xls:H})=>{C&&(C.Mnj=G===2&&H?{navigation:v,onClose:()=>{v.clear();
t.close()},Button:hV(({tF:K,onClick:L})=>{const N=jV(()=>{L?.();y();t.open();B.xkl()},[L]);return fV(r.Mqa.Wff?r.Mqa.Wff:EMs,{children:fV(h2s,{tF:K,onClick:N})})})}:void 0)})};
JB.Npr=function({document:a,Pa:b,selection:c,toolbar:d,Kh:e,k7:f,HMa:g,P:h,Ha:k,qc:l,oDb:n}){k=k.Vd("editor.editing.page_drafting");const p=new x2s(a,b,c,l,n,h,k);d.plugins.oTb=()=>({Sd:()=>p.K$m,Button:hV(q=>fV(w2s,{...q,onClick:p.sUn,active:!!p.EQd,czq:p.j0d?.length||0,Rlt:p.EQd?.length||0}))});e.jc(()=>p.J$m,(q,r)=>{q.vcg=r?{Button:hV(t=>fV(r2s,{...t,bkb:p.j0d?.length||0,onClick:p.tMn,disabled:!p.j0d}))}:void 0});e.jc(()=>p.kbn,(q,r)=>{q.veg=r?{Button:hV(t=>fV(s2s,{...t,bkb:p.EQd?.length||0,onClick:p.uMn,
disabled:!p.EQd}))}:void 0});e.jc(()=>p.fwk&&p.Ijo,(q,r)=>{q.ajj=r?{Button:hV(t=>fV(v2s,{...t,Io:r.ia.draft,onClick:()=>p.W5k(r),disabled:fHs(p,r)}))}:void 0});f.NSd=()=>({Sd:()=>p.ran,No:hV(q=>fV(t2s,{...q,onClick:p.pQn,disabled:eHs(p,q.dh.page)}))});g.NSd=()=>({Sd:()=>p.fwk,Component:hV(q=>fV(u2s,{...q,onClick:p.W5k,disabled:fHs(p,q.dh)}))})};
JB.Ppr=({Pa:a,Kc:b,ea:c,ne:d,uNa:e,ya:f,selection:g,MX:h,hb:k,qc:l,M9b:n,Ac:p,Lk:q,Gj:r,cba:t,keyboardShortcuts:v,oea:w,Jd:x,Kh:y,ee:z,eo:B,e9g:C,mha:G,dyb:H,Y8b:K,wkc:L,P:N,Ha:P,la:T,pg:V,Wk:W,IH:aa})=>{const ba=P.Vd("editor.editing.page_manager");if(c.Jh===1)return{oDb:void 0};const da=c.document,la=new k8s,ja=new b8s(N),oa=new y2s(N),ma=new l8s(la);let na=!1;const qa=zV.box(!1);N=iV(async()=>{na||qa.get()||(qa.set(!0),__webpack_require__.me(769518).then(()=>__c.cat).then(({kHr:xa})=>{rV(()=>{xa({config:la,
Gj:r,mha:G,Pa:a,Kc:b,keyboardShortcuts:v,document:da,Kh:y,ea:c,ne:d,uNa:e,ya:f,selection:g,MX:h,hb:k,qc:l,M9b:n,Ac:p,oea:w,Jd:x,ee:z,eo:B,e9g:C,wkc:L,dyb:H,Y8b:K,V:ba,wns:ja,kCc:oa,la:T,Wk:W,IH:aa});qa.set(!1);na=!0})}))});ma.fqo(N);N=iV(()=>{const xa=r.fq==="thumbnail"?"thumbnail_view":"scrolling_view";ma.Lme();lHs(oa,{fq:"grid_view",txc:xa,mb:"keyboard_shortcut"})});v.register([Pk(Po("3")),N,M("XWps9g"),["edit"]]);const ua=oV(()=>T.layout===2);z.wv(()=>ua.get(),({vM:xa},Ba)=>{xa&&(xa.elj=Ba?{Button:hV(pa=>
fV(f8s,{...pa,onClick:()=>{pa.onClick&&pa.onClick();ma.Lme()},config:la,Gj:r,N:oa}))}:void 0)});const za=iV(()=>{const xa=ba.wb("view_mode_changed",{Hb:{name:"editor.view_mode_changed"}}),Ba=r.fq==="thumbnail"?"thumbnail_view":"scrolling_view";ma.Lme();const pa={fq:la.active?Ba:"grid_view",txc:la.active?"grid_view":Ba,mb:"icon_click"};xa.ob().wk(({Oi:ia})=>{lHs(oa,{...pa,Tb:ia()})});xa.qe()}),va=iV(()=>{if(!q.Yu){var xa=r.fq==="thumbnail"?"thumbnail_view":"scrolling_view";ma.Lme();lHs(oa,{fq:"grid_view",
txc:xa,mb:"canvas_zoom_out"})}});rV(()=>{r.bIi=xa=>{switch(xa.name){case "progress":ma.O8a(xa.progress);xa.progress===1&&W?.tO?.(new __c.vsd({style:3}));break;case "cancel":ma.O8a(0);break;case "confirm":va();break;default:throw new u(xa);}}});t.L1a.install("page_manager",{Sd:()=>!0,Component:hV(({Q2a:xa})=>fV(h8s,{Q2a:xa,config:la,pg:V,onClick:za,loading:qa.get()}))});return{oDb:{nNj:()=>{la.active=!1},get isActive(){return la.active}}}};
JB.Qpr=function({document:a,Ai:b,Kc:c,viewport:d}){c.hoa&&RNs({document:a,Ai:b,$db:c.hoa,viewport:d})};
JB.Rpr=({ea:a,kb:b,bAa:c,Qia:d,Fc:e,Qa:f,dc:g,Lk:h,timing:k,qc:l,M9b:n,W5c:p,nz:q,oDb:r,jr:t,n3a:v,Oua:w,K_:x,G0:y,gO:z,yV:B,nac:C,sAa:G,Uh:H,a9e:K,jR:L,hb:N,Gj:P,Wl:T,mha:V,Jd:W,toolbar:aa,Kh:ba,keyboardShortcuts:da,cba:la,wkc:ja,Ac:oa,MX:ma,Mi:na,ouf:qa,km:ua,HH:za,SF:va,xec:xa,Pa:Ba,Kc:pa,viewport:ia,la:wa,od:Ca,Yaa:Ha,selection:Oa,nq:Ka,sRa:Ua,pT:cb,ne:ab,Soj:Ta,errorService:mb,Ha:pb,P:xb,c2:nb,AKa:qb,F5b:Ob,ma:Rb,pg:Va,wD:yb,Zoa:Jb,Bta:Nb,UGe:ub,IH:Yb,Owd:hc,wVc:jc,rCa:Ec,R1a:Qc,Vf:bd,Y8b:sc,
ee:dc,Zea:vb,Wk:fc,kw:wc,AVb:yc,Je:Fc,qh:cd})=>{const wd=a.document,ce=pb.Vd("editor.page_navigator"),xe=ce.wb("page_navigator_install"),Se=new I2s(xb,nb),ad=new y2s(xb);MNs({Aw:l,bAa:c,Je:Fc,la:wa});const se=new __c.Y4s(wd,a,ia,e,V,wa,sc.LJb,Ba,Oa),De=new X4s(wd,l,n,p,Se,ce,Oa,a.Jh,h,fc),{onContextMenu:sd,h6b:Ne}=S2s({document:wd,N:Se,V:ce,L:De,store:se,config:c,Kh:ba,hb:N,IH:Yb}),Fe=new __c.Bk,Zd=hV(({connectDropTarget:be,drag:Id,...me})=>be(fV("div",{children:fV(x4s,{document:wd,store:se,L:De,
N:Se,Fmn:!!Id,xHa:Id&&Id.z5,GXa:Hd.jx.isLinear,...me})}))),Kd=mc(e,"searchMedia video template pageView generatedDesign searchShape line table chart appElement grid layout design embed file textParagraph textPlaceholder pageNumbers widget sheet".split(" "),(be,{page:Id})=>{rd.mLm(be,Id)},Zd),Nd=new __c.jv,{hdc:Rd,Bfa:Sd}=SHs(oV(()=>se.ui)),{udb:Ud,qp:ng,Fkg:Ie,pQl:Yf}=pIs({timing:k,Lk:h,gL:se,V:ce,N:Se,Bfa:Sd,n3a:v,od:Ca}),Hd=CNs({jR:L,Qia:d,errorService:mb,P:xb,Ha:pb,P$g:Se,AKa:qb,F5b:Ob,hdc:Rd,
Bfa:Sd,oDb:r,jr:t,n3a:v,Oua:w,K_:x,G0:y,gO:z,yV:B,sAa:G,nac:C,a9e:K,nz:q,qp:ng,udb:Ud,Fkg:Ie,hR:Nd,Fc:e,hb:N,Qa:f,dc:g,Lk:h,timing:k,qc:l,km:ua,SF:va,xec:xa,Pa:Ba,Kc:pa,keyboardShortcuts:da,ma:Rb,document:wd,kb:b,Gj:P,Wl:T,viewport:ia,od:Ca,Soj:Ta,Ynd:Kd,Yaa:Ha,selection:Oa,nq:Ka,sRa:Ua,pT:cb,Uo:Fe,bAa:c,gL:se,mtb:De,cba:la,la:wa,wkc:ja,Vf:bd,toolbar:aa,Jd:W,Ac:oa,Kh:ba,Bta:Nb,Ea:a.doctype?.id,Jh:a.Jh,Zoa:Jb,pg:Va,wD:yb,Wk:fc,Zea:vb,onContextMenu:sd,ee:dc,wVc:jc,UGe:ub,IH:Yb,iIm:!Wb(),kw:wc,AVb:yc,
qh:cd});Hd.XH.KOa(()=>c.H0j);if(pa.hoa&&d!=null){const {jvs:be,gwp:Id}=GNs({selection:Oa,Qia:d});pa.hoa.Rhf=Id;pa.hoa.IEb=be.IEb;pa.hoa.bof=be.bof}k.btl=be=>{Hd.fB?.seek(be/1E6,"start");({behavior:me="smooth",MOp:Id="start"}={behavior:"smooth",MOp:"start"});var Id,me;be=m(Ud.oXa).iLa(be,{ujc:Id==="end"});iIs(Ud,be,me)};const lf=f4s({L:De,Rib:()=>Hd.jx.Rib&&!C?.zRd.size,fB:Hd.fB,q9e:Hd.q9e,XH:Hd.XH,store:se,keyboardShortcuts:da,N:Se,V:ce});gss(()=>se.mO,()=>{const be=Hd.jx,Id=Hd.fB;gV(()=>be.Rib,me=>
{me||Id?.Jbl()})});pa.I8b&&(pa.I8b.Ned=()=>P.fq==="thumbnail"?Sd.qOl:0);Qc.SWf({name:"page-navigator",EJb:()=>se.M1s,UEi:BV.mRm?se.Dpo:void 0});const gg=new a8s(ia,P,Va,Ba,ad,ce);la.L1a.install("view_mode",{Sd:()=>pa.DNa==null,Component:hV(({Q2a:be})=>fV($7s,{Q2a:be,fq:P.fq,pg:Va,onClick:P.fq==="thumbnail"?gg.vLn:gg.KLn,onMouseDown:gg.iUn,onMouseUp:gg.jUn}))});const rd=new W4s(wd,ia,e,De,se,a.undo,ma,na,ua,za,qa,H,N),{tJ:pe,Yga:$e}=Q2s({gL:se,config:c,Vf:bd,hR:Nd,Ja:wd});p4s({hR:Nd,bAa:c,mtb:De,gL:se});
Z7s({document:wd,L:De,store:se,jx:Hd.jx,Jd:W,selection:Oa,P:xb,Gj:P,Kc:pa});const Xg=hc||W0s(wd.pages.toArray()),uf=e4s({viewport:ia,d6f:Hd,ne:ab,$T:sc.$T,Kh:ba,h6b:Ne,document:wd,Pa:Ba,L:De,store:se,Lk:h,Ac:oa,hb:N,nz:q,mha:V,qp:ng,bAa:c,pg:Va,Wk:fc,onContextMenu:sd,Tlg:L.Wwf,tZa:L.tZa,RCg:L.RCg,tyr:Xg}),og=hV(({connectDropTarget:be,...Id})=>{const me=!!Id.drag?.z5;kV(()=>{me||rd.Ngd()},[me]);return be(fV("div",{children:fV(uf,{...Id,XDl:me})}))}),nf=mc(e,"searchMedia video template pageView generatedDesign audio searchShape line table chart appElement grid design embed file textParagraph textPlaceholder datasetFieldPlaceholder pageNumbers editingElements widget sheet layout".split(" "),
(be,{page:Id})=>{rd.Rsb(be,Id,!1)},og,{Yt:(be,{page:Id})=>{rd.Y0b(be,Id.page);if(rd.canDrop(be,Id.ia))return Hd.Zct(be,Id.page,{scrollLeft:ng.scrollLeft,left:ng.getBoundingClientRect().left})},canDrop:(be,{page:Id})=>rd.canDrop(be,Id.ia)}),od=hV(({connectDropTarget:be,drag:Id,...me})=>{const Hg=Va.xDh?.Om??EMs;return be(mV("div",{children:[Va.vHh&&fV(Va.vHh,{}),Yb?fV(Hg,{children:fV(__c.E2s,{xHa:Id?.z5,To:se.ui,floating:!1,uNa:c.uNa,...me})}):fV("div",{style:{width:me.dimensions.width},children:fV(Hg,
{children:fV(C2s,{xHa:Id?.z5,floating:!1,To:se.ui,...me})})})]}))}),yd=mc(e,"searchMedia video template pageView generatedDesign searchShape line table chart appElement grid layout design embed file textParagraph textPlaceholder pageNumbers editingElements widget sheet".split(" "),be=>{rd.uOn(be)},od,{canDrop:be=>{var Id=rd;const me=Id.document.pages.last();return me!=null&&Id.canDrop(be,me)}}),Gc=hV(()=>c.H0j&&fV(X7s,{})),zd={Ja:wd,config:c,Bfa:Sd,Uo:Fe,ICc:pe,F1o:$e,eDc:nf,y6b:yd,KEp:Gc,L:De,Bst:gg,
d6f:{pXa:Hd.pXa,$wu:Hd.fB!==void 0,XH:Hd.XH,Gsj:Hd.Gsj,vme:Hd.vme,Ghf:Hd.Ghf,F7i:Hd.F7i,DIf:oV(()=>Hd.jx.DIf),EIf:oV(()=>Hd.rjc.a7c),OFk:oV(()=>Hd.jx.isLinear)},store:se,qp:ng,pQl:Yf,V:ce,N:Se,kCc:ad,Uc:()=>{aIs(De,se,ia);Ie.init()},Wh:()=>{De.RCm?.();Ie.dispose()},pg:Va,zns:lf,iIm:!Wb()};gV(()=>({layout:wa.layout,PEl:P.fq==="thumbnail"&&!pa.DNa}),({layout:be,PEl:Id})=>{if(Id){var me=0;Id=Ec?.draft.Pwc;var Hg=Ec?.draft.sI.thumbnail.images;Hg&&Id&&se.SC===Id.length&&(me=Id.reduce((Ff,ef)=>Hg.find(zj=>
zj.H1b===ef)?++Ff:Ff,0));switch(be){case 2:pa.v4=void 0;W.v4=o4s(Ff=>Se.QMo({Tb:Ff,aKm:n4s(se,wd),mBi:me}),ce,()=>fV(U4s,{...zd,ouq:!0}));break;case 1:W.v4=void 0;pa.v4=o4s(Ff=>Se.QMo({Tb:Ff,aKm:n4s(se,wd),mBi:me}),ce,()=>fV(U4s,{...zd,ouq:!1}));break;default:throw new u(be);}}else pa.v4=void 0,W.v4=void 0;xe.end()},{fireImmediately:!0,equals:nV.shallow});const Yc=zf(wd);gV(()=>P.fq,(be,Id)=>{Id==="scroll"&&be==="thumbnail"&&Oa.state?.Rz?.ia!==ia.ya&&Oa.pW(Yc,ia.ya)});setTimeout(()=>{se.rd=!0});return{Ans:Nd}};
JB.mqr=function(a){const b=a.la,c=a.session.document,d=a.uc,e=a.viewport,f=a.hb,g=a.Ih,h=a.Ha,k=new o8s,l=new p8s(k,c,a.kb,a.selection,a.jQb,a.Fma,a.SF,a.d5c),n=oV(()=>a.qa.status===2),p=a.X,q=a.ka;a.Kh.jc(()=>{{var v=l.config.vge;const w=l.selection.Ma;v=v&&w?.type==="elements"&&w.inner?.type!=="table"&&(w.elements.length>1||TNs(w.elements[0]))?{selection:w,vge:v}:void 0}return v},(v,w)=>{v.P_c=w?{Button:hV(x=>{const y=jV(()=>{h.Vd("editor.editing.publishing").wb("editor.publish.click_download_selection",
{Hb:{name:"editor.publish.click_download_selection",attrs:new Map([["location","contextualMenu"]])}}).qe();!p&&q?a.ve.vC(__c.Il.G2a,"download_selection",{hhd:"pageview"}):l.vge(w)},[]);return fV(x.rl,{label:M("xW6dpg"),Icon:__c.gD,onClick:y,oa:x.oa,disabled:n.get()})})}:void 0});a.canvas.jc(()=>b.layout===1&&!!a.session.doctype?.Oc?.u1d,(v,w)=>{v.Bg.ulj=w?x=>fV(n8s,{...x,uc:d,hb:f}):void 0});const r=new r8s(k,e),t=new s8s(r,k,e);a.canvas.jc(()=>t.aJo,(v,w)=>{v.Bg.Ueg=w?hV(({Tc:x})=>{const y=jV(()=>
t.q9m(w.Ade),[]),z=jV(()=>t.N9m(w.Ade),[]);return fV(WNs,{region:r.region,fos:x.scale,hm:w.hm,K7g:t.s9m,J7g:t.r9m,I7g:y,kgs:t.P9m,jgs:t.O9m,igs:z,Ih:g})}):void 0});return{bil:k}};
JB.rqr=function({document:a,bAa:b,Je:c,bzg:d,selection:e,Qia:f,BDj:g,VT:h,qc:k,timing:l,od:n,runtime:p,fa:{errorService:q,g_:r,Mr:t,P:v},Gj:w,X:x,hb:y}){b!=null&&t8s&&h!=null&&f!=null&&x!=null&&(g=g.filter(z=>window.MediaRecorder!=null&&window.MediaRecorder.isTypeSupported(z)),a=$Ns({document:a,bAa:b,Je:c,selection:e,BDj:g,VT:h,qc:k,Qia:f,timing:l,od:n,runtime:p,errorService:q,g_:r,Gj:w,Mr:t,X:x,P:v,hb:y}),tqs(d,a.Q6a))};
JB.Bqr=function({canvas:a,viewport:b,Uo:c,document:d,fj:e,la:f,keyboardShortcuts:g,P:h,ee:k,Dbc:l,selection:n,Pa:p}){if(l){var q=new H8s(a,b,d,p,n,l,f,e,u8s),r=new G8s(q,a,b,d,l,e,h,v8s),t=oV(()=>q.NR),v=oV(()=>q.IRg),w=oV(()=>q.blh),x=K=>r.SKg(K),y=(K,L,N)=>r.getPosition(K,L,N),z=K=>hV(()=>fV(F8s,{direction:K,blh:w,NR:t,IRg:v,SKg:x,UKg:y}));e=K=>{const L=z(K);return hV(({tT:N})=>fV(C8s,{direction:K,document:d,L:r,viewport:b,Uo:c,canDrag:q.z2c,tT:N,Dbc:l,Fzp:q.yAo?L:void 0}))};var B=e("vertical"),
C=e("horizontal");a.jc(()=>q.enabled&&q.WCl,(K,L)=>{K.dKa.IDc=L?B:void 0;K.dKa.aDc=L?C:void 0});var G=()=>dOs(r,"file_menu");a=iV(()=>dOs(r,"keyboard_shortcut"));var H=Oo("r");g.register([H,a,M("P76q1Q"),["edit","view","comment"]]);k.wv(()=>q.WCl,({vM:K},L)=>{K&&(K.Xqj=L?{Button:hV(N=>fV(I8s,{...N,onClick:G,Dm:H,isEnabled:q.enabled}))}:void 0)})}};
JB.ckn=function(a){const b=a.Pa,c=a.Kh;var d=a.Q1f;const e=d.fd,f=d.dRb;d=d.hj;const {Czi:g}=GOs({...a,hj:d}),{HDn:h}=BOs({...a,hj:d});e&&d&&f&&aPs({...a,fd:e,dRb:f,hj:d});yOs({...a,hj:d});const k=new N8s(g,h);c.jc(()=>b.mode===40&&k.Kzo,(l,n)=>{l.cnj=n?{Button:hV(p=>fV(p.rl,{...p,Icon:__c.Zu,label:M("TuY+Qw")}))}:void 0})};
JB.dkn=function(a){function b({kDd:la,source:ja}){la?.preventDefault();rV(()=>{switch(n.layout){case 2:break;case 1:e.DDc!=null&&Object.values(V).includes(e.DDc)?e.DDc=void 0:e.DDc=V[ja];break;default:throw new u(n.layout);}})}const c=a.ee,d=a.Pa,e=a.Kc,f=a.viewport,g=a.keyboardShortcuts,h=a.sqb,k=a.eRa,l=a.he,n=a.la;var p=a.P,q=a.errorService,r=a.ma,t=a.locale,v=a.fj;const w=a.Ha.Vd("editor.editing.richtext.finding_and_replacing"),x=q.Ef("text_finding_and_replacing"),y=new S8s;p=new R8s({N:p});let z;
q=()=>{};if(a.Ka!=="responsive"){const la=a.canvas;q=a.session;var B=q.document,C=q.undo;const ja=a.selection;q=a.mc;const oa=a.zf,ma=a.hb,na=a.ue,qa=a.fd,ua=qa&&new W8s({...a,fd:qa}),za=u9s.create({store:y,Pa:d,document:B,Za:a.Za,SX:a.SX,xwi:qa&&new Y8s({...a,fd:qa}),viewport:f,gz:p,V:w,pd:a.pd}),va=e9s.create({store:y,document:B,Pa:d,selection:ja,mc:q,viewport:f,ue:na,fj:v,zf:oa,hb:ma,gz:p,V:w,LQk:ua,Vgc:za});z=va;oQs({store:y,canvas:la,viewport:f,FXq:va,Vgc:za});q=(()=>{let Ba=()=>ZPs({canvas:la,
Zda:xa,store:y,L:va,viewport:f,Oph:L,errorService:x});return()=>{Ba!=null&&(ja.deselectAll(),Ba(),Ba=void 0)}})();const xa=a.Zda;r=aQs.create({store:y,Q4b:va,document:B,Ac:a.Ac,undo:C,fd:qa,errorService:x,gz:p,V:w,kd:a.kd,Vi:a.Vi,ma:r,Vgc:za})}else v=a.session,B=a.canvas,C=a.fd,a=u9s.create({store:y,Pa:d,document:v.document,Za:a.Za,SX:a.SX,xwi:C&&new Y8s({...a,fd:C}),viewport:f,gz:p,V:w,pd:a.pd}),oQs({store:y,canvas:B,viewport:f,Vgc:a}),z=a,r=eQs({store:y,Q4b:a,document:v.document,undo:v.undo,errorService:x,
gz:p,V:w,ma:r,fd:C});if(z!=null){if(r!=null){t=wQs({store:y,L:r,locale:t,la:n});var G=t.Fpj;var H=t.Hmj}var {Form:K,Oph:L}=rQs({store:y,L:z,uNr:new T8s(y,z),errorService:x,Uc:q,Fpj:G,Hmj:H}),N=(la,ja)=>{y.isMounted&&(la.preventDefault(),ja?z.shk():z.ohk())},P=[[Pk("f"),la=>b({kDd:la,source:"keyboard-shortcut"})],[Pk(Oo("g")),la=>N(la,!0)],[Pk("g"),la=>N(la,!1)]],T=hV(({source:la})=>{const ja=jV(()=>b({kDd:void 0,source:la}),[la]);return fV(__c.wp,{map:P,Hr:!0,children:fV("div",{className:"J_K8Hw",
children:fV(K,{mode:"canvas-overlay",onClose:ja,source:la})})})}),V={"file-menu":GV(()=>fV(T,{source:"file-menu"})),"keyboard-shortcut":GV(()=>fV(T,{source:"keyboard-shortcut"})),"quick-actions":GV(()=>fV(T,{source:"quick-actions"}))},W=Pk("f");rV(()=>{g.register([W,la=>b({kDd:la,source:"keyboard-shortcut"}),M("B4Kpbw"),["edit","suggest","view","comment"]]);h?.register([W,la=>b({kDd:la,source:"keyboard-shortcut"}),M("B4Kpbw"),["edit","suggest","view","comment"]]);k.register([W,la=>b({kDd:la,source:"keyboard-shortcut"}),
M("B4Kpbw"),["edit","suggest","view","comment"]])});var aa=new __c.R7d,ba={hf:hV(({oa:la})=>fV(K,{onClose:la,mode:"sheet",source:"file-menu"})),options:{sg:hV(()=>fV(uV,{children:z.zqh?M("TP6Mzw"):M("+MHgZQ")})),Hzc:!1}},da;c.wv(()=>({mode:d.mode,layout:n.layout}),({vM:la})=>{if(la){const ja=n.layout===1;da={Button:hV(oa=>{const ma=oa.onClick,na=oa.oa,qa=jV(()=>{ja?b({kDd:void 0,source:"file-menu"}):(ma?.(),aa.$g(ba),na?.())},[ma,na]);return fV(r9s,{...oa,onClick:qa,oa:na,label:d.mode===40?M("PV2q7g"):
M("mQjTGw"),Dm:ja?W:void 0})}),navigation:ja?void 0:aa};la.DDc=da}});l?.install({type:"simple",key:"text-find-and-replace",Dm:Pk("f"),name:M("PV2q7g"),Icon:P8s,execute:async()=>{n.layout===1?b({kDd:void 0,source:"quick-actions"}):da==null||c.vLc?.sX(da)||(aa.clear(),c.Awc(da),aa.$g(ba))}})}};
JB.qrr=function({Jh:a,Gj:b,Kc:c,oDb:d,keyboardShortcuts:e,la:f,ee:g,P:h}){if(a!==1){a=iV(()=>{b.fq="thumbnail";d?.nNj();h.track(__c.b8g,{fq:"thumbnail_view",txc:"scrolling_view",mb:"keyboard_shortcut"})});var k=iV(()=>{b.fq="scroll";d?.nNj();h.track(__c.b8g,{fq:"scrolling_view",txc:"thumbnail_view",mb:"keyboard_shortcut"})});e.register([Pk(Po("1")),k,M("mDtR3A"),["edit"]],[Pk(Po("2")),a,M("ZVsdnw"),["edit"]]);var l=new A9s(b,c,f),n=new z9s(l,b,h,d);g.wv(()=>l.xzo,({vM:p},q)=>{p&&(p.bfg=q?{Button:hV(r=>
fV(y9s,{...r,yPl:n.yPl,CB:l.CB}))}:void 0)})}};
JB.urr=function({Ja:a,viewport:b,selection:c,od:d,la:e,Pa:f,canvas:g,Jd:h,Kh:k,bAa:l,P:n,uc:p,Zea:q,Px:r,Vf:t,eo:v,sAa:w,Lk:x,hR:y,pg:z,ma:B,Ha:C,jg:G,P$j:H}){function K(Ca,Ha){gV(Ca,Oa=>{if(l.$ri?.get()){var Ka=Ha();Ka.length===1&&Ka[0]===Oa&&ba.close()}})}C=C.Vd("editor.editing.transition");var L=__c.ec();L=L&&new __c.vDe(L,"Transition",Ca=>Ca.label.replace(/\s/g,"_"));const N=new p$s(c,b),P=new m$s(a,r.Yzc,q.rma,b,d,n,C,z,c,new Date,L,()=>{B.Ib({Db:M("k2JMiA")})},oV(()=>x.Yu?P9s:O9s));P.init();
const T=new n$s(a,r.Yzc,b,c,P,q.rma,d),V=new __c.jv,W=new o$s(y,V),aa=new h$s,ba=new i$s(a,aa,v,c,b,P,T,n,W,C,e);g.jc(()=>P.Dss,(Ca,Ha)=>{if(Ha){var Oa=Ha.S_;Ca.Bg.vJh=hV(Ka=>{var Ua=sg(4,ck(Ka.page.page,a.dimensions));const cb=Ka.Tc.scale;Ua={width:Ua.width*cb,height:Ua.height*cb};return Ka.page.page===P.ya?.page?fV(Oa,{uc:p,dia:Ua,Uon:!1}):null})}else Ca.Bg.vJh=void 0});k.jc(()=>f.mode===40&&N.$Ua,(Ca,Ha)=>{const Oa=()=>ba.open({mb:"contextual_menu",DSl:ba.xYc,entryPoint:"pageNavigator"});Ca.jfj=
Ha?{Button:hV(Ka=>fV(Ka.rl,{label:P.WO?M("zb4Baw"):M("ilHeTQ"),onClick:Oa,Icon:Ops,oa:Ka.oa,disabled:P.ya?P.wNb(P.ya.page):!0}))}:void 0});const da={getLabel:Ca=>e.layout===2?M("o31hEQ"):P.wNb(Ca)?M("2DF9ug"):Ca.transition.ref?M("zb4Baw"):M("ilHeTQ"),isActive:Ca=>!!Ca.transition.ref,isDisabled:Ca=>P.wNb(Ca),pa:hV(({page:Ca,iq:Ha})=>fV(e$s,{Jr:e.layout===2,wqi:Ha,unn:P.hgb(Ca)&&ba.xYc.includes(Ca),transition:Ca.transition.ref})),onClick(Ca){sa(P.hgb(Ca));ba.open({page:Ca,mb:"click",DSl:ba.xYc,entryPoint:"pageNavigator"})}},
la={getLabel:Ca=>e.layout===2?M("o31hEQ"):T.wNb(Ca)?M("2DF9ug"):Ca.transition.ref?M("zb4Baw"):M("ilHeTQ"),isActive:Ca=>!!Ca.transition.ref,isDisabled:Ca=>T.wNb(Ca),pa:hV(({fill:Ca,iq:Ha})=>fV(e$s,{Jr:e.layout===2,wqi:Ha,unn:!T.wNb(Ca)&&ba.acf.includes(Ca),transition:Ca.transition.ref})),onClick(Ca){T.DTa&&(__c.f2a(c,T.DTa,Ca),ba.wVn(Ca,"click","pageNavigator"))}};gV(()=>f.mode===40,Ca=>{Ca&&(x.Yu?l.mwe.Ifg=la:l.mwe.Jfg=da)},{fireImmediately:!0});l.$ri=oV(()=>ba.i9g!=null);x.Yu?gV(()=>ba.acf.length===
0||f.mode!==40,Ca=>Ca&&ba.close()):gV(()=>ba.xYc.length===0||f.mode!==40,Ca=>Ca&&ba.close());const ja=a.pages.first();x.Yu&&ja?.type==="fixed"?K(()=>ja?.Hc.last(),()=>[...ba.acf]):K(()=>a.pages.last(),()=>ba.xYc);const oa=__c.aFe(r.MVb,W.Hte),ma=Ca=>fV(__c.AFe,{...Ca,navigation:W.Hte,la:e,uaa:oa}),na=hV(()=>w?.isEnabled?fV(Ck,{tone:"warn",size:"small",dismissible:!1,children:fV(__c.Zj,{message:__c.ECe()})}):null),qa=qIs(async()=>{const {fFp:Ca}=await __webpack_require__.me(305908).then(()=>({fFp:__c.dat}));
return{default:Ca}}),ua=qIs(async()=>{const {hFp:Ca}=await __webpack_require__.me(305908).then(()=>({hFp:__c.eat}));return{default:Ca}}),za=qIs(async()=>{const {gFp:Ca}=await __webpack_require__.me(305908).then(()=>({gFp:__c.fat}));return{default:Ca}}),{$pq:va,Vct:xa,$Ts:Ba,Wct:pa}=xQs({L:P,j4e:T,viewport:b,Los:ba});aa.seg=hV(()=>{const Ca=x.Yu?xa:va,Ha=x.Yu?pa:Ba;return fV(sIs,{fallback:fV(C9s,{}),children:fV(ua,{Yq:P.Yq.get(),...Ca,onClick:Ca.USn,qeg:()=>fV(sIs,{fallback:null,children:fV(qa,{Jr:!0,
...Ha,Vf:t,Ila:ma})}),xfb:na,navigation:W.Hte})})});aa.sfb=hV(()=>{const Ca=x.Yu?xa:va,Ha=x.Yu?pa:Ba;return fV(sIs,{fallback:fV(D9s,{Tbc:G}),children:fV(za,{Yq:P.Yq.get(),jg:G,...Ca,qeg:()=>fV(sIs,{fallback:null,children:fV(qa,{...Ha,Ila:ma})}),xfb:na})})});aa.Ge=()=>M("gK/oPw");aa.title=M("gK/oPw");const ia=()=>ba.open({mb:"click",DSl:ba.xYc,entryPoint:"toolbar"}),wa=()=>f.mode===40&&!!ba.xYc?.length&&P.ya!=null&&!P.wNb(P.ya.page);gV(wa,Ca=>{h.zKa.Transition=Ca?()=>({label:{gn:()=>M("o31hEQ"),pa:{navigation:V},
Nh:()=>ia(),pq:hV(()=>P.n0h&&P.n0h.type!==void 0?P.n0h.label:void 0)},pa:{pa:hV(Ha=>aa?.seg?fV(aa.seg,{...Ha}):null)}}):void 0});h.plugins.Transition=()=>({Sd:()=>H&&wa()||e.layout===2&&wa(),Button:hV(Ca=>{const Ha=M("o31hEQ");return fV(Ca.yi,{...Ca,pressed:Ca.open,selected:N.QCm,icon:Ops,zh:"icon-and-label",onClick:()=>{ia();Ca.onClick?.()},children:Ha})}),navigation:V})};
JB.vrr=function({HSl:a,selection:b,undo:c,toolbar:d,Jd:e,he:f,P:g,jg:h}){const k=new s$s(a,b,g),l=__c.ALe(c),n={Sd:()=>k.J_f!=null,Button:hV(p=>fV(t$s,{...p,Nh:k.Ruc})),vv:{sg:()=>M("esjKOA")},pa:hV(p=>fV(u$s,{Zh:l,value:m(k.J_f),onChange:k.zUn,kh:k.mgs,We:p.We,jg:h}))};e.plugins.oIb=()=>n;f?.ym(()=>k.J_f!=null,{type:"simple",key:"transparency",name:M("esjKOA"),aliases:[M("RNACiA")],Icon:__c.eJm,execute:async()=>{n.Sd?.()&&(d.dC(n),k.Ruc())}})};
JB.ekn=function(a){const b=a.session,c=a.fa.Gb;var d=a.$s;const e=d.ee;d=d.fV;const f=a.skeleton.controller,g=a.hwg,h=a.Jb,k=a.Oc,l=a.Wqa.Tlb;if(k.status===Jx.fs)return{L9f:void 0};const {Bse:n,open:p}=gRs(a),q=k.status===Jx.ei;e.wv(()=>f.mode===40,({vM:t},v)=>{t&&(t.Mod=v?{Button:hV(w=>{const x=q?h.Td.Ftj:void 0;return fV(n,{source:"file_menu",render:({onClick:y,loading:z,disabled:B})=>fV(w.tF,{wZ:__c.R8i,onClick:()=>{y();w.onClick?.()},qg:z?__c.hv:x,disabled:B,children:M("ETXuvQ")})})})}:void 0)});
if(g){const t=q?__c.dJ:Wi,v=()=>fV(n,{source:"design_status",render:({onClick:w,disabled:x,loading:y})=>fV(t,{variant:"primary",onClick:w,disabled:x,loading:y,stretch:!0,children:M("EV/mkA")})});g.Bse=()=>f.mode===40?v:void 0}__c.Nl(d.wl,t=>__webpack_require__.me(885017).then(()=>__c.Oaj).then(iV(({Grr:v})=>{v({wl:t,Gb:c,ea:b})})));const r=new v$s(p);l&&(l.L9f={open:()=>r.open()});return{L9f:r}};
JB.dus=function(a){const b=a.xc,c=a.qc,d=a.alert,e=a.P,f=a.dyb,g=a.Jb,h=a.ya,k=a.wq,l=a.Tm,n=a.kb,p=a.Ob,q=a.Gb,r=a.ea,t=a.qr,v=a.jj,w=a.uBg,x=a.errorService,y=a.rb,z=a.SJe,B=a.ida,C=a.ub,G=a.EM,H=a.hka,K=a.Xi,L=a.ma,N=a.qa,P=a.la,T=a.hb,V=a.N6b,W=a.Na,aa=a.Px,ba=a.selection,da=a.wg,la=a.o2,ja=a.Pa,oa=a.fV,ma=a.bZa,na=a.Wzf,qa=a.jPd,ua=a.Ha,za=a.viewport,va=a.XM,xa=a.TSb,Ba=a.LJb,pa=a.Je,ia=Promise.all([__webpack_require__.me(301523).then(()=>__c.gat),G()]).then(iV(([{zor:wa},Ca])=>wa({Ja:r.document,
ea:r,kb:n,Ob:p,Gb:q,la:P,hb:T,ya:h,Pa:ja,Tm:l,qr:t,designId:r.id,ida:B,wq:k,selection:ba,wg:da,Px:aa,qc:c,o2:la,bZa:ma,xc:b,SJe:z,D_q:Ca,undo:r.undo,alert:d,viewport:za,ma:L,Na:W,errorService:x,hka:H,rb:y,ub:C,qa:N,P:e,Ha:ua,N6b:V,uBg:w,jPd:qa,Wzf:na,dyb:f,XM:va})));xa.then(wa=>{wa.register("widget:form",()=>ia)});__c.Nl(oa.ajn,({nN:wa,Jw:Ca})=>{const Ha=r.document;__c.MTm&&da&&Ha.Ka==="fixed"&&Promise.all([__webpack_require__.me(308764).then(()=>__c.hat),G(),K()]).then(([{Shq:Oa},Ka,Ua])=>{Oa=Oa({Sr:Ka.Sr,
jj:v,Na:W,Bk:Ua,errorService:x,Jw:Ca,Je:pa,X:da,Jf:r.extension,ka:r.id,Ja:Ha,N:wa.N,JR:Ba.Bis,Hv:()=>wa.Hv(2),HJb:wa.close,viewport:za,K2:g.K2,u4:g.u4,c2b:na,XM:va});wa.FBd(2,Oa)})})};JB.mus=async function(a){return Promise.all([a.IHa,__webpack_require__.me(70971).then(()=>__c.iat)]).then(([b,{cpr:c}])=>c({...a,IHa:b}))};
JB.qus=function(a){let b=[];const c=zV.box(e=>{b.push(e);if(b.length>1)for(;b.length>10;)b.shift();else __webpack_require__.me(489062).then(()=>__c.jat).then(iV(({Wrr:f})=>{const {YQr:g}=f(a);b.forEach(h=>g(h));b=[];c.set(g)}))});let d;gV(()=>{const e=a.mc.state;return e&&e.type==="focused"&&e.contentType===0?e.element:void 0},e=>{const f=d?.text.Ya;f&&c.get()(f);d=e});return c};
}).call(self, self._456c437108d2d2713799e19380be528d);}

}])
//# sourceMappingURL=sourcemaps/e220ef5b1d60ff27.js.map