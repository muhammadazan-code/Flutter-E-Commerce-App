(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[20133],{

/***/ 804077:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(100191);self._456c437108d2d2713799e19380be528d = self._456c437108d2d2713799e19380be528d || {};(function(__c) {var Ds=__c.Ds;var Slj,Tlj,Vlj,Ulj,Ylj,Zlj,Mlj,Plj,Nlj,Olj,Qlj;
Slj=async function(a){const b=new TextDecoder;var c=await __c.bh(a.slice(0,__c.Llj));c=(new DataView(c)).getUint32(24,!0);a=await __c.bh(a.slice(c));c=new DataView(a);let d=0,e=0,f;for(;d+16<=a.byteLength;){var g=c.getUint32(d,!0),h=c.getUint32(d+4,!0);const l=c.getUint32(d+8,!0);var k=c.getUint32(d+12,!0);d+=16;if(h===Mlj&&g===Nlj)for(g=0;g<l;g++){h=c.getUint32(d+8,!0);k=c.getUint8(d+12);d+=13;if(k===Olj&&d+h<=a.byteLength){k=new Uint8Array(a.slice(d,d+h));k=b.decode(k);try{const n=JSON.parse(k),
p=n.document.artboardCount,q=n.document.pageCount;e=p>0?p:q}catch(n){throw Error("Failed to parse Affinity file metadata JSON");}}d+=h}else if(h===Plj&&g===Nlj)for(g=0;g<l;g++)h=c.getUint32(d+8,!0),k=c.getUint8(d+12),d+=13,k===Qlj&&d+h<=a.byteLength&&(f=new Uint8Array(a.slice(d,d+h))),d+=h;else d+=k}if(e===0)throw new __c.Rlj;return{ZUe:e,thumbnail:f}};Tlj=function(...a){a.forEach(b=>{if(typeof b!=="number"||isNaN(b)||b<0)throw Error("Expected a non negative number");})};
Vlj=async function(a,b,c){try{const d=await Ulj(a),e=URL.createObjectURL(d);return await Ds(e)}catch(d){return new Image(b,c)}};
Ulj=async function(a){const b=document.createElement("div"),c=await __webpack_require__.me(802496),d=(c.default??c).loadAnimation({animationData:a,container:b,renderer:"svg",autoplay:!1,loop:!1,rendererSettings:{progressiveLoad:!0}});a=(await new Promise((e,f)=>{d.addEventListener("DOMLoaded",()=>{const g=b.querySelector("svg");g?e(g):f("Unable to find SVG element")});d.addEventListener("data_failed",f);d.addEventListener("error",f)})).outerHTML;d.destroy();return new Blob([a],{type:"image/svg+xml;charset=utf-8"})};
__c.Wlj=__c.F(()=>({id:__c.S(1),Xxd:__c.E(2,__c.Y3c),TYt:__c.E(3,__c.Y3c)}));__c.eRa.prototype.gbj=__c.fa(506,async function(a){const b=a.dpl;a=await this.Jt.baa({method:"PUT",url:a.url,body:a.file.content,Jka:a.Jka});if(a.status<200||a.status>=400)throw new __c.omd(a.body,a.status);return this.getResponseHeader(a,b)});
__c.QNa.prototype.Fli=__c.fa(108,async function(a){const b=__c.ih(__c.gh([__c.c4c,"import"])),[c,{hpp:d}]=await Promise.all([this.Da.post(b,__c.Wlj.serialize(a),{Sa:"importaudio"}),__webpack_require__.me(794219).then(()=>({hpp:__c.Xlj}))]);return d.deserialize(c)});
Ylj=class{async handle(a){const b=URL.createObjectURL(a);let c;try{c=await __c.x1c(b)}catch(d){return URL.revokeObjectURL(b),{file:a,img:new Image,Bck:!0}}await __c.Hlj(c);try{const d=c.duration,e=c.videoWidth,f=c.videoHeight;return{img:await __c.Jlj(c).then(__c.Ilj).catch(()=>new Image),file:a,width:e,height:f,duration:d}}finally{URL.revokeObjectURL(b),c.parentNode?.removeChild(c)}}};__c.Rlj=class extends Error{constructor(){super("Affinity file does not contain valid metadata");this.name="AffinityInvalidMetadataError"}};
Zlj=class{async handle(a){const {ZUe:b,thumbnail:c}=await Slj(a);if(c!=null){var d=await __c.y1c(new Blob([c],{type:"image/png"}));d=await this.uR(d)}else d=new Image;return{file:a,img:d,width:d.width,height:d.height,ZUe:b}}constructor(){this.uR=__c.Ds}};__c.Llj=32;Mlj=1635018061;Plj=1651337300;Nlj=4294967295;Olj=1;Qlj=1;var $lj=class{handle(a){return __c.y1c(a).then(b=>Ds(b)).then(b=>({img:b,file:a,width:b.width,height:b.height}),()=>({img:new Image,file:a}))}};var amj=class{async handle(a){const b=URL.createObjectURL(a);try{const c=await __c.qCa(b,"audio");return{img:new Image,file:a,duration:c.duration}}finally{URL.revokeObjectURL(b)}}};var bmj={1:"TOP-LEFT",2:"TOP-RIGHT",3:"BOTTOM-RIGHT",4:"BOTTOM-LEFT",5:"LEFT-TOP",6:"RIGHT-TOP",7:"RIGHT-BOTTOM",8:"LEFT-BOTTOM"},cmj=[bmj[5],bmj[6],bmj[7],bmj[8]],dmj=class extends Error{},emj=class{async handle(a){var b=await __c.y1c(a);b=await Ds(b);var c=await __c.bh(a);a:{if(!(0,__c.y4b)(new Uint8Array(c)))throw new dmj("Not a JPEG file");try{var d=new DataView(c);for(c=2;c<d.byteLength;){var e=d.getUint16(c,!1);c+=2;if(e===65505){if(d.getUint32(c+=2,!1)!==1165519206)break;var f=d.getUint16(c+=
6,!1)===18761;c+=d.getUint32(c+4,f);var g=d.getUint16(c,f);c+=2;for(let l=0;l<g;l++)if(d.byteLength>c+l*12&&d.getUint16(c+l*12,f)===274){var h=d.getUint16(c+l*12+8,f);break a}}else if((e&65280)!==65280)break;else c+=d.getUint16(c,!1)}}catch(l){if(!(l instanceof RangeError))throw l;}h=1}if(h!==1){a:if(a=b,b=bmj[h],f=a.naturalWidth,g=a.naturalHeight,f*g>16777216)var k=a.src;else if(h=document.createElement("canvas"),d=h.getContext("2d")){e=__c.pCa(a);try{const l=getComputedStyle(a).imageOrientation===
"none";l&&cmj.includes(b)?(h.height=f,h.width=g):(h.width=f,h.height=g);if(l)switch(b){case bmj[2]:d.translate(f,0);d.scale(-1,1);break;case bmj[3]:d.translate(f,g);d.rotate(Math.PI);break;case bmj[4]:d.translate(0,g);d.scale(1,-1);break;case bmj[5]:d.rotate(.5*Math.PI);d.scale(1,-1);break;case bmj[6]:d.rotate(.5*Math.PI);d.translate(0,-g);break;case bmj[7]:d.rotate(.5*Math.PI);d.translate(f,-g);d.scale(-1,1);break;case bmj[8]:d.rotate(-.5*Math.PI),d.translate(-f,0)}d.drawImage(a,0,0,f,g);k=h.toDataURL("image/jpeg",
.92);break a}finally{e.remove()}k=void 0}else k=a.src;b=await Ds(k);a=__c.A1c(k)}return{img:b,file:a,width:b.width,height:b.height}}};var fmj=class{async handle(a){try{const b=await __c.z1c(a),c=JSON.parse(b),d=c.w,e=c.h,f=c.fr,g=c.ip,h=c.op;Tlj(d,e,f,g,h);return{img:await Vlj(c,d,e),file:a,width:d,height:e,duration:(h-g)/f}}catch(b){throw Error("Failed to load lottie");}}};var gmj=(a,b)=>(a=a.getAttribute(b))?parseFloat(a):0,hmj=class{static serialize(a){const b=new XMLSerializer,c=`<?xml version="1.0" standalone="${a.xmlStandalone?"yes":"no"}"?>`,d=a.doctype?b.serializeToString(a.doctype):'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';a=b.serializeToString(a.documentElement);return[c,d,a].join("\n")}async handle(a){a=await __c.z1c(a);a=(new DOMParser).parseFromString(a,"image/svg+xml");{const g=a.querySelector("svg");
if(!g)throw Error("Invalid SVG document");var b=g.viewBox&&g.viewBox.baseVal;if(b&&b.width&&b.height)g.setAttribute("width",""+b.width),g.setAttribute("height",""+b.height);else{b=gmj(g,"x");var c=gmj(g,"y"),d=gmj(g,"width"),e=gmj(g,"height");if(!d||!e){const h=__c.pCa(g);try{var f=g.getBBox();b=b||f.x;c=c||f.y;d=d||f.width;e=e||f.height;a.appendChild(g)}finally{h.remove()}}g.setAttribute("width",""+d);g.setAttribute("height",""+e);g.setAttribute("viewBox",`${b} ${c} ${d} ${e}`)}}a.documentElement.getAttribute("xmlns:xml")===
"http://www.w3.org/XML/1998/namespace"&&a.documentElement.removeAttribute("xmlns:xml");f=hmj.serialize(a);a=`data:image/svg+xml;utf8,${encodeURIComponent(f)}`;a=await Ds(a);return{img:a,file:new Blob([f],{type:"image/svg+xml"}),width:a.width,height:a.height}}};__c.dH=class{static Mob(a){switch(a.split(";")[0]){case "image/jpeg":return new emj;case "image/svg+xml":return new hmj;case "video/avi":case "video/mp4":case "video/mpeg":case "video/quicktime":case "video/x-matroska":case "video/x-m4v":case "video/webm":return new Ylj;case "audio/mp3":case "audio/mpeg":case "audio/webm":case "audio/x-wav":case "audio/wav":case "audio/x-m4a":case "audio/mp4":case "audio/ogg":return new amj;case "image/gif":return new __c.Klj;case "application/json":return new fmj;
case "application/affinity":return new Zlj;default:return new $lj}}};
}).call(self, self._456c437108d2d2713799e19380be528d);}

}])
//# sourceMappingURL=sourcemaps/b78cce095c277239.js.map