(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[99643],{

/***/ 458375:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(764820);self._456c437108d2d2713799e19380be528d = self._456c437108d2d2713799e19380be528d || {};(function(__c) {var fa=__c.fa;
var i5n=function(a,{ff:b,i0:c}){if(a.X2b?.isRecording()){var d=(a.M4h||0)/a.Wtf,e=a.X2b?.ob();e?.setAttributes(new Map([["end_reason",c],["num_frames_requested",a.pyg],["num_frames_rendered",a.Wtf],["avg_frame_render_time_ms",d],["interaction_type",a.qyg]]));var f={Y$a:a.Y$a||a.aEe,sessionType:a.sessionType,ff:b,hasError:a.XNg||c==="error",yYk:a.pyg,xYk:a.Wtf,xEj:d,hw:a.qyg};e?.wk(({Oi:g})=>{g=g();a.lBc(h5n,{...f,Tb:g})});a.X2b?.end(c==="error"?"error":"ok");a.aEe=void 0;a.pyg=0;a.Wtf=0;a.M4h=void 0;
a.X2b=void 0;a.qyg=void 0}else a.aEe=void 0,a.pyg=0,a.Wtf=0,a.M4h=void 0,a.X2b=void 0},h5n={eventType:"playback_document_scrubbed",Oa(a){return __c.jf({session_type:a.sessionType,engine:a.ff,has_error:a.hasError,document_playback_session_id:a.Y$a,editing_context:a.Ca==null?void 0:__c.mf(a.Ca),performance_context:a.Tb==null?void 0:__c.pf(a.Tb),network_condition_metrics:a.$pa==null?void 0:__c.Nqa(a.$pa),num_frames_requested:a.yYk,num_frames_rendered:a.xYk,avg_frame_render_time_ms:a.xEj,interaction_type:a.hw})}},
j5n={eventType:"playback_document_seeked",Oa(a){return __c.jf({session_type:a.sessionType,engine:a.ff,has_error:a.hasError,document_playback_session_id:a.Y$a,editing_context:a.Ca==null?void 0:__c.mf(a.Ca),performance_context:a.Tb==null?void 0:__c.pf(a.Tb),network_condition_metrics:a.$pa==null?void 0:__c.Nqa(a.$pa),was_disrupted:a.Cdj})}},k5n={eventType:"playback_document_watched",Oa(a){return __c.jf({session_type:a.sessionType,engine:a.ff,end_playback_reason:a.uak,document_playback_session_id:a.Y$a,
editing_context:a.Ca==null?void 0:__c.mf(a.Ca),performance_context:a.Tb==null?void 0:__c.pf(a.Tb),network_condition_metrics:a.$pa==null?void 0:__c.Nqa(a.$pa),num_stalls:a.NYk,stall_time_ms:a.IHl,has_error:a.hasError,is_first_play:a.Ptc,analytics_correlation_id:a.Bf})}};__c.ca=__c.qXb.prototype;
__c.ca.RHl=fa(780,function(a){if(!this.X2b?.isRecording()){this.X2b=this.V.wb("scrub_document",{Hb:{name:"ui.rendering.video.scrub_document",performance:{Z6f:!0,NU:!0}}});var b=this.X2b.ob().eventContext;this.sessionType=__c.FCb(this,b?.get("mode"));this.qyg=a.hw??(this.sessionType==="non-editing"?"playhead_drag":void 0);this.X2b.ob().xH(this.sessionType);this.X2b.ob().setAttributes(new Map([["engine",a.ff]]));this.aEe=this.X2b.spanContext().spanId}});
__c.ca.SHl=fa(779,function(a){this.yyc?.isRecording()&&this.t2d({ff:a.ff,i0:"disrupted"});this.yyc=this.V.wb("seek_document",{Hb:{name:"ui.rendering.video.seek_document",attrs:new Map([["engine",a.ff]])}});const b=this.yyc.ob().eventContext;this.sessionType=__c.FCb(this,b?.get("mode"));this.yyc.ob().xH(this.sessionType);this.yyc?.ob().addEvent("document_seek_frame_requested",new Map([["engine",a.ff]]));this.X2b?.isRecording()&&this.pyg++;this.A2j=this.yyc.spanContext().spanId});
__c.ca.iEg=fa(777,function({ff:a,i0:b}){this.H0c.forEach(c=>{__c.ICb(this,c,{i0:b})});i5n(this,{ff:a,i0:b})});
__c.ca.t2d=fa(776,function({ff:a,i0:b}){if(this.yyc?.isRecording()){this.yyc.ob().addEvent(`document_${__c.BRd[b]}`,new Map([["engine",a]]));b==="disrupted"&&this.yyc.ob().setAttributes(new Map([["was_disrupted",!0]]));var c={Y$a:this.Y$a||this.aEe||this.A2j,sessionType:this.sessionType,ff:a,Cdj:b==="disrupted",hasError:b==="error"||this.XNg};this.yyc.ob().wk(({Oi:d})=>{d=d();!this.X2b?.isRecording()||c.Cdj||c.hasError||(this.Wtf++,this.M4h=(this.M4h??0)+(d.metrics?.get("finish")||0));this.X2b?.isRecording()||
this.upi||this.lBc(j5n,{...c,Tb:d})});this.yyc.end(b==="error"?"error":"ok");this.yyc=this.A2j=void 0}});__c.ca.t3i=fa(773,function(a){this.hRa?.isRecording()&&!this.M_h?.isRecording()&&(this.hRa.ob().addEvent("document_play_requested"),this.M_h=this.V.startSpan("document_loading",this.hRa,new Map([["engine",a.ff],["is_first_play",this.Bpi]])))});__c.ca.YDg=fa(771,function(a={NUg:!1}){this.hRa?.isRecording()&&this.M_h?.isRecording()&&(a.NUg||this.hRa?.ob().addEvent("document_play_started"),this.M_h.end())});
__c.ca.eHe=fa(770,function({ff:a,i0:b}){if(this.hRa?.isRecording()){this.hRa.ob().setAttributes(new Map([["engine",a],["end_playback_reason",b],["is_first_play",this.Bpi]]));this.YDg({NUg:!0});this.ZDg();this.hRa.ob().addEvent("document_watch_ended",new Map([["cause",b]]));var c={Y$a:this.Y$a,sessionType:this.sessionType,ff:a,uak:b,NYk:this.UYk,IHl:this.K8i,hasError:this.XNg||b==="error",Ptc:this.Bpi,Bf:this.Bf};this.hRa.ob().wk(({Oi:d})=>{d=d();this.lBc(k5n,{...c,Tb:d})});this.hRa.end(b==="error"?
"error":"ok");this.Bpi=!1;this.K8i=this.UYk=0;this.Y$a=void 0;this.XNg=!1;this.hRa=void 0}});__c.ca.v3i=fa(769,function(){if(!this.hRa?.isRecording()){this.hRa=this.V.wb("watch_document",{Hb:{name:"ui.rendering.video.watch_document",performance:{Z6f:!0,NU:!0}}});var a=this.hRa.ob().eventContext;this.sessionType=__c.FCb(this,a?.get("mode"));this.hRa.ob().xH(this.sessionType);this.Y$a=this.hRa.spanContext().spanId}});var l5n=__webpack_require__(186901),m5n=l5n.EW,n5n=l5n.m3,o5n=l5n.sH,p5n=l5n.XI;var q5n=__webpack_require__(536618).iB;var r5n;r5n=class{static G(a){__c.O(a,{accessToken:m5n,fH:m5n,trim:m5n,Qf:m5n})}get accessToken(){return this.sq.Wz(this.track)}get fH(){return(this.track.trim?.startUs??0)+(this.X1b.currentTime*1E6-(this.track.startUs??0))}get trim(){return this.track.trim}get Qf(){return this.sq.FGf(this.track)}constructor(a,b,c){this.track=a;this.X1b=b;this.sq=c;this.id=(r5n.G(this),void 0);this.id=a.audio}};
__c.s5n=class{static G(a){__c.O(a,{pJa:o5n.ref,EJ:o5n.ref,Xoe:m5n,pkg:m5n,sources:m5n,nim:m5n({equals:n5n.shallow}),bXo:m5n({equals:n5n.shallow}),JUd:m5n,xGd:p5n,$Of:p5n})}get If(){return this.store.get().If}get X1b(){return this.store.get().X1b}get Xoe(){return(this.tw?__c.HFd.nca(__c.bs.snapshot(this.Ja)):__c.om.Mv(this.Ja)).filter(a=>this.If.fsd(a)).map(a=>({id:a.video,accessToken:this.If.Wz(a)}))}get pkg(){return this.sq.loading?[]:this.sq.HD.map(a=>({id:a.track.audio,accessToken:a.audio?.accessToken?.token}))}get sources(){return[...this.Xoe,
...this.pkg]}get nim(){return this.X1b?this.X1b.GLh.filter(a=>a.volume>0).map(a=>this.urk(a)).filter(__c.sb):[]}get bXo(){return this.X1b?this.X1b.mEc.filter(a=>this.If.fsd(a)).map(a=>this.Vmk(a)):[]}get JUd(){return[...this.nim,...this.bXo]}xGd(a){this.pJa=a}$Of(a){this.EJ=a}Vmk(a){var b=this.DFg.get(a);if(b)return b;b=new __c.KVh(a,this.If);this.DFg.set(a,b);return b}constructor(a,b,c,d){this.Ja=a;this.store=b;this.sq=c;this.tw=d;this.pJa=(__c.s5n.G(this),!1);this.EJ=!1;this.DFg=new WeakMap;this.urk=
q5n(e=>this.X1b&&new r5n(e,this.X1b,this.sq))}};
}).call(self, self._456c437108d2d2713799e19380be528d);}

}])
//# sourceMappingURL=sourcemaps/499690e3629cb220.js.map